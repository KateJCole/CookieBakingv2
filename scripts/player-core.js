 
/*

 RequireJS 2.3.6 Copyright jQuery Foundation and other contributors.
 Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
*/
window.Modernizr=function(b,h,c){function l(b,k){return typeof b===k}function m(b,k){for(var h in b){var l=b[h];if(!~(""+l).indexOf("-")&&v[l]!==c)return"pfx"==k?l:!0}return!1}function q(b,k,h){var n=b.charAt(0).toUpperCase()+b.slice(1),p=(b+" "+C.join(n+" ")+n).split(" ");if(l(k,"string")||l(k,"undefined"))k=m(p,k);else a:{p=(b+" "+B.join(n+" ")+n).split(" "),b=p;for(var u in b)if(n=k[b[u]],n!==c){k=!1===h?b[u]:l(n,"function")?n.bind(h||k):n;break a}k=!1}return k}function n(){r.input=function(k){for(var c=
0,l=k.length;c<l;c++)E[k[c]]=k[c]in z;return E.list&&(E.list=!!h.createElement("datalist")&&!!b.HTMLDataListElement),E}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));r.inputtypes=function(b){for(var l=0,n,p,u,v=b.length;l<v;l++)z.setAttribute("type",p=b[l]),(n="text"!==z.type)&&(z.value=x,z.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(p)&&z.style.WebkitAppearance!==c?(k.appendChild(z),u=h.defaultView,n=u.getComputedStyle&&"textfield"!==
u.getComputedStyle(z,null).WebkitAppearance&&0!==z.offsetHeight,k.removeChild(z)):/^(search|tel)$/.test(p)||(/^(url|email)$/.test(p)?n=z.checkValidity&&!1===z.checkValidity():n=z.value!=x)),y[b[l]]=!!n;return y}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var r={},k=h.documentElement,p=h.createElement("modernizr"),v=p.style,z=h.createElement("input"),x=":)",A={}.toString,u=" -webkit- -moz- -o- -ms- ".split(" "),C=["Webkit","Moz","O","ms"],B=["webkit",
"moz","o","ms"],p={},y={},E={},F=[],D=F.slice,G,I=function(b,c,l,n){var p,u,v,m,x=h.createElement("div"),z=h.body,q=z||h.createElement("body");if(parseInt(l,10))for(;l--;)v=h.createElement("div"),v.id=n?n[l]:"modernizr"+(l+1),x.appendChild(v);return p=['\x26#173;\x3cstyle id\x3d"smodernizr"\x3e',b,"\x3c/style\x3e"].join(""),x.id="modernizr",(z?x:q).innerHTML+=p,q.appendChild(x),z||(q.style.background="",q.style.overflow="hidden",m=k.style.overflow,k.style.overflow="hidden",k.appendChild(q)),u=c(x,
b),z?x.parentNode.removeChild(x):(q.parentNode.removeChild(q),k.style.overflow=m),!!u},K=function(){var b={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(k,n){n=n||h.createElement(b[k]||"div");k="on"+k;var p=k in n;return p||(n.setAttribute||(n=h.createElement("div")),n.setAttribute&&n.removeAttribute&&(n.setAttribute(k,""),p=l(n[k],"function"),l(n[k],"undefined")||(n[k]=c),n.removeAttribute(k))),p}}(),H={}.hasOwnProperty,P;l(H,"undefined")||
l(H.call,"undefined")?P=function(b,k){return k in b&&l(b.constructor.prototype[k],"undefined")}:P=function(b,k){return H.call(b,k)};Function.prototype.bind||(Function.prototype.bind=function(b){var k=this;if("function"!=typeof k)throw new TypeError;var c=D.call(arguments,1),h=function(){if(this instanceof h){var l=function(){};l.prototype=k.prototype;var l=new l,n=k.apply(l,c.concat(D.call(arguments)));return Object(n)===n?n:l}return k.apply(b,c.concat(D.call(arguments)))};return h});p.flexbox=function(){return q("flexWrap")};
p.flexboxlegacy=function(){return q("boxDirection")};p.canvas=function(){var b=h.createElement("canvas");return!!b.getContext&&!!b.getContext("2d")};p.canvastext=function(){return!!r.canvas&&!!l(h.createElement("canvas").getContext("2d").fillText,"function")};p.webgl=function(){return!!b.WebGLRenderingContext};p.touch=function(){var k;return"ontouchstart"in b||b.DocumentTouch&&h instanceof DocumentTouch?k=!0:I(["@media (",u.join("touch-enabled),("),"modernizr){#modernizr{top:9px;position:absolute}}"].join(""),
function(b){k=9===b.offsetTop}),k};p.geolocation=function(){return"geolocation"in navigator};p.postmessage=function(){return!!b.postMessage};p.websqldatabase=function(){return!!b.openDatabase};p.indexedDB=function(){return!!q("indexedDB",b)};p.hashchange=function(){return K("hashchange",b)&&(h.documentMode===c||7<h.documentMode)};p.history=function(){return!!b.history&&!!history.pushState};p.draganddrop=function(){var b=h.createElement("div");return"draggable"in b||"ondragstart"in b&&"ondrop"in b};
p.websockets=function(){return"WebSocket"in b||"MozWebSocket"in b};p.rgba=function(){v.cssText="background-color:rgba(150,255,150,.5)";return!!~(""+v.backgroundColor).indexOf("rgba")};p.hsla=function(){v.cssText="background-color:hsla(120,40%,100%,.5)";return!!~(""+v.backgroundColor).indexOf("rgba")||!!~(""+v.backgroundColor).indexOf("hsla")};p.multiplebgs=function(){v.cssText="background:url(https://),url(https://),red url(https://)";return/(url\s*\(.*?){3}/.test(v.background)};p.backgroundsize=
function(){return q("backgroundSize")};p.borderimage=function(){return q("borderImage")};p.borderradius=function(){return q("borderRadius")};p.boxshadow=function(){return q("boxShadow")};p.textshadow=function(){return""===h.createElement("div").style.textShadow};p.opacity=function(){v.cssText=u.join("opacity:.55;")+"";return/^0.55$/.test(v.opacity)};p.cssanimations=function(){return q("animationName")};p.csscolumns=function(){return q("columnCount")};p.cssgradients=function(){v.cssText=("background-image:-webkit-gradient(linear,left top,right bottom,from(#9f9),to(white));background-image:"+
u.join("linear-gradient(left top,#9f9, white);background-image:")).slice(0,-17);return!!~(""+v.backgroundImage).indexOf("gradient")};p.cssreflections=function(){return q("boxReflect")};p.csstransforms=function(){return!!q("transform")};p.csstransforms3d=function(){var b=!!q("perspective");return b&&"webkitPerspective"in k.style&&I("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(k,c){b=9===k.offsetLeft&&3===k.offsetHeight}),b};p.csstransitions=
function(){return q("transition")};p.fontface=function(){var b;return I('@font-face {font-family:"font";src:url("https://")}',function(k,c){k=h.getElementById("smodernizr");k=(k=k.sheet||k.styleSheet)?k.cssRules&&k.cssRules[0]?k.cssRules[0].cssText:k.cssText||"":"";b=/src/i.test(k)&&0===k.indexOf(c.split(" ")[0])}),b};p.generatedcontent=function(){var b;return I(['#modernizr{font:0/0 a}#modernizr:after{content:"',x,'";visibility:hidden;font:3px/1 a}'].join(""),function(k){b=3<=k.offsetHeight}),b};
p.video=function(){var b=h.createElement("video"),k=!1;try{if(k=!!b.canPlayType)k=new Boolean(k),k.ogg=b.canPlayType('video/ogg; codecs\x3d"theora"').replace(/^no$/,""),k.h264=b.canPlayType('video/mp4; codecs\x3d"avc1.42E01E"').replace(/^no$/,""),k.webm=b.canPlayType('video/webm; codecs\x3d"vp8, vorbis"').replace(/^no$/,"")}catch(c){}return k};p.audio=function(){var b=h.createElement("audio"),k=!1;try{if(k=!!b.canPlayType)k=new Boolean(k),k.ogg=b.canPlayType('audio/ogg; codecs\x3d"vorbis"').replace(/^no$/,
""),k.mp3=b.canPlayType("audio/mpeg;").replace(/^no$/,""),k.wav=b.canPlayType('audio/wav; codecs\x3d"1"').replace(/^no$/,""),k.m4a=(b.canPlayType("audio/x-m4a;")||b.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(c){}return k};p.localstorage=function(){try{return localStorage.setItem("modernizr","modernizr"),localStorage.removeItem("modernizr"),!0}catch(b){return!1}};p.sessionstorage=function(){try{return sessionStorage.setItem("modernizr","modernizr"),sessionStorage.removeItem("modernizr"),!0}catch(b){return!1}};
p.webworkers=function(){return!!b.Worker};p.applicationcache=function(){return!!b.applicationCache};p.svg=function(){return!!h.createElementNS&&!!h.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect};p.inlinesvg=function(){var b=h.createElement("div");return b.innerHTML="\x3csvg/\x3e","http://www.w3.org/2000/svg"==(b.firstChild&&b.firstChild.namespaceURI)};p.smil=function(){return!!h.createElementNS&&/SVGAnimate/.test(A.call(h.createElementNS("http://www.w3.org/2000/svg","animate")))};
p.svgclippaths=function(){return!!h.createElementNS&&/SVGClipPath/.test(A.call(h.createElementNS("http://www.w3.org/2000/svg","clipPath")))};for(var O in p)P(p,O)&&(G=O.toLowerCase(),r[G]=p[O](),F.push((r[G]?"":"no-")+G));r.input||n();r.addTest=function(b,h){if("object"==typeof b)for(var l in b)P(b,l)&&r.addTest(l,b[l]);else{b=b.toLowerCase();if(r[b]!==c)return r;h="function"==typeof h?h():h;k.className+=" "+(h?"":"no-")+b;r[b]=h}return r};v.cssText="";return p=z=null,function(b,k){function c(){var b=
A.elements;return"string"==typeof b?b.split(" "):b}function h(b){var k=r[b[z]];return k||(k={},q++,b[z]=q,r[q]=k),k}function l(b,c,n){c||(c=k);if(y)return c.createElement(b);n||(n=h(c));var p;return n.cache[b]?p=n.cache[b].cloneNode():m.test(b)?p=(n.cache[b]=n.createElem(b)).cloneNode():p=n.createElem(b),!p.canHaveChildren||v.test(b)||p.tagUrn?p:n.frag.appendChild(p)}function n(b,k){k.cache||(k.cache={},k.createElem=b.createElement,k.createFrag=b.createDocumentFragment,k.frag=k.createFrag());b.createElement=
function(c){return A.shivMethods?l(c,b,k):k.createElem(c)};b.createDocumentFragment=Function("h,f","return function(){var n\x3df.cloneNode(),c\x3dn.createElement;h.shivMethods\x26\x26("+c().join().replace(/[\w\-]+/g,function(b){return k.createElem(b),k.frag.createElement(b),'c("'+b+'")'})+");return n}")(A,k.frag)}function p(b){b||(b=k);var c=h(b);if(A.shivCSS&&!x&&!c.hasCSS){var l,u=b;l=u.createElement("p");u=u.getElementsByTagName("head")[0]||u.documentElement;l=(l.innerHTML="x\x3cstyle\x3earticle,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}\x3c/style\x3e",
u.insertBefore(l.lastChild,u.firstChild));c.hasCSS=!!l}return y||n(b,c),b}var u=b.html5||{},v=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,m=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,x,z="_html5shiv",q=0,r={},y;(function(){try{var b=k.createElement("a");b.innerHTML="\x3cxyz\x3e\x3c/xyz\x3e";x="hidden"in b;var c;if(!(c=1==b.childNodes.length)){k.createElement("a");var h=k.createDocumentFragment();c="undefined"==
typeof h.cloneNode||"undefined"==typeof h.createDocumentFragment||"undefined"==typeof h.createElement}y=c}catch(l){y=x=!0}})();var A={elements:u.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==u.shivCSS,supportsUnknownElements:y,shivMethods:!1!==u.shivMethods,type:"default",shivDocument:p,createElement:l,createDocumentFragment:function(b,
l){b||(b=k);if(y)return b.createDocumentFragment();l=l||h(b);b=l.frag.cloneNode();l=0;for(var n=c(),p=n.length;l<p;l++)b.createElement(n[l]);return b}};b.html5=A;p(k)}(this,h),r._version="2.8.3",r._prefixes=u,r._domPrefixes=B,r._cssomPrefixes=C,r.mq=function(k){var c=b.matchMedia||b.msMatchMedia;if(c)return c(k)&&c(k).matches||!1;var h;return I("@media "+k+" { #modernizr { position: absolute; } }",function(k){h="absolute"==(b.getComputedStyle?getComputedStyle(k,null):k.currentStyle).position}),h},
r.hasEvent=K,r.testProp=function(b){return m([b])},r.testAllProps=q,r.testStyles=I,r.prefixed=function(b,k,c){return k?q(b,k,c):q(b,"pfx")},k.className=k.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+F.join(" ")),r}(this,this.document);
(function(b,h,c){function l(b){return"[object Function]"==u.call(b)}function m(b){return"string"==typeof b}function q(){}function n(b){return!b||"loaded"==b||"complete"==b||"uninitialized"==b}function r(){var b=C.shift();B=1;b?b.t?x(function(){("c"==b.t?J.injectCss:J.injectJs)(b.s,0,b.a,b.x,b.e,1)},0):(b(),r()):B=0}function k(b,k,c,l,p,u,v){function m(c){if(!q&&n(z.readyState)&&(G.r=q=1,!B&&r(),z.onload=z.onreadystatechange=null,c)){"img"!=b&&x(function(){F.removeChild(z)},50);for(var h in H[k])H[k].hasOwnProperty(h)&&
H[k][h].onload()}}v=v||J.errorTimeout;var z=h.createElement(b),q=0,y=0,G={t:c,s:k,e:p,a:u,x:v};1===H[k]&&(y=1,H[k]=[]);"object"==b?z.data=k:(z.src=k,z.type=b);z.width=z.height="0";z.onerror=z.onload=z.onreadystatechange=function(){m.call(this,y)};C.splice(l,0,G);"img"!=b&&(y||2===H[k]?(F.insertBefore(z,E?null:A),x(m,v)):H[k].push(z))}function p(b,c,h,l,n){return B=0,c=c||"j",m(b)?k("c"==c?G:D,b,c,this.i++,h,l,n):(C.splice(this.i++,0,b),1==C.length&&r()),this}function v(){var b=J;return b.loader={load:p,
i:0},b}var z=h.documentElement,x=b.setTimeout,A=h.getElementsByTagName("script")[0],u={}.toString,C=[],B=0,y="MozAppearance"in z.style,E=y&&!!h.createRange().compareNode,F=E?z:A.parentNode,z=b.opera&&"[object Opera]"==u.call(b.opera),z=!!h.attachEvent&&!z,D=y?"object":z?"script":"img",G=z?"script":D,I=Array.isArray||function(b){return"[object Array]"==u.call(b)},K=[],H={},P={timeout:function(b,k){return k.length&&(b.timeout=k[0]),b}},O,J;J=function(b){function k(b){b=b.split("!");var c=K.length,h=
b.pop(),l=b.length,h={url:h,origUrl:h,prefixes:b},n,p,u;for(p=0;p<l;p++)u=b[p].split("\x3d"),(n=P[u.shift()])&&(h=n(h,u));for(p=0;p<c;p++)h=K[p](h);return h}function h(b,n,p,u,m){var x=k(b),z=x.autoCallback;x.url.split(".").pop().split("?").shift();x.bypass||(n&&(n=l(n)?n:n[b]||n[u]||n[b.split("/").pop().split("?")[0]]),x.instead?x.instead(b,n,p,u,m):(H[x.url]?x.noexec=!0:H[x.url]=1,p.load(x.url,x.forceCSS||!x.forceJS&&"css"==x.url.split(".").pop().split("?").shift()?"c":c,x.noexec,x.attrs,x.timeout),
(l(n)||l(z))&&p.load(function(){v();n&&n(x.origUrl,m,u);z&&z(x.origUrl,m,u);H[x.url]=2})))}function n(b,k){function c(b,n){if(b)if(m(b))n||(v=function(){var b=[].slice.call(arguments);x.apply(this,b);z()}),h(b,v,k,0,p);else{if(Object(b)===b)for(y in r=function(){var k=0,c;for(c in b)b.hasOwnProperty(c)&&k++;return k}(),b)b.hasOwnProperty(y)&&(!n&&!--r&&(l(v)?v=function(){var b=[].slice.call(arguments);x.apply(this,b);z()}:v[y]=function(b){return function(){var k=[].slice.call(arguments);b&&b.apply(this,
k);z()}}(x[y])),h(b[y],v,k,y,p))}else!n&&z()}var p=!!b.test,u=b.load||b.both,v=b.callback||q,x=v,z=b.complete||q,r,y;c(p?b.yep:b.nope,!!u);u&&c(u)}var p,u,x=this.yepnope.loader;if(m(b))h(b,0,x,0);else if(I(b))for(p=0;p<b.length;p++)u=b[p],m(u)?h(u,0,x,0):I(u)?J(u):Object(u)===u&&n(u,x);else Object(b)===b&&n(b,x)};J.addPrefix=function(b,k){P[b]=k};J.addFilter=function(b){K.push(b)};J.errorTimeout=1E4;null==h.readyState&&h.addEventListener&&(h.readyState="loading",h.addEventListener("DOMContentLoaded",
O=function(){h.removeEventListener("DOMContentLoaded",O,0);h.readyState="complete"},0));b.yepnope=v();b.yepnope.executeStack=r;b.yepnope.injectJs=function(b,k,c,l,p,u){var v=h.createElement("script"),m,z;l=l||J.errorTimeout;v.src=b;for(z in c)v.setAttribute(z,c[z]);k=u?r:k||q;v.onreadystatechange=v.onload=function(){!m&&n(v.readyState)&&(m=1,k(),v.onload=v.onreadystatechange=null)};x(function(){m||(m=1,k(1))},l);p?v.onload():A.parentNode.insertBefore(v,A)};b.yepnope.injectCss=function(b,k,c,l,n,p){l=
h.createElement("link");var u;k=p?r:k||q;l.href=b;l.rel="stylesheet";l.type="text/css";for(u in c)l.setAttribute(u,c[u]);n||(A.parentNode.insertBefore(l,A),x(k,0))}})(this,document);Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};
!function(b,h){"object"==typeof module&&"object"==typeof module.exports?module.exports=b.document?h(b,!0):function(b){if(!b.document)throw Error("jQuery requires a window with a document");return h(b)}:h(b)}("undefined"!=typeof window?window:this,function(b,h){function c(b){var k=b.length,c=w.type(b);return"function"===c||w.isWindow(b)?!1:1===b.nodeType&&k?!0:"array"===c||0===k||"number"==typeof k&&0<k&&k-1 in b}function l(b,k,c){if(w.isFunction(k))return w.grep(b,function(b,h){return!!k.call(b,h,
b)!==c});if(k.nodeType)return w.grep(b,function(b){return b===k!==c});if("string"==typeof k){if(na.test(k))return w.filter(k,b,c);k=w.filter(k,b)}return w.grep(b,function(b){return 0<=w.inArray(b,k)!==c})}function m(b,k){do b=b[k];while(b&&1!==b.nodeType);return b}function q(b){var k=za[b]={};return w.each(b.match(fa)||[],function(b,c){k[c]=!0}),k}function n(){L.addEventListener?(L.removeEventListener("DOMContentLoaded",r,!1),b.removeEventListener("load",r,!1)):(L.detachEvent("onreadystatechange",
r),b.detachEvent("onload",r))}function r(){(L.addEventListener||"load"===event.type||"complete"===L.readyState)&&(n(),w.ready())}function k(b,k,c){if(void 0===c&&1===b.nodeType){var h="data-"+k.replace(ra,"-$1").toLowerCase();if(c=b.getAttribute(h),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:ta.test(c)?w.parseJSON(c):c}catch(l){}w.data(b,k,c)}else c=void 0}return c}function p(b){for(var k in b)if(("data"!==k||!w.isEmptyObject(b[k]))&&"toJSON"!==k)return!1;return!0}
function v(b,k,c,h){if(w.acceptData(b)){var l,n,p=w.expando,u=b.nodeType,v=u?w.cache:b,m=u?b[p]:b[p]&&p;if(m&&v[m]&&(h||v[m].data)||void 0!==c||"string"!=typeof k)return m||(m=u?b[p]=ia.pop()||w.guid++:p),v[m]||(v[m]=u?{}:{toJSON:w.noop}),("object"==typeof k||"function"==typeof k)&&(h?v[m]=w.extend(v[m],k):v[m].data=w.extend(v[m].data,k)),n=v[m],h||(n.data||(n.data={}),n=n.data),void 0!==c&&(n[w.camelCase(k)]=c),"string"==typeof k?(l=n[k],null==l&&(l=n[w.camelCase(k)])):l=n,l}}function z(b,k,c){if(w.acceptData(b)){var h,
l,n=b.nodeType,u=n?w.cache:b,v=n?b[w.expando]:w.expando;if(u[v]){if(k&&(h=c?u[v]:u[v].data)){w.isArray(k)?k=k.concat(w.map(k,w.camelCase)):k in h?k=[k]:(k=w.camelCase(k),k=k in h?[k]:k.split(" "));for(l=k.length;l--;)delete h[k[l]];if(c?!p(h):!w.isEmptyObject(h))return}(c||(delete u[v].data,p(u[v])))&&(n?w.cleanData([b],!0):Q.deleteExpando||u!=u.window?delete u[v]:u[v]=null)}}}function x(){return!0}function A(){return!1}function u(){try{return L.activeElement}catch(b){}}function C(b){var k=lb.split("|");
b=b.createDocumentFragment();if(b.createElement)for(;k.length;)b.createElement(k.pop());return b}function B(b,k){var c,h,l=0,n="undefined"!==typeof b.getElementsByTagName?b.getElementsByTagName(k||"*"):"undefined"!==typeof b.querySelectorAll?b.querySelectorAll(k||"*"):void 0;if(!n)for(n=[],c=b.childNodes||b;null!=(h=c[l]);l++)!k||w.nodeName(h,k)?n.push(h):w.merge(n,B(h,k));return void 0===k||k&&w.nodeName(b,k)?w.merge([b],n):n}function y(b){Ra.test(b.type)&&(b.defaultChecked=b.checked)}function E(b,
k){return w.nodeName(b,"table")&&w.nodeName(11!==k.nodeType?k:k.firstChild,"tr")?b.getElementsByTagName("tbody")[0]||b.appendChild(b.ownerDocument.createElement("tbody")):b}function F(b){return b.type=(null!==w.find.attr(b,"type"))+"/"+b.type,b}function D(b){var k=Hb.exec(b.type);return k?b.type=k[1]:b.removeAttribute("type"),b}function G(b,k){for(var c,h=0;null!=(c=b[h]);h++)w._data(c,"globalEval",!k||w._data(k[h],"globalEval"))}function I(b,k){if(1===k.nodeType&&w.hasData(b)){var c,h,l;h=w._data(b);
b=w._data(k,h);var n=h.events;if(n)for(c in delete b.handle,b.events={},n)for(h=0,l=n[c].length;l>h;h++)w.event.add(k,c,n[c][h]);b.data&&(b.data=w.extend({},b.data))}}function K(k,c){var h;k=w(c.createElement(k)).appendTo(c.body);c=b.getDefaultComputedStyle&&(h=b.getDefaultComputedStyle(k[0]))?h.display:w.css(k[0],"display");return k.detach(),c}function H(b){var k=L,c=mb[b];return c||(c=K(b,k),"none"!==c&&c||(Sa=(Sa||w("\x3ciframe frameborder\x3d'0' width\x3d'0' height\x3d'0'/\x3e")).appendTo(k.documentElement),
k=(Sa[0].contentWindow||Sa[0].contentDocument).document,k.write(),k.close(),c=K(b,k),Sa.detach()),mb[b]=c),c}function P(b,k){return{get:function(){var c=b();if(null!=c)return c?void delete this.get:(this.get=k).apply(this,arguments)}}}function O(b,k){if(k in b)return k;for(var c=k.charAt(0).toUpperCase()+k.slice(1),h=k,l=nb.length;l--;)if(k=nb[l]+c,k in b)return k;return h}function J(b,k){for(var c,h,l,n=[],p=0,u=b.length;u>p;p++)h=b[p],h.style&&(n[p]=w._data(h,"olddisplay"),c=h.style.display,k?(n[p]||
"none"!==c||(h.style.display=""),""===h.style.display&&Ha(h)&&(n[p]=w._data(h,"olddisplay",H(h.nodeName)))):(l=Ha(h),(c&&"none"!==c||!l)&&w._data(h,"olddisplay",l?c:w.css(h,"display"))));for(p=0;u>p;p++)h=b[p],h.style&&(k&&"none"!==h.style.display&&""!==h.style.display||(h.style.display=k?n[p]||"":"none"));return b}function aa(b,k,c){return(b=Ib.exec(k))?Math.max(0,b[1]-(c||0))+(b[2]||"px"):k}function ga(b,k,c,h,l){k=c===(h?"border":"content")?4:"width"===k?1:0;for(var n=0;4>k;k+=2)"margin"===c&&
(n+=w.css(b,c+Aa[k],!0,l)),h?("content"===c&&(n-=w.css(b,"padding"+Aa[k],!0,l)),"margin"!==c&&(n-=w.css(b,"border"+Aa[k]+"Width",!0,l))):(n+=w.css(b,"padding"+Aa[k],!0,l),"padding"!==c&&(n+=w.css(b,"border"+Aa[k]+"Width",!0,l)));return n}function W(b,k,c){var h=!0,l="width"===k?b.offsetWidth:b.offsetHeight,n=Ia(b),p=Q.boxSizing&&"border-box"===w.css(b,"boxSizing",!1,n);if(0>=l||null==l){if(l=Ja(b,k,n),(0>l||null==l)&&(l=b.style[k]),Ua.test(l))return l;h=p&&(Q.boxSizingReliable()||l===b.style[k]);
l=parseFloat(l)||0}return l+ga(b,k,c||(p?"border":"content"),h,n)+"px"}function U(b,k,c,h,l){return new U.prototype.init(b,k,c,h,l)}function R(){return setTimeout(function(){Oa=void 0}),Oa=w.now()}function N(b,k){var c,h={height:b},l=0;for(k=k?1:0;4>l;l+=2-k)c=Aa[l],h["margin"+c]=h["padding"+c]=b;return k&&(h.opacity=h.width=b),h}function T(b,k,c){for(var h,l=(Ta[k]||[]).concat(Ta["*"]),n=0,p=l.length;p>n;n++)if(h=l[n].call(c,k,b))return h}function M(b,k){var c,h,l,n,p;for(c in b)if(h=w.camelCase(c),
l=k[h],n=b[c],w.isArray(n)&&(l=n[1],n=b[c]=n[0]),c!==h&&(b[h]=n,delete b[c]),p=w.cssHooks[h],p&&"expand"in p)for(c in n=p.expand(n),delete b[h],n)c in b||(b[c]=n[c],k[c]=l);else k[h]=l}function ea(b,k,c){var h,l=0,n=Va.length,p=w.Deferred().always(function(){delete u.elem}),u=function(){if(h)return!1;for(var k=Oa||R(),k=Math.max(0,v.startTime+v.duration-k),c=1-(k/v.duration||0),l=0,n=v.tweens.length;n>l;l++)v.tweens[l].run(c);return p.notifyWith(b,[v,c,k]),1>c&&n?k:(p.resolveWith(b,[v]),!1)},v=p.promise({elem:b,
props:w.extend({},k),opts:w.extend(!0,{specialEasing:{}},c),originalProperties:k,originalOptions:c,startTime:Oa||R(),duration:c.duration,tweens:[],createTween:function(k,c){k=w.Tween(b,v.opts,k,c,v.opts.specialEasing[k]||v.opts.easing);return v.tweens.push(k),k},stop:function(k){var c=0,l=k?v.tweens.length:0;if(h)return this;for(h=!0;l>c;c++)v.tweens[c].run(1);return k?p.resolveWith(b,[v,k]):p.rejectWith(b,[v,k]),this}});c=v.props;for(M(c,v.opts.specialEasing);n>l;l++)if(k=Va[l].call(v,b,c,v.opts))return k;
return w.map(c,T,v),w.isFunction(v.opts.start)&&v.opts.start.call(b,v),w.fx.timer(w.extend(u,{elem:b,anim:v,queue:v.opts.queue})),v.progress(v.opts.progress).done(v.opts.done,v.opts.complete).fail(v.opts.fail).always(v.opts.always)}function ha(b){return function(k,c){"string"!=typeof k&&(c=k,k="*");var h=0,l=k.toLowerCase().match(fa)||[];if(w.isFunction(c))for(;k=l[h++];)"+"===k.charAt(0)?(k=k.slice(1)||"*",(b[k]=b[k]||[]).unshift(c)):(b[k]=b[k]||[]).push(c)}}function X(b,k,c,h){function l(u){var v;
return n[u]=!0,w.each(b[u]||[],function(b,u){b=u(k,c,h);return"string"!=typeof b||p||n[b]?p?!(v=b):void 0:(k.dataTypes.unshift(b),l(b),!1)}),v}var n={},p=b===bb;return l(k.dataTypes[0])||!n["*"]&&l("*")}function ca(b,k){var c,h,l=w.ajaxSettings.flatOptions||{};for(h in k)void 0!==k[h]&&((l[h]?b:c||(c={}))[h]=k[h]);return c&&w.extend(!0,b,c),b}function S(b,k,c,h){var l;if(w.isArray(k))w.each(k,function(k,l){c||Jb.test(b)?h(b,l):S(b+"["+("object"==typeof l?k:"")+"]",l,c,h)});else if(c||"object"!==w.type(k))h(b,
k);else for(l in k)S(b+"["+l+"]",k[l],c,h)}function ka(){try{return new b.XMLHttpRequest}catch(k){}}function la(b){return w.isWindow(b)?b:9===b.nodeType?b.defaultView||b.parentWindow:!1}var ia=[],ja=ia.slice,ya=ia.concat,ma=ia.push,Da=ia.indexOf,pa={},Ea=pa.toString,ua=pa.hasOwnProperty,Q={},w=function(b,k){return new w.fn.init(b,k)},Pa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,va=/^-ms-/,Y=/-([\da-z])/gi,V=function(b,k){return k.toUpperCase()};w.fn=w.prototype={jquery:"1.11.1",constructor:w,selector:"",
length:0,toArray:function(){return ja.call(this)},get:function(b){return null!=b?0>b?this[b+this.length]:this[b]:ja.call(this)},pushStack:function(b){b=w.merge(this.constructor(),b);return b.prevObject=this,b.context=this.context,b},each:function(b,k){return w.each(this,b,k)},map:function(b){return this.pushStack(w.map(this,function(k,c){return b.call(k,c,k)}))},slice:function(){return this.pushStack(ja.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},
eq:function(b){var k=this.length;b=+b+(0>b?k:0);return this.pushStack(0<=b&&k>b?[this[b]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:ma,sort:ia.sort,splice:ia.splice};w.extend=w.fn.extend=function(){var b,k,c,h,l,n,p=arguments[0]||{},u=1,v=arguments.length,m=!1;"boolean"==typeof p&&(m=p,p=arguments[u]||{},u++);"object"==typeof p||w.isFunction(p)||(p={});for(u===v&&(p=this,u--);v>u;u++)if(null!=(l=arguments[u]))for(h in l)b=p[h],c=l[h],p!==c&&(m&&c&&(w.isPlainObject(c)||
(k=w.isArray(c)))?(k?(k=!1,n=b&&w.isArray(b)?b:[]):n=b&&w.isPlainObject(b)?b:{},p[h]=w.extend(m,n,c)):void 0!==c&&(p[h]=c));return p};w.extend({expando:"jQuery"+("1.11.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(b){throw Error(b);},noop:function(){},isFunction:function(b){return"function"===w.type(b)},isArray:Array.isArray||function(b){return"array"===w.type(b)},isWindow:function(b){return null!=b&&b==b.window},isNumeric:function(b){return!w.isArray(b)&&0<=b-parseFloat(b)},isEmptyObject:function(b){for(var k in b)return!1;
return!0},isPlainObject:function(b){var k;if(!b||"object"!==w.type(b)||b.nodeType||w.isWindow(b))return!1;try{if(b.constructor&&!ua.call(b,"constructor")&&!ua.call(b.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(Q.ownLast)for(k in b)return ua.call(b,k);for(k in b);return void 0===k||ua.call(b,k)},type:function(b){return null==b?b+"":"object"==typeof b||"function"==typeof b?pa[Ea.call(b)]||"object":typeof b},globalEval:function(k){k&&w.trim(k)&&(b.execScript||function(k){b.eval.call(b,
k)})(k)},camelCase:function(b){return b.replace(va,"ms-").replace(Y,V)},nodeName:function(b,k){return b.nodeName&&b.nodeName.toLowerCase()===k.toLowerCase()},each:function(b,k,h){var l,n=0,p=b.length,u=c(b);if(h)if(u)for(;p>n&&(l=k.apply(b[n],h),!1!==l);n++);else for(n in b){if(l=k.apply(b[n],h),!1===l)break}else if(u)for(;p>n&&(l=k.call(b[n],n,b[n]),!1!==l);n++);else for(n in b)if(l=k.call(b[n],n,b[n]),!1===l)break;return b},trim:function(b){return null==b?"":(b+"").replace(Pa,"")},makeArray:function(b,
k){k=k||[];return null!=b&&(c(Object(b))?w.merge(k,"string"==typeof b?[b]:b):ma.call(k,b)),k},inArray:function(b,k,c){var h;if(k){if(Da)return Da.call(k,b,c);h=k.length;for(c=c?0>c?Math.max(0,h+c):c:0;h>c;c++)if(c in k&&k[c]===b)return c}return-1},merge:function(b,k){for(var c=+k.length,h=0,l=b.length;c>h;)b[l++]=k[h++];if(c!==c)for(;void 0!==k[h];)b[l++]=k[h++];return b.length=l,b},grep:function(b,k,c){for(var h=[],l=0,n=b.length,p=!c;n>l;l++)c=!k(b[l],l),c!==p&&h.push(b[l]);return h},map:function(b,
k,h){var l,n=0,p=b.length,u=[];if(c(b))for(;p>n;n++)l=k(b[n],n,h),null!=l&&u.push(l);else for(n in b)l=k(b[n],n,h),null!=l&&u.push(l);return ya.apply([],u)},guid:1,proxy:function(b,k){var c,h,l;return"string"==typeof k&&(l=b[k],k=b,b=l),w.isFunction(b)?(c=ja.call(arguments,2),h=function(){return b.apply(k||this,c.concat(ja.call(arguments)))},h.guid=b.guid=b.guid||w.guid++,h):void 0},now:function(){return+new Date},support:Q});w.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(b,k){pa["[object "+k+"]"]=k.toLowerCase()});var Ba=function(b){function k(b,c,h,l){var n,p,u,v,m;if((c?c.ownerDocument||c:ra)!==O&&U(c),c=c||O,h=h||[],!b||"string"!=typeof b)return h;if(1!==(v=c.nodeType)&&9!==v)return[];if(T&&!l){if(n=da.exec(b))if(u=n[1])if(9===v){if(p=c.getElementById(u),!p||!p.parentNode)return h;if(p.id===u)return h.push(p),h}else{if(c.ownerDocument&&(p=c.ownerDocument.getElementById(u))&&aa(c,p)&&p.id===u)return h.push(p),h}else{if(n[2])return ca.apply(h,c.getElementsByTagName(b)),
h;if((u=n[3])&&K.getElementsByClassName&&c.getElementsByClassName)return ca.apply(h,c.getElementsByClassName(u)),h}if(K.qsa&&(!J||!J.test(b))){if(p=n=N,u=c,m=9===v&&b,1===v&&"object"!==c.nodeName.toLowerCase()){v=H(b);(n=c.getAttribute("id"))?p=n.replace(na,"\\$\x26"):c.setAttribute("id",p);p="[id\x3d'"+p+"'] ";for(u=v.length;u--;)v[u]=p+q(v[u]);u=qa.test(b)&&x(c.parentNode)||c;m=v.join(",")}if(m)try{return ca.apply(h,u.querySelectorAll(m)),h}catch(z){}finally{n||c.removeAttribute("id")}}}return I(b.replace(ja,
"$1"),c,h,l)}function c(){function b(c,h){return k.push(c+" ")>w.cacheLength&&delete b[k.shift()],b[c+" "]=h}var k=[];return b}function h(b){return b[N]=!0,b}function l(b){var k=O.createElement("div");try{return!!b(k)}catch(c){return!1}finally{k.parentNode&&k.parentNode.removeChild(k)}}function n(b,k){var c=b.split("|");for(b=b.length;b--;)w.attrHandle[c[b]]=k}function p(b,k){var c=k&&b,h=c&&1===b.nodeType&&1===k.nodeType&&(~k.sourceIndex||-2147483648)-(~b.sourceIndex||-2147483648);if(h)return h;
if(c)for(;c=c.nextSibling;)if(c===k)return-1;return b?1:-1}function u(b){return function(k){return"input"===k.nodeName.toLowerCase()&&k.type===b}}function v(b){return function(k){var c=k.nodeName.toLowerCase();return("input"===c||"button"===c)&&k.type===b}}function m(b){return h(function(k){return k=+k,h(function(c,h){for(var l,n=b([],c.length,k),p=n.length;p--;)c[l=n[p]]&&(c[l]=!(h[l]=c[l]))})})}function x(b){return b&&"undefined"!==typeof b.getElementsByTagName&&b}function z(){}function q(b){for(var k=
0,c=b.length,h="";c>k;k++)h+=b[k].value;return h}function r(b,k,c){var h=k.dir,l=c&&"parentNode"===h,n=ha++;return k.first?function(k,c,n){for(;k=k[h];)if(1===k.nodeType||l)return b(k,c,n)}:function(k,c,p){var u,v,m=[W,n];if(p)for(;k=k[h];){if((1===k.nodeType||l)&&b(k,c,p))return!0}else for(;k=k[h];)if(1===k.nodeType||l){if(v=k[N]||(k[N]={}),(u=v[h])&&u[0]===W&&u[1]===n)return m[2]=u[2];if(v[h]=m,m[2]=b(k,c,p))return!0}}}function y(b){return 1<b.length?function(k,c,h){for(var l=b.length;l--;)if(!b[l](k,
c,h))return!1;return!0}:b[0]}function A(b,k,c,h,l){for(var n,p=[],u=0,v=b.length,m=null!=k;v>u;u++)(n=b[u])&&(!c||c(n,h,l))&&(p.push(n),m&&k.push(u));return p}function C(b,c,l,n,p,u){return n&&!n[N]&&(n=C(n)),p&&!p[N]&&(p=C(p,u)),h(function(h,u,v,m){var x,z,q=[],r=[],y=u.length,C;if(!(C=h)){C=c||"*";for(var B=v.nodeType?[v]:v,Na=[],G=0,E=B.length;E>G;G++)k(C,B[G],Na);C=Na}C=!b||!h&&c?C:A(C,q,b,v,m);B=l?p||(h?b:y||n)?[]:u:C;if(l&&l(C,B,v,m),n)for(x=A(B,r),n(x,[],v,m),v=x.length;v--;)(z=x[v])&&(B[r[v]]=
!(C[r[v]]=z));if(h){if(p||b){if(p){x=[];for(v=B.length;v--;)(z=B[v])&&x.push(C[v]=z);p(null,B=[],x,m)}for(v=B.length;v--;)(z=B[v])&&-1<(x=p?L.call(h,z):q[v])&&(h[x]=!(u[x]=z))}}else B=A(B===u?B.splice(y,B.length):B),p?p(null,u,B,m):ca.apply(u,B)})}function B(b){var k,c,h,l=b.length,n=w.relative[b[0].type];c=n||w.relative[" "];for(var p=n?1:0,u=r(function(b){return b===k},c,!0),v=r(function(b){return-1<L.call(k,b)},c,!0),m=[function(b,c,h){return!n&&(h||c!==Y)||((k=c).nodeType?u(b,c,h):v(b,c,h))}];l>
p;p++)if(c=w.relative[b[p].type])m=[r(y(m),c)];else{if(c=w.filter[b[p].type].apply(null,b[p].matches),c[N]){for(h=++p;l>h&&!w.relative[b[h].type];h++);return C(1<p&&y(m),1<p&&q(b.slice(0,p-1).concat({value:" "===b[p-2].type?"*":""})).replace(ja,"$1"),c,h>p&&B(b.slice(p,h)),l>h&&B(b=b.slice(h)),l>h&&q(b))}m.push(c)}return y(m)}function G(b,c){var l=0<c.length,n=0<b.length,p=function(h,p,u,v,m){var x,z,q,r=0,y="0",C=h&&[],B=[],Na=Y,G=h||n&&w.find.TAG("*",m),E=W+=null==Na?1:Math.random()||.1,K=G.length;
for(m&&(Y=p!==O&&p);y!==K&&null!=(x=G[y]);y++){if(n&&x){for(z=0;q=b[z++];)if(q(x,p,u)){v.push(x);break}m&&(W=E)}l&&((x=!q&&x)&&r--,h&&C.push(x))}if(r+=y,l&&y!==r){for(z=0;q=c[z++];)q(C,B,p,u);if(h){if(0<r)for(;y--;)C[y]||B[y]||(B[y]=ka.call(v));B=A(B)}ca.apply(v,B);m&&!h&&0<B.length&&1<r+c.length&&k.uniqueSort(v)}return m&&(W=E,Y=Na),C};return l?h(p):p}var E,K,w,D,F,H,P,I,Y,V,M,U,O,R,T,J,ea,va,aa,N="sizzle"+-new Date,ra=b.document,W=0,ha=0,Ba=c(),ga=c(),X=c(),ba=function(b,k){return b===k&&(M=!0),
0},fa={}.hasOwnProperty,S=[],ka=S.pop,za=S.push,ca=S.push,ia=S.slice,L=S.indexOf||function(b){for(var k=0,c=this.length;c>k;k++)if(this[k]===b)return k;return-1},Ka="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),la="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?\x3d)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Ka+"))|)[\\x20\\t\\r\\n\\f]*\\]",xa=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+
la+")*)|.*)\\)|)",ja=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,Z=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Ha=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,Aa=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,Q=new RegExp(xa),Da=new RegExp("^"+Ka+"$"),sa={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+la),PSEUDO:new RegExp("^"+xa),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},Ra=/^(?:input|select|textarea|button)$/i,Wa=/^h\d$/i,Ca=/^[^{]+\{\s*\[native \w/,da=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,qa=/[+~]/,na=/'|\\/g,ta=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,ma=function(b,k,c){b="0x"+k-65536;
return b!==b||c?k:0>b?String.fromCharCode(b+65536):String.fromCharCode(b>>10|55296,1023&b|56320)};try{ca.apply(S=ia.call(ra.childNodes),ra.childNodes),S[ra.childNodes.length].nodeType}catch(mc){ca={apply:S.length?function(b,k){za.apply(b,ia.call(k))}:function(b,k){for(var c=b.length,h=0;b[c++]=k[h++];);b.length=c-1}}}K=k.support={};F=k.isXML=function(b){return(b=b&&(b.ownerDocument||b).documentElement)?"HTML"!==b.nodeName:!1};U=k.setDocument=function(b){var k,c=b?b.ownerDocument||b:ra;b=c.defaultView;
return c!==O&&9===c.nodeType&&c.documentElement?(O=c,R=c.documentElement,T=!F(c),b&&b!==b.top&&(b.addEventListener?b.addEventListener("unload",function(){U()},!1):b.attachEvent&&b.attachEvent("onunload",function(){U()})),K.attributes=l(function(b){return b.className="i",!b.getAttribute("className")}),K.getElementsByTagName=l(function(b){return b.appendChild(c.createComment("")),!b.getElementsByTagName("*").length}),K.getElementsByClassName=Ca.test(c.getElementsByClassName)&&l(function(b){return b.innerHTML=
"\x3cdiv class\x3d'a'\x3e\x3c/div\x3e\x3cdiv class\x3d'a i'\x3e\x3c/div\x3e",b.firstChild.className="i",2===b.getElementsByClassName("i").length}),K.getById=l(function(b){return R.appendChild(b).id=N,!c.getElementsByName||!c.getElementsByName(N).length}),K.getById?(w.find.ID=function(b,k){if("undefined"!==typeof k.getElementById&&T)return(b=k.getElementById(b))&&b.parentNode?[b]:[]},w.filter.ID=function(b){var k=b.replace(ta,ma);return function(b){return b.getAttribute("id")===k}}):(delete w.find.ID,
w.filter.ID=function(b){var k=b.replace(ta,ma);return function(b){return(b="undefined"!==typeof b.getAttributeNode&&b.getAttributeNode("id"))&&b.value===k}}),w.find.TAG=K.getElementsByTagName?function(b,k){return"undefined"!==typeof k.getElementsByTagName?k.getElementsByTagName(b):void 0}:function(b,k){var c=[],h=0;k=k.getElementsByTagName(b);if("*"===b){for(;b=k[h++];)1===b.nodeType&&c.push(b);return c}return k},w.find.CLASS=K.getElementsByClassName&&function(b,k){return"undefined"!==typeof k.getElementsByClassName&&
T?k.getElementsByClassName(b):void 0},ea=[],J=[],(K.qsa=Ca.test(c.querySelectorAll))&&(l(function(b){b.innerHTML="\x3cselect msallowclip\x3d''\x3e\x3coption selected\x3d''\x3e\x3c/option\x3e\x3c/select\x3e";b.querySelectorAll("[msallowclip^\x3d'']").length&&J.push("[*^$]\x3d[\\x20\\t\\r\\n\\f]*(?:''|\"\")");b.querySelectorAll("[selected]").length||J.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
b.querySelectorAll(":checked").length||J.push(":checked")}),l(function(b){var k=c.createElement("input");k.setAttribute("type","hidden");b.appendChild(k).setAttribute("name","D");b.querySelectorAll("[name\x3dd]").length&&J.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?\x3d");b.querySelectorAll(":enabled").length||J.push(":enabled",":disabled");b.querySelectorAll("*,:x");J.push(",.*:")})),(K.matchesSelector=Ca.test(va=R.matches||R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&
l(function(b){K.disconnectedMatch=va.call(b,"div");va.call(b,"[s!\x3d'']:x");ea.push("!\x3d",xa)}),J=J.length&&new RegExp(J.join("|")),ea=ea.length&&new RegExp(ea.join("|")),k=Ca.test(R.compareDocumentPosition),aa=k||Ca.test(R.contains)?function(b,k){var c=9===b.nodeType?b.documentElement:b;k=k&&k.parentNode;return b===k||!(!k||1!==k.nodeType||!(c.contains?c.contains(k):b.compareDocumentPosition&&16&b.compareDocumentPosition(k)))}:function(b,k){if(k)for(;k=k.parentNode;)if(k===b)return!0;return!1},
ba=k?function(b,k){if(b===k)return M=!0,0;var h=!b.compareDocumentPosition-!k.compareDocumentPosition;return h?h:(h=(b.ownerDocument||b)===(k.ownerDocument||k)?b.compareDocumentPosition(k):1,1&h||!K.sortDetached&&k.compareDocumentPosition(b)===h?b===c||b.ownerDocument===ra&&aa(ra,b)?-1:k===c||k.ownerDocument===ra&&aa(ra,k)?1:V?L.call(V,b)-L.call(V,k):0:4&h?-1:1)}:function(b,k){if(b===k)return M=!0,0;var h=0,l=b.parentNode,n=k.parentNode,u=[b],v=[k];if(!l||!n)return b===c?-1:k===c?1:l?-1:n?1:V?L.call(V,
b)-L.call(V,k):0;if(l===n)return p(b,k);for(;b=b.parentNode;)u.unshift(b);for(b=k;b=b.parentNode;)v.unshift(b);for(;u[h]===v[h];)h++;return h?p(u[h],v[h]):u[h]===ra?-1:v[h]===ra?1:0},c):O};k.matches=function(b,c){return k(b,null,null,c)};k.matchesSelector=function(b,c){if((b.ownerDocument||b)!==O&&U(b),c=c.replace(Aa,"\x3d'$1']"),!(!K.matchesSelector||!T||ea&&ea.test(c)||J&&J.test(c)))try{var h=va.call(b,c);if(h||K.disconnectedMatch||b.document&&11!==b.document.nodeType)return h}catch(l){}return 0<
k(c,O,null,[b]).length};k.contains=function(b,k){return(b.ownerDocument||b)!==O&&U(b),aa(b,k)};k.attr=function(b,k){(b.ownerDocument||b)!==O&&U(b);var c=w.attrHandle[k.toLowerCase()],c=c&&fa.call(w.attrHandle,k.toLowerCase())?c(b,k,!T):void 0;return void 0!==c?c:K.attributes||!T?b.getAttribute(k):(c=b.getAttributeNode(k))&&c.specified?c.value:null};k.error=function(b){throw Error("Syntax error, unrecognized expression: "+b);};k.uniqueSort=function(b){var k,c=[],h=0,l=0;if(M=!K.detectDuplicates,V=
!K.sortStable&&b.slice(0),b.sort(ba),M){for(;k=b[l++];)k===b[l]&&(h=c.push(l));for(;h--;)b.splice(c[h],1)}return V=null,b};D=k.getText=function(b){var k,c="",h=0;if(k=b.nodeType)if(1===k||9===k||11===k){if("string"==typeof b.textContent)return b.textContent;for(b=b.firstChild;b;b=b.nextSibling)c+=D(b)}else{if(3===k||4===k)return b.nodeValue}else for(;k=b[h++];)c+=D(k);return c};w=k.selectors={cacheLength:50,createPseudo:h,match:sa,attrHandle:{},find:{},relative:{"\x3e":{dir:"parentNode",first:!0},
" ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(b){return b[1]=b[1].replace(ta,ma),b[3]=(b[3]||b[4]||b[5]||"").replace(ta,ma),"~\x3d"===b[2]&&(b[3]=" "+b[3]+" "),b.slice(0,4)},CHILD:function(b){return b[1]=b[1].toLowerCase(),"nth"===b[1].slice(0,3)?(b[3]||k.error(b[0]),b[4]=+(b[4]?b[5]+(b[6]||1):2*("even"===b[3]||"odd"===b[3])),b[5]=+(b[7]+b[8]||"odd"===b[3])):b[3]&&k.error(b[0]),b},PSEUDO:function(b){var k,c=!b[6]&&b[2];return sa.CHILD.test(b[0])?
null:(b[3]?b[2]=b[4]||b[5]||"":c&&Q.test(c)&&(k=H(c,!0))&&(k=c.indexOf(")",c.length-k)-c.length)&&(b[0]=b[0].slice(0,k),b[2]=c.slice(0,k)),b.slice(0,3))}},filter:{TAG:function(b){var k=b.replace(ta,ma).toLowerCase();return"*"===b?function(){return!0}:function(b){return b.nodeName&&b.nodeName.toLowerCase()===k}},CLASS:function(b){var k=Ba[b+" "];return k||(k=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+b+"([\\x20\\t\\r\\n\\f]|$)"),Ba(b,function(b){return k.test("string"==typeof b.className&&b.className||"undefined"!==
typeof b.getAttribute&&b.getAttribute("class")||"")}))},ATTR:function(b,c,h){return function(l){l=k.attr(l,b);return null==l?"!\x3d"===c:c?(l+="","\x3d"===c?l===h:"!\x3d"===c?l!==h:"^\x3d"===c?h&&0===l.indexOf(h):"*\x3d"===c?h&&-1<l.indexOf(h):"$\x3d"===c?h&&l.slice(-h.length)===h:"~\x3d"===c?-1<(" "+l+" ").indexOf(h):"|\x3d"===c?l===h||l.slice(0,h.length+1)===h+"-":!1):!0}},CHILD:function(b,k,c,h,l){var n="nth"!==b.slice(0,3),p="last"!==b.slice(-4),u="of-type"===k;return 1===h&&0===l?function(b){return!!b.parentNode}:
function(k,c,v){var m,x,z,q,r;c=n!==p?"nextSibling":"previousSibling";var y=k.parentNode,A=u&&k.nodeName.toLowerCase();v=!v&&!u;if(y){if(n){for(;c;){for(x=k;x=x[c];)if(u?x.nodeName.toLowerCase()===A:1===x.nodeType)return!1;r=c="only"===b&&!r&&"nextSibling"}return!0}if(r=[p?y.firstChild:y.lastChild],p&&v)for(v=y[N]||(y[N]={}),m=v[b]||[],q=m[0]===W&&m[1],z=m[0]===W&&m[2],x=q&&y.childNodes[q];x=++q&&x&&x[c]||(z=q=0)||r.pop();){if(1===x.nodeType&&++z&&x===k){v[b]=[W,q,z];break}}else if(v&&(m=(k[N]||(k[N]=
{}))[b])&&m[0]===W)z=m[1];else for(;(x=++q&&x&&x[c]||(z=q=0)||r.pop())&&((u?x.nodeName.toLowerCase()!==A:1!==x.nodeType)||!++z||(v&&((x[N]||(x[N]={}))[b]=[W,z]),x!==k)););return z-=l,z===h||0===z%h&&0<=z/h}}},PSEUDO:function(b,c){var l,n=w.pseudos[b]||w.setFilters[b.toLowerCase()]||k.error("unsupported pseudo: "+b);return n[N]?n(c):1<n.length?(l=[b,b,"",c],w.setFilters.hasOwnProperty(b.toLowerCase())?h(function(b,k){for(var h,l=n(b,c),p=l.length;p--;)h=L.call(b,l[p]),b[h]=!(k[h]=l[p])}):function(b){return n(b,
0,l)}):n}},pseudos:{not:h(function(b){var k=[],c=[],l=P(b.replace(ja,"$1"));return l[N]?h(function(b,k,c,h){var n;c=l(b,null,h,[]);for(h=b.length;h--;)(n=c[h])&&(b[h]=!(k[h]=n))}):function(b,h,n){return k[0]=b,l(k,null,n,c),!c.pop()}}),has:h(function(b){return function(c){return 0<k(b,c).length}}),contains:h(function(b){return function(k){return-1<(k.textContent||k.innerText||D(k)).indexOf(b)}}),lang:h(function(b){return Da.test(b||"")||k.error("unsupported lang: "+b),b=b.replace(ta,ma).toLowerCase(),
function(k){var c;do if(c=T?k.lang:k.getAttribute("xml:lang")||k.getAttribute("lang"))return c=c.toLowerCase(),c===b||0===c.indexOf(b+"-");while((k=k.parentNode)&&1===k.nodeType);return!1}}),target:function(k){var c=b.location&&b.location.hash;return c&&c.slice(1)===k.id},root:function(b){return b===R},focus:function(b){return b===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(b.type||b.href||~b.tabIndex)},enabled:function(b){return!1===b.disabled},disabled:function(b){return!0===b.disabled},checked:function(b){var k=
b.nodeName.toLowerCase();return"input"===k&&!!b.checked||"option"===k&&!!b.selected},selected:function(b){return b.parentNode&&b.parentNode.selectedIndex,!0===b.selected},empty:function(b){for(b=b.firstChild;b;b=b.nextSibling)if(6>b.nodeType)return!1;return!0},parent:function(b){return!w.pseudos.empty(b)},header:function(b){return Wa.test(b.nodeName)},input:function(b){return Ra.test(b.nodeName)},button:function(b){var k=b.nodeName.toLowerCase();return"input"===k&&"button"===b.type||"button"===k},
text:function(b){var k;return"input"===b.nodeName.toLowerCase()&&"text"===b.type&&(null==(k=b.getAttribute("type"))||"text"===k.toLowerCase())},first:m(function(){return[0]}),last:m(function(b,k){return[k-1]}),eq:m(function(b,k,c){return[0>c?c+k:c]}),even:m(function(b,k){for(var c=0;k>c;c+=2)b.push(c);return b}),odd:m(function(b,k){for(var c=1;k>c;c+=2)b.push(c);return b}),lt:m(function(b,k,c){for(k=0>c?c+k:c;0<=--k;)b.push(k);return b}),gt:m(function(b,k,c){for(c=0>c?c+k:c;++c<k;)b.push(c);return b})}};
w.pseudos.nth=w.pseudos.eq;for(E in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[E]=u(E);for(E in{submit:!0,reset:!0})w.pseudos[E]=v(E);z.prototype=w.filters=w.pseudos;w.setFilters=new z;H=k.tokenize=function(b,c){var h,l,n,p,u,v,m;if(u=ga[b+" "])return c?0:u.slice(0);u=b;v=[];for(m=w.preFilter;u;){h&&!(l=Z.exec(u))||(l&&(u=u.slice(l[0].length)||u),v.push(n=[]));h=!1;(l=Ha.exec(u))&&(h=l.shift(),n.push({value:h,type:l[0].replace(ja," ")}),u=u.slice(h.length));for(p in w.filter)!(l=
sa[p].exec(u))||m[p]&&!(l=m[p](l))||(h=l.shift(),n.push({value:h,type:p,matches:l}),u=u.slice(h.length));if(!h)break}return c?u.length:u?k.error(b):ga(b,v).slice(0)};return P=k.compile=function(b,k){var c,h=[],l=[],n=X[b+" "];if(!n){k||(k=H(b));for(c=k.length;c--;)n=B(k[c]),n[N]?h.push(n):l.push(n);n=X(b,G(l,h));n.selector=b}return n},I=k.select=function(b,k,c,h){var l,n,p,u,v,m="function"==typeof b&&b,z=!h&&H(b=m.selector||b);if(c=c||[],1===z.length){if(n=z[0]=z[0].slice(0),2<n.length&&"ID"===(p=
n[0]).type&&K.getById&&9===k.nodeType&&T&&w.relative[n[1].type]){if(k=(w.find.ID(p.matches[0].replace(ta,ma),k)||[])[0],!k)return c;m&&(k=k.parentNode);b=b.slice(n.shift().value.length)}for(l=sa.needsContext.test(b)?0:n.length;l--&&(p=n[l],!w.relative[u=p.type]);)if((v=w.find[u])&&(h=v(p.matches[0].replace(ta,ma),qa.test(n[0].type)&&x(k.parentNode)||k))){if(n.splice(l,1),b=h.length&&q(n),!b)return ca.apply(c,h),c;break}}return(m||P(b,z))(h,k,!T,c,qa.test(b)&&x(k.parentNode)||k),c},K.sortStable=N.split("").sort(ba).join("")===
N,K.detectDuplicates=!!M,U(),K.sortDetached=l(function(b){return 1&b.compareDocumentPosition(O.createElement("div"))}),l(function(b){return b.innerHTML="\x3ca href\x3d'#'\x3e\x3c/a\x3e","#"===b.firstChild.getAttribute("href")})||n("type|href|height|width",function(b,k,c){return c?void 0:b.getAttribute(k,"type"===k.toLowerCase()?1:2)}),K.attributes&&l(function(b){return b.innerHTML="\x3cinput/\x3e",b.firstChild.setAttribute("value",""),""===b.firstChild.getAttribute("value")})||n("value",function(b,
k,c){return c||"input"!==b.nodeName.toLowerCase()?void 0:b.defaultValue}),l(function(b){return null==b.getAttribute("disabled")})||n("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(b,k,c){var h;return c?void 0:!0===b[k]?k.toLowerCase():(h=b.getAttributeNode(k))&&h.specified?h.value:null}),k}(b);w.find=Ba;w.expr=Ba.selectors;w.expr[":"]=w.expr.pseudos;w.unique=Ba.uniqueSort;w.text=Ba.getText;w.isXMLDoc=Ba.isXML;w.contains=
Ba.contains;var ba=w.expr.match.needsContext,Wa=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,na=/^.[^:#\[\.,]*$/;w.filter=function(b,k,c){var h=k[0];return c&&(b=":not("+b+")"),1===k.length&&1===h.nodeType?w.find.matchesSelector(h,b)?[h]:[]:w.find.matches(b,w.grep(k,function(b){return 1===b.nodeType}))};w.fn.extend({find:function(b){var k,c=[],h=this,l=h.length;if("string"!=typeof b)return this.pushStack(w(b).filter(function(){for(k=0;l>k;k++)if(w.contains(h[k],this))return!0}));for(k=0;l>k;k++)w.find(b,h[k],c);
return c=this.pushStack(1<l?w.unique(c):c),c.selector=this.selector?this.selector+" "+b:b,c},filter:function(b){return this.pushStack(l(this,b||[],!1))},not:function(b){return this.pushStack(l(this,b||[],!0))},is:function(b){return!!l(this,"string"==typeof b&&ba.test(b)?w(b):b||[],!1).length}});var Z,L=b.document,qa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(w.fn.init=function(b,k){var c,h;if(!b)return this;if("string"==typeof b){if(c="\x3c"===b.charAt(0)&&"\x3e"===b.charAt(b.length-1)&&3<=b.length?[null,
b,null]:qa.exec(b),!c||!c[1]&&k)return!k||k.jquery?(k||Z).find(b):this.constructor(k).find(b);if(c[1]){if(k=k instanceof w?k[0]:k,w.merge(this,w.parseHTML(c[1],k&&k.nodeType?k.ownerDocument||k:L,!0)),Wa.test(c[1])&&w.isPlainObject(k))for(c in k)w.isFunction(this[c])?this[c](k[c]):this.attr(c,k[c]);return this}if(h=L.getElementById(c[2]),h&&h.parentNode){if(h.id!==c[2])return Z.find(b);this.length=1;this[0]=h}return this.context=L,this.selector=b,this}return b.nodeType?(this.context=this[0]=b,this.length=
1,this):w.isFunction(b)?"undefined"!=typeof Z.ready?Z.ready(b):b(w):(void 0!==b.selector&&(this.selector=b.selector,this.context=b.context),w.makeArray(b,this))}).prototype=w.fn;Z=w(L);var oa=/^(?:parents|prev(?:Until|All))/,da={children:!0,contents:!0,next:!0,prev:!0};w.extend({dir:function(b,k,c){var h=[];for(b=b[k];b&&9!==b.nodeType&&(void 0===c||1!==b.nodeType||!w(b).is(c));)1===b.nodeType&&h.push(b),b=b[k];return h},sibling:function(b,k){for(var c=[];b;b=b.nextSibling)1===b.nodeType&&b!==k&&
c.push(b);return c}});w.fn.extend({has:function(b){var k,c=w(b,this),h=c.length;return this.filter(function(){for(k=0;h>k;k++)if(w.contains(this,c[k]))return!0})},closest:function(b,k){for(var c,h=0,l=this.length,n=[],p=ba.test(b)||"string"!=typeof b?w(b,k||this.context):0;l>h;h++)for(c=this[h];c&&c!==k;c=c.parentNode)if(11>c.nodeType&&(p?-1<p.index(c):1===c.nodeType&&w.find.matchesSelector(c,b))){n.push(c);break}return this.pushStack(1<n.length?w.unique(n):n)},index:function(b){return b?"string"==
typeof b?w.inArray(this[0],w(b)):w.inArray(b.jquery?b[0]:b,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(b,k){return this.pushStack(w.unique(w.merge(this.get(),w(b,k))))},addBack:function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))}});w.each({parent:function(b){return(b=b.parentNode)&&11!==b.nodeType?b:null},parents:function(b){return w.dir(b,"parentNode")},parentsUntil:function(b,k,c){return w.dir(b,"parentNode",c)},next:function(b){return m(b,
"nextSibling")},prev:function(b){return m(b,"previousSibling")},nextAll:function(b){return w.dir(b,"nextSibling")},prevAll:function(b){return w.dir(b,"previousSibling")},nextUntil:function(b,k,c){return w.dir(b,"nextSibling",c)},prevUntil:function(b,k,c){return w.dir(b,"previousSibling",c)},siblings:function(b){return w.sibling((b.parentNode||{}).firstChild,b)},children:function(b){return w.sibling(b.firstChild)},contents:function(b){return w.nodeName(b,"iframe")?b.contentDocument||b.contentWindow.document:
w.merge([],b.childNodes)}},function(b,k){w.fn[b]=function(c,h){var l=w.map(this,k,c);return"Until"!==b.slice(-5)&&(h=c),h&&"string"==typeof h&&(l=w.filter(h,l)),1<this.length&&(da[b]||(l=w.unique(l)),oa.test(b)&&(l=l.reverse())),this.pushStack(l)}});var fa=/\S+/g,za={};w.Callbacks=function(b){b="string"==typeof b?za[b]||q(b):w.extend({},b);var k,c,h,l,n,p,u=[],v=!b.once&&[],m=function(z){c=b.memory&&z;h=!0;n=p||0;p=0;l=u.length;for(k=!0;u&&l>n;n++)if(!1===u[n].apply(z[0],z[1])&&b.stopOnFalse){c=!1;
break}k=!1;u&&(v?v.length&&m(v.shift()):c?u=[]:x.disable())},x={add:function(){if(u){var h=u.length;!function Kb(k){w.each(k,function(k,c){k=w.type(c);"function"===k?b.unique&&x.has(c)||u.push(c):c&&c.length&&"string"!==k&&Kb(c)})}(arguments);k?l=u.length:c&&(p=h,m(c))}return this},remove:function(){return u&&w.each(arguments,function(b,c){for(var h;-1<(h=w.inArray(c,u,h));)u.splice(h,1),k&&(l>=h&&l--,n>=h&&n--)}),this},has:function(b){return b?-1<w.inArray(b,u):!(!u||!u.length)},empty:function(){return u=
[],l=0,this},disable:function(){return u=v=c=void 0,this},disabled:function(){return!u},lock:function(){return v=void 0,c||x.disable(),this},locked:function(){return!v},fireWith:function(b,c){return!u||h&&!v||(c=c||[],c=[b,c.slice?c.slice():c],k?v.push(c):m(c)),this},fire:function(){return x.fireWith(this,arguments),this},fired:function(){return!!h}};return x};w.extend({Deferred:function(b){var k=[["resolve","done",w.Callbacks("once memory"),"resolved"],["reject","fail",w.Callbacks("once memory"),
"rejected"],["notify","progress",w.Callbacks("memory")]],c="pending",h={state:function(){return c},always:function(){return l.done(arguments).fail(arguments),this},then:function(){var b=arguments;return w.Deferred(function(c){w.each(k,function(k,n){var p=w.isFunction(b[k])&&b[k];l[n[1]](function(){var b=p&&p.apply(this,arguments);b&&w.isFunction(b.promise)?b.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[n[0]+"With"](this===h?c.promise():this,p?[b]:arguments)})});b=null}).promise()},
promise:function(b){return null!=b?w.extend(b,h):h}},l={};return h.pipe=h.then,w.each(k,function(b,n){var p=n[2],u=n[3];h[n[1]]=p.add;u&&p.add(function(){c=u},k[1^b][2].disable,k[2][2].lock);l[n[0]]=function(){return l[n[0]+"With"](this===l?h:this,arguments),this};l[n[0]+"With"]=p.fireWith}),h.promise(l),b&&b.call(l,l),l},when:function(b){var k=0,c=ja.call(arguments),h=c.length,l=1!==h||b&&w.isFunction(b.promise)?h:0,n=1===l?b:w.Deferred(),p=function(b,k,c){return function(h){k[b]=this;c[b]=1<arguments.length?
ja.call(arguments):h;c===u?n.notifyWith(k,c):--l||n.resolveWith(k,c)}},u,v,m;if(1<h)for(u=Array(h),v=Array(h),m=Array(h);h>k;k++)c[k]&&w.isFunction(c[k].promise)?c[k].promise().done(p(k,m,c)).fail(n.reject).progress(p(k,v,u)):--l;return l||n.resolveWith(m,c),n.promise()}});var sa;w.fn.ready=function(b){return w.ready.promise().done(b),this};w.extend({isReady:!1,readyWait:1,holdReady:function(b){b?w.readyWait++:w.ready(!0)},ready:function(b){if(!0===b?!--w.readyWait:!w.isReady){if(!L.body)return setTimeout(w.ready);
w.isReady=!0;!0!==b&&0<--w.readyWait||(sa.resolveWith(L,[w]),w.fn.triggerHandler&&(w(L).triggerHandler("ready"),w(L).off("ready")))}}});w.ready.promise=function(k){if(!sa)if(sa=w.Deferred(),"complete"===L.readyState)setTimeout(w.ready);else if(L.addEventListener)L.addEventListener("DOMContentLoaded",r,!1),b.addEventListener("load",r,!1);else{L.attachEvent("onreadystatechange",r);b.attachEvent("onload",r);var c=!1;try{c=null==b.frameElement&&L.documentElement}catch(h){}c&&c.doScroll&&!function Gb(){if(!w.isReady){try{c.doScroll("left")}catch(b){return setTimeout(Gb,
50)}n();w.ready()}}()}return sa.promise(k)};for(var Ca in w(Q))break;Q.ownLast="0"!==Ca;Q.inlineBlockNeedsLayout=!1;w(function(){var b,k,c,h;(c=L.getElementsByTagName("body")[0])&&c.style&&(k=L.createElement("div"),h=L.createElement("div"),h.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(h).appendChild(k),"undefined"!==typeof k.style.zoom&&(k.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",Q.inlineBlockNeedsLayout=b=3===k.offsetWidth,
b&&(c.style.zoom=1)),c.removeChild(h))});(function(){var b=L.createElement("div");if(null==Q.deleteExpando){Q.deleteExpando=!0;try{delete b.test}catch(k){Q.deleteExpando=!1}}})();w.acceptData=function(b){var k=w.noData[(b.nodeName+" ").toLowerCase()],c=+b.nodeType||1;return 1!==c&&9!==c?!1:!k||!0!==k&&b.getAttribute("classid")===k};var ta=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ra=/([A-Z])/g;w.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(b){return b=
b.nodeType?w.cache[b[w.expando]]:b[w.expando],!!b&&!p(b)},data:function(b,k,c){return v(b,k,c)},removeData:function(b,k){return z(b,k)},_data:function(b,k,c){return v(b,k,c,!0)},_removeData:function(b,k){return z(b,k,!0)}});w.fn.extend({data:function(b,c){var h,l,n,p=this[0],u=p&&p.attributes;if(void 0===b){if(this.length&&(n=w.data(p),1===p.nodeType&&!w._data(p,"parsedAttrs"))){for(h=u.length;h--;)u[h]&&(l=u[h].name,0===l.indexOf("data-")&&(l=w.camelCase(l.slice(5)),k(p,l,n[l])));w._data(p,"parsedAttrs",
!0)}return n}return"object"==typeof b?this.each(function(){w.data(this,b)}):1<arguments.length?this.each(function(){w.data(this,b,c)}):p?k(p,b,w.data(p,b)):void 0},removeData:function(b){return this.each(function(){w.removeData(this,b)})}});w.extend({queue:function(b,k,c){var h;return b?(k=(k||"fx")+"queue",h=w._data(b,k),c&&(!h||w.isArray(c)?h=w._data(b,k,w.makeArray(c)):h.push(c)),h||[]):void 0},dequeue:function(b,k){k=k||"fx";var c=w.queue(b,k),h=c.length,l=c.shift(),n=w._queueHooks(b,k),p=function(){w.dequeue(b,
k)};"inprogress"===l&&(l=c.shift(),h--);l&&("fx"===k&&c.unshift("inprogress"),delete n.stop,l.call(b,p,n));!h&&n&&n.empty.fire()},_queueHooks:function(b,k){var c=k+"queueHooks";return w._data(b,c)||w._data(b,c,{empty:w.Callbacks("once memory").add(function(){w._removeData(b,k+"queue");w._removeData(b,c)})})}});w.fn.extend({queue:function(b,k){var c=2;return"string"!=typeof b&&(k=b,b="fx",c--),arguments.length<c?w.queue(this[0],b):void 0===k?this:this.each(function(){var c=w.queue(this,b,k);w._queueHooks(this,
b);"fx"===b&&"inprogress"!==c[0]&&w.dequeue(this,b)})},dequeue:function(b){return this.each(function(){w.dequeue(this,b)})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,k){var c,h=1,l=w.Deferred(),n=this,p=this.length,u=function(){--h||l.resolveWith(n,[n])};"string"!=typeof b&&(k=b,b=void 0);for(b=b||"fx";p--;)(c=w._data(n[p],b+"queueHooks"))&&c.empty&&(h++,c.empty.add(u));return u(),l.promise(k)}});var Ka=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Aa=["Top","Right",
"Bottom","Left"],Ha=function(b,k){return b=k||b,"none"===w.css(b,"display")||!w.contains(b.ownerDocument,b)},xa=w.access=function(b,k,c,h,l,n,p){var u=0,v=b.length,m=null==c;if("object"===w.type(c))for(u in l=!0,c)w.access(b,k,u,c[u],!0,n,p);else if(void 0!==h&&(l=!0,w.isFunction(h)||(p=!0),m&&(p?(k.call(b,h),k=null):(m=k,k=function(b,k,c){return m.call(w(b),c)})),k))for(;v>u;u++)k(b[u],c,p?h:h.call(b[u],u,k(b[u],c)));return l?b:m?k.call(b):v?k(b[0],c):n},Ra=/^(?:checkbox|radio)$/i;!function(){var b=
L.createElement("input"),k=L.createElement("div"),c=L.createDocumentFragment();if(k.innerHTML="  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e",Q.leadingWhitespace=3===k.firstChild.nodeType,Q.tbody=!k.getElementsByTagName("tbody").length,Q.htmlSerialize=!!k.getElementsByTagName("link").length,Q.html5Clone="\x3c:nav\x3e\x3c/:nav\x3e"!==L.createElement("nav").cloneNode(!0).outerHTML,b.type="checkbox",b.checked=!0,c.appendChild(b),Q.appendChecked=
b.checked,k.innerHTML="\x3ctextarea\x3ex\x3c/textarea\x3e",Q.noCloneChecked=!!k.cloneNode(!0).lastChild.defaultValue,c.appendChild(k),k.innerHTML="\x3cinput type\x3d'radio' checked\x3d'checked' name\x3d't'/\x3e",Q.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked,Q.noCloneEvent=!0,k.attachEvent&&(k.attachEvent("onclick",function(){Q.noCloneEvent=!1}),k.cloneNode(!0).click()),null==Q.deleteExpando){Q.deleteExpando=!0;try{delete k.test}catch(h){Q.deleteExpando=!1}}}();(function(){var k,c,h=
L.createElement("div");for(k in{submit:!0,change:!0,focusin:!0})c="on"+k,(Q[k+"Bubbles"]=c in b)||(h.setAttribute(c,"t"),Q[k+"Bubbles"]=!1===h.attributes[c].expando)})();var cb=/^(?:input|select|textarea)$/i,Lb=/^key/,Mb=/^(?:mouse|pointer|contextmenu)|click/,ob=/^(?:focusinfocus|focusoutblur)$/,Xa=/^([^.]*)(?:\.(.+)|)$/;w.event={global:{},add:function(b,k,c,h,l){var n,p,u,v,m,x,z,q,r,y;if(u=w._data(b)){c.handler&&(v=c,c=v.handler,l=v.selector);c.guid||(c.guid=w.guid++);(p=u.events)||(p=u.events=
{});(x=u.handle)||(x=u.handle=function(b){return"undefined"===typeof w||b&&w.event.triggered===b.type?void 0:w.event.dispatch.apply(x.elem,arguments)},x.elem=b);k=(k||"").match(fa)||[""];for(u=k.length;u--;)n=Xa.exec(k[u])||[],r=y=n[1],n=(n[2]||"").split(".").sort(),r&&(m=w.event.special[r]||{},r=(l?m.delegateType:m.bindType)||r,m=w.event.special[r]||{},z=w.extend({type:r,origType:y,data:h,handler:c,guid:c.guid,selector:l,needsContext:l&&w.expr.match.needsContext.test(l),namespace:n.join(".")},v),
(q=p[r])||(q=p[r]=[],q.delegateCount=0,m.setup&&!1!==m.setup.call(b,h,n,x)||(b.addEventListener?b.addEventListener(r,x,!1):b.attachEvent&&b.attachEvent("on"+r,x))),m.add&&(m.add.call(b,z),z.handler.guid||(z.handler.guid=c.guid)),l?q.splice(q.delegateCount++,0,z):q.push(z),w.event.global[r]=!0);b=null}},remove:function(b,k,c,h,l){var n,p,u,v,m,x,z,q,r,y,A,C=w.hasData(b)&&w._data(b);if(C&&(x=C.events)){k=(k||"").match(fa)||[""];for(m=k.length;m--;)if(u=Xa.exec(k[m])||[],r=A=u[1],y=(u[2]||"").split(".").sort(),
r){z=w.event.special[r]||{};r=(h?z.delegateType:z.bindType)||r;q=x[r]||[];u=u[2]&&new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)");for(v=n=q.length;n--;)p=q[n],!l&&A!==p.origType||c&&c.guid!==p.guid||u&&!u.test(p.namespace)||h&&h!==p.selector&&("**"!==h||!p.selector)||(q.splice(n,1),p.selector&&q.delegateCount--,z.remove&&z.remove.call(b,p));v&&!q.length&&(z.teardown&&!1!==z.teardown.call(b,y,C.handle)||w.removeEvent(b,r,C.handle),delete x[r])}else for(r in x)w.event.remove(b,r+k[m],c,h,!0);
w.isEmptyObject(x)&&(delete C.handle,w._removeData(b,"events"))}},trigger:function(k,c,h,l){var n,p,u,v,m,x,z=[h||L],q=ua.call(k,"type")?k.type:k;x=ua.call(k,"namespace")?k.namespace.split("."):[];if(u=n=h=h||L,3!==h.nodeType&&8!==h.nodeType&&!ob.test(q+w.event.triggered)&&(0<=q.indexOf(".")&&(x=q.split("."),q=x.shift(),x.sort()),p=0>q.indexOf(":")&&"on"+q,k=k[w.expando]?k:new w.Event(q,"object"==typeof k&&k),k.isTrigger=l?2:3,k.namespace=x.join("."),k.namespace_re=k.namespace?new RegExp("(^|\\.)"+
x.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,k.result=void 0,k.target||(k.target=h),c=null==c?[k]:w.makeArray(c,[k]),m=w.event.special[q]||{},l||!m.trigger||!1!==m.trigger.apply(h,c))){if(!l&&!m.noBubble&&!w.isWindow(h)){v=m.delegateType||q;for(ob.test(v+q)||(u=u.parentNode);u;u=u.parentNode)z.push(u),n=u;n===(h.ownerDocument||L)&&z.push(n.defaultView||n.parentWindow||b)}for(x=0;(u=z[x++])&&!k.isPropagationStopped();)k.type=1<x?v:m.bindType||q,(n=(w._data(u,"events")||{})[k.type]&&w._data(u,"handle"))&&
n.apply(u,c),(n=p&&u[p])&&n.apply&&w.acceptData(u)&&(k.result=n.apply(u,c),!1===k.result&&k.preventDefault());if(k.type=q,!(l||k.isDefaultPrevented()||m._default&&!1!==m._default.apply(z.pop(),c))&&w.acceptData(h)&&p&&h[q]&&!w.isWindow(h)){(n=h[p])&&(h[p]=null);w.event.triggered=q;try{h[q]()}catch(r){}w.event.triggered=void 0;n&&(h[p]=n)}return k.result}},dispatch:function(b){b=w.event.fix(b);var k,c,h,l,n,p,u=ja.call(arguments);k=(w._data(this,"events")||{})[b.type]||[];var v=w.event.special[b.type]||
{};if(u[0]=b,b.delegateTarget=this,!v.preDispatch||!1!==v.preDispatch.call(this,b)){p=w.event.handlers.call(this,b,k);for(k=0;(l=p[k++])&&!b.isPropagationStopped();)for(b.currentTarget=l.elem,n=0;(h=l.handlers[n++])&&!b.isImmediatePropagationStopped();)b.namespace_re&&!b.namespace_re.test(h.namespace)||(b.handleObj=h,b.data=h.data,c=((w.event.special[h.origType]||{}).handle||h.handler).apply(l.elem,u),void 0===c||!1!==(b.result=c)||(b.preventDefault(),b.stopPropagation()));return v.postDispatch&&
v.postDispatch.call(this,b),b.result}},handlers:function(b,k){var c,h,l,n,p=[],u=k.delegateCount,v=b.target;if(u&&v.nodeType&&(!b.button||"click"!==b.type))for(;v!=this;v=v.parentNode||this)if(1===v.nodeType&&(!0!==v.disabled||"click"!==b.type)){l=[];for(n=0;u>n;n++)h=k[n],c=h.selector+" ",void 0===l[c]&&(l[c]=h.needsContext?0<=w(c,this).index(v):w.find(c,this,null,[v]).length),l[c]&&l.push(h);l.length&&p.push({elem:v,handlers:l})}return u<k.length&&p.push({elem:this,handlers:k.slice(u)}),p},fix:function(b){if(b[w.expando])return b;
var k,c,h;k=b.type;var l=b,n=this.fixHooks[k];n||(this.fixHooks[k]=n=Mb.test(k)?this.mouseHooks:Lb.test(k)?this.keyHooks:{});h=n.props?this.props.concat(n.props):this.props;b=new w.Event(l);for(k=h.length;k--;)c=h[k],b[c]=l[c];return b.target||(b.target=l.srcElement||L),3===b.target.nodeType&&(b.target=b.target.parentNode),b.metaKey=!!b.metaKey,n.filter?n.filter(b,l):b},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(b,k){return null==b.which&&(b.which=null!=k.charCode?k.charCode:k.keyCode),b}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b,k){var c,h,l,n=k.button,p=k.fromElement;return null==b.pageX&&null!=k.clientX&&(h=b.target.ownerDocument||L,l=h.documentElement,c=h.body,b.pageX=k.clientX+(l&&l.scrollLeft||c&&c.scrollLeft||0)-(l&&
l.clientLeft||c&&c.clientLeft||0),b.pageY=k.clientY+(l&&l.scrollTop||c&&c.scrollTop||0)-(l&&l.clientTop||c&&c.clientTop||0)),!b.relatedTarget&&p&&(b.relatedTarget=p===b.target?k.toElement:p),b.which||void 0===n||(b.which=1&n?1:2&n?3:4&n?2:0),b}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==u()&&this.focus)try{return this.focus(),!1}catch(b){}},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return w.nodeName(this,
"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(b){return w.nodeName(b.target,"a")}},beforeunload:{postDispatch:function(b){void 0!==b.result&&b.originalEvent&&(b.originalEvent.returnValue=b.result)}}},simulate:function(b,k,c,h){b=w.extend(new w.Event,c,{type:b,isSimulated:!0,originalEvent:{}});h?w.event.trigger(b,null,k):w.event.dispatch.call(k,b);b.isDefaultPrevented()&&c.preventDefault()}};w.removeEvent=L.removeEventListener?function(b,k,c){b.removeEventListener&&
b.removeEventListener(k,c,!1)}:function(b,k,c){k="on"+k;b.detachEvent&&("undefined"===typeof b[k]&&(b[k]=null),b.detachEvent(k,c))};w.Event=function(b,k){return this instanceof w.Event?(b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||void 0===b.defaultPrevented&&!1===b.returnValue?x:A):this.type=b,k&&w.extend(this,k),this.timeStamp=b&&b.timeStamp||w.now(),void(this[w.expando]=!0)):new w.Event(b,k)};w.Event.prototype={isDefaultPrevented:A,isPropagationStopped:A,
isImmediatePropagationStopped:A,preventDefault:function(){var b=this.originalEvent;this.isDefaultPrevented=x;b&&(b.preventDefault?b.preventDefault():b.returnValue=!1)},stopPropagation:function(){var b=this.originalEvent;this.isPropagationStopped=x;b&&(b.stopPropagation&&b.stopPropagation(),b.cancelBubble=!0)},stopImmediatePropagation:function(){var b=this.originalEvent;this.isImmediatePropagationStopped=x;b&&b.stopImmediatePropagation&&b.stopImmediatePropagation();this.stopPropagation()}};w.each({mouseenter:"mouseover",
mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(b,k){w.event.special[b]={delegateType:k,bindType:k,handle:function(b){var c,h=b.relatedTarget,l=b.handleObj;return(!h||h!==this&&!w.contains(this,h))&&(b.type=l.origType,c=l.handler.apply(this,arguments),b.type=k),c}}});Q.submitBubbles||(w.event.special.submit={setup:function(){return w.nodeName(this,"form")?!1:void w.event.add(this,"click._submit keypress._submit",function(b){b=b.target;(b=w.nodeName(b,"input")||
w.nodeName(b,"button")?b.form:void 0)&&!w._data(b,"submitBubbles")&&(w.event.add(b,"submit._submit",function(b){b._submit_bubble=!0}),w._data(b,"submitBubbles",!0))})},postDispatch:function(b){b._submit_bubble&&(delete b._submit_bubble,this.parentNode&&!b.isTrigger&&w.event.simulate("submit",this.parentNode,b,!0))},teardown:function(){return w.nodeName(this,"form")?!1:void w.event.remove(this,"._submit")}});Q.changeBubbles||(w.event.special.change={setup:function(){return cb.test(this.nodeName)?(("checkbox"===
this.type||"radio"===this.type)&&(w.event.add(this,"propertychange._change",function(b){"checked"===b.originalEvent.propertyName&&(this._just_changed=!0)}),w.event.add(this,"click._change",function(b){this._just_changed&&!b.isTrigger&&(this._just_changed=!1);w.event.simulate("change",this,b,!0)})),!1):void w.event.add(this,"beforeactivate._change",function(b){b=b.target;cb.test(b.nodeName)&&!w._data(b,"changeBubbles")&&(w.event.add(b,"change._change",function(b){!this.parentNode||b.isSimulated||b.isTrigger||
w.event.simulate("change",this.parentNode,b,!0)}),w._data(b,"changeBubbles",!0))})},handle:function(b){var k=b.target;return this!==k||b.isSimulated||b.isTrigger||"radio"!==k.type&&"checkbox"!==k.type?b.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return w.event.remove(this,"._change"),!cb.test(this.nodeName)}});Q.focusinBubbles||w.each({focus:"focusin",blur:"focusout"},function(b,k){var c=function(b){w.event.simulate(k,b.target,w.event.fix(b),!0)};w.event.special[k]={setup:function(){var h=
this.ownerDocument||this,l=w._data(h,k);l||h.addEventListener(b,c,!0);w._data(h,k,(l||0)+1)},teardown:function(){var h=this.ownerDocument||this,l=w._data(h,k)-1;l?w._data(h,k,l):(h.removeEventListener(b,c,!0),w._removeData(h,k))}}});w.fn.extend({on:function(b,k,c,h,l){var n,p;if("object"==typeof b){"string"!=typeof k&&(c=c||k,k=void 0);for(n in b)this.on(n,k,c,b[n],l);return this}if(null==c&&null==h?(h=k,c=k=void 0):null==h&&("string"==typeof k?(h=c,c=void 0):(h=c,c=k,k=void 0)),!1===h)h=A;else if(!h)return this;
return 1===l&&(p=h,h=function(b){return w().off(b),p.apply(this,arguments)},h.guid=p.guid||(p.guid=w.guid++)),this.each(function(){w.event.add(this,b,h,c,k)})},one:function(b,k,c,h){return this.on(b,k,c,h,1)},off:function(b,k,c){var h,l;if(b&&b.preventDefault&&b.handleObj)return h=b.handleObj,w(b.delegateTarget).off(h.namespace?h.origType+"."+h.namespace:h.origType,h.selector,h.handler),this;if("object"==typeof b){for(l in b)this.off(l,k,b[l]);return this}return(!1===k||"function"==typeof k)&&(c=
k,k=void 0),!1===c&&(c=A),this.each(function(){w.event.remove(this,b,c,k)})},trigger:function(b,k){return this.each(function(){w.event.trigger(b,k,this)})},triggerHandler:function(b,k){var c=this[0];return c?w.event.trigger(b,k,c,!0):void 0}});var lb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Nb=/ jQuery\d+="(?:null|\d+)"/g,pb=new RegExp("\x3c(?:"+lb+")[\\s/\x3e]","i"),db=/^\s+/,qb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
rb=/<([\w:]+)/,sb=/<tbody/i,Ob=/<|&#?\w+;/,Pb=/<(?:script|style|link)/i,Qb=/checked\s*(?:[^=]|=\s*.checked.)/i,tb=/^$|\/(?:java|ecma)script/i,Hb=/^true\/(.*)/,Rb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wa={option:[1,"\x3cselect multiple\x3d'multiple'\x3e","\x3c/select\x3e"],legend:[1,"\x3cfieldset\x3e","\x3c/fieldset\x3e"],area:[1,"\x3cmap\x3e","\x3c/map\x3e"],param:[1,"\x3cobject\x3e","\x3c/object\x3e"],thead:[1,"\x3ctable\x3e","\x3c/table\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],
col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],td:[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"],_default:Q.htmlSerialize?[0,"",""]:[1,"X\x3cdiv\x3e","\x3c/div\x3e"]},eb=C(L).appendChild(L.createElement("div"));wa.optgroup=wa.option;wa.tbody=wa.tfoot=wa.colgroup=wa.caption=wa.thead;wa.th=wa.td;w.extend({clone:function(b,k,c){var h,l,n,p,u,v=w.contains(b.ownerDocument,b);if(Q.html5Clone||w.isXMLDoc(b)||!pb.test("\x3c"+
b.nodeName+"\x3e")?n=b.cloneNode(!0):(eb.innerHTML=b.outerHTML,eb.removeChild(n=eb.firstChild)),!(Q.noCloneEvent&&Q.noCloneChecked||1!==b.nodeType&&11!==b.nodeType||w.isXMLDoc(b)))for(h=B(n),u=B(b),p=0;null!=(l=u[p]);++p)if(h[p]){var m=h[p],x,z=void 0,q;if(1===m.nodeType){if(x=m.nodeName.toLowerCase(),!Q.noCloneEvent&&m[w.expando]){q=w._data(m);for(z in q.events)w.removeEvent(m,z,q.handle);m.removeAttribute(w.expando)}"script"===x&&m.text!==l.text?(F(m).text=l.text,D(m)):"object"===x?(m.parentNode&&
(m.outerHTML=l.outerHTML),Q.html5Clone&&l.innerHTML&&!w.trim(m.innerHTML)&&(m.innerHTML=l.innerHTML)):"input"===x&&Ra.test(l.type)?(m.defaultChecked=m.checked=l.checked,m.value!==l.value&&(m.value=l.value)):"option"===x?m.defaultSelected=m.selected=l.defaultSelected:("input"===x||"textarea"===x)&&(m.defaultValue=l.defaultValue)}}if(k)if(c)for(u=u||B(b),h=h||B(n),p=0;null!=(l=u[p]);p++)I(l,h[p]);else I(b,n);return h=B(n,"script"),0<h.length&&G(h,!v&&B(b,"script")),n},buildFragment:function(b,k,c,h){for(var l,
n,p,u,v,m,x,z=b.length,q=C(k),r=[],A=0;z>A;A++)if(n=b[A],n||0===n)if("object"===w.type(n))w.merge(r,n.nodeType?[n]:n);else if(Ob.test(n)){u=u||q.appendChild(k.createElement("div"));v=(rb.exec(n)||["",""])[1].toLowerCase();x=wa[v]||wa._default;u.innerHTML=x[1]+n.replace(qb,"\x3c$1\x3e\x3c/$2\x3e")+x[2];for(l=x[0];l--;)u=u.lastChild;if(!Q.leadingWhitespace&&db.test(n)&&r.push(k.createTextNode(db.exec(n)[0])),!Q.tbody)for(l=(n="table"!==v||sb.test(n)?"\x3ctable\x3e"!==x[1]||sb.test(n)?0:u:u.firstChild)&&
n.childNodes.length;l--;)w.nodeName(m=n.childNodes[l],"tbody")&&!m.childNodes.length&&n.removeChild(m);w.merge(r,u.childNodes);for(u.textContent="";u.firstChild;)u.removeChild(u.firstChild);u=q.lastChild}else r.push(k.createTextNode(n));u&&q.removeChild(u);Q.appendChecked||w.grep(B(r,"input"),y);for(A=0;n=r[A++];)if((!h||-1===w.inArray(n,h))&&(p=w.contains(n.ownerDocument,n),u=B(q.appendChild(n),"script"),p&&G(u),c))for(l=0;n=u[l++];)tb.test(n.type||"")&&c.push(n);return q},cleanData:function(b,k){for(var c,
h,l,n,p=0,u=w.expando,v=w.cache,m=Q.deleteExpando,x=w.event.special;null!=(c=b[p]);p++)if((k||w.acceptData(c))&&(l=c[u],n=l&&v[l])){if(n.events)for(h in n.events)x[h]?w.event.remove(c,h):w.removeEvent(c,h,n.handle);v[l]&&(delete v[l],m?delete c[u]:"undefined"!==typeof c.removeAttribute?c.removeAttribute(u):c[u]=null,ia.push(l))}}});w.fn.extend({text:function(b){return xa(this,function(b){return void 0===b?w.text(this):this.empty().append((this[0]&&this[0].ownerDocument||L).createTextNode(b))},null,
b,arguments.length)},append:function(){return this.domManip(arguments,function(b){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||E(this,b).appendChild(b)})},prepend:function(){return this.domManip(arguments,function(b){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var k=E(this,b);k.insertBefore(b,k.firstChild)}})},before:function(){return this.domManip(arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this)})},after:function(){return this.domManip(arguments,
function(b){this.parentNode&&this.parentNode.insertBefore(b,this.nextSibling)})},remove:function(b,k){for(var c=b?w.filter(b,this):this,h=0;null!=(b=c[h]);h++)k||1!==b.nodeType||w.cleanData(B(b)),b.parentNode&&(k&&w.contains(b.ownerDocument,b)&&G(B(b,"script")),b.parentNode.removeChild(b));return this},empty:function(){for(var b,k=0;null!=(b=this[k]);k++){for(1===b.nodeType&&w.cleanData(B(b,!1));b.firstChild;)b.removeChild(b.firstChild);b.options&&w.nodeName(b,"select")&&(b.options.length=0)}return this},
clone:function(b,k){return b=null==b?!1:b,k=null==k?b:k,this.map(function(){return w.clone(this,b,k)})},html:function(b){return xa(this,function(b){var k=this[0]||{},c=0,h=this.length;if(void 0===b)return 1===k.nodeType?k.innerHTML.replace(Nb,""):void 0;if(!("string"!=typeof b||Pb.test(b)||!Q.htmlSerialize&&pb.test(b)||!Q.leadingWhitespace&&db.test(b)||wa[(rb.exec(b)||["",""])[1].toLowerCase()])){b=b.replace(qb,"\x3c$1\x3e\x3c/$2\x3e");try{for(;h>c;c++)k=this[c]||{},1===k.nodeType&&(w.cleanData(B(k,
!1)),k.innerHTML=b);k=0}catch(l){}}k&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(){var b=arguments[0];return this.domManip(arguments,function(k){b=this.parentNode;w.cleanData(B(this));b&&b.replaceChild(k,this)}),b&&(b.length||b.nodeType)?this:this.remove()},detach:function(b){return this.remove(b,!0)},domManip:function(b,k){b=ya.apply([],b);var c,h,l,n,p=0,u=this.length,v=this,m=u-1,x=b[0],z=w.isFunction(x);if(z||1<u&&"string"==typeof x&&!Q.checkClone&&Qb.test(x))return this.each(function(c){var h=
v.eq(c);z&&(b[0]=x.call(this,c,h.html()));h.domManip(b,k)});if(u&&(n=w.buildFragment(b,this[0].ownerDocument,!1,this),c=n.firstChild,1===n.childNodes.length&&(n=c),c)){l=w.map(B(n,"script"),F);for(h=l.length;u>p;p++)c=n,p!==m&&(c=w.clone(c,!0,!0),h&&w.merge(l,B(c,"script"))),k.call(this[p],c,p);if(h)for(n=l[l.length-1].ownerDocument,w.map(l,D),p=0;h>p;p++)c=l[p],tb.test(c.type||"")&&!w._data(c,"globalEval")&&w.contains(n,c)&&(c.src?w._evalUrl&&w._evalUrl(c.src):w.globalEval((c.text||c.textContent||
c.innerHTML||"").replace(Rb,"")));n=c=null}return this}});w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,k){w.fn[b]=function(b){for(var c=0,h=[],l=w(b),n=l.length-1;n>=c;c++)b=c===n?this:this.clone(!0),w(l[c])[k](b),ma.apply(h,b.get());return this.pushStack(h)}});var Sa,mb={};!function(){var b;Q.shrinkWrapBlocks=function(){if(null!=b)return b;b=!1;var k,c,h;return c=L.getElementsByTagName("body")[0],c&&c.style?(k=L.createElement("div"),
h=L.createElement("div"),h.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(h).appendChild(k),"undefined"!==typeof k.style.zoom&&(k.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",k.appendChild(L.createElement("div")).style.width="5px",b=3!==k.offsetWidth),c.removeChild(h),b):void 0}}();var ub=/^margin/,Ua=new RegExp("^("+Ka+")(?!px)[a-z%]+$","i"),
Ia,Ja,Sb=/^(top|right|bottom|left)$/;b.getComputedStyle?(Ia=function(b){return b.ownerDocument.defaultView.getComputedStyle(b,null)},Ja=function(b,k,c){var h,l,n,p,u=b.style;return c=c||Ia(b),p=c?c.getPropertyValue(k)||c[k]:void 0,c&&(""!==p||w.contains(b.ownerDocument,b)||(p=w.style(b,k)),Ua.test(p)&&ub.test(k)&&(h=u.width,l=u.minWidth,n=u.maxWidth,u.minWidth=u.maxWidth=u.width=p,p=c.width,u.width=h,u.minWidth=l,u.maxWidth=n)),void 0===p?p:p+""}):L.documentElement.currentStyle&&(Ia=function(b){return b.currentStyle},
Ja=function(b,k,c){var h,l,n,p,u=b.style;return c=c||Ia(b),p=c?c[k]:void 0,null==p&&u&&u[k]&&(p=u[k]),Ua.test(p)&&!Sb.test(k)&&(h=u.left,l=b.runtimeStyle,n=l&&l.left,n&&(l.left=b.currentStyle.left),u.left="fontSize"===k?"1em":p,p=u.pixelLeft+"px",u.left=h,n&&(l.left=n)),void 0===p?p:p+""||"auto"});!function(){var k,c,h,l,n,p,u;if(k=L.createElement("div"),k.innerHTML="  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e",h=k.getElementsByTagName("a")[0],
c=h&&h.style){var v=function(){var k,c,h,v;(c=L.getElementsByTagName("body")[0])&&c.style&&(k=L.createElement("div"),h=L.createElement("div"),h.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(h).appendChild(k),k.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",l=n=!1,u=!0,b.getComputedStyle&&(l="1%"!==(b.getComputedStyle(k,
null)||{}).top,n="4px"===(b.getComputedStyle(k,null)||{width:"4px"}).width,v=k.appendChild(L.createElement("div")),v.style.cssText=k.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",v.style.marginRight=v.style.width="0",k.style.width="1px",u=!parseFloat((b.getComputedStyle(v,null)||{}).marginRight)),k.innerHTML="\x3ctable\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd\x3et\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",v=k.getElementsByTagName("td"),
v[0].style.cssText="margin:0;border:0;padding:0;display:none",p=0===v[0].offsetHeight,p&&(v[0].style.display="",v[1].style.display="none",p=0===v[0].offsetHeight),c.removeChild(h))};c.cssText="float:left;opacity:.5";Q.opacity="0.5"===c.opacity;Q.cssFloat=!!c.cssFloat;k.style.backgroundClip="content-box";k.cloneNode(!0).style.backgroundClip="";Q.clearCloneStyle="content-box"===k.style.backgroundClip;Q.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing;w.extend(Q,{reliableHiddenOffsets:function(){return null==
p&&v(),p},boxSizingReliable:function(){return null==n&&v(),n},pixelPosition:function(){return null==l&&v(),l},reliableMarginRight:function(){return null==u&&v(),u}})}}();w.swap=function(b,k,c,h){var l,n={};for(l in k)n[l]=b.style[l],b.style[l]=k[l];c=c.apply(b,h||[]);for(l in k)b.style[l]=n[l];return c};var fb=/alpha\([^)]*\)/i,Tb=/opacity\s*=\s*([^)]*)/,Ub=/^(none|table(?!-c[ea]).+)/,Ib=new RegExp("^("+Ka+")(.*)$","i"),Vb=new RegExp("^([+-])\x3d("+Ka+")","i"),Wb={position:"absolute",visibility:"hidden",
display:"block"},vb={letterSpacing:"0",fontWeight:"400"},nb=["Webkit","O","Moz","ms"];w.extend({cssHooks:{opacity:{get:function(b,k){if(k)return b=Ja(b,"opacity"),""===b?"1":b}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Q.cssFloat?"cssFloat":"styleFloat"},style:function(b,k,c,h){if(b&&3!==b.nodeType&&8!==b.nodeType&&b.style){var l,n,p,u=w.camelCase(k),v=b.style;if(k=
w.cssProps[u]||(w.cssProps[u]=O(v,u)),p=w.cssHooks[k]||w.cssHooks[u],void 0===c)return p&&"get"in p&&void 0!==(l=p.get(b,!1,h))?l:v[k];if(n=typeof c,"string"===n&&(l=Vb.exec(c))&&(c=(l[1]+1)*l[2]+parseFloat(w.css(b,k)),n="number"),null!=c&&c===c&&("number"!==n||w.cssNumber[u]||(c+="px"),Q.clearCloneStyle||""!==c||0!==k.indexOf("background")||(v[k]="inherit"),!(p&&"set"in p&&void 0===(c=p.set(b,c,h)))))try{v[k]=c}catch(m){}}},css:function(b,k,c,h){var l,n,p,u=w.camelCase(k);return k=w.cssProps[u]||
(w.cssProps[u]=O(b.style,u)),p=w.cssHooks[k]||w.cssHooks[u],p&&"get"in p&&(n=p.get(b,!0,c)),void 0===n&&(n=Ja(b,k,h)),"normal"===n&&k in vb&&(n=vb[k]),""===c||c?(l=parseFloat(n),!0===c||w.isNumeric(l)?l||0:n):n}});w.each(["height","width"],function(b,k){w.cssHooks[k]={get:function(b,c,h){return c?Ub.test(w.css(b,"display"))&&0===b.offsetWidth?w.swap(b,Wb,function(){return W(b,k,h)}):W(b,k,h):void 0},set:function(b,c,h){var l=h&&Ia(b);return aa(b,c,h?ga(b,k,h,Q.boxSizing&&"border-box"===w.css(b,"boxSizing",
!1,l),l):0)}}});Q.opacity||(w.cssHooks.opacity={get:function(b,k){return Tb.test((k&&b.currentStyle?b.currentStyle.filter:b.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":k?"1":""},set:function(b,k){var c=b.style;b=b.currentStyle;var h=w.isNumeric(k)?"alpha(opacity\x3d"+100*k+")":"",l=b&&b.filter||c.filter||"";c.zoom=1;(1<=k||""===k)&&""===w.trim(l.replace(fb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===k||b&&!b.filter)||(c.filter=fb.test(l)?l.replace(fb,h):l+" "+h)}});w.cssHooks.marginRight=
P(Q.reliableMarginRight,function(b,k){return k?w.swap(b,{display:"inline-block"},Ja,[b,"marginRight"]):void 0});w.each({margin:"",padding:"",border:"Width"},function(b,k){w.cssHooks[b+k]={expand:function(c){var h=0,l={};for(c="string"==typeof c?c.split(" "):[c];4>h;h++)l[b+Aa[h]+k]=c[h]||c[h-2]||c[0];return l}};ub.test(b)||(w.cssHooks[b+k].set=aa)});w.fn.extend({css:function(b,k){return xa(this,function(b,k,c){var h,l={},n=0;if(w.isArray(k)){c=Ia(b);for(h=k.length;h>n;n++)l[k[n]]=w.css(b,k[n],!1,
c);return l}return void 0!==c?w.style(b,k,c):w.css(b,k)},b,k,1<arguments.length)},show:function(){return J(this,!0)},hide:function(){return J(this)},toggle:function(b){return"boolean"==typeof b?b?this.show():this.hide():this.each(function(){Ha(this)?w(this).show():w(this).hide()})}});w.Tween=U;U.prototype={constructor:U,init:function(b,k,c,h,l,n){this.elem=b;this.prop=c;this.easing=l||"swing";this.options=k;this.start=this.now=this.cur();this.end=h;this.unit=n||(w.cssNumber[c]?"":"px")},cur:function(){var b=
U.propHooks[this.prop];return b&&b.get?b.get(this):U.propHooks._default.get(this)},run:function(b){var k,c=U.propHooks[this.prop];return this.pos=k=this.options.duration?w.easing[this.easing](b,this.options.duration*b,0,1,this.options.duration):b,this.now=(this.end-this.start)*k+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):U.propHooks._default.set(this),this}};U.prototype.init.prototype=U.prototype;U.propHooks={_default:{get:function(b){var k;
return null==b.elem[b.prop]||b.elem.style&&null!=b.elem.style[b.prop]?(k=w.css(b.elem,b.prop,""),k&&"auto"!==k?k:0):b.elem[b.prop]},set:function(b){w.fx.step[b.prop]?w.fx.step[b.prop](b):b.elem.style&&(null!=b.elem.style[w.cssProps[b.prop]]||w.cssHooks[b.prop])?w.style(b.elem,b.prop,b.now+b.unit):b.elem[b.prop]=b.now}}};U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(b){b.elem.nodeType&&b.elem.parentNode&&(b.elem[b.prop]=b.now)}};w.easing={linear:function(b){return b},swing:function(b){return.5-
Math.cos(b*Math.PI)/2}};w.fx=U.prototype.init;w.fx.step={};var Oa,Ya,Xb=/^(?:toggle|show|hide)$/,wb=new RegExp("^(?:([+-])\x3d|)("+Ka+")([a-z%]*)$","i"),Yb=/queueHooks$/,Va=[function(b,k,c){var h,l,n,p,u,v,m,x=this,z={},q=b.style,r=b.nodeType&&Ha(b),y=w._data(b,"fxshow");c.queue||(p=w._queueHooks(b,"fx"),null==p.unqueued&&(p.unqueued=0,u=p.empty.fire,p.empty.fire=function(){p.unqueued||u()}),p.unqueued++,x.always(function(){x.always(function(){p.unqueued--;w.queue(b,"fx").length||p.empty.fire()})}));
1===b.nodeType&&("height"in k||"width"in k)&&(c.overflow=[q.overflow,q.overflowX,q.overflowY],v=w.css(b,"display"),m="none"===v?w._data(b,"olddisplay")||H(b.nodeName):v,"inline"===m&&"none"===w.css(b,"float")&&(Q.inlineBlockNeedsLayout&&"inline"!==H(b.nodeName)?q.zoom=1:q.display="inline-block"));c.overflow&&(q.overflow="hidden",Q.shrinkWrapBlocks()||x.always(function(){q.overflow=c.overflow[0];q.overflowX=c.overflow[1];q.overflowY=c.overflow[2]}));for(h in k)if(l=k[h],Xb.exec(l)){if(delete k[h],
n=n||"toggle"===l,l===(r?"hide":"show")){if("show"!==l||!y||void 0===y[h])continue;r=!0}z[h]=y&&y[h]||w.style(b,h)}else v=void 0;if(w.isEmptyObject(z))"inline"===("none"===v?H(b.nodeName):v)&&(q.display=v);else for(h in y?"hidden"in y&&(r=y.hidden):y=w._data(b,"fxshow",{}),n&&(y.hidden=!r),r?w(b).show():x.done(function(){w(b).hide()}),x.done(function(){var k;w._removeData(b,"fxshow");for(k in z)w.style(b,k,z[k])}),z)k=T(r?y[h]:0,h,x),h in y||(y[h]=k.start,r&&(k.end=k.start,k.start="width"===h||"height"===
h?1:0))}],Ta={"*":[function(b,k){var c=this.createTween(b,k),h=c.cur(),l=(k=wb.exec(k))&&k[3]||(w.cssNumber[b]?"":"px"),n=(w.cssNumber[b]||"px"!==l&&+h)&&wb.exec(w.css(c.elem,b)),p=1,u=20;if(n&&n[3]!==l){l=l||n[3];k=k||[];n=+h||1;do p=p||".5",n/=p,w.style(c.elem,b,n+l);while(p!==(p=c.cur()/h)&&1!==p&&--u)}return k&&(n=c.start=+n||+h||0,c.unit=l,c.end=k[1]?n+(k[1]+1)*k[2]:+k[2]),c}]};w.Animation=w.extend(ea,{tweener:function(b,k){w.isFunction(b)?(k=b,b=["*"]):b=b.split(" ");for(var c,h=0,l=b.length;l>
h;h++)c=b[h],Ta[c]=Ta[c]||[],Ta[c].unshift(k)},prefilter:function(b,k){k?Va.unshift(b):Va.push(b)}});w.speed=function(b,k,c){var h=b&&"object"==typeof b?w.extend({},b):{complete:c||!c&&k||w.isFunction(b)&&b,duration:b,easing:c&&k||k&&!w.isFunction(k)&&k};return h.duration=w.fx.off?0:"number"==typeof h.duration?h.duration:h.duration in w.fx.speeds?w.fx.speeds[h.duration]:w.fx.speeds._default,(null==h.queue||!0===h.queue)&&(h.queue="fx"),h.old=h.complete,h.complete=function(){w.isFunction(h.old)&&h.old.call(this);
h.queue&&w.dequeue(this,h.queue)},h};w.fn.extend({fadeTo:function(b,k,c,h){return this.filter(Ha).css("opacity",0).show().end().animate({opacity:k},b,c,h)},animate:function(b,k,c,h){var l=w.isEmptyObject(b),n=w.speed(k,c,h);k=function(){var k=ea(this,w.extend({},b),n);(l||w._data(this,"finish"))&&k.stop(!0)};return k.finish=k,l||!1===n.queue?this.each(k):this.queue(n.queue,k)},stop:function(b,k,c){var h=function(b){var k=b.stop;delete b.stop;k(c)};return"string"!=typeof b&&(c=k,k=b,b=void 0),k&&!1!==
b&&this.queue(b||"fx",[]),this.each(function(){var k=!0,l=null!=b&&b+"queueHooks",n=w.timers,p=w._data(this);if(l)p[l]&&p[l].stop&&h(p[l]);else for(l in p)p[l]&&p[l].stop&&Yb.test(l)&&h(p[l]);for(l=n.length;l--;)n[l].elem!==this||null!=b&&n[l].queue!==b||(n[l].anim.stop(c),k=!1,n.splice(l,1));!k&&c||w.dequeue(this,b)})},finish:function(b){return!1!==b&&(b=b||"fx"),this.each(function(){var k,c=w._data(this),h=c[b+"queue"];k=c[b+"queueHooks"];var l=w.timers,n=h?h.length:0;c.finish=!0;w.queue(this,b,
[]);k&&k.stop&&k.stop.call(this,!0);for(k=l.length;k--;)l[k].elem===this&&l[k].queue===b&&(l[k].anim.stop(!0),l.splice(k,1));for(k=0;n>k;k++)h[k]&&h[k].finish&&h[k].finish.call(this);delete c.finish})}});w.each(["toggle","show","hide"],function(b,k){var c=w.fn[k];w.fn[k]=function(b,h,l){return null==b||"boolean"==typeof b?c.apply(this,arguments):this.animate(N(k,!0),b,h,l)}});w.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},
function(b,k){w.fn[b]=function(b,c,h){return this.animate(k,b,c,h)}});w.timers=[];w.fx.tick=function(){var b,k=w.timers,c=0;for(Oa=w.now();c<k.length;c++)b=k[c],b()||k[c]!==b||k.splice(c--,1);k.length||w.fx.stop();Oa=void 0};w.fx.timer=function(b){w.timers.push(b);b()?w.fx.start():w.timers.pop()};w.fx.interval=13;w.fx.start=function(){Ya||(Ya=setInterval(w.fx.tick,w.fx.interval))};w.fx.stop=function(){clearInterval(Ya);Ya=null};w.fx.speeds={slow:600,fast:200,_default:400};w.fn.delay=function(b,k){return b=
w.fx?w.fx.speeds[b]||b:b,k=k||"fx",this.queue(k,function(k,c){var h=setTimeout(k,b);c.stop=function(){clearTimeout(h)}})};(function(){var b,k,c,h,l;k=L.createElement("div");k.setAttribute("className","t");k.innerHTML="  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e";h=k.getElementsByTagName("a")[0];c=L.createElement("select");l=c.appendChild(L.createElement("option"));b=k.getElementsByTagName("input")[0];h.style.cssText="top:1px";Q.getSetAttribute=
"t"!==k.className;Q.style=/top/.test(h.getAttribute("style"));Q.hrefNormalized="/a"===h.getAttribute("href");Q.checkOn=!!b.value;Q.optSelected=l.selected;Q.enctype=!!L.createElement("form").enctype;c.disabled=!0;Q.optDisabled=!l.disabled;b=L.createElement("input");b.setAttribute("value","");Q.input=""===b.getAttribute("value");b.value="t";b.setAttribute("type","radio");Q.radioValue="t"===b.value})();var Zb=/\r/g;w.fn.extend({val:function(b){var k,c,h,l=this[0];if(arguments.length)return h=w.isFunction(b),
this.each(function(c){var l;1===this.nodeType&&(l=h?b.call(this,c,w(this).val()):b,null==l?l="":"number"==typeof l?l+="":w.isArray(l)&&(l=w.map(l,function(b){return null==b?"":b+""})),k=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()],k&&"set"in k&&void 0!==k.set(this,l,"value")||(this.value=l))});if(l)return k=w.valHooks[l.type]||w.valHooks[l.nodeName.toLowerCase()],k&&"get"in k&&void 0!==(c=k.get(l,"value"))?c:(c=l.value,"string"==typeof c?c.replace(Zb,""):null==c?"":c)}});w.extend({valHooks:{option:{get:function(b){var k=
w.find.attr(b,"value");return null!=k?k:w.trim(w.text(b))}},select:{get:function(b){for(var k,c=b.options,h=b.selectedIndex,l="select-one"===b.type||0>h,n=l?null:[],p=l?h+1:c.length,u=0>h?p:l?h:0;p>u;u++)if(k=c[u],!(!k.selected&&u!==h||(Q.optDisabled?k.disabled:null!==k.getAttribute("disabled"))||k.parentNode.disabled&&w.nodeName(k.parentNode,"optgroup"))){if(b=w(k).val(),l)return b;n.push(b)}return n},set:function(b,k){var c,h,l=b.options;k=w.makeArray(k);for(var n=l.length;n--;)if(h=l[n],0<=w.inArray(w.valHooks.option.get(h),
k))try{h.selected=c=!0}catch(p){h.scrollHeight}else h.selected=!1;return c||(b.selectedIndex=-1),l}}}});w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(b,k){return w.isArray(k)?b.checked=0<=w.inArray(w(b).val(),k):void 0}};Q.checkOn||(w.valHooks[this].get=function(b){return null===b.getAttribute("value")?"on":b.value})});var Qa,xb,Fa=w.expr.attrHandle,gb=/^(?:checked|selected)$/i,La=Q.getSetAttribute,Za=Q.input;w.fn.extend({attr:function(b,k){return xa(this,w.attr,b,k,1<arguments.length)},
removeAttr:function(b){return this.each(function(){w.removeAttr(this,b)})}});w.extend({attr:function(b,k,c){var h,l,n=b.nodeType;if(b&&3!==n&&8!==n&&2!==n)return"undefined"===typeof b.getAttribute?w.prop(b,k,c):(1===n&&w.isXMLDoc(b)||(k=k.toLowerCase(),h=w.attrHooks[k]||(w.expr.match.bool.test(k)?xb:Qa)),void 0===c?h&&"get"in h&&null!==(l=h.get(b,k))?l:(l=w.find.attr(b,k),null==l?void 0:l):null!==c?h&&"set"in h&&void 0!==(l=h.set(b,c,k))?l:(b.setAttribute(k,c+""),c):void w.removeAttr(b,k))},removeAttr:function(b,
k){var c,h=0,l=k&&k.match(fa);if(l&&1===b.nodeType)for(;k=l[h++];)c=w.propFix[k]||k,w.expr.match.bool.test(k)?Za&&La||!gb.test(k)?b[c]=!1:b[w.camelCase("default-"+k)]=b[c]=!1:w.attr(b,k,""),b.removeAttribute(La?k:c)},attrHooks:{type:{set:function(b,k){if(!Q.radioValue&&"radio"===k&&w.nodeName(b,"input")){var c=b.value;return b.setAttribute("type",k),c&&(b.value=c),k}}}}});xb={set:function(b,k,c){return!1===k?w.removeAttr(b,c):Za&&La||!gb.test(c)?b.setAttribute(!La&&w.propFix[c]||c,c):b[w.camelCase("default-"+
c)]=b[c]=!0,c}};w.each(w.expr.match.bool.source.match(/\w+/g),function(b,k){var c=Fa[k]||w.find.attr;Fa[k]=Za&&La||!gb.test(k)?function(b,k,h){var l,n;return h||(n=Fa[k],Fa[k]=l,l=null!=c(b,k,h)?k.toLowerCase():null,Fa[k]=n),l}:function(b,k,c){return c?void 0:b[w.camelCase("default-"+k)]?k.toLowerCase():null}});Za&&La||(w.attrHooks.value={set:function(b,k,c){return w.nodeName(b,"input")?void(b.defaultValue=k):Qa&&Qa.set(b,k,c)}});La||(Qa={set:function(b,k,c){var h=b.getAttributeNode(c);return h||
b.setAttributeNode(h=b.ownerDocument.createAttribute(c)),h.value=k+="","value"===c||k===b.getAttribute(c)?k:void 0}},Fa.id=Fa.name=Fa.coords=function(b,k,c){var h;return c?void 0:(h=b.getAttributeNode(k))&&""!==h.value?h.value:null},w.valHooks.button={get:function(b,k){return(b=b.getAttributeNode(k))&&b.specified?b.value:void 0},set:Qa.set},w.attrHooks.contenteditable={set:function(b,k,c){Qa.set(b,""===k?!1:k,c)}},w.each(["width","height"],function(b,k){w.attrHooks[k]={set:function(b,c){return""===
c?(b.setAttribute(k,"auto"),c):void 0}}}));Q.style||(w.attrHooks.style={get:function(b){return b.style.cssText||void 0},set:function(b,k){return b.style.cssText=k+""}});var $b=/^(?:input|select|textarea|button|object)$/i,ac=/^(?:a|area)$/i;w.fn.extend({prop:function(b,k){return xa(this,w.prop,b,k,1<arguments.length)},removeProp:function(b){return b=w.propFix[b]||b,this.each(function(){try{this[b]=void 0,delete this[b]}catch(k){}})}});w.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(b,
k,c){var h,l,n,p=b.nodeType;if(b&&3!==p&&8!==p&&2!==p)return n=1!==p||!w.isXMLDoc(b),n&&(k=w.propFix[k]||k,l=w.propHooks[k]),void 0!==c?l&&"set"in l&&void 0!==(h=l.set(b,c,k))?h:b[k]=c:l&&"get"in l&&null!==(h=l.get(b,k))?h:b[k]},propHooks:{tabIndex:{get:function(b){var k=w.find.attr(b,"tabindex");return k?parseInt(k,10):$b.test(b.nodeName)||ac.test(b.nodeName)&&b.href?0:-1}}}});Q.hrefNormalized||w.each(["href","src"],function(b,k){w.propHooks[k]={get:function(b){return b.getAttribute(k,4)}}});Q.optSelected||
(w.propHooks.selected={get:function(b){b=b.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}});w.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){w.propFix[this.toLowerCase()]=this});Q.enctype||(w.propFix.enctype="encoding");var hb=/[\t\r\n\f]/g;w.fn.extend({addClass:function(b){var k,c,h,l,n,p=0,u=this.length;k="string"==typeof b&&b;if(w.isFunction(b))return this.each(function(k){w(this).addClass(b.call(this,
k,this.className))});if(k)for(k=(b||"").match(fa)||[];u>p;p++)if(c=this[p],h=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hb," "):" ")){for(n=0;l=k[n++];)0>h.indexOf(" "+l+" ")&&(h+=l+" ");h=w.trim(h);c.className!==h&&(c.className=h)}return this},removeClass:function(b){var k,c,h,l,n,p=0,u=this.length;k=0===arguments.length||"string"==typeof b&&b;if(w.isFunction(b))return this.each(function(k){w(this).removeClass(b.call(this,k,this.className))});if(k)for(k=(b||"").match(fa)||[];u>p;p++)if(c=
this[p],h=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hb," "):"")){for(n=0;l=k[n++];)for(;0<=h.indexOf(" "+l+" ");)h=h.replace(" "+l+" "," ");h=b?w.trim(h):"";c.className!==h&&(c.className=h)}return this},toggleClass:function(b,k){var c=typeof b;return"boolean"==typeof k&&"string"===c?k?this.addClass(b):this.removeClass(b):this.each(w.isFunction(b)?function(c){w(this).toggleClass(b.call(this,c,this.className,k),k)}:function(){if("string"===c)for(var k,h=0,l=w(this),n=b.match(fa)||[];k=
n[h++];)l.hasClass(k)?l.removeClass(k):l.addClass(k);else("undefined"===c||"boolean"===c)&&(this.className&&w._data(this,"__className__",this.className),this.className=this.className||!1===b?"":w._data(this,"__className__")||"")})},hasClass:function(b){b=" "+b+" ";for(var k=0,c=this.length;c>k;k++)if(1===this[k].nodeType&&0<=(" "+this[k].className+" ").replace(hb," ").indexOf(b))return!0;return!1}});w.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(b,k){w.fn[k]=function(b,c){return 0<arguments.length?this.on(k,null,b,c):this.trigger(k)}});w.fn.extend({hover:function(b,k){return this.mouseenter(b).mouseleave(k||b)},bind:function(b,k,c){return this.on(b,null,k,c)},unbind:function(b,k){return this.off(b,null,k)},delegate:function(b,k,c,h){return this.on(k,b,c,h)},undelegate:function(b,k,c){return 1===arguments.length?this.off(b,"**"):this.off(k,b||"**",c)}});var ib=w.now(),jb=/\?/,bc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
w.parseJSON=function(k){if(b.JSON&&b.JSON.parse)return b.JSON.parse(k+"");var c,h=null,l=w.trim(k+"");return l&&!w.trim(l.replace(bc,function(b,k,l,n){return c&&k&&(h=0),0===h?b:(c=l||k,h+=!n-!l,"")}))?Function("return "+l)():w.error("Invalid JSON: "+k)};w.parseXML=function(k){var c,h;if(!k||"string"!=typeof k)return null;try{b.DOMParser?(h=new DOMParser,c=h.parseFromString(k,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(k))}catch(l){c=void 0}return c&&c.documentElement&&
!c.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+k),c};var Ma,Ga,cc=/#.*$/,yb=/([?&])_=[^&]*/,dc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,ec=/^(?:GET|HEAD)$/,fc=/^\/\//,zb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ab={},bb={},Bb="*/".concat("*");try{Ga=location.href}catch(Na){Ga=L.createElement("a"),Ga.href="",Ga=Ga.href}Ma=zb.exec(Ga.toLowerCase())||[];w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ga,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ma[1]),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8",accepts:{"*":Bb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":w.parseJSON,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(b,k){return k?
ca(ca(b,w.ajaxSettings),k):ca(w.ajaxSettings,b)},ajaxPrefilter:ha(Ab),ajaxTransport:ha(bb),ajax:function(b,k){function c(b,k,h,l){var x,B,G,K,F=k;if(2!==E){E=2;u&&clearTimeout(u);m=void 0;p=l||"";D.readyState=0<b?4:0;l=200<=b&&300>b||304===b;if(h){G=z;for(var H=D,P,I,Y,V,M=G.contents,U=G.dataTypes;"*"===U[0];)U.shift(),void 0===I&&(I=G.mimeType||H.getResponseHeader("Content-Type"));if(I)for(V in M)if(M[V]&&M[V].test(I)){U.unshift(V);break}if(U[0]in h)Y=U[0];else{for(V in h){if(!U[0]||G.converters[V+
" "+U[0]]){Y=V;break}P||(P=V)}Y=Y||P}G=Y?(Y!==U[0]&&U.unshift(Y),h[Y]):void 0}var O;a:{h=z;P=G;I=D;Y=l;var R,T,J;G={};H=h.dataTypes.slice();if(H[1])for(R in h.converters)G[R.toLowerCase()]=h.converters[R];for(V=H.shift();V;)if(h.responseFields[V]&&(I[h.responseFields[V]]=P),!J&&Y&&h.dataFilter&&(P=h.dataFilter(P,h.dataType)),J=V,V=H.shift())if("*"===V)V=J;else if("*"!==J&&J!==V){if(R=G[J+" "+V]||G["* "+V],!R)for(O in G)if(T=O.split(" "),T[1]===V&&(R=G[J+" "+T[0]]||G["* "+T[0]])){!0===R?R=G[O]:!0!==
G[O]&&(V=T[0],H.unshift(T[1]));break}if(!0!==R)if(R&&h["throws"])P=R(P);else try{P=R(P)}catch(ea){O={state:"parsererror",error:R?ea:"No conversion from "+J+" to "+V};break a}}O={state:"success",data:P}}G=O;l?(z.ifModified&&(K=D.getResponseHeader("Last-Modified"),K&&(w.lastModified[n]=K),K=D.getResponseHeader("etag"),K&&(w.etag[n]=K)),204===b||"HEAD"===z.type?F="nocontent":304===b?F="notmodified":(F=G.state,x=G.data,B=G.error,l=!B)):(B=F,(b||!F)&&(F="error",0>b&&(b=0)));D.status=b;D.statusText=(k||
F)+"";l?y.resolveWith(q,[x,F,D]):y.rejectWith(q,[D,F,B]);D.statusCode(C);C=void 0;v&&r.trigger(l?"ajaxSuccess":"ajaxError",[D,z,l?x:B]);A.fireWith(q,[D,F]);v&&(r.trigger("ajaxComplete",[D,z]),--w.active||w.event.trigger("ajaxStop"))}}"object"==typeof b&&(k=b,b=void 0);k=k||{};var h,l,n,p,u,v,m,x,z=w.ajaxSetup({},k),q=z.context||z,r=z.context&&(q.nodeType||q.jquery)?w(q):w.event,y=w.Deferred(),A=w.Callbacks("once memory"),C=z.statusCode||{},B={},G={},E=0,K="canceled",D={readyState:0,getResponseHeader:function(b){var k;
if(2===E){if(!x)for(x={};k=dc.exec(p);)x[k[1].toLowerCase()]=k[2];k=x[b.toLowerCase()]}return null==k?null:k},getAllResponseHeaders:function(){return 2===E?p:null},setRequestHeader:function(b,k){var c=b.toLowerCase();return E||(b=G[c]=G[c]||b,B[b]=k),this},overrideMimeType:function(b){return E||(z.mimeType=b),this},statusCode:function(b){var k;if(b)if(2>E)for(k in b)C[k]=[C[k],b[k]];else D.always(b[D.status]);return this},abort:function(b){b=b||K;return m&&m.abort(b),c(0,b),this}};if(y.promise(D).complete=
A.add,D.success=D.done,D.error=D.fail,z.url=((b||z.url||Ga)+"").replace(cc,"").replace(fc,Ma[1]+"//"),z.type=k.method||k.type||z.method||z.type,z.dataTypes=w.trim(z.dataType||"*").toLowerCase().match(fa)||[""],null==z.crossDomain&&(h=zb.exec(z.url.toLowerCase()),z.crossDomain=!(!h||h[1]===Ma[1]&&h[2]===Ma[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(Ma[3]||("http:"===Ma[1]?"80":"443")))),z.data&&z.processData&&"string"!=typeof z.data&&(z.data=w.param(z.data,z.traditional)),X(Ab,z,k,D),2===E)return D;
(v=z.global)&&0===w.active++&&w.event.trigger("ajaxStart");z.type=z.type.toUpperCase();z.hasContent=!ec.test(z.type);n=z.url;z.hasContent||(z.data&&(n=z.url+=(jb.test(n)?"\x26":"?")+z.data,delete z.data),!1===z.cache&&(z.url=yb.test(n)?n.replace(yb,"$1_\x3d"+ib++):n+(jb.test(n)?"\x26":"?")+"_\x3d"+ib++));z.ifModified&&(w.lastModified[n]&&D.setRequestHeader("If-Modified-Since",w.lastModified[n]),w.etag[n]&&D.setRequestHeader("If-None-Match",w.etag[n]));(z.data&&z.hasContent&&!1!==z.contentType||k.contentType)&&
D.setRequestHeader("Content-Type",z.contentType);D.setRequestHeader("Accept",z.dataTypes[0]&&z.accepts[z.dataTypes[0]]?z.accepts[z.dataTypes[0]]+("*"!==z.dataTypes[0]?", "+Bb+"; q\x3d0.01":""):z.accepts["*"]);for(l in z.headers)D.setRequestHeader(l,z.headers[l]);if(z.beforeSend&&(!1===z.beforeSend.call(q,D,z)||2===E))return D.abort();K="abort";for(l in{success:1,error:1,complete:1})D[l](z[l]);if(m=X(bb,z,k,D)){D.readyState=1;v&&r.trigger("ajaxSend",[D,z]);z.async&&0<z.timeout&&(u=setTimeout(function(){D.abort("timeout")},
z.timeout));try{E=1,m.send(B,c)}catch(F){if(!(2>E))throw F;c(-1,F)}}else c(-1,"No Transport");return D},getJSON:function(b,k,c){return w.get(b,k,c,"json")},getScript:function(b,k){return w.get(b,void 0,k,"script")}});w.each(["get","post"],function(b,k){w[k]=function(b,c,h,l){return w.isFunction(c)&&(l=l||h,h=c,c=void 0),w.ajax({url:b,type:k,dataType:l,data:c,success:h})}});w.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(b,k){w.fn[k]=function(b){return this.on(k,
b)}});w._evalUrl=function(b){return w.ajax({url:b,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};w.fn.extend({wrapAll:function(b){if(w.isFunction(b))return this.each(function(k){w(this).wrapAll(b.call(this,k))});if(this[0]){var k=w(b,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&k.insertBefore(this[0]);k.map(function(){for(var b=this;b.firstChild&&1===b.firstChild.nodeType;)b=b.firstChild;return b}).append(this)}return this},wrapInner:function(b){return this.each(w.isFunction(b)?
function(k){w(this).wrapInner(b.call(this,k))}:function(){var k=w(this),c=k.contents();c.length?c.wrapAll(b):k.append(b)})},wrap:function(b){var k=w.isFunction(b);return this.each(function(c){w(this).wrapAll(k?b.call(this,c):b)})},unwrap:function(){return this.parent().each(function(){w.nodeName(this,"body")||w(this).replaceWith(this.childNodes)}).end()}});w.expr.filters.hidden=function(b){return 0>=b.offsetWidth&&0>=b.offsetHeight||!Q.reliableHiddenOffsets()&&"none"===(b.style&&b.style.display||
w.css(b,"display"))};w.expr.filters.visible=function(b){return!w.expr.filters.hidden(b)};var gc=/%20/g,Jb=/\[\]$/,Cb=/\r?\n/g,hc=/^(?:submit|button|image|reset|file)$/i,ic=/^(?:input|select|textarea|keygen)/i;w.param=function(b,k){var c,h=[],l=function(b,k){k=w.isFunction(k)?k():null==k?"":k;h[h.length]=encodeURIComponent(b)+"\x3d"+encodeURIComponent(k)};if(void 0===k&&(k=w.ajaxSettings&&w.ajaxSettings.traditional),w.isArray(b)||b.jquery&&!w.isPlainObject(b))w.each(b,function(){l(this.name,this.value)});
else for(c in b)S(c,b[c],k,l);return h.join("\x26").replace(gc,"+")};w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var b=w.prop(this,"elements");return b?w.makeArray(b):this}).filter(function(){var b=this.type;return this.name&&!w(this).is(":disabled")&&ic.test(this.nodeName)&&!hc.test(b)&&(this.checked||!Ra.test(b))}).map(function(b,k){b=w(this).val();return null==b?null:w.isArray(b)?w.map(b,function(b){return{name:k.name,
value:b.replace(Cb,"\r\n")}}):{name:k.name,value:b.replace(Cb,"\r\n")}}).get()}});w.ajaxSettings.xhr=void 0!==b.ActiveXObject?function(){var k;if(!(k=!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&ka()))a:{try{k=new b.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}k=void 0}return k}:ka;var jc=0,$a={},ab=w.ajaxSettings.xhr();b.ActiveXObject&&w(b).on("unload",function(){for(var b in $a)$a[b](void 0,!0)});Q.cors=!!ab&&"withCredentials"in ab;(ab=Q.ajax=!!ab)&&w.ajaxTransport(function(b){if(!b.crossDomain||
Q.cors){var k;return{send:function(c,h){var l,n=b.xhr(),p=++jc;if(n.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(l in b.xhrFields)n[l]=b.xhrFields[l];b.mimeType&&n.overrideMimeType&&n.overrideMimeType(b.mimeType);b.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(l in c)void 0!==c[l]&&n.setRequestHeader(l,c[l]+"");n.send(b.hasContent&&b.data||null);k=function(c,l){var u,v,m;if(k&&(l||4===n.readyState))if(delete $a[p],k=void 0,n.onreadystatechange=
w.noop,l)4!==n.readyState&&n.abort();else{m={};u=n.status;"string"==typeof n.responseText&&(m.text=n.responseText);try{v=n.statusText}catch(x){v=""}u||!b.isLocal||b.crossDomain?1223===u&&(u=204):u=m.text?200:404}m&&h(u,v,m,n.getAllResponseHeaders())};b.async?4===n.readyState?setTimeout(k):n.onreadystatechange=$a[p]=k:k()},abort:function(){k&&k(void 0,!0)}}}});w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},
converters:{"text script":function(b){return w.globalEval(b),b}}});w.ajaxPrefilter("script",function(b){void 0===b.cache&&(b.cache=!1);b.crossDomain&&(b.type="GET",b.global=!1)});w.ajaxTransport("script",function(b){if(b.crossDomain){var k,c=L.head||w("head")[0]||L.documentElement;return{send:function(h,l){k=L.createElement("script");k.async=!0;b.scriptCharset&&(k.charset=b.scriptCharset);k.src=b.url;k.onload=k.onreadystatechange=function(b,c){(c||!k.readyState||/loaded|complete/.test(k.readyState))&&
(k.onload=k.onreadystatechange=null,k.parentNode&&k.parentNode.removeChild(k),k=null,c||l(200,"success"))};c.insertBefore(k,c.firstChild)},abort:function(){k&&k.onload(void 0,!0)}}}});var Db=[],kb=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var b=Db.pop()||w.expando+"_"+ib++;return this[b]=!0,b}});w.ajaxPrefilter("json jsonp",function(k,c,h){var l,n,p,u=!1!==k.jsonp&&(kb.test(k.url)?"url":"string"==typeof k.data&&!(k.contentType||"").indexOf("application/x-www-form-urlencoded")&&
kb.test(k.data)&&"data");return u||"jsonp"===k.dataTypes[0]?(l=k.jsonpCallback=w.isFunction(k.jsonpCallback)?k.jsonpCallback():k.jsonpCallback,u?k[u]=k[u].replace(kb,"$1"+l):!1!==k.jsonp&&(k.url+=(jb.test(k.url)?"\x26":"?")+k.jsonp+"\x3d"+l),k.converters["script json"]=function(){return p||w.error(l+" was not called"),p[0]},k.dataTypes[0]="json",n=b[l],b[l]=function(){p=arguments},h.always(function(){b[l]=n;k[l]&&(k.jsonpCallback=c.jsonpCallback,Db.push(l));p&&w.isFunction(n)&&n(p[0]);p=n=void 0}),
"script"):void 0});w.parseHTML=function(b,k,c){if(!b||"string"!=typeof b)return null;"boolean"==typeof k&&(c=k,k=!1);k=k||L;var h=Wa.exec(b);c=!c&&[];return h?[k.createElement(h[1])]:(h=w.buildFragment([b],k,c),c&&c.length&&w(c).remove(),w.merge([],h.childNodes))};var Eb=w.fn.load;w.fn.load=function(b,k,c){if("string"!=typeof b&&Eb)return Eb.apply(this,arguments);var h,l,n,p=this,u=b.indexOf(" ");return 0<=u&&(h=w.trim(b.slice(u,b.length)),b=b.slice(0,u)),w.isFunction(k)?(c=k,k=void 0):k&&"object"==
typeof k&&(n="POST"),0<p.length&&w.ajax({url:b,type:n,dataType:"html",data:k}).done(function(b){l=arguments;p.html(h?w("\x3cdiv\x3e").append(w.parseHTML(b)).find(h):b)}).complete(c&&function(b,k){p.each(c,l||[b.responseText,k,b])}),this};w.expr.filters.animated=function(b){return w.grep(w.timers,function(k){return b===k.elem}).length};var Fb=b.document.documentElement;w.offset={setOffset:function(b,k,c){var h,l,n,p,u,v,m=w.css(b,"position"),x=w(b),z={};"static"===m&&(b.style.position="relative");
u=x.offset();n=w.css(b,"top");v=w.css(b,"left");("absolute"===m||"fixed"===m)&&-1<w.inArray("auto",[n,v])?(h=x.position(),p=h.top,l=h.left):(p=parseFloat(n)||0,l=parseFloat(v)||0);w.isFunction(k)&&(k=k.call(b,c,u));null!=k.top&&(z.top=k.top-u.top+p);null!=k.left&&(z.left=k.left-u.left+l);"using"in k?k.using.call(b,z):x.css(z)}};w.fn.extend({offset:function(b){if(arguments.length)return void 0===b?this:this.each(function(k){w.offset.setOffset(this,b,k)});var k,c,h={top:0,left:0},l=this[0],n=l&&l.ownerDocument;
if(n)return k=n.documentElement,w.contains(k,l)?("undefined"!==typeof l.getBoundingClientRect&&(h=l.getBoundingClientRect()),c=la(n),{top:h.top+(c.pageYOffset||k.scrollTop)-(k.clientTop||0),left:h.left+(c.pageXOffset||k.scrollLeft)-(k.clientLeft||0)}):h},position:function(){if(this[0]){var b,k,c={top:0,left:0},h=this[0];return"fixed"===w.css(h,"position")?k=h.getBoundingClientRect():(b=this.offsetParent(),k=this.offset(),w.nodeName(b[0],"html")||(c=b.offset()),c.top+=w.css(b[0],"borderTopWidth",!0),
c.left+=w.css(b[0],"borderLeftWidth",!0)),{top:k.top-c.top-w.css(h,"marginTop",!0),left:k.left-c.left-w.css(h,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent||Fb;b&&!w.nodeName(b,"html")&&"static"===w.css(b,"position");)b=b.offsetParent;return b||Fb})}});w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,k){var c=/Y/.test(k);w.fn[b]=function(h){return xa(this,function(b,h,l){var n=la(b);return void 0===l?n?k in n?n[k]:n.document.documentElement[h]:
b[h]:void(n?n.scrollTo(c?w(n).scrollLeft():l,c?l:w(n).scrollTop()):b[h]=l)},b,h,arguments.length,null)}});w.each(["top","left"],function(b,k){w.cssHooks[k]=P(Q.pixelPosition,function(b,c){return c?(c=Ja(b,k),Ua.test(c)?w(b).position()[k]+"px":c):void 0})});w.each({Height:"height",Width:"width"},function(b,k){w.each({padding:"inner"+b,content:k,"":"outer"+b},function(c,h){w.fn[h]=function(h,l){var n=arguments.length&&(c||"boolean"!=typeof h),p=c||(!0===h||!0===l?"margin":"border");return xa(this,function(k,
c,h){var l;return w.isWindow(k)?k.document.documentElement["client"+b]:9===k.nodeType?(l=k.documentElement,Math.max(k.body["scroll"+b],l["scroll"+b],k.body["offset"+b],l["offset"+b],l["client"+b])):void 0===h?w.css(k,c,p):w.style(k,c,h,p)},k,n?h:void 0,n,null)}})});w.fn.size=function(){return this.length};w.fn.andSelf=w.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var kc=b.jQuery,lc=b.$;return w.noConflict=function(k){return b.$===w&&(b.$=lc),k&&b.jQuery===
w&&(b.jQuery=kc),w},"undefined"===typeof h&&(b.jQuery=b.$=w),w});void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0);
(function(b,h,c){function l(k){var c=h.console;q[k]||(q[k]=!0,b.migrateWarnings.push(k),c&&c.warn&&!b.migrateMute&&(c.warn("JQMIGRATE: "+k),b.migrateTrace&&c.trace&&c.trace()))}function m(k,h,n,p){if(Object.defineProperty)try{return Object.defineProperty(k,h,{configurable:!0,enumerable:!0,get:function(){return l(p),n},set:function(b){l(p);n=b}}),c}catch(u){}b._definePropertyBroken=!0;k[h]=n}var q={};b.migrateWarnings=[];!b.migrateMute&&h.console&&h.console.log&&h.console.log("JQMIGRATE: Logging is active");
b.migrateTrace===c&&(b.migrateTrace=!0);b.migrateReset=function(){q={};b.migrateWarnings.length=0};"BackCompat"===document.compatMode&&l("jQuery is not compatible with Quirks Mode");var n=b("\x3cinput/\x3e",{size:1}).attr("size")&&b.attrFn,r=b.attr,k=b.attrHooks.value&&b.attrHooks.value.get||function(){return null},p=b.attrHooks.value&&b.attrHooks.value.set||function(){return c},v=/^(?:input|button)$/i,z=/^[238]$/,x=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
A=/^(?:checked|selected)$/i;m(b,"attrFn",n||{},"jQuery.attrFn is deprecated");b.attr=function(k,h,p,u){var m=h.toLowerCase(),q=k&&k.nodeType;return u&&(4>r.length&&l("jQuery.fn.attr( props, pass ) is deprecated"),k&&!z.test(q)&&(n?h in n:b.isFunction(b.fn[h])))?b(k)[h](p):("type"===h&&p!==c&&v.test(k.nodeName)&&k.parentNode&&l("Can't change the 'type' of an input or button in IE 6/7/8"),!b.attrHooks[m]&&x.test(m)&&(b.attrHooks[m]={get:function(k,h){var l,n=b.prop(k,h);return!0===n||"boolean"!=typeof n&&
(l=k.getAttributeNode(h))&&!1!==l.nodeValue?h.toLowerCase():c},set:function(k,c,h){var l;return!1===c?b.removeAttr(k,h):(l=b.propFix[h]||h,l in k&&(k[l]=!0),k.setAttribute(h,h.toLowerCase())),h}},A.test(m)&&l("jQuery.fn.attr('"+m+"') may use property instead of attribute")),r.call(b,k,h,p))};b.attrHooks.value={get:function(b,c){var h=(b.nodeName||"").toLowerCase();return"button"===h?k.apply(this,arguments):("input"!==h&&"option"!==h&&l("jQuery.fn.attr('value') no longer gets properties"),c in b?b.value:
null)},set:function(b,k){var h=(b.nodeName||"").toLowerCase();return"button"===h?p.apply(this,arguments):("input"!==h&&"option"!==h&&l("jQuery.fn.attr('value', val) no longer sets properties"),b.value=k,c)}};var u,C,B=b.fn.init,y=b.parseJSON,E=/^([^<]*)(<[\w\W]+>)([^>]*)$/;b.fn.init=function(k,c,h){var n;return k&&"string"==typeof k&&!b.isPlainObject(c)&&(n=E.exec(b.trim(k)))&&n[0]&&("\x3c"!==k.charAt(0)&&l("$(html) HTML strings must start with '\x3c' character"),n[3]&&l("$(html) HTML text after last tag is ignored"),
"#"===n[0].charAt(0)&&(l("HTML string cannot start with a '#' character"),b.error("JQMIGRATE: Invalid selector string (XSS)")),c&&c.context&&(c=c.context),b.parseHTML)?B.call(this,b.parseHTML(n[2],c,!0),c,h):B.apply(this,arguments)};b.fn.init.prototype=b.fn;b.parseJSON=function(b){return b||null===b?y.apply(this,arguments):(l("jQuery.parseJSON requires a valid JSON string"),null)};b.uaMatch=function(b){b=b.toLowerCase();b=/(chrome)[ \/]([\w.]+)/.exec(b)||/(webkit)[ \/]([\w.]+)/.exec(b)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b)||
/(msie) ([\w.]+)/.exec(b)||0>b.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b)||[];return{browser:b[1]||"",version:b[2]||"0"}};b.browser||(u=b.uaMatch(navigator.userAgent),C={},u.browser&&(C[u.browser]=!0,C.version=u.version),C.chrome?C.webkit=!0:C.webkit&&(C.safari=!0),b.browser=C);m(b,"browser",b.browser,"jQuery.browser is deprecated");b.sub=function(){function k(b,c){return new k.fn.init(b,c)}b.extend(!0,k,this);k.superclass=this;k.fn=k.prototype=this();k.fn.constructor=k;k.sub=
this.sub;k.fn.init=function(h,l){return l&&l instanceof b&&!(l instanceof k)&&(l=k(l)),b.fn.init.call(this,h,l,c)};k.fn.init.prototype=k.fn;var c=k(document);return l("jQuery.sub() is deprecated"),k};b.ajaxSetup({converters:{"text json":b.parseJSON}});var F=b.fn.data;b.fn.data=function(k){var h,n,p=this[0];return!p||"events"!==k||1!==arguments.length||(h=b.data(p,k),n=b._data(p,k),h!==c&&h!==n||n===c)?F.apply(this,arguments):(l("Use of jQuery.fn.data('events') is deprecated"),n)};var D=/\/(java|ecma)script/i,
G=b.fn.andSelf||b.fn.addBack;b.fn.andSelf=function(){return l("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),G.apply(this,arguments)};b.clean||(b.clean=function(k,h,n,p){h=h||document;h=!h.nodeType&&h[0]||h;h=h.ownerDocument||h;l("jQuery.clean() is deprecated");var u,v,m=[];if(b.merge(m,b.buildFragment(k,h).childNodes),n)for(u=function(b){return!b.type||D.test(b.type)?p?p.push(b.parentNode?b.parentNode.removeChild(b):b):n.appendChild(b):c},k=0;null!=(h=m[k]);k++)b.nodeName(h,"script")&&u(h)||
(n.appendChild(h),h.getElementsByTagName!==c&&(v=b.grep(b.merge([],h.getElementsByTagName("script")),u),m.splice.apply(m,[k+1,0].concat(v)),k+=v.length));return m});var I=b.event.add,K=b.event.remove,H=b.event.trigger,P=b.fn.toggle,O=b.fn.live,J=b.fn.die,aa=/\b(?:ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess)\b/,ga=/(?:^|\s)hover(\.\S+|)\b/,W=function(k){return"string"!=typeof k||b.event.special.hover?k:(ga.test(k)&&l("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),
k&&k.replace(ga,"mouseenter$1 mouseleave$1"))};b.event.props&&"attrChange"!==b.event.props[0]&&b.event.props.unshift("attrChange","attrName","relatedNode","srcElement");b.event.dispatch&&m(b.event,"handle",b.event.dispatch,"jQuery.event.handle is undocumented and deprecated");b.event.add=function(b,k,c,h,n){b!==document&&aa.test(k)&&l("AJAX events should be attached to document: "+k);I.call(this,b,W(k||""),c,h,n)};b.event.remove=function(b,k,c,h,l){K.call(this,b,W(k)||"",c,h,l)};b.fn.error=function(){var b=
Array.prototype.slice.call(arguments,0);return l("jQuery.fn.error() is deprecated"),b.splice(0,0,"error"),arguments.length?this.bind.apply(this,b):(this.triggerHandler.apply(this,b),this)};b.fn.toggle=function(k,c){if(!b.isFunction(k)||!b.isFunction(c))return P.apply(this,arguments);l("jQuery.fn.toggle(handler, handler...) is deprecated");var h=arguments,n=k.guid||b.guid++,p=0,u=function(c){var l=(b._data(this,"lastToggle"+k.guid)||0)%p;return b._data(this,"lastToggle"+k.guid,l+1),c.preventDefault(),
h[l].apply(this,arguments)||!1};for(u.guid=n;h.length>p;)h[p++].guid=n;return this.click(u)};b.fn.live=function(k,c,h){return l("jQuery.fn.live() is deprecated"),O?O.apply(this,arguments):(b(this.context).on(k,this.selector,c,h),this)};b.fn.die=function(k,c){return l("jQuery.fn.die() is deprecated"),J?J.apply(this,arguments):(b(this.context).off(k,this.selector||"**",c),this)};b.event.trigger=function(b,k,c,h){return c||aa.test(b)||l("Global events are undocumented and deprecated"),H.call(this,b,
k,c||document,h)};b.each("ajaxStart ajaxStop ajaxSend ajaxComplete ajaxError ajaxSuccess".split(" "),function(k,c){b.event.special[c]={setup:function(){var k=this;return k!==document&&(b.event.add(document,c+"."+b.guid,function(){b.event.trigger(c,null,k,!0)}),b._data(this,c,b.guid++)),!1},teardown:function(){return this!==document&&b.event.remove(document,c+"."+b._data(this,c)),!1}}})})(jQuery,window);
!function(b,h){"object"==typeof exports&&"object"==typeof module?module.exports=h():"function"==typeof define&&define.amd?define(h):"object"==typeof exports?exports.Handlebars=h():b.Handlebars=h()}(this,function(){return function(b){function h(l){if(c[l])return c[l].exports;var m=c[l]={exports:{},id:l,loaded:!1};return b[l].call(m.exports,m,m.exports,h),m.loaded=!0,m.exports}var c={};return h.m=b,h.c=c,h.p="",h(0)}([function(b,h,c){(function(l){function m(){var b=x();return b.compile=function(k,c){return v.compile(k,
c,b)},b.precompile=function(k,c){return v.precompile(k,c,b)},b.AST=k["default"],b.Compiler=v.Compiler,b.JavaScriptCompiler=z["default"],b.Parser=p.parser,b.parse=p.parse,b}var q=c(7)["default"];h.__esModule=!0;var n=c(1),n=q(n),r=c(2),k=q(r),p=c(3),v=c(4),r=c(5),z=q(r),r=c(6),q=q(r),x=n["default"].create,A=m();A.create=m;A.Visitor=q["default"];var u=l.Handlebars;A.noConflict=function(){l.Handlebars===A&&(l.Handlebars=u)};A["default"]=A;h["default"]=A;b.exports=h["default"]}).call(h,function(){return this}())},
function(b,h,c){(function(l){function m(){var b=new r.HandlebarsEnvironment;return v.extend(b,r),b.SafeString=k["default"],b.Exception=p["default"],b.Utils=v,b.escapeExpression=v.escapeExpression,b.VM=z,b.template=function(k){return z.template(k,b)},b}var q=c(7)["default"];h.__esModule=!0;var n=c(8),r=q(n),n=c(9),k=q(n),n=c(10),p=q(n),n=c(11),v=q(n),n=c(12),z=q(n),x=m();x.create=m;var A="undefined"!=typeof l?l:window,u=A.Handlebars;x.noConflict=function(){A.Handlebars===x&&(A.Handlebars=u)};x["default"]=
x;h["default"]=x;b.exports=h["default"]}).call(h,function(){return this}())},function(b,h){h.__esModule=!0;var c={Program:function(b,c,h,n){this.loc=n;this.type="Program";this.body=b;this.blockParams=c;this.strip=h},MustacheStatement:function(b,c,h,n,r,k){this.loc=k;this.type="MustacheStatement";this.path=b;this.params=c||[];this.hash=h;this.escaped=n;this.strip=r},BlockStatement:function(b,c,h,n,r,k,p,v,z){this.loc=z;this.type="BlockStatement";this.path=b;this.params=c||[];this.hash=h;this.program=
n;this.inverse=r;this.openStrip=k;this.inverseStrip=p;this.closeStrip=v},PartialStatement:function(b,c,h,n,r){this.loc=r;this.type="PartialStatement";this.name=b;this.params=c||[];this.hash=h;this.indent="";this.strip=n},ContentStatement:function(b,c){this.loc=c;this.type="ContentStatement";this.original=this.value=b},CommentStatement:function(b,c,h){this.loc=h;this.type="CommentStatement";this.value=b;this.strip=c},SubExpression:function(b,c,h,n){this.loc=n;this.type="SubExpression";this.path=b;
this.params=c||[];this.hash=h},PathExpression:function(b,c,h,n,r){this.loc=r;this.type="PathExpression";this.data=b;this.original=n;this.parts=h;this.depth=c},StringLiteral:function(b,c){this.loc=c;this.type="StringLiteral";this.original=this.value=b},NumberLiteral:function(b,c){this.loc=c;this.type="NumberLiteral";this.original=this.value=Number(b)},BooleanLiteral:function(b,c){this.loc=c;this.type="BooleanLiteral";this.original=this.value="true"===b},UndefinedLiteral:function(b){this.loc=b;this.type=
"UndefinedLiteral";this.original=this.value=void 0},NullLiteral:function(b){this.loc=b;this.type="NullLiteral";this.original=this.value=null},Hash:function(b,c){this.loc=c;this.type="Hash";this.pairs=b},HashPair:function(b,c,h){this.loc=h;this.type="HashPair";this.key=b;this.value=c},helpers:{helperExpression:function(b){return!("SubExpression"!==b.type&&!b.params.length&&!b.hash)},scopedId:function(b){return/^\.|this\b/.test(b.original)},simpleId:function(b){return 1===b.parts.length&&!c.helpers.scopedId(b)&&
!b.depth}}};h["default"]=c;b.exports=h["default"]},function(b,h,c){b=c(7)["default"];h.__esModule=!0;h.parse=function(b,c){if("Program"===b.type)return b;m["default"].yy=r;r.locInfo=function(b){return new r.SourceLocation(c&&c.srcName,b)};return(new n["default"]).accept(m["default"].parse(b))};var l=c(13),m=b(l),l=c(2),l=b(l),q=c(14),n=b(q),q=c(15);b=b(q);c=c(11);h.parser=m["default"];var r={};c.extend(r,b,l["default"])},function(b,h,c){function l(){}function m(b,k){if(b===k)return!0;if(r.isArray(b)&&
r.isArray(k)&&b.length===k.length){for(var c=0;c<b.length;c++)if(!m(b[c],k[c]))return!1;return!0}}function q(b){if(!b.path.parts){var c=b.path;b.path=new k["default"].PathExpression(!1,0,[c.original+""],c.original+"",c.loc)}}b=c(7)["default"];h.__esModule=!0;h.Compiler=l;h.precompile=function(b,k,c){if(null==b||"string"!=typeof b&&"Program"!==b.type)throw new n["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+b);k=k||{};"data"in k||(k.data=!0);k.compat&&
(k.useDepths=!0);b=c.parse(b,k);b=(new c.Compiler).compile(b,k);return(new c.JavaScriptCompiler).compile(b,k)};h.compile=function(b,k,c){function h(){var k=c.parse(b,p),k=(new c.Compiler).compile(k,p),k=(new c.JavaScriptCompiler).compile(k,p,void 0,!0);return c.template(k)}function l(b,k){return m||(m=h()),m.call(this,b,k)}var p=void 0===k?{}:k;if(null==b||"string"!=typeof b&&"Program"!==b.type)throw new n["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+b);
"data"in p||(p.data=!0);p.compat&&(p.useDepths=!0);var m=void 0;return l._setup=function(b){return m||(m=h()),m._setup(b)},l._child=function(b,k,c,l){return m||(m=h()),m._child(b,k,c,l)},l};h=c(10);var n=b(h),r=c(11);c=c(2);var k=b(c),p=[].slice;l.prototype={compiler:l,equals:function(b){var k=this.opcodes.length;if(b.opcodes.length!==k)return!1;for(var c=0;k>c;c++){var h=this.opcodes[c],l=b.opcodes[c];if(h.opcode!==l.opcode||!m(h.args,l.args))return!1}k=this.children.length;for(c=0;k>c;c++)if(!this.children[c].equals(b.children[c]))return!1;
return!0},guid:0,compile:function(b,k){this.sourceNode=[];this.opcodes=[];this.children=[];this.options=k;this.stringParams=k.stringParams;this.trackIds=k.trackIds;k.blockParams=k.blockParams||[];var c=k.knownHelpers;if(k.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},c)for(var h in c)h in c&&(k.knownHelpers[h]=c[h]);return this.accept(b)},compileProgram:function(b){b=(new this.compiler).compile(b,this.options);var k=this.guid++;return this.usePartial=
this.usePartial||b.usePartial,this.children[k]=b,this.useDepths=this.useDepths||b.useDepths,k},accept:function(b){this.sourceNode.unshift(b);b=this[b.type](b);return this.sourceNode.shift(),b},Program:function(b){this.options.blockParams.unshift(b.blockParams);for(var k=b.body,c=k.length,h=0;c>h;h++)this.accept(k[h]);return this.options.blockParams.shift(),this.isSimple=1===c,this.blockParams=b.blockParams?b.blockParams.length:0,this},BlockStatement:function(b){q(b);var k=b.program,c=b.inverse,k=
k&&this.compileProgram(k),c=c&&this.compileProgram(c),h=this.classifySexpr(b);"helper"===h?this.helperSexpr(b,k,c):"simple"===h?(this.simpleSexpr(b),this.opcode("pushProgram",k),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("blockValue",b.path.original)):(this.ambiguousSexpr(b,k,c),this.opcode("pushProgram",k),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue"));this.opcode("append")},PartialStatement:function(b){this.usePartial=!0;var k=b.params;
if(1<k.length)throw new n["default"]("Unsupported number of partial arguments: "+k.length,b);k.length||k.push({type:"PathExpression",parts:[],depth:0});var k=b.name.original,c="SubExpression"===b.name.type;c&&this.accept(b.name);this.setupFullMustacheParams(b,void 0,void 0,!0);b=b.indent||"";this.options.preventIndent&&b&&(this.opcode("appendContent",b),b="");this.opcode("invokePartial",c,k,b);this.opcode("append")},MustacheStatement:function(b){this.SubExpression(b);this.opcode(b.escaped&&!this.options.noEscape?
"appendEscaped":"append")},ContentStatement:function(b){b.value&&this.opcode("appendContent",b.value)},CommentStatement:function(){},SubExpression:function(b){q(b);var k=this.classifySexpr(b);"simple"===k?this.simpleSexpr(b):"helper"===k?this.helperSexpr(b):this.ambiguousSexpr(b)},ambiguousSexpr:function(b,k,c){b=b.path;var h=b.parts[0],l=null!=k||null!=c;this.opcode("getContext",b.depth);this.opcode("pushProgram",k);this.opcode("pushProgram",c);this.accept(b);this.opcode("invokeAmbiguous",h,l)},
simpleSexpr:function(b){this.accept(b.path);this.opcode("resolvePossibleLambda")},helperSexpr:function(b,c,h){c=this.setupFullMustacheParams(b,c,h);h=b.path;var l=h.parts[0];if(this.options.knownHelpers[l])this.opcode("invokeKnownHelper",c.length,l);else{if(this.options.knownHelpersOnly)throw new n["default"]("You specified knownHelpersOnly, but used the unknown helper "+l,b);h.falsy=!0;this.accept(h);this.opcode("invokeHelper",c.length,h.original,k["default"].helpers.simpleId(h))}},PathExpression:function(b){this.addDepth(b.depth);
this.opcode("getContext",b.depth);var c=b.parts[0],h=k["default"].helpers.scopedId(b),l=!b.depth&&!h&&this.blockParamIndex(c);l?this.opcode("lookupBlockParam",l,b.parts):c?b.data?(this.options.data=!0,this.opcode("lookupData",b.depth,b.parts)):this.opcode("lookupOnContext",b.parts,b.falsy,h):this.opcode("pushContext")},StringLiteral:function(b){this.opcode("pushString",b.value)},NumberLiteral:function(b){this.opcode("pushLiteral",b.value)},BooleanLiteral:function(b){this.opcode("pushLiteral",b.value)},
UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(b){b=b.pairs;var k=0,c=b.length;for(this.opcode("pushHash");c>k;k++)this.pushParam(b[k].value);for(;k--;)this.opcode("assignToHash",b[k].key);this.opcode("popHash")},opcode:function(b){this.opcodes.push({opcode:b,args:p.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(b){b&&(this.useDepths=!0)},classifySexpr:function(b){var c=k["default"].helpers.simpleId(b.path),
h=c&&!!this.blockParamIndex(b.path.parts[0]),l=!h&&k["default"].helpers.helperExpression(b);(c=!h&&(l||c))&&!l&&(h=this.options,h.knownHelpers[b.path.parts[0]]?l=!0:h.knownHelpersOnly&&(c=!1));return l?"helper":c?"ambiguous":"simple"},pushParams:function(b){for(var k=0,c=b.length;c>k;k++)this.pushParam(b[k])},pushParam:function(b){var c=null!=b.value?b.value:b.original||"";if(this.stringParams)c.replace&&(c=c.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),b.depth&&this.addDepth(b.depth),this.opcode("getContext",
b.depth||0),this.opcode("pushStringParam",c,b.type),"SubExpression"===b.type&&this.accept(b);else{if(this.trackIds){var h=void 0;(!b.parts||k["default"].helpers.scopedId(b)||b.depth||(h=this.blockParamIndex(b.parts[0])),h)?(c=b.parts.slice(1).join("."),this.opcode("pushId","BlockParam",h,c)):(c=b.original||c,c.replace&&(c=c.replace(/^\.\//g,"").replace(/^\.$/g,"")),this.opcode("pushId",b.type,c))}this.accept(b)}},setupFullMustacheParams:function(b,k,c,h){var l=b.params;return this.pushParams(l),this.opcode("pushProgram",
k),this.opcode("pushProgram",c),b.hash?this.accept(b.hash):this.opcode("emptyHash",h),l},blockParamIndex:function(b){for(var k=0,c=this.options.blockParams.length;c>k;k++){var h=this.options.blockParams[k],l=h&&r.indexOf(h,b);if(h&&0<=l)return[k,l]}}}},function(b,h,c){function l(b){this.value=b}function m(){}function q(b,k,c,h){var l=k.popStack(),n=0,p=c.length;for(b&&p--;p>n;n++)l=k.nameLookup(l,c[n],h);return b?[k.aliasable("this.strict"),"(",l,", ",k.quotedString(c[n]),")"]:l}var n=c(7)["default"];
h.__esModule=!0;var r=c(8),k=c(10),p=n(k),v=c(11);c=c(16);var z=n(c);m.prototype={nameLookup:function(b,k){return m.isValidJavaScriptVariableName(k)?[b,".",k]:[b,"['",k,"']"]},depthedLookup:function(b){return[this.aliasable("this.lookup"),'(depths, "',b,'")']},compilerInfo:function(){var b=r.COMPILER_REVISION;return[b,r.REVISION_CHANGES[b]]},appendToBuffer:function(b,k,c){return v.isArray(b)||(b=[b]),b=this.source.wrap(b,k),this.environment.isSimple?["return ",b,";"]:c?["buffer +\x3d ",b,";"]:(b.appendToBuffer=
!0,b)},initializeBuffer:function(){return this.quotedString("")},compile:function(b,k,c,h){this.environment=b;this.options=k;this.stringParams=this.options.stringParams;this.trackIds=this.options.trackIds;this.precompile=!h;this.name=this.environment.name;this.isChild=!!c;this.context=c||{programs:[],environments:[]};this.preamble();this.stackSlot=0;this.stackVars=[];this.aliases={};this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.blockParams=[];this.compileChildren(b,
k);this.useDepths=this.useDepths||b.useDepths||this.options.compat;this.useBlockParams=this.useBlockParams||b.useBlockParams;var l=b.opcodes,n,m=void 0;b=0;for(c=l.length;c>b;b++)n=l[b],this.source.currentLocation=n.loc,m=m||n.loc,this[n.opcode].apply(this,n.args);if(this.source.currentLocation=m,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new p["default"]("Compile completed with content left on stack");b=this.createFunctionContext(h);if(this.isChild)return b;
l={compiler:this.compilerInfo(),main:b};n=this.context.programs;b=0;for(c=n.length;c>b;b++)n[b]&&(l[b]=n[b]);return this.environment.usePartial&&(l.usePartial=!0),this.options.data&&(l.useData=!0),this.useDepths&&(l.useDepths=!0),this.useBlockParams&&(l.useBlockParams=!0),this.options.compat&&(l.compat=!0),h?l.compilerOptions=this.options:(l.compiler=JSON.stringify(l.compiler),this.source.currentLocation={start:{line:1,column:0}},l=this.objectLiteral(l),k.srcName?(l=l.toStringWithSourceMap({file:k.destName}),
l.map=l.map&&l.map.toString()):l=l.toString()),l},preamble:function(){this.lastContext=0;this.source=new z["default"](this.options.srcName)},createFunctionContext:function(b){var k="",c=this.stackVars.concat(this.registers.list);0<c.length&&(k+=", "+c.join(", "));var c=0,h;for(h in this.aliases){var l=this.aliases[h];this.aliases.hasOwnProperty(h)&&l.children&&1<l.referenceCount&&(k+=", alias"+ ++c+"\x3d"+h,l.children[0]="alias"+c)}h=["depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&
h.push("blockParams");this.useDepths&&h.push("depths");k=this.mergeSource(k);return b?(h.push(k),Function.apply(this,h)):this.source.wrap(["function(",h.join(","),") {\n  ",k,"}"])},mergeSource:function(b){var k=this.environment.isSimple,c=!this.forceBuffer,h=void 0,l=void 0,n=void 0,p=void 0;return this.source.each(function(b){b.appendToBuffer?(n?b.prepend("  + "):n=b,p=b):(n&&(l?n.prepend("buffer +\x3d "):h=!0,p.add(";"),n=p=void 0),l=!0,k||(c=!1))}),c?n?(n.prepend("return "),p.add(";")):l||this.source.push('return "";'):
(b+=", buffer \x3d "+(h?"":this.initializeBuffer()),n?(n.prepend("return buffer + "),p.add(";")):this.source.push("return buffer;")),b&&this.source.prepend("var "+b.substring(2)+(h?"":";\n")),this.source.merge()},blockValue:function(b){var k=this.aliasable("helpers.blockHelperMissing"),c=[this.contextName(0)];this.setupHelperArgs(b,0,c);b=this.popStack();c.splice(1,0,b);this.push(this.source.functionCall(k,"call",c))},ambiguousBlockValue:function(){var b=this.aliasable("helpers.blockHelperMissing"),
k=[this.contextName(0)];this.setupHelperArgs("",0,k,!0);this.flushInline();var c=this.topStack();k.splice(1,0,c);this.pushSource(["if (!",this.lastHelper,") { ",c," \x3d ",this.source.functionCall(b,"call",k),"}"])},appendContent:function(b){this.pendingContent?b=this.pendingContent+b:this.pendingLocation=this.source.currentLocation;this.pendingContent=b},append:function(){if(this.isInline())this.replaceStack(function(b){return[" !\x3d null ? ",b,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));
else{var b=this.popStack();this.pushSource(["if (",b," !\x3d null) { ",this.appendToBuffer(b,void 0,!0)," }"]);this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("this.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(b){this.lastContext=b},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(b,k,c){var h=
0;c||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(b[h++]));this.resolvePath("context",b,h,k)},lookupBlockParam:function(b,k){this.useBlockParams=!0;this.push(["blockParams[",b[0],"][",b[1],"]"]);this.resolvePath("context",k,1)},lookupData:function(b,k){this.pushStackLiteral(b?"this.data(data, "+b+")":"data");this.resolvePath("data",k,0,!0)},resolvePath:function(b,k,c,h){var l=this;if(this.options.strict||this.options.assumeObjects)return void this.push(q(this.options.strict,
this,k,b));for(var n=k.length;n>c;c++)this.replaceStack(function(n){var p=l.nameLookup(n,k[c],b);return h?[" \x26\x26 ",p]:[" !\x3d null ? ",p," : ",n]})},resolvePossibleLambda:function(){this.push([this.aliasable("this.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(b,k){this.pushContext();this.pushString(k);"SubExpression"!==k&&("string"==typeof b?this.pushString(b):this.pushStackLiteral(b))},emptyHash:function(b){this.trackIds&&this.push("{}");this.stringParams&&
(this.push("{}"),this.push("{}"));this.pushStackLiteral(b?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash);this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var b=this.hash;this.hash=this.hashes.pop();this.trackIds&&this.push(this.objectLiteral(b.ids));this.stringParams&&(this.push(this.objectLiteral(b.contexts)),this.push(this.objectLiteral(b.types)));this.push(this.objectLiteral(b.values))},pushString:function(b){this.pushStackLiteral(this.quotedString(b))},
pushLiteral:function(b){this.pushStackLiteral(b)},pushProgram:function(b){this.pushStackLiteral(null!=b?this.programExpression(b):null)},invokeHelper:function(b,k,c){var h=this.popStack();b=this.setupHelper(b,k);c=["("].concat(c?[b.name," || "]:"",h);this.options.strict||c.push(" || ",this.aliasable("helpers.helperMissing"));c.push(")");this.push(this.source.functionCall(c,"call",b.callParams))},invokeKnownHelper:function(b,k){b=this.setupHelper(b,k);this.push(this.source.functionCall(b.name,"call",
b.callParams))},invokeAmbiguous:function(b,k){this.useRegister("helper");var c=this.popStack();this.emptyHash();k=this.setupHelper(0,b,k);b=["(","(helper \x3d ",this.lastHelper=this.nameLookup("helpers",b,"helper")," || ",c,")"];this.options.strict||(b[0]="(helper \x3d ",b.push(" !\x3d null ? helper : ",this.aliasable("helpers.helperMissing")));this.push(["(",b,k.paramsInit?["),(",k.paramsInit]:[],"),","(typeof helper \x3d\x3d\x3d ",this.aliasable('"function"')," ? ",this.source.functionCall("helper",
"call",k.callParams)," : helper))"])},invokePartial:function(b,k,c){var h=[],l=this.setupParams(k,1,h,!1);b&&(k=this.popStack(),delete l.name);c&&(l.indent=JSON.stringify(c));l.helpers="helpers";l.partials="partials";h.unshift(b?k:this.nameLookup("partials",k,"partial"));this.options.compat&&(l.depths="depths");l=this.objectLiteral(l);h.push(l);this.push(this.source.functionCall("this.invokePartial","",h))},assignToHash:function(b){var k=this.popStack(),c=void 0,h=void 0,l=void 0;this.trackIds&&(l=
this.popStack());this.stringParams&&(h=this.popStack(),c=this.popStack());var n=this.hash;c&&(n.contexts[b]=c);h&&(n.types[b]=h);l&&(n.ids[b]=l);n.values[b]=k},pushId:function(b,k,c){"BlockParam"===b?this.pushStackLiteral("blockParams["+k[0]+"].path["+k[1]+"]"+(c?" + "+JSON.stringify("."+c):"")):"PathExpression"===b?this.pushString(k):this.pushStackLiteral("SubExpression"===b?"true":"null")},compiler:m,compileChildren:function(b,k){b=b.children;for(var c,h,l=0,n=b.length;n>l;l++){c=b[l];h=new this.compiler;
var p=this.matchExistingProgram(c);null==p?(this.context.programs.push(""),p=this.context.programs.length,c.index=p,c.name="program"+p,this.context.programs[p]=h.compile(c,k,this.context,!this.precompile),this.context.environments[p]=c,this.useDepths=this.useDepths||h.useDepths,this.useBlockParams=this.useBlockParams||h.useBlockParams):(c.index=p,c.name="program"+p,this.useDepths=this.useDepths||c.useDepths,this.useBlockParams=this.useBlockParams||c.useBlockParams)}},matchExistingProgram:function(b){for(var k=
0,c=this.context.environments.length;c>k;k++){var h=this.context.environments[k];if(h&&h.equals(b))return k}},programExpression:function(b){b=this.environment.children[b];b=[b.index,"data",b.blockParams];return(this.useBlockParams||this.useDepths)&&b.push("blockParams"),this.useDepths&&b.push("depths"),"this.program("+b.join(", ")+")"},useRegister:function(b){this.registers[b]||(this.registers[b]=!0,this.registers.list.push(b))},push:function(b){return b instanceof l||(b=this.source.wrap(b)),this.inlineStack.push(b),
b},pushStackLiteral:function(b){this.push(new l(b))},pushSource:function(b){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0);b&&this.source.push(b)},replaceStack:function(b){var k,c,h=void 0,n=void 0;if(!this.isInline())throw new p["default"]("replaceStack on non-inline");k=this.popStack(!0);k instanceof l?(c=[k.value],k=["(",c],n=!0):(h=!0,c=this.incrStack(),k=["((",this.push(c)," \x3d ",k,
")"],c=this.topStack());b=b.call(this,c);n||this.popStack();h&&this.stackSlot--;this.push(k.concat(b,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var b=this.inlineStack;this.inlineStack=[];for(var k=0,c=b.length;c>k;k++){var h=b[k];if(h instanceof l)this.compileStack.push(h);else{var n=this.incrStack();this.pushSource([n,
" \x3d ",h,";"]);this.compileStack.push(n)}}},isInline:function(){return this.inlineStack.length},popStack:function(b){var k=this.isInline(),c=(k?this.inlineStack:this.compileStack).pop();if(!b&&c instanceof l)return c.value;if(!k){if(!this.stackSlot)throw new p["default"]("Invalid stack pop");this.stackSlot--}return c},topStack:function(){var b=this.isInline()?this.inlineStack:this.compileStack,b=b[b.length-1];return b instanceof l?b.value:b},contextName:function(b){return this.useDepths&&b?"depths["+
b+"]":"depth"+b},quotedString:function(b){return this.source.quotedString(b)},objectLiteral:function(b){return this.source.objectLiteral(b)},aliasable:function(b){var k=this.aliases[b];return k?(k.referenceCount++,k):(k=this.aliases[b]=this.source.wrap(b),k.aliasable=!0,k.referenceCount=1,k)},setupHelper:function(b,k,c){var h=[];b=this.setupHelperArgs(k,b,h,c);k=this.nameLookup("helpers",k,"helper");return{params:h,paramsInit:b,name:k,callParams:[this.contextName(0)].concat(h)}},setupParams:function(b,
k,c){var h={},l=[],n=[],p=[];h.name=this.quotedString(b);h.hash=this.popStack();this.trackIds&&(h.hashIds=this.popStack());this.stringParams&&(h.hashTypes=this.popStack(),h.hashContexts=this.popStack());b=this.popStack();var m=this.popStack();(m||b)&&(h.fn=m||"this.noop",h.inverse=b||"this.noop");for(b=k;b--;)k=this.popStack(),c[b]=k,this.trackIds&&(p[b]=this.popStack()),this.stringParams&&(n[b]=this.popStack(),l[b]=this.popStack());return this.trackIds&&(h.ids=this.source.generateArray(p)),this.stringParams&&
(h.types=this.source.generateArray(n),h.contexts=this.source.generateArray(l)),this.options.data&&(h.data="data"),this.useBlockParams&&(h.blockParams="blockParams"),h},setupHelperArgs:function(b,k,c,h){b=this.setupParams(b,k,c,!0);return b=this.objectLiteral(b),h?(this.useRegister("options"),c.push("options"),["options\x3d",b]):(c.push(b),"")}};(function(){for(var b="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),
k=m.RESERVED_WORDS={},c=0,h=b.length;h>c;c++)k[b[c]]=!0})();m.isValidJavaScriptVariableName=function(b){return!m.RESERVED_WORDS[b]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(b)};h["default"]=m;b.exports=h["default"]},function(b,h,c){function l(){this.parents=[]}var m=c(7)["default"];h.__esModule=!0;var q=c(10),n=m(q);c=c(2);var r=m(c);l.prototype={constructor:l,mutating:!1,acceptKey:function(b,c){var h=this.accept(b[c]);if(this.mutating){if(h&&(!h.type||!r["default"][h.type]))throw new n["default"]('Unexpected node type "'+
h.type+'" found when accepting '+c+" on "+b.type);b[c]=h}},acceptRequired:function(b,c){if(this.acceptKey(b,c),!b[c])throw new n["default"](b.type+" requires "+c);},acceptArray:function(b){for(var c=0,h=b.length;h>c;c++)this.acceptKey(b,c),b[c]||(b.splice(c,1),c--,h--)},accept:function(b){if(b){this.current&&this.parents.unshift(this.current);this.current=b;var c=this[b.type](b);return this.current=this.parents.shift(),!this.mutating||c?c:!1!==c?b:void 0}},Program:function(b){this.acceptArray(b.body)},
MustacheStatement:function(b){this.acceptRequired(b,"path");this.acceptArray(b.params);this.acceptKey(b,"hash")},BlockStatement:function(b){this.acceptRequired(b,"path");this.acceptArray(b.params);this.acceptKey(b,"hash");this.acceptKey(b,"program");this.acceptKey(b,"inverse")},PartialStatement:function(b){this.acceptRequired(b,"name");this.acceptArray(b.params);this.acceptKey(b,"hash")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:function(b){this.acceptRequired(b,"path");
this.acceptArray(b.params);this.acceptKey(b,"hash")},PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(b){this.acceptArray(b.pairs)},HashPair:function(b){this.acceptRequired(b,"value")}};h["default"]=l;b.exports=h["default"]},function(b,h){h["default"]=function(b){return b&&b.__esModule?b:{"default":b}};h.__esModule=!0},function(b,h,c){function l(b,k){this.helpers=b||{};
this.partials=k||{};m(this)}function m(b){b.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new k["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"');});b.registerHelper("blockHelperMissing",function(k,c){var h=c.inverse,l=c.fn;if(!0===k)return l(this);if(!1===k||null==k)return h(this);if(p(k))return 0<k.length?(c.ids&&(c.ids=[c.name]),b.helpers.each(k,c)):h(this);c.data&&c.ids&&(h=q(c.data),h.contextPath=r.appendContextPath(c.data.contextPath,c.name),c=
{data:h});return l(k,c)});b.registerHelper("each",function(b,c){function h(k,c,n){z&&(z.key=k,z.index=c,z.first=0===c,z.last=!!n,x&&(z.contextPath=x+k));m+=l(b[k],{data:z,blockParams:r.blockParams([b[k],k],[x+k,null])})}if(!c)throw new k["default"]("Must pass iterator to #each");var l=c.fn,n=c.inverse,u=0,m="",z=void 0,x=void 0;if(c.data&&c.ids&&(x=r.appendContextPath(c.data.contextPath,c.ids[0])+"."),v(b)&&(b=b.call(this)),c.data&&(z=q(c.data)),b&&"object"==typeof b)if(p(b))for(var A=b.length;A>
u;u++)h(u,u,u===b.length-1);else{c=void 0;for(A in b)b.hasOwnProperty(A)&&(c&&h(c,u-1),c=A,u++);c&&h(c,u-1,!0)}return 0===u&&(m=n(this)),m});b.registerHelper("if",function(b,k){return v(b)&&(b=b.call(this)),!k.hash.includeZero&&!b||r.isEmpty(b)?k.inverse(this):k.fn(this)});b.registerHelper("unless",function(k,c){return b.helpers["if"].call(this,k,{fn:c.inverse,inverse:c.fn,hash:c.hash})});b.registerHelper("with",function(b,k){v(b)&&(b=b.call(this));var c=k.fn;if(r.isEmpty(b))return k.inverse(this);
if(k.data&&k.ids){var h=q(k.data);h.contextPath=r.appendContextPath(k.data.contextPath,k.ids[0]);k={data:h}}return c(b,k)});b.registerHelper("log",function(k,c){c=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;b.log(c,k)});b.registerHelper("lookup",function(b,k){return b&&b[k]})}function q(b){var k=r.extend({},b);return k._parent=b,k}b=c(7)["default"];h.__esModule=!0;h.HandlebarsEnvironment=l;h.createFrame=q;var n=c(11),r=b(n);c=c(10);var k=b(c);h.VERSION="3.0.1";h.COMPILER_REVISION=6;h.REVISION_CHANGES=
{1:"\x3c\x3d 1.0.rc.2",2:"\x3d\x3d 1.0.0-rc.3",3:"\x3d\x3d 1.0.0-rc.4",4:"\x3d\x3d 1.x.x",5:"\x3d\x3d 2.0.0-alpha.x",6:"\x3e\x3d 2.0.0-beta.1"};var p=r.isArray,v=r.isFunction,z=r.toString;l.prototype={constructor:l,logger:x,log:A,registerHelper:function(b,c){if("[object Object]"===z.call(b)){if(c)throw new k["default"]("Arg not supported with multiple helpers");r.extend(this.helpers,b)}else this.helpers[b]=c},unregisterHelper:function(b){delete this.helpers[b]},registerPartial:function(b,c){if("[object Object]"===
z.call(b))r.extend(this.partials,b);else{if("undefined"==typeof c)throw new k["default"]("Attempting to register a partial as undefined");this.partials[b]=c}},unregisterPartial:function(b){delete this.partials[b]}};var x={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(b,k){"undefined"!=typeof console&&x.level<=b&&(console[x.methodMap[b]]||console.log).call(console,k)}};h.logger=x;var A=x.log;h.log=A},function(b,h){function c(b){this.string=b}h.__esModule=
!0;c.prototype.toString=c.prototype.toHTML=function(){return""+this.string};h["default"]=c;b.exports=h["default"]},function(b,h){function c(b,h){h=h&&h.loc;var n=void 0,r=void 0;h&&(n=h.start.line,r=h.start.column,b+=" - "+n+":"+r);b=Error.prototype.constructor.call(this,b);for(var k=0;k<l.length;k++)this[l[k]]=b[l[k]];Error.captureStackTrace&&Error.captureStackTrace(this,c);h&&(this.lineNumber=n,this.column=r)}h.__esModule=!0;var l="description fileName lineNumber message name number stack".split(" ");
c.prototype=Error();h["default"]=c;b.exports=h["default"]},function(b,h){function c(b){return l[b]}h.__esModule=!0;h.extend=function(b){for(var c=1;c<arguments.length;c++)for(var h in arguments[c])Object.prototype.hasOwnProperty.call(arguments[c],h)&&(b[h]=arguments[c][h]);return b};h.indexOf=function(b,c){for(var h=0,l=b.length;l>h;h++)if(b[h]===c)return h;return-1};h.escapeExpression=function(b){if("string"!=typeof b){if(b&&b.toHTML)return b.toHTML();if(null==b)return"";if(!b)return b+"";b=""+b}return q.test(b)?
b.replace(m,c):b};h.isEmpty=function(b){return b||0===b?r(b)&&0===b.length?!0:!1:!0};h.blockParams=function(b,c){return b.path=c,b};h.appendContextPath=function(b,c){return(b?b+".":"")+c};var l={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","`":"\x26#x60;"},m=/[&<>"'`]/g,q=/[&<>"'`]/,n=Object.prototype.toString;h.toString=n;b=function(b){return"function"==typeof b};b(/x/)&&(h.isFunction=b=function(b){return"function"==typeof b&&"[object Function]"===n.call(b)});
h.isFunction=b;var r=Array.isArray||function(b){return b&&"object"==typeof b?"[object Array]"===n.call(b):!1};h.isArray=r},function(b,h,c){function l(b,k,c,h,l,n,m){function u(k,l){l=void 0===l?{}:l;return c.call(b,k,b.helpers,b.partials,l.data||h,n&&[l.blockParams].concat(n),m&&[k].concat(m))}return u.program=k,u.depth=m?m.length:0,u.blockParams=l||0,u}b=c(7)["default"];h.__esModule=!0;h.checkRevision=function(b){var k=b&&b[0]||1,c=n.COMPILER_REVISION;if(k!==c){if(c>k)throw new q["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+
n.REVISION_CHANGES[c]+") or downgrade your runtime to an older version ("+n.REVISION_CHANGES[k]+").");throw new q["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+b[1]+").");}};h.template=function(b,k){function c(k,l){l=void 0===l?{}:l;var m=l.data;c._setup(l);if(!l.partial&&b.useData)var u=m,m=(u&&"root"in u||(u=u?n.createFrame(u):{},u.root=k),u);var u=void 0,q=b.useBlockParams?[]:void 0;return b.useDepths&&
(u=l.depths?[k].concat(l.depths):[k]),b.main.call(h,k,h.helpers,h.partials,m,q,u)}if(!k)throw new q["default"]("No environment passed to template");if(!b||!b.main)throw new q["default"]("Unknown template object: "+typeof b);k.VM.checkRevision(b.compiler);var h={strict:function(b,k){if(!(k in b))throw new q["default"]('"'+k+'" not defined in '+b);return b[k]},lookup:function(b,k){for(var c=b.length,h=0;c>h;h++)if(b[h]&&null!=b[h][k])return b[h][k]},lambda:function(b,k){return"function"==typeof b?b.call(k):
b},escapeExpression:m.escapeExpression,invokePartial:function(c,h,l){l.hash&&(h=m.extend({},h,l.hash));c=k.VM.resolvePartial.call(this,c,h,l);var n=k.VM.invokePartial.call(this,c,h,l);if(null==n&&k.compile&&(l.partials[l.name]=k.compile(c,b.compilerOptions,k),n=l.partials[l.name](h,l)),null!=n){if(l.indent){c=n.split("\n");h=0;for(n=c.length;n>h&&(c[h]||h+1!==n);h++)c[h]=l.indent+c[h];n=c.join("\n")}return n}throw new q["default"]("The partial "+l.name+" could not be compiled when running in runtime-only mode");
},fn:function(k){return b[k]},programs:[],program:function(b,k,c,h,n){var p=this.programs[b],m=this.fn(b);return k||n||h||c?p=l(this,b,m,k,c,h,n):p||(p=this.programs[b]=l(this,b,m)),p},data:function(b,k){for(;b&&k--;)b=b._parent;return b},merge:function(b,k){var c=b||k;return b&&k&&b!==k&&(c=m.extend({},k,b)),c},noop:k.VM.noop,compilerInfo:b.compiler};return c.isTop=!0,c._setup=function(c){c.partial?(h.helpers=c.helpers,h.partials=c.partials):(h.helpers=h.merge(c.helpers,k.helpers),b.usePartial&&
(h.partials=h.merge(c.partials,k.partials)))},c._child=function(k,c,n,p){if(b.useBlockParams&&!n)throw new q["default"]("must pass block params");if(b.useDepths&&!p)throw new q["default"]("must pass parent depths");return l(h,k,b[k],c,0,n,p)},c};h.wrapProgram=l;h.resolvePartial=function(b,k,c){return b?b.call||c.name||(c.name=b,b=c.partials[b]):b=c.partials[c.name],b};h.invokePartial=function(b,k,c){if(c.partial=!0,void 0===b)throw new q["default"]("The partial "+c.name+" could not be found");return b instanceof
Function?b(k,c):void 0};h.noop=function(){return""};h=c(11);var m=b(h);h=c(10);var q=b(h),n=c(8)},function(b,h){h.__esModule=!0;var c=function(){function b(){this.yy={}}var c={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,content:12,COMMENT:13,CONTENT:14,openRawBlock:15,END_RAW_BLOCK:16,OPEN_RAW_BLOCK:17,helperName:18,openRawBlock_repetition0:19,openRawBlock_option0:20,CLOSE_RAW_BLOCK:21,openBlock:22,block_option0:23,
closeBlock:24,openInverse:25,block_option1:26,OPEN_BLOCK:27,openBlock_repetition0:28,openBlock_option0:29,openBlock_option1:30,CLOSE:31,OPEN_INVERSE:32,openInverse_repetition0:33,openInverse_option0:34,openInverse_option1:35,openInverseChain:36,OPEN_INVERSE_CHAIN:37,openInverseChain_repetition0:38,openInverseChain_option0:39,openInverseChain_option1:40,inverseAndProgram:41,INVERSE:42,inverseChain:43,inverseChain_option0:44,OPEN_ENDBLOCK:45,OPEN:46,mustache_repetition0:47,mustache_option0:48,OPEN_UNESCAPED:49,
mustache_repetition1:50,mustache_option1:51,CLOSE_UNESCAPED:52,OPEN_PARTIAL:53,partialName:54,partial_repetition0:55,partial_option0:56,param:57,sexpr:58,OPEN_SEXPR:59,sexpr_repetition0:60,sexpr_option0:61,CLOSE_SEXPR:62,hash:63,hash_repetition_plus0:64,hashSegment:65,ID:66,EQUALS:67,blockParams:68,OPEN_BLOCK_PARAMS:69,blockParams_repetition_plus0:70,CLOSE_BLOCK_PARAMS:71,path:72,dataName:73,STRING:74,NUMBER:75,BOOLEAN:76,UNDEFINED:77,NULL:78,DATA:79,pathSegments:80,SEP:81,$accept:0,$end:1},terminals_:{2:"error",
5:"EOF",13:"COMMENT",14:"CONTENT",16:"END_RAW_BLOCK",17:"OPEN_RAW_BLOCK",21:"CLOSE_RAW_BLOCK",27:"OPEN_BLOCK",31:"CLOSE",32:"OPEN_INVERSE",37:"OPEN_INVERSE_CHAIN",42:"INVERSE",45:"OPEN_ENDBLOCK",46:"OPEN",49:"OPEN_UNESCAPED",52:"CLOSE_UNESCAPED",53:"OPEN_PARTIAL",59:"OPEN_SEXPR",62:"CLOSE_SEXPR",66:"ID",67:"EQUALS",69:"OPEN_BLOCK_PARAMS",71:"CLOSE_BLOCK_PARAMS",74:"STRING",75:"NUMBER",76:"BOOLEAN",77:"UNDEFINED",78:"NULL",79:"DATA",81:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,
1],[7,1],[12,1],[10,3],[15,5],[9,4],[9,4],[22,6],[25,6],[36,6],[41,2],[43,3],[43,1],[24,3],[8,5],[8,5],[11,5],[57,1],[57,1],[58,5],[63,1],[65,3],[68,3],[18,1],[18,1],[18,1],[18,1],[18,1],[18,1],[18,1],[54,1],[54,1],[73,2],[72,1],[80,3],[80,1],[6,0],[6,2],[19,0],[19,2],[20,0],[20,1],[23,0],[23,1],[26,0],[26,1],[28,0],[28,2],[29,0],[29,1],[30,0],[30,1],[33,0],[33,2],[34,0],[34,1],[35,0],[35,1],[38,0],[38,2],[39,0],[39,1],[40,0],[40,1],[44,0],[44,1],[47,0],[47,2],[48,0],[48,1],[50,0],[50,2],[51,0],[51,
1],[55,0],[55,2],[56,0],[56,1],[60,0],[60,2],[61,0],[61,1],[64,1],[64,2],[70,1],[70,2]],performAction:function(b,c,k,h,l,m){b=m.length-1;switch(l){case 1:return m[b-1];case 2:this.$=new h.Program(m[b],null,{},h.locInfo(this._$));break;case 3:this.$=m[b];break;case 4:this.$=m[b];break;case 5:this.$=m[b];break;case 6:this.$=m[b];break;case 7:this.$=m[b];break;case 8:this.$=new h.CommentStatement(h.stripComment(m[b]),h.stripFlags(m[b],m[b]),h.locInfo(this._$));break;case 9:this.$=new h.ContentStatement(m[b],
h.locInfo(this._$));break;case 10:this.$=h.prepareRawBlock(m[b-2],m[b-1],m[b],this._$);break;case 11:this.$={path:m[b-3],params:m[b-2],hash:m[b-1]};break;case 12:this.$=h.prepareBlock(m[b-3],m[b-2],m[b-1],m[b],!1,this._$);break;case 13:this.$=h.prepareBlock(m[b-3],m[b-2],m[b-1],m[b],!0,this._$);break;case 14:this.$={path:m[b-4],params:m[b-3],hash:m[b-2],blockParams:m[b-1],strip:h.stripFlags(m[b-5],m[b])};break;case 15:this.$={path:m[b-4],params:m[b-3],hash:m[b-2],blockParams:m[b-1],strip:h.stripFlags(m[b-
5],m[b])};break;case 16:this.$={path:m[b-4],params:m[b-3],hash:m[b-2],blockParams:m[b-1],strip:h.stripFlags(m[b-5],m[b])};break;case 17:this.$={strip:h.stripFlags(m[b-1],m[b-1]),program:m[b]};break;case 18:l=h.prepareBlock(m[b-2],m[b-1],m[b],m[b],!1,this._$);h=new h.Program([l],null,{},h.locInfo(this._$));h.chained=!0;this.$={strip:m[b-2].strip,program:h,chain:!0};break;case 19:this.$=m[b];break;case 20:this.$={path:m[b-1],strip:h.stripFlags(m[b-2],m[b])};break;case 21:this.$=h.prepareMustache(m[b-
3],m[b-2],m[b-1],m[b-4],h.stripFlags(m[b-4],m[b]),this._$);break;case 22:this.$=h.prepareMustache(m[b-3],m[b-2],m[b-1],m[b-4],h.stripFlags(m[b-4],m[b]),this._$);break;case 23:this.$=new h.PartialStatement(m[b-3],m[b-2],m[b-1],h.stripFlags(m[b-4],m[b]),h.locInfo(this._$));break;case 24:this.$=m[b];break;case 25:this.$=m[b];break;case 26:this.$=new h.SubExpression(m[b-3],m[b-2],m[b-1],h.locInfo(this._$));break;case 27:this.$=new h.Hash(m[b],h.locInfo(this._$));break;case 28:this.$=new h.HashPair(h.id(m[b-
2]),m[b],h.locInfo(this._$));break;case 29:this.$=h.id(m[b-1]);break;case 30:this.$=m[b];break;case 31:this.$=m[b];break;case 32:this.$=new h.StringLiteral(m[b],h.locInfo(this._$));break;case 33:this.$=new h.NumberLiteral(m[b],h.locInfo(this._$));break;case 34:this.$=new h.BooleanLiteral(m[b],h.locInfo(this._$));break;case 35:this.$=new h.UndefinedLiteral(h.locInfo(this._$));break;case 36:this.$=new h.NullLiteral(h.locInfo(this._$));break;case 37:this.$=m[b];break;case 38:this.$=m[b];break;case 39:this.$=
h.preparePath(!0,m[b],this._$);break;case 40:this.$=h.preparePath(!1,m[b],this._$);break;case 41:m[b-2].push({part:h.id(m[b]),original:m[b],separator:m[b-1]});this.$=m[b-2];break;case 42:this.$=[{part:h.id(m[b]),original:m[b]}];break;case 43:this.$=[];break;case 44:m[b-1].push(m[b]);break;case 45:this.$=[];break;case 46:m[b-1].push(m[b]);break;case 53:this.$=[];break;case 54:m[b-1].push(m[b]);break;case 59:this.$=[];break;case 60:m[b-1].push(m[b]);break;case 65:this.$=[];break;case 66:m[b-1].push(m[b]);
break;case 73:this.$=[];break;case 74:m[b-1].push(m[b]);break;case 77:this.$=[];break;case 78:m[b-1].push(m[b]);break;case 81:this.$=[];break;case 82:m[b-1].push(m[b]);break;case 85:this.$=[];break;case 86:m[b-1].push(m[b]);break;case 89:this.$=[m[b]];break;case 90:m[b-1].push(m[b]);break;case 91:this.$=[m[b]];break;case 92:m[b-1].push(m[b])}},table:[{3:1,4:2,5:[2,43],6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],46:[2,43],49:[2,43],53:[2,43]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,
12:10,13:[1,11],14:[1,18],15:16,17:[1,21],22:14,25:15,27:[1,19],32:[1,20],37:[2,2],42:[2,2],45:[2,2],46:[1,12],49:[1,13],53:[1,17]},{1:[2,1]},{5:[2,44],13:[2,44],14:[2,44],17:[2,44],27:[2,44],32:[2,44],37:[2,44],42:[2,44],45:[2,44],46:[2,44],49:[2,44],53:[2,44]},{5:[2,3],13:[2,3],14:[2,3],17:[2,3],27:[2,3],32:[2,3],37:[2,3],42:[2,3],45:[2,3],46:[2,3],49:[2,3],53:[2,3]},{5:[2,4],13:[2,4],14:[2,4],17:[2,4],27:[2,4],32:[2,4],37:[2,4],42:[2,4],45:[2,4],46:[2,4],49:[2,4],53:[2,4]},{5:[2,5],13:[2,5],14:[2,
5],17:[2,5],27:[2,5],32:[2,5],37:[2,5],42:[2,5],45:[2,5],46:[2,5],49:[2,5],53:[2,5]},{5:[2,6],13:[2,6],14:[2,6],17:[2,6],27:[2,6],32:[2,6],37:[2,6],42:[2,6],45:[2,6],46:[2,6],49:[2,6],53:[2,6]},{5:[2,7],13:[2,7],14:[2,7],17:[2,7],27:[2,7],32:[2,7],37:[2,7],42:[2,7],45:[2,7],46:[2,7],49:[2,7],53:[2,7]},{5:[2,8],13:[2,8],14:[2,8],17:[2,8],27:[2,8],32:[2,8],37:[2,8],42:[2,8],45:[2,8],46:[2,8],49:[2,8],53:[2,8]},{18:22,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],
80:30},{18:33,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{4:34,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],37:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{4:35,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{12:36,14:[1,18]},{18:38,54:37,58:39,59:[1,40],66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,9],13:[2,9],14:[2,9],16:[2,
9],17:[2,9],27:[2,9],32:[2,9],37:[2,9],42:[2,9],45:[2,9],46:[2,9],49:[2,9],53:[2,9]},{18:41,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:42,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:43,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{31:[2,73],47:44,59:[2,73],66:[2,73],74:[2,73],75:[2,73],76:[2,73],77:[2,73],78:[2,73],79:[2,73]},{21:[2,30],31:[2,30],52:[2,30],
59:[2,30],62:[2,30],66:[2,30],69:[2,30],74:[2,30],75:[2,30],76:[2,30],77:[2,30],78:[2,30],79:[2,30]},{21:[2,31],31:[2,31],52:[2,31],59:[2,31],62:[2,31],66:[2,31],69:[2,31],74:[2,31],75:[2,31],76:[2,31],77:[2,31],78:[2,31],79:[2,31]},{21:[2,32],31:[2,32],52:[2,32],59:[2,32],62:[2,32],66:[2,32],69:[2,32],74:[2,32],75:[2,32],76:[2,32],77:[2,32],78:[2,32],79:[2,32]},{21:[2,33],31:[2,33],52:[2,33],59:[2,33],62:[2,33],66:[2,33],69:[2,33],74:[2,33],75:[2,33],76:[2,33],77:[2,33],78:[2,33],79:[2,33]},{21:[2,
34],31:[2,34],52:[2,34],59:[2,34],62:[2,34],66:[2,34],69:[2,34],74:[2,34],75:[2,34],76:[2,34],77:[2,34],78:[2,34],79:[2,34]},{21:[2,35],31:[2,35],52:[2,35],59:[2,35],62:[2,35],66:[2,35],69:[2,35],74:[2,35],75:[2,35],76:[2,35],77:[2,35],78:[2,35],79:[2,35]},{21:[2,36],31:[2,36],52:[2,36],59:[2,36],62:[2,36],66:[2,36],69:[2,36],74:[2,36],75:[2,36],76:[2,36],77:[2,36],78:[2,36],79:[2,36]},{21:[2,40],31:[2,40],52:[2,40],59:[2,40],62:[2,40],66:[2,40],69:[2,40],74:[2,40],75:[2,40],76:[2,40],77:[2,40],78:[2,
40],79:[2,40],81:[1,45]},{66:[1,32],80:46},{21:[2,42],31:[2,42],52:[2,42],59:[2,42],62:[2,42],66:[2,42],69:[2,42],74:[2,42],75:[2,42],76:[2,42],77:[2,42],78:[2,42],79:[2,42],81:[2,42]},{50:47,52:[2,77],59:[2,77],66:[2,77],74:[2,77],75:[2,77],76:[2,77],77:[2,77],78:[2,77],79:[2,77]},{23:48,36:50,37:[1,52],41:51,42:[1,53],43:49,45:[2,49]},{26:54,41:55,42:[1,53],45:[2,51]},{16:[1,56]},{31:[2,81],55:57,59:[2,81],66:[2,81],74:[2,81],75:[2,81],76:[2,81],77:[2,81],78:[2,81],79:[2,81]},{31:[2,37],59:[2,37],
66:[2,37],74:[2,37],75:[2,37],76:[2,37],77:[2,37],78:[2,37],79:[2,37]},{31:[2,38],59:[2,38],66:[2,38],74:[2,38],75:[2,38],76:[2,38],77:[2,38],78:[2,38],79:[2,38]},{18:58,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{28:59,31:[2,53],59:[2,53],66:[2,53],69:[2,53],74:[2,53],75:[2,53],76:[2,53],77:[2,53],78:[2,53],79:[2,53]},{31:[2,59],33:60,59:[2,59],66:[2,59],69:[2,59],74:[2,59],75:[2,59],76:[2,59],77:[2,59],78:[2,59],79:[2,59]},{19:61,21:[2,45],59:[2,45],
66:[2,45],74:[2,45],75:[2,45],76:[2,45],77:[2,45],78:[2,45],79:[2,45]},{18:65,31:[2,75],48:62,57:63,58:66,59:[1,40],63:64,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{66:[1,70]},{21:[2,39],31:[2,39],52:[2,39],59:[2,39],62:[2,39],66:[2,39],69:[2,39],74:[2,39],75:[2,39],76:[2,39],77:[2,39],78:[2,39],79:[2,39],81:[1,45]},{18:65,51:71,52:[2,79],57:72,58:66,59:[1,40],63:73,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],
78:[1,29],79:[1,31],80:30},{24:74,45:[1,75]},{45:[2,50]},{4:76,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],37:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{45:[2,19]},{18:77,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{4:78,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{24:79,45:[1,75]},{45:[2,52]},{5:[2,10],13:[2,10],14:[2,10],17:[2,10],27:[2,10],32:[2,10],37:[2,10],42:[2,10],45:[2,
10],46:[2,10],49:[2,10],53:[2,10]},{18:65,31:[2,83],56:80,57:81,58:66,59:[1,40],63:82,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{59:[2,85],60:83,62:[2,85],66:[2,85],74:[2,85],75:[2,85],76:[2,85],77:[2,85],78:[2,85],79:[2,85]},{18:65,29:84,31:[2,55],57:85,58:66,59:[1,40],63:86,64:67,65:68,66:[1,69],69:[2,55],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:65,31:[2,61],34:87,57:88,58:66,59:[1,40],63:89,64:67,
65:68,66:[1,69],69:[2,61],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:65,20:90,21:[2,47],57:91,58:66,59:[1,40],63:92,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{31:[1,93]},{31:[2,74],59:[2,74],66:[2,74],74:[2,74],75:[2,74],76:[2,74],77:[2,74],78:[2,74],79:[2,74]},{31:[2,76]},{21:[2,24],31:[2,24],52:[2,24],59:[2,24],62:[2,24],66:[2,24],69:[2,24],74:[2,24],75:[2,24],76:[2,24],77:[2,24],78:[2,24],79:[2,24]},
{21:[2,25],31:[2,25],52:[2,25],59:[2,25],62:[2,25],66:[2,25],69:[2,25],74:[2,25],75:[2,25],76:[2,25],77:[2,25],78:[2,25],79:[2,25]},{21:[2,27],31:[2,27],52:[2,27],62:[2,27],65:94,66:[1,95],69:[2,27]},{21:[2,89],31:[2,89],52:[2,89],62:[2,89],66:[2,89],69:[2,89]},{21:[2,42],31:[2,42],52:[2,42],59:[2,42],62:[2,42],66:[2,42],67:[1,96],69:[2,42],74:[2,42],75:[2,42],76:[2,42],77:[2,42],78:[2,42],79:[2,42],81:[2,42]},{21:[2,41],31:[2,41],52:[2,41],59:[2,41],62:[2,41],66:[2,41],69:[2,41],74:[2,41],75:[2,
41],76:[2,41],77:[2,41],78:[2,41],79:[2,41],81:[2,41]},{52:[1,97]},{52:[2,78],59:[2,78],66:[2,78],74:[2,78],75:[2,78],76:[2,78],77:[2,78],78:[2,78],79:[2,78]},{52:[2,80]},{5:[2,12],13:[2,12],14:[2,12],17:[2,12],27:[2,12],32:[2,12],37:[2,12],42:[2,12],45:[2,12],46:[2,12],49:[2,12],53:[2,12]},{18:98,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{36:50,37:[1,52],41:51,42:[1,53],43:100,44:99,45:[2,71]},{31:[2,65],38:101,59:[2,65],66:[2,65],69:[2,65],74:[2,65],
75:[2,65],76:[2,65],77:[2,65],78:[2,65],79:[2,65]},{45:[2,17]},{5:[2,13],13:[2,13],14:[2,13],17:[2,13],27:[2,13],32:[2,13],37:[2,13],42:[2,13],45:[2,13],46:[2,13],49:[2,13],53:[2,13]},{31:[1,102]},{31:[2,82],59:[2,82],66:[2,82],74:[2,82],75:[2,82],76:[2,82],77:[2,82],78:[2,82],79:[2,82]},{31:[2,84]},{18:65,57:104,58:66,59:[1,40],61:103,62:[2,87],63:105,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{30:106,31:[2,57],68:107,69:[1,108]},{31:[2,54],
59:[2,54],66:[2,54],69:[2,54],74:[2,54],75:[2,54],76:[2,54],77:[2,54],78:[2,54],79:[2,54]},{31:[2,56],69:[2,56]},{31:[2,63],35:109,68:110,69:[1,108]},{31:[2,60],59:[2,60],66:[2,60],69:[2,60],74:[2,60],75:[2,60],76:[2,60],77:[2,60],78:[2,60],79:[2,60]},{31:[2,62],69:[2,62]},{21:[1,111]},{21:[2,46],59:[2,46],66:[2,46],74:[2,46],75:[2,46],76:[2,46],77:[2,46],78:[2,46],79:[2,46]},{21:[2,48]},{5:[2,21],13:[2,21],14:[2,21],17:[2,21],27:[2,21],32:[2,21],37:[2,21],42:[2,21],45:[2,21],46:[2,21],49:[2,21],
53:[2,21]},{21:[2,90],31:[2,90],52:[2,90],62:[2,90],66:[2,90],69:[2,90]},{67:[1,96]},{18:65,57:112,58:66,59:[1,40],66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,22],13:[2,22],14:[2,22],17:[2,22],27:[2,22],32:[2,22],37:[2,22],42:[2,22],45:[2,22],46:[2,22],49:[2,22],53:[2,22]},{31:[1,113]},{45:[2,18]},{45:[2,72]},{18:65,31:[2,67],39:114,57:115,58:66,59:[1,40],63:116,64:67,65:68,66:[1,69],69:[2,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,
29],79:[1,31],80:30},{5:[2,23],13:[2,23],14:[2,23],17:[2,23],27:[2,23],32:[2,23],37:[2,23],42:[2,23],45:[2,23],46:[2,23],49:[2,23],53:[2,23]},{62:[1,117]},{59:[2,86],62:[2,86],66:[2,86],74:[2,86],75:[2,86],76:[2,86],77:[2,86],78:[2,86],79:[2,86]},{62:[2,88]},{31:[1,118]},{31:[2,58]},{66:[1,120],70:119},{31:[1,121]},{31:[2,64]},{14:[2,11]},{21:[2,28],31:[2,28],52:[2,28],62:[2,28],66:[2,28],69:[2,28]},{5:[2,20],13:[2,20],14:[2,20],17:[2,20],27:[2,20],32:[2,20],37:[2,20],42:[2,20],45:[2,20],46:[2,20],
49:[2,20],53:[2,20]},{31:[2,69],40:122,68:123,69:[1,108]},{31:[2,66],59:[2,66],66:[2,66],69:[2,66],74:[2,66],75:[2,66],76:[2,66],77:[2,66],78:[2,66],79:[2,66]},{31:[2,68],69:[2,68]},{21:[2,26],31:[2,26],52:[2,26],59:[2,26],62:[2,26],66:[2,26],69:[2,26],74:[2,26],75:[2,26],76:[2,26],77:[2,26],78:[2,26],79:[2,26]},{13:[2,14],14:[2,14],17:[2,14],27:[2,14],32:[2,14],37:[2,14],42:[2,14],45:[2,14],46:[2,14],49:[2,14],53:[2,14]},{66:[1,125],71:[1,124]},{66:[2,91],71:[2,91]},{13:[2,15],14:[2,15],17:[2,15],
27:[2,15],32:[2,15],42:[2,15],45:[2,15],46:[2,15],49:[2,15],53:[2,15]},{31:[1,126]},{31:[2,70]},{31:[2,29]},{66:[2,92],71:[2,92]},{13:[2,16],14:[2,16],17:[2,16],27:[2,16],32:[2,16],37:[2,16],42:[2,16],45:[2,16],46:[2,16],49:[2,16],53:[2,16]}],defaultActions:{4:[2,1],49:[2,50],51:[2,19],55:[2,52],64:[2,76],73:[2,80],78:[2,17],82:[2,84],92:[2,48],99:[2,18],100:[2,72],105:[2,88],107:[2,58],110:[2,64],111:[2,11],123:[2,70],124:[2,29]},parseError:function(b){throw Error(b);},parse:function(b){var c=[0],
k=[null],h=[],l=this.table,m="",q=0,A=0,u=0;this.lexer.setInput(b);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});b=this.lexer.yylloc;h.push(b);var C=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var B,y,E,F,D,G,I,K,H={};;){E=c[c.length-1];if(this.defaultActions[E])F=this.defaultActions[E];else{if(null===B||"undefined"==typeof B)F=void 0,
B=(F=this.lexer.lex()||1,"number"!=typeof F&&(F=this.symbols_[F]||F),F);F=l[E]&&l[E][B]}if("undefined"==typeof F||!F.length||!F[0]){var P;if(!u){K=[];for(G in l[E])this.terminals_[G]&&2<G&&K.push("'"+this.terminals_[G]+"'");P=this.lexer.showPosition?"Parse error on line "+(q+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+K.join(", ")+", got '"+(this.terminals_[B]||B)+"'":"Parse error on line "+(q+1)+": Unexpected "+(1==B?"end of input":"'"+(this.terminals_[B]||B)+"'");this.parseError(P,{text:this.lexer.match,
token:this.terminals_[B]||B,line:this.lexer.yylineno,loc:b,expected:K})}}if(F[0]instanceof Array&&1<F.length)throw Error("Parse Error: multiple actions possible at state: "+E+", token: "+B);switch(F[0]){case 1:c.push(B);k.push(this.lexer.yytext);h.push(this.lexer.yylloc);c.push(F[1]);B=null;y?(B=y,y=null):(A=this.lexer.yyleng,m=this.lexer.yytext,q=this.lexer.yylineno,b=this.lexer.yylloc,0<u&&u--);break;case 2:if(I=this.productions_[F[1]][1],H.$=k[k.length-I],H._$={first_line:h[h.length-(I||1)].first_line,
last_line:h[h.length-1].last_line,first_column:h[h.length-(I||1)].first_column,last_column:h[h.length-1].last_column},C&&(H._$.range=[h[h.length-(I||1)].range[0],h[h.length-1].range[1]]),D=this.performAction.call(H,m,A,q,this.yy,F[1],k,h),"undefined"!=typeof D)return D;I&&(c=c.slice(0,-2*I),k=k.slice(0,-1*I),h=h.slice(0,-1*I));c.push(this.productions_[F[1]][0]);k.push(H.$);h.push(H._$);E=l[c[c.length-2]][c[c.length-1]];c.push(E);break;case 3:return!0}}}},h=function(){var b={EOF:1,parseError:function(b,
k){if(!this.yy.parser)throw Error(b);this.yy.parser.parseError(b,k)},setInput:function(b){return this._input=b,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var b=this._input[0];this.yytext+=b;this.yyleng++;this.offset++;this.match+=b;this.matched+=b;return b.match(/(?:\r\n?|\n).*/g)?
(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),b},unput:function(b){var k=b.length,c=b.split(/(?:\r\n?|\n)/g);this._input=b+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-k-1);this.offset-=k;b=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var h=this.yylloc.range;
return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===b.length?this.yylloc.first_column:0)+b[b.length-c.length].length-c[0].length:this.yylloc.first_column-k},this.options.ranges&&(this.yylloc.range=[h[0],h[0]+this.yyleng-k]),this},more:function(){return this._more=!0,this},less:function(b){this.unput(this.match.slice(b))},pastInput:function(){var b=this.matched.substr(0,this.matched.length-this.match.length);
return(20<b.length?"...":"")+b.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var b=this.match;return 20>b.length&&(b+=this._input.substr(0,20-b.length)),(b.substr(0,20)+(20<b.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var b=this.pastInput(),k=Array(b.length+1).join("-");return b+this.upcomingInput()+"\n"+k+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var b,k,c,h,l;this._more||(this.yytext="",this.match="");for(var n=this._currentRules(),
m=0;m<n.length&&(c=this._input.match(this.rules[n[m]]),!c||k&&!(c[0].length>k[0].length)||(k=c,h=m,this.options.flex));m++);return k?(l=k[0].match(/(?:\r\n?|\n).*/g),l&&(this.yylineno+=l.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:l?l[l.length-1].length-l[l.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+k[0].length},this.yytext+=k[0],this.match+=k[0],this.matches=k,this.yyleng=this.yytext.length,this.options.ranges&&
(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(k[0].length),this.matched+=k[0],b=this.performAction.call(this,this.yy,this,n[h],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),b?b:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var b=this.next();return"undefined"!=
typeof b?b:this.lex()},begin:function(b){this.conditionStack.push(b)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(b){this.begin(b)}};return b.options={},b.performAction=function(b,k,c,h){function l(b,c){return k.yytext=k.yytext.substr(b,k.yyleng-c)}switch(c){case 0:if("\\\\"===k.yytext.slice(-2)?
(l(0,1),this.begin("mu")):"\\"===k.yytext.slice(-1)?(l(0,1),this.begin("emu")):this.begin("mu"),k.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return k.yytext=k.yytext.substr(5,k.yyleng-9),this.popState(),16;case 4:return 14;case 5:return this.popState(),13;case 6:return 59;case 7:return 62;case 8:return 17;case 9:return this.popState(),this.begin("raw"),21;case 10:return 53;case 11:return 27;case 12:return 45;case 13:return this.popState(),42;case 14:return this.popState(),
42;case 15:return 32;case 16:return 37;case 17:return 49;case 18:return 46;case 19:this.unput(k.yytext);this.popState();this.begin("com");break;case 20:return this.popState(),13;case 21:return 46;case 22:return 67;case 23:return 66;case 24:return 66;case 25:return 81;case 27:return this.popState(),52;case 28:return this.popState(),31;case 29:return k.yytext=l(1,2).replace(/\\"/g,'"'),74;case 30:return k.yytext=l(1,2).replace(/\\'/g,"'"),74;case 31:return 79;case 32:return 76;case 33:return 76;case 34:return 77;
case 35:return 78;case 36:return 75;case 37:return 69;case 38:return 71;case 39:return 66;case 40:return 66;case 41:return"INVALID";case 42:return 5}},b.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{\/)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,
/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,
/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],b.conditions={mu:{rules:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[5],inclusive:!1},raw:{rules:[3,4],inclusive:!1},INITIAL:{rules:[0,1,42],inclusive:!0}},b}();return c.lexer=h,b.prototype=c,c.Parser=b,new b}();h["default"]=c;b.exports=h["default"]},function(b,h,c){function l(){}
function m(b,k,c){void 0===k&&(k=b.length);var h=b[k-1];b=b[k-2];return h?"ContentStatement"===h.type?(b||!c?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(h.original):void 0:c}function q(b,k,c){void 0===k&&(k=-1);var h=b[k+1];b=b[k+2];return h?"ContentStatement"===h.type?(b||!c?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(h.original):void 0:c}function n(b,k,c){!(b=b[null==k?0:k+1])||"ContentStatement"!==b.type||!c&&b.rightStripped||(k=b.value,b.value=b.value.replace(c?/^\s+/:/^[ \t]*\r?\n?/,""),b.rightStripped=b.value!==
k)}function r(b,k,c){if((b=b[null==k?b.length-1:k-1])&&"ContentStatement"===b.type&&(c||!b.leftStripped))return k=b.value,b.value=b.value.replace(c?/\s+$/:/[ \t]+$/,""),b.leftStripped=b.value!==k,b.leftStripped}var k=c(7)["default"];h.__esModule=!0;c=c(6);k=k(c);l.prototype=new k["default"];l.prototype.Program=function(b){var k=!this.isRootSeen;this.isRootSeen=!0;for(var c=b.body,h=0,l=c.length;l>h;h++){var u=c[h],C=this.accept(u);if(C){var B=m(c,h,k),y=q(c,h,k),E=C.openStandalone&&B,F=C.closeStandalone&&
y,B=C.inlineStandalone&&B&&y;C.close&&n(c,h,!0);C.open&&r(c,h,!0);B&&(n(c,h),r(c,h)&&"PartialStatement"===u.type&&(u.indent=/([ \t]+$)/.exec(c[h-1].original)[1]));E&&(n((u.program||u.inverse).body),r(c,h));F&&(n(c,h),r((u.inverse||u.program).body))}}return b};l.prototype.BlockStatement=function(b){this.accept(b.program);this.accept(b.inverse);var k=b.program||b.inverse,c=b.program&&b.inverse,h=c,l=c;if(c&&c.chained)for(h=c.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var u={open:b.openStrip.open,
close:b.closeStrip.close,openStandalone:q(k.body),closeStandalone:m((h||k).body)};(b.openStrip.close&&n(k.body,null,!0),c)?(c=b.inverseStrip,c.open&&r(k.body,null,!0),c.close&&n(h.body,null,!0),b.closeStrip.open&&r(l.body,null,!0),m(k.body)&&q(h.body)&&(r(k.body),n(h.body))):b.closeStrip.open&&r(k.body,null,!0);return u};l.prototype.MustacheStatement=function(b){return b.strip};l.prototype.PartialStatement=l.prototype.CommentStatement=function(b){b=b.strip||{};return{inlineStandalone:!0,open:b.open,
close:b.close}};h["default"]=l;b.exports=h["default"]},function(b,h,c){b=c(7)["default"];h.__esModule=!0;h.SourceLocation=function(b,c){this.source=b;this.start={line:c.first_line,column:c.first_column};this.end={line:c.last_line,column:c.last_column}};h.id=function(b){return/^\[.*\]$/.test(b)?b.substr(1,b.length-2):b};h.stripFlags=function(b,c){return{open:"~"===b.charAt(2),close:"~"===c.charAt(c.length-3)}};h.stripComment=function(b){return b.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")};
h.preparePath=function(b,c,h){h=this.locInfo(h);for(var r=b?"@":"",k=[],p=0,v=0,z=c.length;z>v;v++){var x=c[v].part,A=c[v].original!==x;if(r+=(c[v].separator||"")+x,A||".."!==x&&"."!==x&&"this"!==x)k.push(x);else{if(0<k.length)throw new l["default"]("Invalid path: "+r,{loc:h});".."===x&&p++}}return new this.PathExpression(b,p,k,r,h)};h.prepareMustache=function(b,c,h,l,k,p){l=l.charAt(3)||l.charAt(2);return new this.MustacheStatement(b,c,h,"{"!==l&&"\x26"!==l,k,this.locInfo(p))};h.prepareRawBlock=
function(b,c,h,r){if(b.path.original!==h)throw new l["default"](b.path.original+" doesn't match "+h,{loc:b.path.loc});r=this.locInfo(r);c=new this.Program([c],null,{},r);return new this.BlockStatement(b.path,b.params,b.hash,c,void 0,{},{},{},r)};h.prepareBlock=function(b,c,h,r,k,p){if(r&&r.path&&b.path.original!==r.path.original)throw new l["default"](b.path.original+" doesn't match "+r.path.original,{loc:b.path.loc});c.blockParams=b.blockParams;var v=void 0,z=void 0;return h&&(h.chain&&(h.program.body[0].closeStrip=
r.strip),z=h.strip,v=h.program),k&&(k=v,v=c,c=k),new this.BlockStatement(b.path,b.params,b.hash,c,v,b.strip,z,r&&r.strip,this.locInfo(p))};h=c(10);var l=b(h)},function(b,h,c){function l(b,k,c){if(q.isArray(b)){for(var h=[],l=0,n=b.length;n>l;l++)h.push(k.wrap(b[l],c));return h}return"boolean"==typeof b||"number"==typeof b?b+"":b}function m(b){this.srcFile=b;this.source=[]}h.__esModule=!0;var q=c(11),n=void 0,n=function(b,k,c,h){this.src="";h&&this.add(h)};n.prototype={add:function(b){q.isArray(b)&&
(b=b.join(""));this.src+=b},prepend:function(b){q.isArray(b)&&(b=b.join(""));this.src=b+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}};m.prototype={prepend:function(b,k){this.source.unshift(this.wrap(b,k))},push:function(b,k){this.source.push(this.wrap(b,k))},merge:function(){var b=this.empty();return this.each(function(k){b.add(["  ",k,"\n"])}),b},each:function(b){for(var k=0,c=this.source.length;c>k;k++)b(this.source[k])},empty:function(b){b=
void 0===b?this.currentLocation||{start:{}}:b;return new n(b.start.line,b.start.column,this.srcFile)},wrap:function(b,k){k=void 0===k?this.currentLocation||{start:{}}:k;return b instanceof n?b:(b=l(b,this,k),new n(k.start.line,k.start.column,this.srcFile,b))},functionCall:function(b,k,c){return c=this.generateList(c),this.wrap([b,k?"."+k+"(":"(",c,")"])},quotedString:function(b){return'"'+(b+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,
"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(b){var k=[],c;for(c in b)if(b.hasOwnProperty(c)){var h=l(b[c],this);"undefined"!==h&&k.push([this.quotedString(c),":",h])}b=this.generateList(k);return b.prepend("{"),b.add("}"),b},generateList:function(b,k){for(var c=this.empty(k),h=0,n=b.length;n>h;h++)h&&c.add(","),c.add(l(b[h],this,k));return c},generateArray:function(b,k){b=this.generateList(b,k);return b.prepend("["),b.add("]"),b}};h["default"]=m;b.exports=h["default"]}])});
(function(b){b.fn.extend({isInViewport:function(h){var c=b(this),l=c.offset();h||(h=0);var m=b(window),q=m.scrollTop();if(l.top-h<q){if(!(l.top+c.height()+h>=q))return!1}else if(!(l.top-h<=q+m.height()))return!1;q=m.scrollLeft();if(l.left-h<q){if(!(l.left+c.width()+h>=q))return!1}else if(!(l.left-h<=q+m.width()))return!1;return!0},disable:function(h){var c=b(this);c.prop("disabled",!0);c.addClass("disabled-element");h&&c.find("*").prop("disabled",!0);return c},enable:function(h){var c=b(this);c.prop("disabled",
!1);c.removeClass("disabled-element");h&&c.find("*").prop("disabled",!1);return c},isDisabled:function(){var h=b(this);return h.hasClass("disabled-element")||h.prop("disabled")||h.hasClass("submit-disabled")},checked:function(h){var c=b(this);if("boolean"==b.type(h))c.prop("checked",h);else return c.prop("checked")},value:function(h){var c=b(this);return void 0!==h&&null!==h?c.val(h):c.val()},style:b.fn.css,data:function(h,c,l){var m,q;void 0===c?(m=this.data_super.apply(this,arguments),q=this.attr("data-"+
h),void 0!==q&&q!=""+m&&(q="true"===q?!0:"false"===q?!1:"null"===q?null:+q+""===q?+q:q,this.data_super.call(this,h,q),m=q)):(q=this.data_super.call(this,h),m=this.data_super.apply(this,arguments),void 0!==this.attr("data-"+h)&&"function"!=b.type(c)&&"object"!=b.type(c)&&"array"!=b.type(c)&&this.attr("data-"+h,c),l||this.trigger("changeData",{property:h,oldValue:q,newValue:c}));return m},data_super:b.fn.data,centerInWindow:function(){this.css("position","absolute");this.css("top",Math.max(0,(b(window).height()-
b(this).outerHeight())/2+b(window).scrollTop())+"px");this.css("left",Math.max(0,(b(window).width()-b(this).outerWidth())/2+b(window).scrollLeft())+"px");return this},centerInParent:function(){var h=this[0].parentNode;this.css("position","absolute");this.css("top",Math.max(0,(b(h).height()-b(this).outerHeight())/2+b(h).scrollTop())+"px");this.css("left",Math.max(0,(b(h).width()-b(this).outerWidth())/2+b(h).scrollLeft())+"px");return this},isDisplayed:function(){return"none"!=b(this).css("display")}})})(jQuery);
(function(b){var h={base:Handlebars.compile('\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg" class\x3d"svgMask" width\x3d"{{width}}" height\x3d"{{height}}" viewBox\x3d"0 0 {{width}} {{height}}" style\x3d"top: {{top}}px; left: {{left}}px;"\x3e\x3cdefs\x3e\x3cclipPath id\x3d"{{maskID}}"\x3e{{{shape}}}\x3c/clipPath\x3e\x3c/defs\x3e\x3cdesc\x3e{{altText}}\x3c/desc\x3e\x3cimage {{#if options.preserveAspectRatio}}preserveAspectRatio\x3d"{{options.preserveAspectRatio}}"{{/if}} clip-path\x3d"url(#{{maskID}})" width\x3d"{{width}}" height\x3d"{{height}}" xmlns:xlink\x3d"http://www.w3.org/1999/xlink" xlink:href\x3d"{{src}}"\x3e\x3c/image\x3e\x3c/svg\x3e'),
shapes:{circle:Handlebars.compile('\x3ccircle cx\x3d"{{x}}" cy\x3d"{{y}}" r\x3d"{{radius}}"\x3e\x3c/circle\x3e'),star:function(b){return c(b)}}};b.fn.maskImage=function(c){var m=DKI.applyIf(c,{preserveAspectRatio:!1});b.each(this,function(){var c=b(this),l=c.data("mask");if(l&&""!=l.type){var r=c.position(),k={src:c.data("src"),width:c.width(),height:c.height(),top:r.top,left:r.left,altText:c.attr("alt")?c.attr("alt"):c.attr("title")?c.attr("title"):"",maskID:c.attr("id")+"_mask",options:m};if("star"==
l.type||"sun"==l.type){var p=(k.width<k.height?k.width/2:k.height/2)*l.scale,v=p;"middle"==l.alignment.horizontal?v=k.width/2:"right"==l.alignment.horizontal&&(v=k.width-p);var z=p;"middle"==l.alignment.vertical?z=k.height/2:"bottom"==l.alignment.vertical&&(z=k.height-p);l=h.shapes.star({x:v,y:z,outerRadius:p,innerRadius:"star"==l.type?.45*p:.9*p,points:"star"==l.type?5:15,centrepoint:v>z?v+p/2:z+p/2})}else v=p=(k.width<k.height?k.width/2:k.height/2)*l.scale,"middle"==l.alignment.horizontal?v=k.width/
2:"right"==l.alignment.horizontal&&(v=k.width-p),z=p,"middle"==l.alignment.vertical?z=k.height/2:"bottom"==l.alignment.vertical&&(z=k.height-p),l=h.shapes[l.type](DKI.applyIf({x:v,y:z,radius:p},k,!0));k.shape=l;l=b(h.base(k));c.parent().find(".svgMask").remove();c.addClass("masked").after(l);l.attr("style",c.attr("style"));delete c;r;k;l}});return this};b.fn.removeMask=function(){this.parent().find(".svgMask").remove();this.parent().find(".masked").removeClass("masked");return this};var c=function(b){var c=
function(b,k,c,h){b=(b+"").replace(/[^0-9+\-Ee.]/g,"");b=isFinite(+b)?+b:0;k=isFinite(+k)?Math.abs(k):0;h="undefined"===typeof h?",":h;c="undefined"===typeof c?".":c;var l="",l=function(b,k){k=Math.pow(10,k);return""+Math.round(b*k)/k},l=(k?l(b,k):""+Math.round(b)).split(".");3<l[0].length&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,h));(l[1]||"").length<k&&(l[1]=l[1]||"",l[1]+=Array(k-l[1].length+1).join("0"));return l.join(c)},h=b.centrepoint,n=b.outerRadius,r=b.innerRadius,k=b.points,p=b.x;b=
b.y;var v='\x3cpath d\x3d"',z=Math.PI/k,x=0,A=0,u=0,C="",B=0;for(i=0;i<=2*Math.PI;i+=z)0===A?(u=r,A=1):(u=n,A=0),B=i,C=0==x?"M":"L",xsvg=c(u*Math.sin(i)+h,3,".",""),ysvg=c(u*Math.cos(B)+h,3,".",""),xresult=c(u*Math.sin(i)+parseFloat(p),3,".",""),yresult=c(u*Math.cos(B)+parseFloat(b),3,".",""),v+=C+" "+xresult+" "+yresult,x++;0===k%2&&(v+="z");return v+'"/\x3e'}})(jQuery);
(function(b){b.fn.fontFlex=function(h,c,l){var m=this;b(window).resize(function(){var b=window.innerWidth/l;b<parseInt(h,10)&&(b=parseInt(h,10));b>parseInt(c,10)&&(b=parseInt(c,10));m.css("font-size",b+"px")}).trigger("resize")}})(jQuery);
!function(b){function h(c,h,q,n){var r=c.text();h=r.split(h);var k="";h.length&&(b(h).each(function(b,c){k+='\x3cspan class\x3d"'+q+(b+1)+'" aria-hidden\x3d"true"\x3e'+c+"\x3c/span\x3e"+n}),c.attr("aria-label",r).empty().append(k))}var c={init:function(){return this.each(function(){h(b(this),"","char","")})},words:function(){return this.each(function(){h(b(this)," ","word"," ")})},lines:function(){return this.each(function(){h(b(this).find("br").replaceWith("eefec303079ad17405c889e092e105b0").end(),
"eefec303079ad17405c889e092e105b0","line","\x3cbr /\x3e")})}};b.fn.lettering=function(h){return h&&c[h]?c[h].apply(this,[].slice.call(arguments,1)):"letters"!==h&&h?(b.error("Method "+h+" does not exist on jQuery.lettering"),this):c.init.apply(this,[].slice.call(arguments,0))}}(jQuery);
(function(b){function h(k,c){return/In/.test(k)||0<=b.inArray(k,c.inEffects)}function c(k,c){return/Out/.test(k)||0<=b.inArray(k,c.outEffects)}function l(b){return"true"!==b&&"false"!==b?b:"true"===b}function m(k){k=k.attributes||[];var c={};if(!k.length)return c;b.each(k,function(b,k){b=k.nodeName.replace(/delayscale/,"delayScale");/^data-in-*/.test(b)?(c.in=c.in||{},c.in[b.replace(/data-in-/,"")]=l(k.nodeValue)):/^data-out-*/.test(b)?(c.out=c.out||{},c.out[b.replace(/data-out-/,"")]=l(k.nodeValue)):
/^data-*/.test(b)&&(c[b.replace(/data-/,"")]=l(k.nodeValue))});return c}function q(b){for(var k,c,h=b.length;h;k=parseInt(Math.random()*h),c=b[--h],b[h]=b[k],b[k]=c);return b}function n(b,k,c){b.addClass("animated "+k).css("visibility","visible").show();b.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){b.removeClass("animated "+k);c&&c()})}function r(k,l,m){var x=k.length;x?(l.shuffle&&(k=q(k)),l.reverse&&(k=k.toArray().reverse()),b.each(k,function(k,
p){function q(){h(l.effect,l)?r.css("visibility","visible"):c(l.effect,l)&&r.css("visibility","hidden");--x;!x&&m&&m()}var r=b(p);k=l.sync?l.delay:l.delay*k*l.delayScale;r.text()?setTimeout(function(){n(r,l.effect,q)},k):q()})):m&&m()}var k=function(k,l){var n=this,q=b(k);n.init=function(){n.$texts=q.find(l.selector);n.$texts.length||(n.$texts=b('\x3cul class\x3d"texts"\x3e\x3cli\x3e'+q.html()+"\x3c/li\x3e\x3c/ul\x3e"),q.html(n.$texts));n.$texts.hide();n.$current=b("\x3cspan\x3e").html(n.$texts.find(":first-child").html()).prependTo(q);
h(l.in.effect,l)?n.$current.css("visibility","hidden"):c(l.out.effect,l)&&n.$current.css("visibility","visible");n.setOptions(l);n.timeoutRun=null;setTimeout(function(){n.options.autoStart&&n.start()},n.options.initialDelay)};n.setOptions=function(b){n.options=b};n.triggerEvent=function(k){k=b.Event(k+".tlt");q.trigger(k,n);return k};n.in=function(k,l){k=k||0;var p=n.$texts.find(":nth-child("+((k||0)+1)+")"),v=b.extend(!0,{},n.options,p.length?m(p[0]):{});p.addClass("current");n.triggerEvent("inAnimationBegin");
n.$current.html(p.html()).lettering("lines");n.$current.find("span").each(function(){b(this).lettering("words")});"char"==n.options.type&&n.$current.find('[class^\x3d"word"]').css({display:"inline-block","-webkit-transform":"translate3d(0,0,0)","-moz-transform":"translate3d(0,0,0)","-o-transform":"translate3d(0,0,0)",transform:"translate3d(0,0,0)"}).each(function(){b(this).lettering()});p=n.$current.find('[class^\x3d"'+n.options.type+'"]').css("display","inline-block");h(v.in.effect,v)?p.css("visibility",
"hidden"):c(v.in.effect,v)&&p.css("visibility","visible");n.currentIndex=k;r(p,v.in,function(){n.triggerEvent("inAnimationEnd");v.in.callback&&v.in.callback();l&&l(n)})};n.out=function(k){var c=n.$texts.find(":nth-child("+((n.currentIndex||0)+1)+")"),h=n.$current.find('[class^\x3d"'+n.options.type+'"]'),l=b.extend(!0,{},n.options,c.length?m(c[0]):{});n.triggerEvent("outAnimationBegin");r(h,l.out,function(){c.removeClass("current");n.triggerEvent("outAnimationEnd");l.out.callback&&l.out.callback();
k&&k(n)})};n.start=function(b){setTimeout(function(){n.triggerEvent("start");(function C(b){n.in(b,function(){var k=n.$texts.children().length;b+=1;!n.options.loop&&b>=k?(n.options.callback&&n.options.callback(),n.triggerEvent("end")):(b%=k,n.timeoutRun=setTimeout(function(){n.out(function(){C(b)})},n.options.minDisplayTime))})})(b||0)},n.options.initialDelay)};n.stop=function(){n.timeoutRun&&(clearInterval(n.timeoutRun),n.timeoutRun=null)};n.init()};b.fn.textillate=function(c,h){return this.each(function(){var l=
b(this),n=l.data("textillate"),q=b.extend(!0,{},b.fn.textillate.defaults,m(this),"object"==typeof c&&c);n?"string"==typeof c?n[c].apply(n,[].concat(h)):n.setOptions.call(n,q):l.data("textillate",new k(this,q))})};b.fn.textillate.defaults={selector:".texts",loop:!1,minDisplayTime:2E3,initialDelay:0,in:{effect:"fadeInLeftBig",delayScale:1.5,delay:50,sync:!1,reverse:!1,shuffle:!1,callback:function(){}},out:{effect:"hinge",delayScale:1.5,delay:50,sync:!1,reverse:!1,shuffle:!1,callback:function(){}},autoStart:!0,
inEffects:[],outEffects:["hinge"],callback:function(){},type:"char"}})(jQuery);
!function(b){function h(b){var k=b.length,h=c.type(b);return"function"!==h&&!c.isWindow(b)&&(!(1!==b.nodeType||!k)||"array"===h||0===k||"number"==typeof k&&0<k&&k-1 in b)}if(!b.jQuery){var c=function(b,k){return new c.fn.init(b,k)};c.isWindow=function(b){return b&&b===b.window};c.type=function(b){return b?"object"==typeof b||"function"==typeof b?m[n.call(b)]||"object":typeof b:b+""};c.isArray=Array.isArray||function(b){return"array"===c.type(b)};c.isPlainObject=function(b){var k;if(!b||"object"!==
c.type(b)||b.nodeType||c.isWindow(b))return!1;try{if(b.constructor&&!q.call(b,"constructor")&&!q.call(b.constructor.prototype,"isPrototypeOf"))return!1}catch(h){return!1}for(k in b);return void 0===k||q.call(b,k)};c.each=function(b,k,c){var l,n=0,u=b.length,m=h(b);if(c)if(m)for(;n<u&&(l=k.apply(b[n],c),!1!==l);n++);else for(n in b){if(l=k.apply(b[n],c),!1===l)break}else if(m)for(;n<u&&(l=k.call(b[n],n,b[n]),!1!==l);n++);else for(n in b)if(l=k.call(b[n],n,b[n]),!1===l)break;return b};c.data=function(b,
k,h){if(void 0===h){h=(h=b[c.expando])&&l[h];if(void 0===k)return h;if(h&&k in h)return h[k]}else if(void 0!==k)return b=b[c.expando]||(b[c.expando]=++c.uuid),l[b]=l[b]||{},l[b][k]=h,h};c.removeData=function(b,k){var h=(b=b[c.expando])&&l[b];h&&(k?c.each(k,function(b,k){delete h[k]}):delete l[b])};c.extend=function(){var b,k,h,l,n,u,m=arguments[0]||{},q=1,r=arguments.length,E=!1;"boolean"==typeof m&&(E=m,m=arguments[q]||{},q++);"object"!=typeof m&&"function"!==c.type(m)&&(m={});for(q===r&&(m=this,
q--);q<r;q++)if(n=arguments[q])for(l in n)b=m[l],h=n[l],m!==h&&(E&&h&&(c.isPlainObject(h)||(k=c.isArray(h)))?(k?(k=!1,u=b&&c.isArray(b)?b:[]):u=b&&c.isPlainObject(b)?b:{},m[l]=c.extend(E,u,h)):void 0!==h&&(m[l]=h));return m};c.queue=function(b,k,l){function n(b,k){k=k||[];if(b)if(h(Object(b))){b="string"==typeof b?[b]:b;for(var c=+b.length,l=0,m=k.length;l<c;)k[m++]=b[l++];if(c!==c)for(;void 0!==b[l];)k[m++]=b[l++];b=(k.length=m,k);!b}else[].push.call(k,b);return k}if(b){k=(k||"fx")+"queue";var m=
c.data(b,k);return l?(!m||c.isArray(l)?m=c.data(b,k,n(l)):m.push(l),m):m||[]}};c.dequeue=function(b,k){c.each(b.nodeType?[b]:b,function(b,h){k=k||"fx";b=c.queue(h,k);var l=b.shift();"inprogress"===l&&(l=b.shift());l&&("fx"===k&&b.unshift("inprogress"),l.call(h,function(){c.dequeue(h,k)}))})};c.fn=c.prototype={init:function(b){if(b.nodeType)return this[0]=b,this;throw Error("Not a DOM node.");},offset:function(){var k=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:k.top+
(b.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:k.left+(b.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){var b=this[0],k;for(k=b.offsetParent||document;k&&"html"!==k.nodeType.toLowerCase&&"static"===k.style.position;)k=k.offsetParent;k=k||document;var h=this.offset(),l=/^(?:body|html)$/i.test(k.nodeName)?{top:0,left:0}:c(k).offset();return h.top-=parseFloat(b.style.marginTop)||0,h.left-=parseFloat(b.style.marginLeft)||0,k.style&&(l.top+=parseFloat(k.style.borderTopWidth)||
0,l.left+=parseFloat(k.style.borderLeftWidth)||0),{top:h.top-l.top,left:h.left-l.left}}};var l={};c.expando="velocity"+(new Date).getTime();c.uuid=0;for(var m={},q=m.hasOwnProperty,n=m.toString,r="Boolean Number String Function Array Date RegExp Object Error".split(" "),k=0;k<r.length;k++)m["[object "+r[k]+"]"]=r[k].toLowerCase();c.fn.init.prototype=c.fn;b.Velocity={Utilities:c}}}(window);
(function(b){"object"==typeof module&&"object"==typeof module.exports?module.exports=b():"function"==typeof define&&define.amd?define(b):b()})(function(){return function(b,h,c,l){function m(b){for(var k=-1,c=b?b.length:0,h=[];++k<c;){var l=b[k];l&&h.push(l)}return h}function q(b){return C.isWrapped(b)?b=[].slice.call(b):C.isNode(b)&&(b=[b]),b}function n(b){b=x.data(b,"velocity");return null===b?l:b}function r(b){return function(k){return 1/b*Math.round(k*b)}}function k(b,k,c,l){function n(b,k,c){return(((1-
3*c+3*k)*b+(3*c-6*k))*b+3*k)*b}var m="Float32Array"in h;if(4!==arguments.length)return!1;for(var u=0;4>u;++u)if("number"!=typeof arguments[u]||isNaN(arguments[u])||!isFinite(arguments[u]))return!1;b=Math.min(b,1);c=Math.min(c,1);b=Math.max(b,0);c=Math.max(c,0);var p=m?new Float32Array(11):Array(11),v=!1,m=function(h){if(!v&&(v=!0,b!==k||c!==l))for(var m=0;11>m;++m)p[m]=n(.1*m,b,c);if(b!==k||c!==l)if(0===h)h=0;else if(1===h)h=1;else{for(var u=0,m=1;10!==m&&p[m]<=h;++m)u+=.1;--m;var m=u+(h-p[m])/(p[m+
1]-p[m])*.1,q=3*(1-3*c+3*b)*m*m+2*(3*c-6*b)*m+3*b;if(.001<=q){for(u=0;4>u;++u){q=3*(1-3*c+3*b)*m*m+2*(3*c-6*b)*m+3*b;if(0===q)break;var x=n(m,b,c)-h,m=m-x/q}h=m}else if(0===q)h=m;else{var m=u,u=u+.1,r=0;do x=m+(u-m)/2,q=n(x,b,c)-h,0<q?u=x:m=x;while(1E-7<Math.abs(q)&&10>++r);h=x}h=n(h,k,l)}return h};m.getControlPoints=function(){return[{x:b,y:k},{x:c,y:l}]};var q="generateBezier("+[b,k,c,l]+")";return m.toString=function(){return q},m}function p(b,c){var h=b;return C.isString(b)?E.Easings[b]||(h=!1):
h=C.isArray(b)&&1===b.length?r.apply(null,b):C.isArray(b)&&2===b.length?F.apply(null,b.concat([c])):!(!C.isArray(b)||4!==b.length)&&k.apply(null,b),!1===h&&(h=E.Easings[E.defaults.easing]?E.defaults.easing:y),h}function v(b){if(b){b=(new Date).getTime();var k=E.State.calls.length;1E4<k&&(E.State.calls=m(E.State.calls),k=E.State.calls.length);for(var c=0;c<k;c++)if(E.State.calls[c]){var h=E.State.calls[c],u=h[0],p=h[2],q=h[3],r=!!q,y=null;q||(q=E.State.calls[c][3]=b-16);for(var A=Math.min((b-q)/p.duration,
1),B=0,G=u.length;B<G;B++){var F=u[B],ea=F.element;if(n(ea)){var ha=!1;p.display!==l&&null!==p.display&&"none"!==p.display&&("flex"===p.display&&x.each(["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],function(b,k){D.setPropertyValue(ea,"display",k)}),D.setPropertyValue(ea,"display",p.display));p.visibility!==l&&"hidden"!==p.visibility&&D.setPropertyValue(ea,"visibility",p.visibility);for(var X in F)if("element"!==X){var ca,S=F[X],ka=C.isString(S.easing)?E.Easings[S.easing]:S.easing;if(1===
A)ca=S.endValue;else{var la=S.endValue-S.startValue;if(ca=S.startValue+la*ka(A,p,la),!r&&ca===S.currentValue)continue}if(S.currentValue=ca,"tween"===X)y=ca;else{var ia;D.Hooks.registered[X]&&(ia=D.Hooks.getRoot(X),(ka=n(ea).rootPropertyValueCache[ia])&&(S.rootPropertyValue=ka));S=D.setPropertyValue(ea,X,S.currentValue+(0===parseFloat(ca)?"":S.unitType),S.rootPropertyValue,S.scrollData);D.Hooks.registered[X]&&(D.Normalizations.registered[ia]?n(ea).rootPropertyValueCache[ia]=D.Normalizations.registered[ia]("extract",
null,S[1]):n(ea).rootPropertyValueCache[ia]=S[1]);"transform"===S[0]&&(ha=!0)}}p.mobileHA&&n(ea).transformCache.translate3d===l&&(n(ea).transformCache.translate3d="(0px, 0px, 0px)",ha=!0);ha&&D.flushTransformCache(ea)}}p.display!==l&&"none"!==p.display&&(E.State.calls[c][2].display=!1);p.visibility!==l&&"hidden"!==p.visibility&&(E.State.calls[c][2].visibility=!1);p.progress&&p.progress.call(h[1],h[1],A,Math.max(0,q+p.duration-b),q,y);1===A&&z(c)}}E.State.isTicking&&I(v)}function z(b,k){if(!E.State.calls[b])return!1;
for(var c=E.State.calls[b][0],h=E.State.calls[b][1],m=E.State.calls[b][2],u=E.State.calls[b][4],p=!1,v=0,q=c.length;v<q;v++){var r=c[v].element;k||m.loop||("none"===m.display&&D.setPropertyValue(r,"display",m.display),"hidden"===m.visibility&&D.setPropertyValue(r,"visibility",m.visibility));var z=n(r);if(!0!==m.loop&&(x.queue(r)[1]===l||!/\.velocityQueueEntryFlag/i.test(x.queue(r)[1]))&&z){z.isAnimating=!1;z.rootPropertyValueCache={};var y=!1;x.each(D.Lists.transforms3D,function(b,k){b=/^scale/.test(k)?
1:0;var c=z.transformCache[k];z.transformCache[k]!==l&&(new RegExp("^\\("+b+"[^.]")).test(c)&&(y=!0,delete z.transformCache[k])});m.mobileHA&&(y=!0,delete z.transformCache.translate3d);y&&D.flushTransformCache(r);D.Values.removeClass(r,"velocity-animating")}if(!k&&m.complete&&!m.loop&&v===q-1)try{m.complete.call(h,h)}catch(C){setTimeout(function(){throw C;},1)}u&&!0!==m.loop&&u(h);z&&!0===m.loop&&!k&&(x.each(z.tweensContainer,function(b,k){if(/^rotate/.test(b)&&0===(parseFloat(k.startValue)-parseFloat(k.endValue))%
360){var c=k.startValue;k.startValue=k.endValue;k.endValue=c}/^backgroundPosition/.test(b)&&100===parseFloat(k.endValue)&&"%"===k.unitType&&(k.endValue=0,k.startValue=100)}),E(r,"reverse",{loop:!0,delay:m.delay}));!1!==m.queue&&x.dequeue(r,m.queue)}E.State.calls[b]=!1;b=0;for(k=E.State.calls.length;b<k;b++)if(!1!==E.State.calls[b]){p=!0;break}!1===p&&(E.State.isTicking=!1,delete E.State.calls,E.State.calls=[])}var x,A=function(){if(c.documentMode)return c.documentMode;for(var b=7;4<b;b--){var k=c.createElement("div");
if(k.innerHTML="\x3c!--[if IE "+b+"]\x3e\x3cspan\x3e\x3c/span\x3e\x3c![endif]--\x3e",k.getElementsByTagName("span").length)return b}return l}(),u=function(){var b=0;return h.webkitRequestAnimationFrame||h.mozRequestAnimationFrame||function(k){var c,h=(new Date).getTime();return c=Math.max(0,16-(h-b)),b=h+c,setTimeout(function(){k(h+c)},c)}}(),C={isString:function(b){return"string"==typeof b},isArray:Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)},isFunction:function(b){return"[object Function]"===
Object.prototype.toString.call(b)},isNode:function(b){return b&&b.nodeType},isNodeList:function(b){return"object"==typeof b&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(b))&&b.length!==l&&(0===b.length||"object"==typeof b[0]&&0<b[0].nodeType)},isWrapped:function(b){return b&&(b.jquery||h.Zepto&&h.Zepto.zepto.isZ(b))},isSVG:function(b){return h.SVGElement&&b instanceof h.SVGElement},isEmptyObject:function(b){for(var k in b)return!1;return!0}},B=!1;if(b.fn&&b.fn.jquery?
(x=b,B=!0):x=h.Velocity.Utilities,8>=A&&!B)throw Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=A)return void(jQuery.fn.velocity=jQuery.fn.animate);var y="swing",E={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:h.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:c.createElement("div"),
prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:x,Redirects:{},Easings:{},Promise:h.Promise,defaults:{queue:"",duration:400,easing:y,begin:l,complete:l,progress:l,display:l,visibility:l,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(b){x.data(b,"velocity",{isSVG:C.isSVG(b),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:3,
patch:0},debug:!1};h.pageYOffset!==l?(E.State.scrollAnchor=h,E.State.scrollPropertyLeft="pageXOffset",E.State.scrollPropertyTop="pageYOffset"):(E.State.scrollAnchor=c.documentElement||c.body.parentNode||c.body,E.State.scrollPropertyLeft="scrollLeft",E.State.scrollPropertyTop="scrollTop");var F=function(){function b(k,c,h){var l=k.v+h.dv*c;return{dx:l,dv:-k.tension*(k.x+h.dx*c)-k.friction*l}}function k(c,h){var l={dx:c.v,dv:-c.tension*c.x-c.friction*c.v},n=b(c,.5*h,l),m=b(c,.5*h,n),u=b(c,h,m),p=1/
6*(l.dv+2*(n.dv+m.dv)+u.dv);return c.x+=1/6*(l.dx+2*(n.dx+m.dx)+u.dx)*h,c.v+=p*h,c}return function O(b,c,h){var l,n,m,u={x:-1,v:0,tension:null,friction:null},p=[0],v=0;b=parseFloat(b)||500;c=parseFloat(c)||20;h=h||null;u.tension=b;u.friction=c;for((l=null!==h)?(v=O(b,c),n=v/h*.016):n=.016;m=k(m||u,n),p.push(1+m.x),v+=16,1E-4<Math.abs(m.x)&&1E-4<Math.abs(m.v););return l?function(b){return p[b*(p.length-1)|0]}:v}}();E.Easings={linear:function(b){return b},swing:function(b){return.5-Math.cos(b*Math.PI)/
2},spring:function(b){return 1-Math.cos(4.5*b*Math.PI)*Math.exp(6*-b)}};x.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],
["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(b,c){E.Easings[c[0]]=k.apply(null,c[1])});var D=E.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,
valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:"fill stroke stopColor color backgroundColor borderColor borderTopColor borderRightColor borderBottomColor borderLeftColor outlineColor".split(" "),transformsBase:"translateX translateY scale scaleX scaleY skewX skewY rotateZ".split(" "),transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur",
"black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var b=0;b<D.Lists.colors.length;b++)D.Hooks.templates[D.Lists.colors[b]]=["Red Green Blue Alpha","color"===D.Lists.colors[b]?"0 0 0 1":"255 255 255 1"];var k,c;if(A)for(k in D.Hooks.templates)c=D.Hooks.templates[k],b=c[0].split(" "),
c=c[1].match(D.RegEx.valueSplit),"Color"===b[0]&&(b.push(b.shift()),c.push(c.shift()),D.Hooks.templates[k]=[b.join(" "),c.join(" ")]);for(k in D.Hooks.templates){c=D.Hooks.templates[k];var b=c[0].split(" "),h;for(h in b)D.Hooks.registered[k+b[h]]=[k,h]}},getRoot:function(b){var k=D.Hooks.registered[b];return k?k[0]:b},cleanRootPropertyValue:function(b,k){return D.RegEx.valueUnwrap.test(k)&&(k=k.match(D.RegEx.valueUnwrap)[1]),D.Values.isCSSNullValue(k)&&(k=D.Hooks.templates[b][1]),k},extractValue:function(b,
k){if(b=D.Hooks.registered[b]){var c=b[1];return k=D.Hooks.cleanRootPropertyValue(b[0],k),k.toString().match(D.RegEx.valueSplit)[c]}return k},injectValue:function(b,k,c){if(b=D.Hooks.registered[b]){var h,l=b[1];return c=D.Hooks.cleanRootPropertyValue(b[0],c),h=c.toString().match(D.RegEx.valueSplit),h[l]=k,h.join(" ")}return c}},Normalizations:{registered:{clip:function(b,k,c){switch(b){case "name":return"clip";case "extract":var h;return D.RegEx.wrappedValueAlreadyExtracted.test(c)?h=c:(h=c.toString().match(D.RegEx.valueUnwrap),
h=h?h[1].replace(/,(\s+)?/g," "):c),h;case "inject":return"rect("+c+")"}},blur:function(b,k,c){switch(b){case "name":return E.State.isFirefox?"filter":"-webkit-filter";case "extract":return b=parseFloat(c),b||0===b||(b=(c=c.toString().match(/blur\(([0-9]+[A-z]+)\)/i))?c[1]:0),b;case "inject":return parseFloat(c)?"blur("+c+")":"none"}},opacity:function(b,k,c){if(8>=A)switch(b){case "name":return"filter";case "extract":return(b=c.toString().match(/alpha\(opacity=(.*)\)/i))?b[1]/100:1;case "inject":return k.style.zoom=
1,1<=parseFloat(c)?"":"alpha(opacity\x3d"+parseInt(100*parseFloat(c),10)+")"}else switch(b){case "name":return"opacity";case "extract":return c;case "inject":return c}}},register:function(){A&&!(9<A)||E.State.isGingerbread||(D.Lists.transformsBase=D.Lists.transformsBase.concat(D.Lists.transforms3D));for(var b=0;b<D.Lists.transformsBase.length;b++)!function(){var k=D.Lists.transformsBase[b];D.Normalizations.registered[k]=function(b,c,h){switch(b){case "name":return"transform";case "extract":return n(c)===
l||n(c).transformCache[k]===l?/^scale/i.test(k)?1:0:n(c).transformCache[k].replace(/[()]/g,"");case "inject":b=!1;switch(k.substr(0,k.length-1)){case "translate":b=!/(%|px|em|rem|vw|vh|\d)$/i.test(h);break;case "scal":case "scale":E.State.isAndroid&&n(c).transformCache[k]===l&&1>h&&(h=1);b=!/(\d)$/i.test(h);break;case "skew":b=!/(deg|\d)$/i.test(h);break;case "rotate":b=!/(deg|\d)$/i.test(h)}return b||(n(c).transformCache[k]="("+h+")"),n(c).transformCache[k]}}}();for(var k=0;k<D.Lists.colors.length;k++)!function(){var b=
D.Lists.colors[k];D.Normalizations.registered[b]=function(k,c,h){switch(k){case "name":return b;case "extract":if(!D.RegEx.wrappedValueAlreadyExtracted.test(h)){var n;k={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(h)?n=k[h]!==l?k[h]:k.black:D.RegEx.isHex.test(h)?n="rgb("+D.Values.hexToRgb(h).join(" ")+")":/^rgba?\(/i.test(h)||(n=k.black);h=(n||h).toString().match(D.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g,
" ")}return(!A||8<A)&&3===h.split(" ").length&&(h+=" 1"),h;case "inject":return 8>=A?4===h.split(" ").length&&(h=h.split(/\s+/).slice(0,3).join(" ")):3===h.split(" ").length&&(h+=" 1"),(8>=A?"rgb":"rgba")+"("+h.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(b){return b.replace(/-(\w)/g,function(b,k){return k.toUpperCase()})},SVGAttribute:function(b){var k="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(A||E.State.isAndroid&&!E.State.isChrome)&&(k+="|transform"),
(new RegExp("^("+k+")$","i")).test(b)},prefixCheck:function(b){if(E.State.prefixMatches[b])return[E.State.prefixMatches[b],!0];for(var k=["","Webkit","Moz","ms","O"],c=0,h=k.length;c<h;c++){var l;if(l=0===c?b:k[c]+b.replace(/^\w/,function(b){return b.toUpperCase()}),C.isString(E.State.prefixElement.style[l]))return E.State.prefixMatches[b]=l,[l,!0]}return[b,!1]}},Values:{hexToRgb:function(b){var k;return b=b.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(b,k,c,h){return k+k+c+c+h+h}),k=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(b),
k?[parseInt(k[1],16),parseInt(k[2],16),parseInt(k[3],16)]:[0,0,0]},isCSSNullValue:function(b){return!b||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(b)},getUnitType:function(b){return/^(rotate|skew)/i.test(b)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(b)?"":"px"},getDisplayType:function(b){b=b&&b.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(b)?
"inline":/^(li)$/i.test(b)?"list-item":/^(tr)$/i.test(b)?"table-row":/^(table)$/i.test(b)?"table":/^(tbody)$/i.test(b)?"table-row-group":"block"},addClass:function(b,k){b.classList?b.classList.add(k):b.className+=(b.className.length?" ":"")+k},removeClass:function(b,k){b.classList?b.classList.remove(k):b.className=b.className.toString().replace(new RegExp("(^|\\s)"+k.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(b,k,c,m){function u(b,k){var c=0;if(8>=A)c=x.css(b,k);else{var p=
!1;/^(width|height)$/.test(k)&&0===D.getPropertyValue(b,"display")&&(p=!0,D.setPropertyValue(b,"display",D.Values.getDisplayType(b)));var v=function(){p&&D.setPropertyValue(b,"display","none")};if(!m){if("height"===k&&"border-box"!==D.getPropertyValue(b,"boxSizing").toString().toLowerCase())return k=b.offsetHeight-(parseFloat(D.getPropertyValue(b,"borderTopWidth"))||0)-(parseFloat(D.getPropertyValue(b,"borderBottomWidth"))||0)-(parseFloat(D.getPropertyValue(b,"paddingTop"))||0)-(parseFloat(D.getPropertyValue(b,
"paddingBottom"))||0),v(),k;if("width"===k&&"border-box"!==D.getPropertyValue(b,"boxSizing").toString().toLowerCase())return k=b.offsetWidth-(parseFloat(D.getPropertyValue(b,"borderLeftWidth"))||0)-(parseFloat(D.getPropertyValue(b,"borderRightWidth"))||0)-(parseFloat(D.getPropertyValue(b,"paddingLeft"))||0)-(parseFloat(D.getPropertyValue(b,"paddingRight"))||0),v(),k}c=n(b)===l?h.getComputedStyle(b,null):n(b).computedStyle?n(b).computedStyle:n(b).computedStyle=h.getComputedStyle(b,null);"borderColor"===
k&&(k="borderTopColor");c=9===A&&"filter"===k?c.getPropertyValue(k):c[k];""!==c&&null!==c||(c=b.style[k]);v()}"auto"===c&&/^(top|right|bottom|left)$/i.test(k)&&(v=u(b,"position"),("fixed"===v||"absolute"===v&&/top|left/i.test(k))&&(c=x(b).position()[k]+"px"));return c}var p;if(D.Hooks.registered[k])p=D.Hooks.getRoot(k),c===l&&(c=D.getPropertyValue(b,D.Names.prefixCheck(p)[0])),D.Normalizations.registered[p]&&(c=D.Normalizations.registered[p]("extract",b,c)),p=D.Hooks.extractValue(k,c);else if(D.Normalizations.registered[k]){var v;
c=D.Normalizations.registered[k]("name",b);"transform"!==c&&(v=u(b,D.Names.prefixCheck(c)[0]),D.Values.isCSSNullValue(v)&&D.Hooks.templates[k]&&(v=D.Hooks.templates[k][1]));p=D.Normalizations.registered[k]("extract",b,v)}if(!/^[\d-]/.test(p))if((c=n(b))&&c.isSVG&&D.Names.SVGAttribute(k))if(/^(height|width)$/i.test(k))try{p=b.getBBox()[k]}catch(q){p=0}else p=b.getAttribute(k);else p=u(b,D.Names.prefixCheck(k)[0]);return D.Values.isCSSNullValue(p)&&(p=0),p},setPropertyValue:function(b,k,c,l,m){var u=
k;if("scroll"===k)m.container?m.container["scroll"+m.direction]=c:"Left"===m.direction?h.scrollTo(c,m.alternateValue):h.scrollTo(m.alternateValue,c);else if(D.Normalizations.registered[k]&&"transform"===D.Normalizations.registered[k]("name",b))D.Normalizations.registered[k]("inject",b,c),u="transform",c=n(b).transformCache[k];else if(D.Hooks.registered[k]&&(u=k,k=D.Hooks.getRoot(k),l=l||D.getPropertyValue(b,k),c=D.Hooks.injectValue(u,c,l)),D.Normalizations.registered[k]&&(c=D.Normalizations.registered[k]("inject",
b,c),k=D.Normalizations.registered[k]("name",b)),u=D.Names.prefixCheck(k)[0],8>=A)try{b.style[u]=c}catch(p){}else(l=n(b))&&l.isSVG&&D.Names.SVGAttribute(k)?b.setAttribute(k,c):b.style[u]=c;return[u,c]},flushTransformCache:function(b){var k="",c=n(b);if((A||E.State.isAndroid&&!E.State.isChrome)&&c&&c.isSVG){var c=function(k){return parseFloat(D.getPropertyValue(b,k))},h={translate:[c("translateX"),c("translateY")],skewX:[c("skewX")],skewY:[c("skewY")],scale:1!==c("scale")?[c("scale"),c("scale")]:[c("scaleX"),
c("scaleY")],rotate:[c("rotateZ"),0,0]};x.each(n(b).transformCache,function(b){/^translate/i.test(b)?b="translate":/^scale/i.test(b)?b="scale":/^rotate/i.test(b)&&(b="rotate");h[b]&&(k+=b+"("+h[b].join(" ")+") ",delete h[b])})}else{var l,m;x.each(n(b).transformCache,function(c){return l=n(b).transformCache[c],"transformPerspective"===c?(m=l,!0):(9===A&&"rotateZ"===c&&(c="rotate"),void(k+=c+l+" "))});m&&(k="perspective"+m+" "+k)}D.setPropertyValue(b,"transform",k)}};D.Hooks.register();D.Normalizations.register();
E.hook=function(b,k,c){var h;return b=q(b),x.each(b,function(b,m){(n(m)===l&&E.init(m),c===l)?h===l&&(h=E.CSS.getPropertyValue(m,k)):(b=E.CSS.setPropertyValue(m,k,c),"transform"===b[0]&&E.CSS.flushTransformCache(m),h=b)}),h};var G=function(){function b(){return u?M.promise||null:r}function k(b,m){function u(k){var y,G;if(r.begin&&0===T)try{r.begin.call(A,A)}catch(I){setTimeout(function(){throw I;},1)}if("scroll"===ea){var w,K,H;G=/^x$/i.test(r.axis)?"Left":"Top";var Y=parseFloat(r.offset)||0;r.container?
C.isWrapped(r.container)||C.isNode(r.container)?(r.container=r.container[0]||r.container,w=r.container["scroll"+G],H=w+x(b).position()[G.toLowerCase()]+Y):r.container=null:(w=E.State.scrollAnchor[E.State["scrollProperty"+G]],K=E.State.scrollAnchor[E.State["scrollProperty"+("Left"===G?"Top":"Left")]],H=x(b).offset()[G.toLowerCase()]+Y);z={scroll:{rootPropertyValue:!1,startValue:w,currentValue:w,endValue:H,unitType:"",easing:r.easing,scrollData:{container:r.container,direction:G,alternateValue:K}},
element:b}}else if("reverse"===ea){if(y=n(b),!y)return;if(!y.tweensContainer)return void x.dequeue(b,r.queue);"none"===y.opts.display&&(y.opts.display="auto");"hidden"===y.opts.visibility&&(y.opts.visibility="visible");y.opts.loop=!1;y.opts.begin=null;y.opts.complete=null;F.easing||delete r.easing;F.duration||delete r.duration;r=x.extend({},y.opts,r);G=x.extend(!0,{},y?y.tweensContainer:null);for(var V in G)"element"!==V&&(Y=G[V].startValue,G[V].startValue=G[V].currentValue=G[V].endValue,G[V].endValue=
Y,C.isEmptyObject(F)||(G[V].easing=r.easing));z=G}else if("start"===ea){(y=n(b))&&y.tweensContainer&&!0===y.isAnimating&&(G=y.tweensContainer);var P=function(k,c){var h,n,u;return C.isArray(k)?(h=k[0],!C.isArray(k[1])&&/^[\d-]/.test(k[1])||C.isFunction(k[1])||D.RegEx.isHex.test(k[1])?u=k[1]:(C.isString(k[1])&&!D.RegEx.isHex.test(k[1])||C.isArray(k[1]))&&(n=c?k[1]:p(k[1],r.duration),k[2]!==l&&(u=k[2]))):h=k,c||(n=n||r.easing),C.isFunction(h)&&(h=h.call(b,m,N)),C.isFunction(u)&&(u=u.call(b,m,N)),[h||
0,n,u]};x.each(B,function(b,k){if(RegExp("^"+D.Lists.colors.join("$|^")+"$").test(D.Names.camelCase(b))){var c=P(k,!0),h=c[0];k=c[1];var n=c[2];if(D.RegEx.isHex.test(h)){for(var c=["Red","Green","Blue"],h=D.Values.hexToRgb(h),n=n?D.Values.hexToRgb(n):l,m=0;m<c.length;m++){var u=[h[m]];k&&u.push(k);n!==l&&u.push(n[m]);B[D.Names.camelCase(b)+c[m]]=u}delete B[b]}}});for(Y in B)if(H=P(B[Y]),w=H[0],K=H[1],H=H[2],Y=D.Names.camelCase(Y),k=D.Hooks.getRoot(Y),V=!1,y&&y.isSVG||"tween"===k||!1!==D.Names.prefixCheck(k)[1]||
D.Normalizations.registered[k]!==l){(r.display!==l&&null!==r.display&&"none"!==r.display||r.visibility!==l&&"hidden"!==r.visibility)&&/opacity|filter/.test(Y)&&!H&&0!==w&&(H=0);r._cacheValues&&G&&G[Y]?(H===l&&(H=G[Y].endValue+G[Y].unitType),V=y.rootPropertyValueCache[k]):D.Hooks.registered[Y]?H===l?(V=D.getPropertyValue(b,k),H=D.getPropertyValue(b,Y,V)):V=D.Hooks.templates[k][1]:H===l&&(H=D.getPropertyValue(b,Y));var O,J=!1,R=function(b,k){var c,h;return h=(k||"0").toString().toLowerCase().replace(/[%A-z]+$/,
function(b){return c=b,""}),c||(c=D.Values.getUnitType(b)),[h,c]};O=R(Y,H);H=O[0];k=O[1];O=R(Y,w);w=O[0].replace(/^([+-\/*])=/,function(b,k){return J=k,""});O=O[1];H=parseFloat(H)||0;w=parseFloat(w)||0;"%"===O&&(/^(fontSize|lineHeight)$/.test(Y)?(w/=100,O="em"):/^scale/.test(Y)?(w/=100,O=""):/(Red|Green|Blue)$/i.test(Y)&&(w=w/100*255,O=""));R=function(){var k=b.parentNode||c.body,l=D.getPropertyValue(b,"position"),n=D.getPropertyValue(b,"fontSize"),m=l===S.lastPosition&&k===S.lastParent,u=n===S.lastFontSize;
S.lastParent=k;S.lastPosition=l;S.lastFontSize=n;var p={};if(u&&m)p.emToPx=S.lastEmToPx,p.percentToPxWidth=S.lastPercentToPxWidth,p.percentToPxHeight=S.lastPercentToPxHeight;else{var v=y&&y.isSVG?c.createElementNS("http://www.w3.org/2000/svg","rect"):c.createElement("div");E.init(v);k.appendChild(v);x.each(["overflow","overflowX","overflowY"],function(b,k){E.CSS.setPropertyValue(v,k,"hidden")});E.CSS.setPropertyValue(v,"position",l);E.CSS.setPropertyValue(v,"fontSize",n);E.CSS.setPropertyValue(v,
"boxSizing","content-box");x.each("minWidth maxWidth width minHeight maxHeight height".split(" "),function(b,k){E.CSS.setPropertyValue(v,k,"100%")});E.CSS.setPropertyValue(v,"paddingLeft","100em");p.percentToPxWidth=S.lastPercentToPxWidth=(parseFloat(D.getPropertyValue(v,"width",null,!0))||1)/100;p.percentToPxHeight=S.lastPercentToPxHeight=(parseFloat(D.getPropertyValue(v,"height",null,!0))||1)/100;p.emToPx=S.lastEmToPx=(parseFloat(D.getPropertyValue(v,"paddingLeft"))||1)/100;k.removeChild(v)}return null===
S.remToPx&&(S.remToPx=parseFloat(D.getPropertyValue(c.body,"fontSize"))||16),null===S.vwToPx&&(S.vwToPx=parseFloat(h.innerWidth)/100,S.vhToPx=parseFloat(h.innerHeight)/100),p.remToPx=S.remToPx,p.vwToPx=S.vwToPx,p.vhToPx=S.vhToPx,p};if(/[\/*]/.test(J))O=k;else if(k!==O&&0!==H)if(0===w)O=k;else{q=q||R();R=/margin|padding|left|right|width|text|word|letter/i.test(Y)||/X$/.test(Y)||"x"===Y?"x":"y";switch(k){case "%":H*="x"===R?q.percentToPxWidth:q.percentToPxHeight;break;case "px":break;default:H*=q[k+
"ToPx"]}switch(O){case "%":H*=1/("x"===R?q.percentToPxWidth:q.percentToPxHeight);break;case "px":break;default:H*=1/q[O+"ToPx"]}}switch(J){case "+":w=H+w;break;case "-":w=H-w;break;case "*":w*=H;break;case "/":w=H/w}z[Y]={rootPropertyValue:V,startValue:H,currentValue:H,endValue:w,unitType:O,easing:K}}z.element=b}z.element&&(D.Values.addClass(b,"velocity-animating"),ka.push(z),y=n(b),y&&(""===r.queue&&(y.tweensContainer=z,y.opts=r),y.isAnimating=!0),T===N-1?(E.State.calls.push([ka,A,r,null,M.resolver]),
!1===E.State.isTicking&&(E.State.isTicking=!0,v())):T++)}var q,r=x.extend({},E.defaults,F),z={};switch(n(b)===l&&E.init(b),parseFloat(r.delay)&&!1!==r.queue&&x.queue(b,r.queue,function(k){E.velocityQueueEntryFlag=!0;n(b).delayTimer={setTimeout:setTimeout(k,parseFloat(r.delay)),next:k}}),r.duration.toString().toLowerCase()){case "fast":r.duration=200;break;case "normal":r.duration=400;break;case "slow":r.duration=600;break;default:r.duration=parseFloat(r.duration)||1}!1!==E.mock&&(!0===E.mock?r.duration=
r.delay=1:(r.duration*=parseFloat(E.mock)||1,r.delay*=parseFloat(E.mock)||1));r.easing=p(r.easing,r.duration);r.begin&&!C.isFunction(r.begin)&&(r.begin=null);r.progress&&!C.isFunction(r.progress)&&(r.progress=null);r.complete&&!C.isFunction(r.complete)&&(r.complete=null);r.display!==l&&null!==r.display&&(r.display=r.display.toString().toLowerCase(),"auto"===r.display&&(r.display=E.CSS.Values.getDisplayType(b)));r.visibility!==l&&null!==r.visibility&&(r.visibility=r.visibility.toString().toLowerCase());
r.mobileHA=r.mobileHA&&E.State.isMobile&&!E.State.isGingerbread;!1===r.queue?r.delay?setTimeout(u,r.delay):u():x.queue(b,r.queue,function(b,k){return!0===k?(M.promise&&M.resolver(A),!0):(E.velocityQueueEntryFlag=!0,void u(b))});""!==r.queue&&"fx"!==r.queue||"inprogress"===x.queue(b)[0]||x.dequeue(b)}var m,u,r,y,A,B,F,I=arguments[0]&&(arguments[0].p||x.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||C.isString(arguments[0].properties));if(C.isWrapped(this)?(u=!1,y=0,A=this,
r=this):(u=!0,y=1,A=I?arguments[0].elements||arguments[0].e:arguments[0]),A=q(A)){I?(B=arguments[0].properties||arguments[0].p,F=arguments[0].options||arguments[0].o):(B=arguments[y],F=arguments[y+1]);var N=A.length,T=0;if(!/^(stop|finish|finishAll)$/i.test(B)&&!x.isPlainObject(F))for(F={},y+=1;y<arguments.length;y++)C.isArray(arguments[y])||!/^(fast|normal|slow)$/i.test(arguments[y])&&!/^\d/.test(arguments[y])?C.isString(arguments[y])||C.isArray(arguments[y])?F.easing=arguments[y]:C.isFunction(arguments[y])&&
(F.complete=arguments[y]):F.duration=arguments[y];var M={promise:null,resolver:null,rejecter:null};u&&E.Promise&&(M.promise=new E.Promise(function(b,k){M.resolver=b;M.rejecter=k}));var ea;switch(B){case "scroll":ea="scroll";break;case "reverse":ea="reverse";break;case "finish":case "finishAll":case "stop":x.each(A,function(b,k){n(k)&&n(k).delayTimer&&(clearTimeout(n(k).delayTimer.setTimeout),n(k).delayTimer.next&&n(k).delayTimer.next(),delete n(k).delayTimer);"finishAll"!==B||!0!==F&&!C.isString(F)||
(x.each(x.queue(k,C.isString(F)?F:""),function(b,k){C.isFunction(k)&&k()}),x.queue(k,C.isString(F)?F:"",[]))});var ha=[];return x.each(E.State.calls,function(b,k){k&&x.each(k[1],function(c,h){var m=F===l?"":F;return!0!==m&&k[2].queue!==m&&(F!==l||!1!==k[2].queue)||void x.each(A,function(c,l){l===h&&(((!0===F||C.isString(F))&&(x.each(x.queue(l,C.isString(F)?F:""),function(b,k){C.isFunction(k)&&k(null,!0)}),x.queue(l,C.isString(F)?F:"",[])),"stop"===B)?((c=n(l))&&c.tweensContainer&&!1!==m&&x.each(c.tweensContainer,
function(b,k){k.endValue=k.currentValue}),ha.push(b)):"finish"!==B&&"finishAll"!==B||(k[2].duration=1))})})}),"stop"===B&&(x.each(ha,function(b,k){z(k,!0)}),M.promise&&M.resolver(A)),b();default:if(!x.isPlainObject(B)||C.isEmptyObject(B)){if(C.isString(B)&&E.Redirects[B]){m=x.extend({},F);var X=m.duration,ca=m.delay||0;return!0===m.backwards&&(A=x.extend(!0,[],A).reverse()),x.each(A,function(b,k){parseFloat(m.stagger)?m.delay=ca+parseFloat(m.stagger)*b:C.isFunction(m.stagger)&&(m.delay=ca+m.stagger.call(k,
b,N));m.drag&&(m.duration=parseFloat(X)||(/^(callout|transition)/.test(B)?1E3:400),m.duration=Math.max(m.duration*(m.backwards?1-b/N:(b+1)/N),.75*m.duration,200));E.Redirects[B].call(k,k,m||{},b,N,A,M.promise?M:l)}),b()}return M.promise&&M.rejecter(Error("Velocity: First argument ("+B+") was not a property map, a known action, or a registered redirect. Aborting.")),b()}ea="start"}var S={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,
remToPx:null,vwToPx:null,vhToPx:null},ka=[];x.each(A,function(b,c){C.isNode(c)&&k(c,b)});m=x.extend({},E.defaults,F);m.loop=parseInt(m.loop,10);y=2*m.loop-1;if(m.loop)for(I=0;I<y;I++){var la={delay:m.delay,progress:m.progress};I===y-1&&(la.display=m.display,la.visibility=m.visibility,la.complete=m.complete);G(A,"reverse",la)}return b()}},E=x.extend(G,E);E.animate=G;var I=h.requestAnimationFrame||u;return E.State.isMobile||c.hidden===l||c.addEventListener("visibilitychange",function(){c.hidden?(I=
function(b){return setTimeout(function(){b(!0)},16)},v()):I=h.requestAnimationFrame||u}),b.Velocity=E,b!==h&&(b.fn.velocity=G,b.fn.velocity.defaults=E.defaults),x.each(["Down","Up"],function(b,k){E.Redirects["slide"+k]=function(b,c,h,n,m,u){c=x.extend({},c);var p=c.begin,v=c.complete,q={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},r={};c.display===l&&(c.display="Down"===k?"inline"===E.CSS.Values.getDisplayType(b)?"inline-block":"block":"none");c.begin=function(){p&&p.call(m,
m);for(var c in q){r[c]=b.style[c];var h=E.CSS.getPropertyValue(b,c);q[c]="Down"===k?[h,0]:[0,h]}r.overflow=b.style.overflow;b.style.overflow="hidden"};c.complete=function(){for(var k in r)b.style[k]=r[k];v&&v.call(m,m);u&&u.resolver(m)};E(b,q,c)}}),x.each(["In","Out"],function(b,k){E.Redirects["fade"+k]=function(b,c,h,n,m,u){b=x.extend({},c);var p=b.complete;c={opacity:"In"===k?1:0};h!==n-1?b.complete=b.begin=null:b.complete=function(){p&&p.call(m,m);u&&u.resolver(m)};b.display===l&&(b.display="In"===
k?"auto":"none");E(this,c,b)}}),E}(window.jQuery||window.Zepto||window,window,document)});
!function(b){"function"==typeof require&&"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define(["velocity"],b):b()}(function(){return function(b,h,c,l){var m=b.Velocity;if(m&&m.Utilities){var q=m.Utilities;if(function(b,k){var c=[];return!(!b||!k)&&(q.each([b,k],function(b,k){var h=[];q.each(k,function(b,k){for(;5>k.toString().length;)k="0"+k;h.push(k)});c.push(h.join(""))}),parseFloat(c[0])>parseFloat(c[1]))}({major:1,minor:1,patch:0},m.version))throw alert("Velocity UI Pack: You need to update Velocity (jquery.velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity."),
Error("Velocity UI Pack: You need to update Velocity (jquery.velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.");m.RegisterEffect=m.RegisterUI=function(b,k){function c(b,k,h,l){var n,p=0;q.each(b.nodeType?[b]:b,function(b,k){l&&(h+=b*l);n=k.parentNode;propertiesToSum=["height","paddingTop","paddingBottom","marginTop","marginBottom"];"border-box"===m.CSS.getPropertyValue(k,"boxSizing").toString().toLowerCase()&&(propertiesToSum=["height"]);q.each(propertiesToSum,function(b,
c){p+=parseFloat(m.CSS.getPropertyValue(k,c))})});m.animate(n,{height:("In"===k?"+":"-")+"\x3d"+p},{queue:!1,easing:"ease-in-out",duration:h*("In"===k?.6:1)})}return m.Redirects[b]=function(h,n,x,A,u,C){var B=x===A-1;"function"==typeof k.defaultDuration?k.defaultDuration=k.defaultDuration.call(u,u):k.defaultDuration=parseFloat(k.defaultDuration);for(A=0;A<k.calls.length;A++){var y=k.calls[A],E=y[0],F=1E3,D=y[1],y=y[2]||{},G={};if(n.duration!==l?F=n.duration:k.defaultDuration!==l&&(F=k.defaultDuration),
G.duration=F*(D||1),G.queue=n.queue||"",G.easing=y.easing||"ease",G.delay=parseFloat(y.delay)||0,G._cacheValues=y._cacheValues||!0,0===A){if(G.delay+=parseFloat(n.delay)||0,0===x&&(G.begin=function(){n.begin&&n.begin.call(u,u);var k=b.match(/(In|Out)$/);k&&"In"===k[0]&&E.opacity!==l&&q.each(u.nodeType?[u]:u,function(b,k){m.CSS.setPropertyValue(k,"opacity",0)});n.animateParentHeight&&k&&c(u,k[0],F+G.delay,n.stagger)}),null!==n.display)n.display!==l&&"none"!==n.display?G.display=n.display:/In$/.test(b)&&
(D=m.CSS.Values.getDisplayType(h),G.display="inline"===D?"inline-block":D);n.visibility&&"hidden"!==n.visibility&&(G.visibility=n.visibility)}if(A===k.calls.length-1){var I=function(){n.display!==l&&"none"!==n.display||!/Out$/.test(b)||q.each(u.nodeType?[u]:u,function(b,k){m.CSS.setPropertyValue(k,"display","none")});n.complete&&n.complete.call(u,u);C&&C.resolver(u||h)};G.complete=function(){if(k.reset){for(var b in k.reset){var c=k.reset[b];m.CSS.Hooks.registered[b]!==l||"string"!=typeof c&&"number"!=
typeof c||(k.reset[b]=[k.reset[b],k.reset[b]])}b={duration:0,queue:!1};B&&(b.complete=I);m.animate(h,k.reset,b)}else B&&I()};"hidden"===n.visibility&&(G.visibility=n.visibility)}m.animate(h,E,G)}},m};m.RegisterEffect.packagedEffects={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},
.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:0},.125]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]},.25],[{opacity:[1,"easeInOutQuad"]},.25],[{opacity:[0,"easeInOutQuad"]},.25],[{opacity:[1,"easeInOutQuad"]},.25]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},.5,{easing:"easeInExpo"}],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15},.2],[{rotateZ:-10},.2],[{rotateZ:5},
.2],[{rotateZ:-5},.2],[{rotateZ:0},.2]]},"callout.tada":{defaultDuration:1E3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,
calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],
rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10},.5],[{opacity:0,rotateY:90},.5]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,
calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateX:-15},.5],[{opacity:0,rotateX:90},.5]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,
0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],
scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]},1,{easing:"easeInOutSine"}]]},"transition.whirlOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInOutQuint",1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160},1,{easing:"swing"}]],reset:{scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:750,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:600,
calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,
scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.4],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.5]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:.95,scaleY:.95},.35],[{scaleX:1.1,scaleY:1.1,translateZ:0},.35],[{opacity:[0,1],scaleX:.3,scaleY:.3},.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1E3]},.6,{easing:"easeOutCirc"}],[{translateY:10},
.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1E3,calls:[[{translateY:20},.2],[{opacity:[0,"easeInCirc",1],translateY:-1E3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,-1E3]},.6,{easing:"easeOutCirc"}],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1E3,calls:[[{translateY:-20},.2],[{opacity:[0,"easeInCirc",1],translateY:1E3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,
calls:[[{opacity:[1,0],translateX:[30,-1250]},.6,{easing:"easeOutCirc"}],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},.6,{easing:"easeOutCirc"}],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},
.2],[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],
reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1E3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},"transition.slideRightIn":{defaultDuration:1E3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,
calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,
-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,
0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],
transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2E3,2E3],
transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2E3,2E3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2E3,
2E3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2E3,2E3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(var n in m.RegisterEffect.packagedEffects)m.RegisterEffect(n,m.RegisterEffect.packagedEffects[n]);
m.RunSequence=function(b){var k=q.extend(!0,[],b);1<k.length&&(q.each(k.reverse(),function(b,c){var h=k[b+1];if(h){var l=c.o||c.options;b=h.o||h.options;var l=l&&!1===l.sequenceQueue?"begin":"complete",n=b&&b[l],u={};u[l]=function(){var b=h.e||h.elements,b=b.nodeType?[b]:b;n&&n.call(b,b);m(c)};h.o?h.o=q.extend({},b,u):h.options=q.extend({},b,u)}}),k.reverse());m(k[0])}}}(window.jQuery||window.Zepto||window,window,document)});
!function(b,h){"function"==typeof define&&define.amd?define(["jquery"],h):h("object"==typeof exports?require("jquery"):b.jQuery?b.jQuery:b.Zepto)}(this,function(b,h){b.fn.jPlayer=function(c){var l="string"==typeof c,k=Array.prototype.slice.call(arguments,1),m=this;return c=!l&&k.length?b.extend.apply(null,[!0,c].concat(k)):c,l&&"_"===c.charAt(0)?m:(this.each(l?function(){var l=b(this).data("jPlayer"),q=l&&b.isFunction(l[c])?l[c].apply(l,k):l;return q!==l&&q!==h?(m=q,!1):void 0}:function(){var k=b(this).data("jPlayer");
k?k.option(c||{}):b(this).data("jPlayer",new b.jPlayer(c,this))}),m)};b.jPlayer=function(c,h){if(arguments.length){this.element=b(h);this.options=b.extend(!0,{},this.options,c);var k=this;this.element.bind("remove.jPlayer",function(){k.destroy()});this._init()}};"function"!=typeof b.fn.stop&&(b.fn.stop=function(){});b.jPlayer.emulateMethods="load play pause";b.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate";b.jPlayer.emulateOptions="muted volume";
b.jPlayer.reservedEvent="ready flashreset resize repeat error warning";b.jPlayer.event={};b.each("ready setmedia flashreset resize repeat click error warning loadstart progress suspend abort emptied stalled play pause loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange".split(" "),function(){b.jPlayer.event[this]="jPlayer_"+this});b.jPlayer.htmlEvent="loadstart abort emptied stalled loadedmetadata canplay canplaythrough".split(" ");
b.jPlayer.pause=function(){b.jPlayer.prototype.destroyRemoved();b.each(b.jPlayer.prototype.instances,function(b,c){c.data("jPlayer").status.srcSet&&c.jPlayer("pause")})};b.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};var c=function(){this.init()};c.prototype={init:function(){this.options={timeFormat:b.jPlayer.timeFormat}},time:function(b){var c=new Date(1E3*(b&&"number"==typeof b?b:0));b=c.getUTCHours();var k=this.options.timeFormat.showHour?
c.getUTCMinutes():c.getUTCMinutes()+60*b,c=this.options.timeFormat.showMin?c.getUTCSeconds():c.getUTCSeconds()+60*k;b=this.options.timeFormat.padHour&&10>b?"0"+b:b;var k=this.options.timeFormat.padMin&&10>k?"0"+k:k,c=this.options.timeFormat.padSec&&10>c?"0"+c:c,h="";return h+=this.options.timeFormat.showHour?b+this.options.timeFormat.sepHour:"",h+=this.options.timeFormat.showMin?k+this.options.timeFormat.sepMin:"",h+(this.options.timeFormat.showSec?c+this.options.timeFormat.sepSec:"")}};var l=new c;
b.jPlayer.convertTime=function(b){return l.time(b)};b.jPlayer.uaBrowser=function(b){b=b.toLowerCase();var c=/(opera)(?:.*version)?[ \/]([\w.]+)/,k=/(msie) ([\w.]+)/,h=/(mozilla)(?:.*? rv:([\w.]+))?/;b=/(webkit)[ \/]([\w.]+)/.exec(b)||c.exec(b)||k.exec(b)||0>b.indexOf("compatible")&&h.exec(b)||[];return{browser:b[1]||"",version:b[2]||"0"}};b.jPlayer.uaPlatform=function(b){var c=b.toLowerCase(),k=/(android)/,h=/(mobile)/;b=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/.exec(c)||[];
c=/(ipad|playbook)/.exec(c)||!h.exec(c)&&k.exec(c)||[];return b[1]&&(b[1]=b[1].replace(/\s/g,"_")),{platform:b[1]||"",tablet:c[1]||""}};b.jPlayer.browser={};b.jPlayer.platform={};var m=b.jPlayer.uaBrowser(navigator.userAgent);m.browser&&(b.jPlayer.browser[m.browser]=!0,b.jPlayer.browser.version=m.version);m=b.jPlayer.uaPlatform(navigator.userAgent);m.platform&&(b.jPlayer.platform[m.platform]=!0,b.jPlayer.platform.mobile=!m.tablet,b.jPlayer.platform.tablet=!!m.tablet);b.jPlayer.getDocMode=function(){var c;
return b.jPlayer.browser.msie&&(document.documentMode?c=document.documentMode:(c=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(c=7))),c};b.jPlayer.browser.documentMode=b.jPlayer.getDocMode();b.jPlayer.nativeFeatures={init:function(){var b,c,k,h=document;b=h.createElement("video");var l={w3c:"fullscreenEnabled fullscreenElement requestFullscreen exitFullscreen fullscreenchange fullscreenerror".split(" "),moz:"mozFullScreenEnabled mozFullScreenElement mozRequestFullScreen mozCancelFullScreen mozfullscreenchange mozfullscreenerror".split(" "),
webkit:" webkitCurrentFullScreenElement webkitRequestFullScreen webkitCancelFullScreen webkitfullscreenchange ".split(" "),webkitVideo:"webkitSupportsFullscreen webkitDisplayingFullscreen webkitEnterFullscreen webkitExitFullscreen  ".split(" "),ms:" msFullscreenElement msRequestFullscreen msExitFullscreen MSFullscreenChange MSFullscreenError".split(" ")},m=["w3c","moz","webkit","webkitVideo","ms"];this.fullscreen=b={support:{w3c:!!h[l.w3c[0]],moz:!!h[l.moz[0]],webkit:"function"==typeof h[l.webkit[3]],
webkitVideo:"function"==typeof b[l.webkitVideo[2]],ms:"function"==typeof b[l.ms[2]]},used:{}};c=0;for(k=m.length;k>c;c++){var q=m[c];if(b.support[q]){b.spec=q;b.used[q]=!0;break}}if(b.spec){var A=l[b.spec];b.api={fullscreenEnabled:!0,fullscreenElement:function(b){return b=b?b:h,b[A[1]]},requestFullscreen:function(b){return b[A[2]]()},exitFullscreen:function(b){return b=b?b:h,b[A[3]]()}};b.event={fullscreenchange:A[4],fullscreenerror:A[5]}}else b.api={fullscreenEnabled:!1,fullscreenElement:function(){return null},
requestFullscreen:function(){},exitFullscreen:function(){}},b.event={}}};b.jPlayer.nativeFeatures.init();b.jPlayer.focus=null;b.jPlayer.keyIgnoreElementNames="A INPUT TEXTAREA SELECT BUTTON";var q=function(c){var h,k=b.jPlayer.focus;k&&(b.each(b.jPlayer.keyIgnoreElementNames.split(/\s+/g),function(b,k){return c.target.nodeName.toUpperCase()===k.toUpperCase()?(h=!0,!1):void 0}),h||b.each(k.options.keyBindings,function(h,l){return l&&b.isFunction(l.fn)&&("number"==typeof l.key&&c.which===l.key||"string"==
typeof l.key&&c.key===l.key)?(c.preventDefault(),l.fn(k),!1):void 0}))};b.jPlayer.keys=function(c){b(document.documentElement).unbind("keydown.jPlayer");c&&b(document.documentElement).bind("keydown.jPlayer",q)};b.jPlayer.keys(!0);b.jPlayer.prototype={count:0,version:{script:"2.9.2",needFlash:"2.9.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",auroraFormats:"wav",preload:"metadata",volume:.8,muted:!1,remainingDuration:!1,toggleDuration:!1,captureDuration:!0,playbackRate:1,
defaultPlaybackRate:1,minPlaybackRate:.5,maxPlaybackRate:4,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",playbackRateBar:".jp-playback-rate-bar",playbackRateBarValue:".jp-playback-rate-bar-value",currentTime:".jp-current-time",
duration:".jp-duration",title:".jp-title",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},stateClass:{playing:"jp-state-playing",seeking:"jp-state-seeking",muted:"jp-state-muted",looped:"jp-state-looped",fullScreen:"jp-state-full-screen",noVolume:"jp-state-no-volume"},useStateClassSkin:!1,autoBlur:!0,smoothPlayBar:!1,fullScreen:!1,fullWindow:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,
hold:1E3},loop:!1,repeat:function(c){c.jPlayer.options.loop?b(this).unbind(".jPlayerRepeat").bind(b.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){b(this).jPlayer("play")}):b(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/(?=.*android)(?!.*chrome)(?=.*mobile)/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},
noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:!1,audioFullScreen:!1,keyBindings:{play:{key:80,fn:function(b){b.status.paused?b.play():b.pause()}},fullScreen:{key:70,fn:function(b){(b.status.video||b.options.audioFullScreen)&&b._setOption("fullScreen",!b.options.fullScreen)}},muted:{key:77,fn:function(b){b._muted(!b.options.muted)}},
volumeUp:{key:190,fn:function(b){b.volume(b.options.volume+.1)}},volumeDown:{key:188,fn:function(b){b.volume(b.options.volume-.1)}},loop:{key:76,fn:function(b){b._loop(!b.options.loop)}}},verticalVolume:!1,verticalPlaybackRate:!1,globalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,consoleAlerts:!0,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",
cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,remaining:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,aurora:!0,flash:!0},format:{mp3:{codec:"audio/mpeg",flashCanPlay:!0,media:"audio"},
m4a:{codec:'audio/mp4; codecs\x3d"mp4a.40.2"',flashCanPlay:!0,media:"audio"},m3u8a:{codec:'application/vnd.apple.mpegurl; codecs\x3d"mp4a.40.2"',flashCanPlay:!1,media:"audio"},m3ua:{codec:"audio/mpegurl",flashCanPlay:!1,media:"audio"},oga:{codec:'audio/ogg; codecs\x3d"vorbis, opus"',flashCanPlay:!1,media:"audio"},flac:{codec:"audio/x-flac",flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs\x3d"1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs\x3d"vorbis"',flashCanPlay:!1,
media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs\x3d"rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs\x3d"avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},m3u8v:{codec:'application/vnd.apple.mpegurl; codecs\x3d"avc1.42E01E, mp4a.40.2"',flashCanPlay:!1,media:"video"},m3uv:{codec:"audio/mpegurl",flashCanPlay:!1,media:"video"},ogv:{codec:'video/ogg; codecs\x3d"theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs\x3d"vorbis, vp8"',
flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs\x3d"rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var c=this;if(this.element.empty(),this.status=b.extend({},this.status),this.internal=b.extend({},this.internal),this.options.timeFormat=b.extend({},b.jPlayer.timeFormat,this.options.timeFormat),this.internal.cmdsIgnored=b.jPlayer.platform.ipad||b.jPlayer.platform.iphone||b.jPlayer.platform.ipod,this.internal.domNode=this.element.get(0),
this.options.keyEnabled&&!b.jPlayer.focus&&(b.jPlayer.focus=this),this.androidFix={setMedia:!1,play:!1,pause:!1,time:0/0},b.jPlayer.platform.android&&(this.options.preload="auto"!==this.options.preload?"metadata":"auto"),this.formats=[],this.solutions=[],this.require={},this.htmlElement={},this.html={},this.html.audio={},this.html.video={},this.aurora={},this.aurora.formats=[],this.aurora.properties=[],this.flash={},this.css={},this.css.cs={},this.css.jq={},this.ancestorJq=[],this.options.volume=
this._limitValue(this.options.volume,0,1),b.each(this.options.supplied.toLowerCase().split(","),function(k,h){var l=h.replace(/^\s+|\s+$/g,"");if(c.format[l]){var m=!1;b.each(c.formats,function(b,k){return l===k?(m=!0,!1):void 0});m||c.formats.push(l)}}),b.each(this.options.solution.toLowerCase().split(","),function(k,h){var l=h.replace(/^\s+|\s+$/g,"");if(c.solution[l]){var m=!1;b.each(c.solutions,function(b,k){return l===k?(m=!0,!1):void 0});m||c.solutions.push(l)}}),b.each(this.options.auroraFormats.toLowerCase().split(","),
function(k,h){var l=h.replace(/^\s+|\s+$/g,"");if(c.format[l]){var m=!1;b.each(c.aurora.formats,function(b,k){return l===k?(m=!0,!1):void 0});m||c.aurora.formats.push(l)}}),this.internal.instance="jp_"+this.count,this.instances[this.internal.instance]=this.element,this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count),this.internal.self=b.extend({},{id:this.element.attr("id"),jq:this.element}),this.internal.audio=b.extend({},{id:this.options.idPrefix+"_audio_"+
this.count,jq:h}),this.internal.video=b.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:h}),this.internal.flash=b.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:h,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"jquery.jplayer.swf":"")}),this.internal.poster=b.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:h}),b.each(b.jPlayer.event,function(b,k){c.options[b]!==
h&&(c.element.bind(k+".jPlayer",c.options[b]),c.options[b]=h)}),this.require.audio=!1,this.require.video=!1,b.each(this.formats,function(b,k){c.require[c.format[k].media]=!0}),this.options=this.require.video?b.extend(!0,{},this.optionsVideo,this.options):b.extend(!0,{},this.optionsAudio,this.options),this._setSize(),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this.status.noVolume=this._uaBlocklist(this.options.noVolume),
b.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled&&this._fullscreenAddEventListeners(),this._restrictNativeVideoControls(),this.htmlElement.poster=document.createElement("img"),this.htmlElement.poster.id=this.internal.poster.id,this.htmlElement.poster.onload=function(){c.status.video&&!c.status.waitForPlay||c.internal.poster.jq.show()},this.element.append(this.htmlElement.poster),this.internal.poster.jq=b("#"+this.internal.poster.id),this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),
this.internal.poster.jq.hide(),this.internal.poster.jq.bind("click.jPlayer",function(){c._trigger(b.jPlayer.event.click)}),this.html.audio.available=!1,this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)),this.html.video.available=!1,this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=
this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)),this.flash.available=this._checkForFlash(10.1),this.html.canPlay={},this.aurora.canPlay={},this.flash.canPlay={},b.each(this.formats,function(k,h){c.html.canPlay[h]=c.html[c.format[h].media].available&&""!==c.htmlElement[c.format[h].media].canPlayType(c.format[h].codec);c.aurora.canPlay[h]=-1<b.inArray(h,c.aurora.formats);c.flash.canPlay[h]=c.format[h].flashCanPlay&&
c.flash.available}),this.html.desired=!1,this.aurora.desired=!1,this.flash.desired=!1,b.each(this.solutions,function(k,h){if(0===k)c[h].desired=!0;else{var l=!1,m=!1;b.each(c.formats,function(b,k){c[c.solutions[0]].canPlay[k]&&("video"===c.format[k].media?m=!0:l=!0)});c[h].desired=c.require.audio&&!l||c.require.video&&!m}}),this.html.support={},this.aurora.support={},this.flash.support={},b.each(this.formats,function(b,k){c.html.support[k]=c.html.canPlay[k]&&c.html.desired;c.aurora.support[k]=c.aurora.canPlay[k]&&
c.aurora.desired;c.flash.support[k]=c.flash.canPlay[k]&&c.flash.desired}),this.html.used=!1,this.aurora.used=!1,this.flash.used=!1,b.each(this.solutions,function(k,h){b.each(c.formats,function(b,k){return c[h].support[k]?(c[h].used=!0,!1):void 0})}),this._resetActive(),this._resetGate(),this._cssSelectorAncestor(this.options.cssSelectorAncestor),this.html.used||this.aurora.used||this.flash.used?this.css.jq.noSolution.length&&this.css.jq.noSolution.hide():(this._error({type:b.jPlayer.error.NO_SOLUTION,
context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:b.jPlayer.errorMsg.NO_SOLUTION,hint:b.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()),this.flash.used){var l,k="jQuery\x3d"+encodeURI(this.options.noConflict)+"\x26id\x3d"+encodeURI(this.internal.self.id)+"\x26vol\x3d"+this.options.volume+"\x26muted\x3d"+this.options.muted;if(b.jPlayer.browser.msie&&(9>Number(b.jPlayer.browser.version)||9>b.jPlayer.browser.documentMode)){k=
['\x3cparam name\x3d"movie" value\x3d"'+this.internal.flash.swf+'" /\x3e','\x3cparam name\x3d"FlashVars" value\x3d"'+k+'" /\x3e','\x3cparam name\x3d"allowScriptAccess" value\x3d"always" /\x3e','\x3cparam name\x3d"bgcolor" value\x3d"'+this.options.backgroundColor+'" /\x3e','\x3cparam name\x3d"wmode" value\x3d"'+this.options.wmode+'" /\x3e'];l=document.createElement('\x3cobject id\x3d"'+this.internal.flash.id+'" classid\x3d"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width\x3d"0" height\x3d"0" tabindex\x3d"-1"\x3e\x3c/object\x3e');
for(var m=0;m<k.length;m++)l.appendChild(document.createElement(k[m]))}else m=function(b,k,c){var h=document.createElement("param");h.setAttribute("name",k);h.setAttribute("value",c);b.appendChild(h)},l=document.createElement("object"),l.setAttribute("id",this.internal.flash.id),l.setAttribute("name",this.internal.flash.id),l.setAttribute("data",this.internal.flash.swf),l.setAttribute("type","application/x-shockwave-flash"),l.setAttribute("width","1"),l.setAttribute("height","1"),l.setAttribute("tabindex",
"-1"),m(l,"flashvars",k),m(l,"allowscriptaccess","always"),m(l,"bgcolor",this.options.backgroundColor),m(l,"wmode",this.options.wmode);this.element.append(l);this.internal.flash.jq=b(l)}this.status.playbackRateEnabled=this.html.used&&!this.flash.used?this._testPlaybackRate("audio"):!1;this._updatePlaybackRate();this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=b("#"+this.internal.audio.id)),
this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=b("#"+this.internal.video.id),this.internal.video.jq.css(this.status.nativeVideoControls?{width:this.status.width,height:this.status.height}:{width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",function(){c._trigger(b.jPlayer.event.click)})));this.aurora.used;this.options.emulateHtml&&this._emulateHtmlBridge();!this.html.used&&
!this.aurora.used||this.flash.used||setTimeout(function(){c.internal.ready=!0;c.version.flash="n/a";c._trigger(b.jPlayer.event.repeat);c._trigger(b.jPlayer.event.ready)},100);this._updateNativeVideoControls();this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide();b.jPlayer.prototype.count++},destroy:function(){this.clearMedia();this._removeUiClass();this.css.jq.currentTime.length&&this.css.jq.currentTime.text("");this.css.jq.duration.length&&this.css.jq.duration.text("");b.each(this.css.jq,function(b,
c){c.length&&c.unbind(".jPlayer")});this.internal.poster.jq.unbind(".jPlayer");this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer");this._fullscreenRemoveEventListeners();this===b.jPlayer.focus&&(b.jPlayer.focus=null);this.options.emulateHtml&&this._destroyHtmlBridge();this.element.removeData("jPlayer");this.element.unbind(".jPlayer");this.element.empty();delete this.instances[this.internal.instance]},destroyRemoved:function(){var c=this;b.each(this.instances,function(b,k){c.element!==
k&&(k.data("jPlayer")||(k.jPlayer("destroy"),delete c.instances[b]))})},enable:function(){},disable:function(){},_testCanPlayType:function(b){try{return b.canPlayType(this.format.mp3.codec),!0}catch(c){return!1}},_testPlaybackRate:function(b){b=document.createElement("string"==typeof b?b:"audio");try{return"playbackRate"in b?(b.playbackRate=.5,.5===b.playbackRate):!1}catch(c){return!1}},_uaBlocklist:function(c){var h=navigator.userAgent.toLowerCase(),k=!1;return b.each(c,function(b,c){return c&&c.test(h)?
(k=!0,!1):void 0}),k},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullWindow=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):
this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"})))},_addHtmlEventListeners:function(c,h){var k=this;c.preload=this.options.preload;c.muted=this.options.muted;c.volume=this.options.volume;this.status.playbackRateEnabled&&(c.defaultPlaybackRate=this.options.defaultPlaybackRate,c.playbackRate=this.options.playbackRate);c.addEventListener("progress",function(){h.gate&&(k.internal.cmdsIgnored&&0<this.readyState&&(k.internal.cmdsIgnored=
!1),k._getHtmlStatus(c),k._updateInterface(),k._trigger(b.jPlayer.event.progress))},!1);c.addEventListener("loadeddata",function(){h.gate&&(k.androidFix.setMedia=!1,k.androidFix.play&&(k.androidFix.play=!1,k.play(k.androidFix.time)),k.androidFix.pause&&(k.androidFix.pause=!1,k.pause(k.androidFix.time)),k._trigger(b.jPlayer.event.loadeddata))},!1);c.addEventListener("timeupdate",function(){h.gate&&(k._getHtmlStatus(c),k._updateInterface(),k._trigger(b.jPlayer.event.timeupdate))},!1);c.addEventListener("durationchange",
function(){h.gate&&(k._getHtmlStatus(c),k._updateInterface(),k._trigger(b.jPlayer.event.durationchange))},!1);c.addEventListener("play",function(){h.gate&&(k._updateButtons(!0),k._html_checkWaitForPlay(),k._trigger(b.jPlayer.event.play))},!1);c.addEventListener("playing",function(){h.gate&&(k._updateButtons(!0),k._seeked(),k._trigger(b.jPlayer.event.playing))},!1);c.addEventListener("pause",function(){h.gate&&(k._updateButtons(!1),k._trigger(b.jPlayer.event.pause))},!1);c.addEventListener("waiting",
function(){h.gate&&(k._seeking(),k._trigger(b.jPlayer.event.waiting))},!1);c.addEventListener("seeking",function(){h.gate&&(k._seeking(),k._trigger(b.jPlayer.event.seeking))},!1);c.addEventListener("seeked",function(){h.gate&&(k._seeked(),k._trigger(b.jPlayer.event.seeked))},!1);c.addEventListener("volumechange",function(){h.gate&&(k.options.volume=c.volume,k.options.muted=c.muted,k._updateMute(),k._updateVolume(),k._trigger(b.jPlayer.event.volumechange))},!1);c.addEventListener("ratechange",function(){h.gate&&
(k.options.defaultPlaybackRate=c.defaultPlaybackRate,k.options.playbackRate=c.playbackRate,k._updatePlaybackRate(),k._trigger(b.jPlayer.event.ratechange))},!1);c.addEventListener("suspend",function(){h.gate&&(k._seeked(),k._trigger(b.jPlayer.event.suspend))},!1);c.addEventListener("ended",function(){h.gate&&(b.jPlayer.browser.webkit||(k.htmlElement.media.currentTime=0),k.htmlElement.media.pause(),k._updateButtons(!1),k._getHtmlStatus(c,!0),k._updateInterface(),k._trigger(b.jPlayer.event.ended))},
!1);c.addEventListener("error",function(){h.gate&&(k._updateButtons(!1),k._seeked(),k.status.srcSet&&(clearTimeout(k.internal.htmlDlyCmdId),k.status.waitForLoad=!0,k.status.waitForPlay=!0,k.status.video&&!k.status.nativeVideoControls&&k.internal.video.jq.css({width:"0px",height:"0px"}),k._validString(k.status.media.poster)&&!k.status.nativeVideoControls&&k.internal.poster.jq.show(),k.css.jq.videoPlay.length&&k.css.jq.videoPlay.show(),k._error({type:b.jPlayer.error.URL,context:k.status.src,message:b.jPlayer.errorMsg.URL,
hint:b.jPlayer.errorHint.URL})))},!1);b.each(b.jPlayer.htmlEvent,function(l,m){c.addEventListener(this,function(){h.gate&&k._trigger(b.jPlayer.event[m])},!1)})},_addAuroraEventListeners:function(c,h){var k=this;c.volume=100*this.options.volume;c.on("progress",function(){h.gate&&(k.internal.cmdsIgnored&&0<this.readyState&&(k.internal.cmdsIgnored=!1),k._getAuroraStatus(c),k._updateInterface(),k._trigger(b.jPlayer.event.progress),0<c.duration&&k._trigger(b.jPlayer.event.timeupdate))},!1);c.on("ready",
function(){h.gate&&k._trigger(b.jPlayer.event.loadeddata)},!1);c.on("duration",function(){h.gate&&(k._getAuroraStatus(c),k._updateInterface(),k._trigger(b.jPlayer.event.durationchange))},!1);c.on("end",function(){h.gate&&(k._updateButtons(!1),k._getAuroraStatus(c,!0),k._updateInterface(),k._trigger(b.jPlayer.event.ended))},!1);c.on("error",function(){h.gate&&(k._updateButtons(!1),k._seeked(),k.status.srcSet&&(k.status.waitForLoad=!0,k.status.waitForPlay=!0,k.status.video&&!k.status.nativeVideoControls&&
k.internal.video.jq.css({width:"0px",height:"0px"}),k._validString(k.status.media.poster)&&!k.status.nativeVideoControls&&k.internal.poster.jq.show(),k.css.jq.videoPlay.length&&k.css.jq.videoPlay.show(),k._error({type:b.jPlayer.error.URL,context:k.status.src,message:b.jPlayer.errorMsg.URL,hint:b.jPlayer.errorHint.URL})))},!1)},_getHtmlStatus:function(b,c){var k,h,l=0,m=0;isFinite(b.duration)&&(this.status.duration=b.duration);k=b.currentTime;h=0<this.status.duration?100*k/this.status.duration:0;"object"==
typeof b.seekable&&0<b.seekable.length?(l=0<this.status.duration?100*b.seekable.end(b.seekable.length-1)/this.status.duration:100,m=0<this.status.duration?100*b.currentTime/b.seekable.end(b.seekable.length-1):0):(l=100,m=h);c&&(k=0,m=0,h=0);this.status.seekPercent=l;this.status.currentPercentRelative=m;this.status.currentPercentAbsolute=h;this.status.currentTime=k;this.status.remaining=this.status.duration-this.status.currentTime;this.status.videoWidth=b.videoWidth;this.status.videoHeight=b.videoHeight;
this.status.readyState=b.readyState;this.status.networkState=b.networkState;this.status.playbackRate=b.playbackRate;this.status.ended=b.ended},_getAuroraStatus:function(b,c){var k,h,l=0,m=0;this.status.duration=b.duration/1E3;k=b.currentTime/1E3;h=0<this.status.duration?100*k/this.status.duration:0;0<b.buffered?(l=0<this.status.duration?b.buffered*this.status.duration/this.status.duration:100,m=0<this.status.duration?k/(b.buffered*this.status.duration):0):(l=100,m=h);c&&(k=0,m=0,h=0);this.status.seekPercent=
l;this.status.currentPercentRelative=m;this.status.currentPercentAbsolute=h;this.status.currentTime=k;this.status.remaining=this.status.duration-this.status.currentTime;this.status.readyState=4;this.status.networkState=0;this.status.playbackRate=1;this.status.ended=!1},_resetStatus:function(){this.status=b.extend({},this.status,b.jPlayer.prototype.status)},_trigger:function(c,h,k){c=b.Event(c);c.jPlayer={};c.jPlayer.version=b.extend({},this.version);c.jPlayer.options=b.extend(!0,{},this.options);
c.jPlayer.status=b.extend(!0,{},this.status);c.jPlayer.html=b.extend(!0,{},this.html);c.jPlayer.aurora=b.extend(!0,{},this.aurora);c.jPlayer.flash=b.extend(!0,{},this.flash);h&&(c.jPlayer.error=b.extend({},h));k&&(c.jPlayer.warning=b.extend({},k));this.element.trigger(c)},jPlayerFlashEvent:function(c,h){if(c===b.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var k=this.status.currentTime,l=this.status.paused;this.setMedia(this.status.media);this.volumeWorker(this.options.volume);
0<k&&(l?this.pause(k):this.play(k))}this._trigger(b.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=h.version,this.version.needFlash!==this.version.flash&&this._error({type:b.jPlayer.error.VERSION,context:this.version.flash,message:b.jPlayer.errorMsg.VERSION+this.version.flash,hint:b.jPlayer.errorHint.VERSION}),this._trigger(b.jPlayer.event.repeat),this._trigger(c);if(this.flash.gate)switch(c){case b.jPlayer.event.progress:this._getFlashStatus(h);
this._updateInterface();this._trigger(c);break;case b.jPlayer.event.timeupdate:this._getFlashStatus(h);this._updateInterface();this._trigger(c);break;case b.jPlayer.event.play:this._seeked();this._updateButtons(!0);this._trigger(c);break;case b.jPlayer.event.pause:this._updateButtons(!1);this._trigger(c);break;case b.jPlayer.event.ended:this._updateButtons(!1);this._trigger(c);break;case b.jPlayer.event.click:this._trigger(c);break;case b.jPlayer.event.error:this.status.waitForLoad=!0;this.status.waitForPlay=
!0;this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"});this._validString(this.status.media.poster)&&this.internal.poster.jq.show();this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show();this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media);this._updateButtons(!1);this._error({type:b.jPlayer.error.URL,context:h.src,message:b.jPlayer.errorMsg.URL,hint:b.jPlayer.errorHint.URL});break;case b.jPlayer.event.seeking:this._seeking();
this._trigger(c);break;case b.jPlayer.event.seeked:this._seeked();this._trigger(c);break;case b.jPlayer.event.ready:break;default:this._trigger(c)}return!1},_getFlashStatus:function(b){this.status.seekPercent=b.seekPercent;this.status.currentPercentRelative=b.currentPercentRelative;this.status.currentPercentAbsolute=b.currentPercentAbsolute;this.status.currentTime=b.currentTime;this.status.duration=b.duration;this.status.remaining=b.duration-b.currentTime;this.status.videoWidth=b.videoWidth;this.status.videoHeight=
b.videoHeight;this.status.readyState=4;this.status.networkState=0;this.status.playbackRate=1;this.status.ended=!1},_updateButtons:function(b){b===h?b=!this.status.paused:this.status.paused=!b;b?this.addStateClass("playing"):this.removeStateClass("playing");!this.status.noFullWindow&&this.options.fullWindow?this.addStateClass("fullScreen"):this.removeStateClass("fullScreen");this.options.loop?this.addStateClass("looped"):this.removeStateClass("looped");this.css.jq.play.length&&this.css.jq.pause.length&&
(b?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide()));this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide()));this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),
this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%");this.css.jq.playBar.length&&(this.options.smoothPlayBar?this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear"):this.css.jq.playBar.width(this.status.currentPercentRelative+"%"));var b="";this.css.jq.currentTime.length&&(b=this._convertTime(this.status.currentTime),
b!==this.css.jq.currentTime.text()&&this.css.jq.currentTime.text(this._convertTime(this.status.currentTime)));var b="",c=this.status.duration,k=this.status.remaining;this.css.jq.duration.length&&("string"==typeof this.status.media.duration?b=this.status.media.duration:("number"==typeof this.status.media.duration&&(c=this.status.media.duration,k=c-this.status.currentTime),b=this.options.remainingDuration?(0<k?"-":"")+this._convertTime(k):this._convertTime(c)),b!==this.css.jq.duration.text()&&this.css.jq.duration.text(b))},
_convertTime:c.prototype.time,_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg");this.addStateClass("seeking")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg");this.removeStateClass("seeking")},_resetGate:function(){this.html.audio.gate=!1;this.html.video.gate=!1;this.aurora.gate=!1;this.flash.gate=!1},_resetActive:function(){this.html.active=!1;this.aurora.active=!1;this.flash.active=!1},_escapeHtml:function(b){return b.split("\x26").join("\x26amp;").split("\x3c").join("\x26lt;").split("\x3e").join("\x26gt;").split('"').join("\x26quot;")},
_qualifyURL:function(b){var c=document.createElement("div");return c.innerHTML='\x3ca href\x3d"'+this._escapeHtml(b)+'"\x3ex\x3c/a\x3e',c.firstChild.href},_absoluteMediaUrls:function(c){var h=this;return b.each(c,function(b,l){l&&h.format[b]&&"data:"!==l.substr(0,5)&&(c[b]=h._qualifyURL(l))}),c},addStateClass:function(b){this.ancestorJq.length&&this.ancestorJq.addClass(this.options.stateClass[b])},removeStateClass:function(b){this.ancestorJq.length&&this.ancestorJq.removeClass(this.options.stateClass[b])},
setMedia:function(c){var h=this,k=!1,l=this.status.media.poster!==c.poster;this._resetMedia();this._resetGate();this._resetActive();this.androidFix.setMedia=!1;this.androidFix.play=!1;this.androidFix.pause=!1;c=this._absoluteMediaUrls(c);b.each(this.formats,function(l,m){var p="video"===h.format[m].media;return b.each(h.solutions,function(l,u){if(h[u].support[m]&&h._validString(c[m]))return l="html"===u,u="aurora"===u,p?(l?(h.html.video.gate=!0,h._html_setVideo(c),h.html.active=!0):(h.flash.gate=
!0,h._flash_setVideo(c),h.flash.active=!0),h.css.jq.videoPlay.length&&h.css.jq.videoPlay.show(),h.status.video=!0):(l?(h.html.audio.gate=!0,h._html_setAudio(c),h.html.active=!0,b.jPlayer.platform.android&&(h.androidFix.setMedia=!0)):u?(h.aurora.gate=!0,h._aurora_setAudio(c),h.aurora.active=!0):(h.flash.gate=!0,h._flash_setAudio(c),h.flash.active=!0),h.css.jq.videoPlay.length&&h.css.jq.videoPlay.hide(),h.status.video=!1),k=!0,!1}),k?!1:void 0});k?(this.status.nativeVideoControls&&this.html.video.gate||
this._validString(c.poster)&&(l?this.htmlElement.poster.src=c.poster:this.internal.poster.jq.show()),"string"==typeof c.title&&(this.css.jq.title.length&&this.css.jq.title.html(c.title),this.htmlElement.audio&&this.htmlElement.audio.setAttribute("title",c.title),this.htmlElement.video&&this.htmlElement.video.setAttribute("title",c.title)),this.status.srcSet=!0,this.status.media=b.extend({},c),this._updateButtons(!1),this._updateInterface(),this._trigger(b.jPlayer.event.setmedia)):this._error({type:b.jPlayer.error.NO_SUPPORT,
context:"{supplied:'"+this.options.supplied+"'}",message:b.jPlayer.errorMsg.NO_SUPPORT,hint:b.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus();this._updateButtons(!1);this._updateInterface();this._seeked();this.internal.poster.jq.hide();clearTimeout(this.internal.htmlDlyCmdId);this.html.active?this._html_resetMedia():this.aurora.active?this._aurora_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia();this.html.active?this._html_clearMedia():
this.aurora.active?this._aurora_clearMedia():this.flash.active&&this._flash_clearMedia();this._resetGate();this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.aurora.active?this._aurora_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},focus:function(){this.options.keyEnabled&&(b.jPlayer.focus=this)},play:function(b){"object"==typeof b&&this.options.useStateClassSkin&&!this.status.paused?this.pause(b):(b="number"==typeof b?b:0/0,
this.status.srcSet?(this.focus(),this.html.active?this._html_play(b):this.aurora.active?this._aurora_play(b):this.flash.active&&this._flash_play(b)):this._urlNotSetError("play"))},videoPlay:function(){this.play()},pause:function(b){b="number"==typeof b?b:0/0;this.status.srcSet?this.html.active?this._html_pause(b):this.aurora.active?this._aurora_pause(b):this.flash.active&&this._flash_pause(b):this._urlNotSetError("pause")},tellOthers:function(c,h){var k=this,l="function"==typeof h,m=Array.prototype.slice.call(arguments);
"string"==typeof c&&(l&&m.splice(1,1),b.jPlayer.prototype.destroyRemoved(),b.each(this.instances,function(){k.element===this||l&&!h.call(this.data("jPlayer"),k)||this.jPlayer.apply(this,m)}))},pauseOthers:function(b){this.tellOthers("pause",function(){return this.status.srcSet},b)},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.aurora.active?this._aurora_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(b){b=this._limitValue(b,
0,100);this.status.srcSet?this.html.active?this._html_playHead(b):this.aurora.active?this._aurora_playHead(b):this.flash.active&&this._flash_playHead(b):this._urlNotSetError("playHead")},_muted:function(b){this.mutedWorker(b);this.options.globalVolume&&this.tellOthers("mutedWorker",function(){return this.options.globalVolume},b)},mutedWorker:function(c){this.options.muted=c;this.html.used&&this._html_setProperty("muted",c);this.aurora.used&&this._aurora_mute(c);this.flash.used&&this._flash_mute(c);
this.html.video.gate||this.html.audio.gate||(this._updateMute(c),this._updateVolume(this.options.volume),this._trigger(b.jPlayer.event.volumechange))},mute:function(b){"object"==typeof b&&this.options.useStateClassSkin&&this.options.muted?this._muted(!1):(b=b===h?!0:!!b,this._muted(b))},unmute:function(b){b=b===h?!0:!!b;this._muted(!b)},_updateMute:function(b){b===h&&(b=this.options.muted);b?this.addStateClass("muted"):this.removeStateClass("muted");this.css.jq.mute.length&&this.css.jq.unmute.length&&
(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):b?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(b){this.volumeWorker(b);this.options.globalVolume&&this.tellOthers("volumeWorker",function(){return this.options.globalVolume},b)},volumeWorker:function(c){c=this._limitValue(c,0,1);this.options.volume=c;this.html.used&&this._html_setProperty("volume",c);this.aurora.used&&this._aurora_volume(c);this.flash.used&&
this._flash_volume(c);this.html.video.gate||this.html.audio.gate||(this._updateVolume(c),this._trigger(b.jPlayer.event.volumechange))},volumeBar:function(c){if(this.css.jq.volumeBar.length){var h=b(c.currentTarget),k=h.offset(),l=c.pageX-k.left,m=h.width();c=h.height()-c.pageY+k.top;h=h.height();this.volume(this.options.verticalVolume?c/h:l/m)}this.options.muted&&this._muted(!1)},_updateVolume:function(b){b===h&&(b=this.options.volume);b=this.options.muted?0:b;this.status.noVolume?(this.addStateClass("noVolume"),
this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.removeStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](100*b+"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1);
this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(c){var h=this;this.options.cssSelectorAncestor=c;this._removeUiClass();this.ancestorJq=c?b(c):[];c&&1!==this.ancestorJq.length&&this._warning({type:b.jPlayer.warning.CSS_SELECTOR_COUNT,context:c,message:b.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:b.jPlayer.warningHint.CSS_SELECTOR_COUNT});this._addUiClass();b.each(this.options.cssSelector,function(b,c){h._cssSelector(b,c)});
this._updateInterface();this._updateButtons();this._updateAutohide();this._updateVolume();this._updateMute()},_cssSelector:function(c,h){var k=this;"string"==typeof h?b.jPlayer.prototype.options.cssSelector[c]?((this.css.jq[c]&&this.css.jq[c].length&&this.css.jq[c].unbind(".jPlayer"),this.options.cssSelector[c]=h,this.css.cs[c]=this.options.cssSelectorAncestor+" "+h,this.css.jq[c]=h?b(this.css.cs[c]):[],this.css.jq[c].length&&this[c])&&this.css.jq[c].bind("click.jPlayer",function(h){h.preventDefault();
k[c](h);k.options.autoBlur?b(this).blur():b(this).focus()}),h&&1!==this.css.jq[c].length&&this._warning({type:b.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[c],message:b.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[c].length+" found for "+c+" method.",hint:b.jPlayer.warningHint.CSS_SELECTOR_COUNT})):this._warning({type:b.jPlayer.warning.CSS_SELECTOR_METHOD,context:c,message:b.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:b.jPlayer.warningHint.CSS_SELECTOR_METHOD}):this._warning({type:b.jPlayer.warning.CSS_SELECTOR_STRING,
context:h,message:b.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:b.jPlayer.warningHint.CSS_SELECTOR_STRING})},duration:function(b){this.options.toggleDuration&&(this.options.captureDuration&&b.stopPropagation(),this._setOption("remainingDuration",!this.options.remainingDuration))},seekBar:function(c){if(this.css.jq.seekBar.length){var h=b(c.currentTarget),k=h.offset();c=c.pageX-k.left;h=h.width();this.playHead(100*c/h)}},playbackRate:function(b){this._setOption("playbackRate",b)},playbackRateBar:function(c){if(this.css.jq.playbackRateBar.length){var h=
b(c.currentTarget),k=h.offset(),l=c.pageX-k.left,m=h.width();c=h.height()-c.pageY+k.top;h=h.height();this.playbackRate((this.options.verticalPlaybackRate?c/h:l/m)*(this.options.maxPlaybackRate-this.options.minPlaybackRate)+this.options.minPlaybackRate)}},_updatePlaybackRate:function(){var b=(this.options.playbackRate-this.options.minPlaybackRate)/(this.options.maxPlaybackRate-this.options.minPlaybackRate);this.status.playbackRateEnabled?(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.show(),
this.css.jq.playbackRateBarValue.length&&(this.css.jq.playbackRateBarValue.show(),this.css.jq.playbackRateBarValue[this.options.verticalPlaybackRate?"height":"width"](100*b+"%"))):(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.hide(),this.css.jq.playbackRateBarValue.length&&this.css.jq.playbackRateBarValue.hide())},repeat:function(b){this._loop("object"==typeof b&&this.options.useStateClassSkin&&this.options.loop?!1:!0)},repeatOff:function(){this._loop(!1)},_loop:function(c){this.options.loop!==
c&&(this.options.loop=c,this._updateButtons(),this._trigger(b.jPlayer.event.repeat))},option:function(c,l){var k=c;if(0===arguments.length)return b.extend(!0,{},this.options);if("string"==typeof c){var m=c.split(".");if(l===h){for(var k=b.extend(!0,{},this.options),v=0;v<m.length;v++){if(k[m[v]]===h)return this._warning({type:b.jPlayer.warning.OPTION_KEY,context:c,message:b.jPlayer.warningMsg.OPTION_KEY,hint:b.jPlayer.warningHint.OPTION_KEY}),h;k=k[m[v]]}return k}for(var v=k={},q=0;q<m.length;q++)q<
m.length-1?(v[m[q]]={},v=v[m[q]]):v[m[q]]=l}return this._setOptions(k),this},_setOptions:function(c){var h=this;return b.each(c,function(b,c){h._setOption(b,c)}),this},_setOption:function(c,h){var k=this;switch(c){case "volume":this.volume(h);break;case "muted":this._muted(h);break;case "globalVolume":this.options[c]=h;break;case "cssSelectorAncestor":this._cssSelectorAncestor(h);break;case "cssSelector":b.each(h,function(b,c){k._cssSelector(b,c)});break;case "playbackRate":this.options[c]=h=this._limitValue(h,
this.options.minPlaybackRate,this.options.maxPlaybackRate);this.html.used&&this._html_setProperty("playbackRate",h);this._updatePlaybackRate();break;case "defaultPlaybackRate":this.options[c]=h=this._limitValue(h,this.options.minPlaybackRate,this.options.maxPlaybackRate);this.html.used&&this._html_setProperty("defaultPlaybackRate",h);this._updatePlaybackRate();break;case "minPlaybackRate":this.options[c]=h=this._limitValue(h,.1,this.options.maxPlaybackRate-.1);this._updatePlaybackRate();break;case "maxPlaybackRate":this.options[c]=
h=this._limitValue(h,this.options.minPlaybackRate+.1,16);this._updatePlaybackRate();break;case "fullScreen":if(this.options[c]!==h){var l=b.jPlayer.nativeFeatures.fullscreen.used.webkitVideo;(!l||l&&!this.status.waitForPlay)&&(l||(this.options[c]=h),h?this._requestFullscreen():this._exitFullscreen(),l||this._setOption("fullWindow",h))}break;case "fullWindow":this.options[c]!==h&&(this._removeUiClass(),this.options[c]=h,this._refreshSize());break;case "size":this.options.fullWindow||this.options[c].cssClass===
h.cssClass||this._removeUiClass();this.options[c]=b.extend({},this.options[c],h);this._refreshSize();break;case "sizeFull":this.options.fullWindow&&this.options[c].cssClass!==h.cssClass&&this._removeUiClass();this.options[c]=b.extend({},this.options[c],h);this._refreshSize();break;case "autohide":this.options[c]=b.extend({},this.options[c],h);this._updateAutohide();break;case "loop":this._loop(h);break;case "remainingDuration":this.options[c]=h;this._updateInterface();break;case "toggleDuration":this.options[c]=
h;break;case "nativeVideoControls":this.options[c]=b.extend({},this.options[c],h);this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this._restrictNativeVideoControls();this._updateNativeVideoControls();break;case "noFullWindow":this.options[c]=b.extend({},this.options[c],h);this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow);this._restrictNativeVideoControls();this._updateButtons();
break;case "noVolume":this.options[c]=b.extend({},this.options[c],h);this.status.noVolume=this._uaBlocklist(this.options.noVolume);this._updateVolume();this._updateMute();break;case "emulateHtml":this.options[c]!==h&&(this.options[c]=h,h?this._emulateHtmlBridge():this._destroyHtmlBridge());break;case "timeFormat":this.options[c]=b.extend({},this.options[c],h);break;case "keyEnabled":(this.options[c]=h)||this!==b.jPlayer.focus||(b.jPlayer.focus=null);break;case "keyBindings":this.options[c]=b.extend(!0,
{},this.options[c],h);break;case "audioFullScreen":this.options[c]=h;break;case "autoBlur":this.options[c]=h}return this},_refreshSize:function(){this._setSize();this._addUiClass();this._updateSize();this._updateButtons();this._updateAutohide();this._trigger(b.jPlayer.event.resize)},_setSize:function(){this.options.fullWindow?(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,
this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass);this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height});!this.status.waitForPlay&&this.html.active&&
this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var b=this,c=function(k){var c,h,l=!1;"undefined"!=typeof b.internal.mouse?(c=b.internal.mouse.x-k.pageX,h=b.internal.mouse.y-k.pageY,l=0<Math.floor(c)||0<
Math.floor(h)):l=!0;b.internal.mouse={x:k.pageX,y:k.pageY};l&&b.css.jq.gui.fadeIn(b.options.autohide.fadeIn,function(){clearTimeout(b.internal.autohideId);b.internal.autohideId=setTimeout(function(){b.css.jq.gui.fadeOut(b.options.autohide.fadeOut)},b.options.autohide.hold)})};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),delete this.internal.mouse,this.element.unbind(".jPlayerAutohide"),this.css.jq.gui.unbind(".jPlayerAutohide"),this.status.nativeVideoControls?
this.css.jq.gui.hide():this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored?(this.element.bind("mousemove.jPlayer.jPlayerAutohide",c),this.css.jq.gui.bind("mousemove.jPlayer.jPlayerAutohide",c),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(b){"object"==typeof b&&this.options.useStateClassSkin&&this.options.fullScreen?this._setOption("fullScreen",!1):this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",
!1)},_fullscreenAddEventListeners:function(){var c=this,h=b.jPlayer.nativeFeatures.fullscreen;h.api.fullscreenEnabled&&h.event.fullscreenchange&&("function"!=typeof this.internal.fullscreenchangeHandler&&(this.internal.fullscreenchangeHandler=function(){c._fullscreenchange()}),document.addEventListener(h.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1))},_fullscreenRemoveEventListeners:function(){var c=b.jPlayer.nativeFeatures.fullscreen;this.internal.fullscreenchangeHandler&&document.removeEventListener(c.event.fullscreenchange,
this.internal.fullscreenchangeHandler,!1)},_fullscreenchange:function(){this.options.fullScreen&&!b.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()&&this._setOption("fullScreen",!1)},_requestFullscreen:function(){var c=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],h=b.jPlayer.nativeFeatures.fullscreen;h.used.webkitVideo&&(c=this.htmlElement.video);h.api.fullscreenEnabled&&h.api.requestFullscreen(c)},_exitFullscreen:function(){var c,h=b.jPlayer.nativeFeatures.fullscreen;h.used.webkitVideo&&
(c=this.htmlElement.video);h.api.fullscreenEnabled&&h.api.exitFullscreen(c)},_html_initMedia:function(c){var h=b(this.htmlElement.media).empty();b.each(c.track||[],function(b,c){b=document.createElement("track");b.setAttribute("kind",c.kind?c.kind:"");b.setAttribute("src",c.src?c.src:"");b.setAttribute("srclang",c.srclang?c.srclang:"");b.setAttribute("label",c.label?c.label:"");c.def&&b.setAttribute("default",c.def);h.append(b)});this.htmlElement.media.src=this.status.src;"none"!==this.options.preload&&
this._html_load();this._trigger(b.jPlayer.event.timeupdate)},_html_setFormat:function(c){var h=this;b.each(this.formats,function(b,l){return h.html.support[l]&&c[l]?(h.status.src=c[l],h.status.format[l]=!0,h.status.formatType=l,!1):void 0})},_html_setAudio:function(b){this._html_setFormat(b);this.htmlElement.media=this.htmlElement.audio;this._html_initMedia(b)},_html_setVideo:function(b){this._html_setFormat(b);this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(b.poster)?
b.poster:"");this.htmlElement.media=this.htmlElement.video;this._html_initMedia(b)},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id!==this.internal.video.id||this.status.nativeVideoControls||this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="about:blank",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=
!1,this.htmlElement.media.load());clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(b){var c=this,k=this.htmlElement.media;if(this.androidFix.pause=!1,this._html_load(),this.androidFix.setMedia)this.androidFix.play=!0,this.androidFix.time=b;else if(isNaN(b))k.play();else{this.internal.cmdsIgnored&&k.play();try{if(k.seekable&&!("object"==typeof k.seekable&&0<k.seekable.length))throw 1;k.currentTime=b;k.play()}catch(h){return void(this.internal.htmlDlyCmdId=setTimeout(function(){c.play(b)},
250))}}this._html_checkWaitForPlay()},_html_pause:function(b){var c=this,k=this.htmlElement.media;if(this.androidFix.play=!1,0<b?this._html_load():clearTimeout(this.internal.htmlDlyCmdId),k.pause(),this.androidFix.setMedia)this.androidFix.pause=!0,this.androidFix.time=b;else if(!isNaN(b))try{if(k.seekable&&!("object"==typeof k.seekable&&0<k.seekable.length))throw 1;k.currentTime=b}catch(h){return void(this.internal.htmlDlyCmdId=setTimeout(function(){c.pause(b)},250))}0<b&&this._html_checkWaitForPlay()},
_html_playHead:function(b){var c=this,k=this.htmlElement.media;this._html_load();try{if("object"==typeof k.seekable&&0<k.seekable.length)k.currentTime=b*k.seekable.end(k.seekable.length-1)/100;else{if(!(0<k.duration)||isNaN(k.duration))throw"e";k.currentTime=b*k.duration/100}}catch(h){return void(this.internal.htmlDlyCmdId=setTimeout(function(){c.playHead(b)},250))}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=
!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_setProperty:function(b,c){this.html.audio.available&&(this.htmlElement.audio[b]=c);this.html.video.available&&(this.htmlElement.video[b]=c)},_aurora_setAudio:function(c){var h=this;b.each(this.formats,function(b,l){return h.aurora.support[l]&&c[l]?(h.status.src=c[l],h.status.format[l]=!0,h.status.formatType=
l,!1):void 0});this.aurora.player=new AV.Player.fromURL(this.status.src);this._addAuroraEventListeners(this.aurora.player,this.aurora);"auto"===this.options.preload&&(this._aurora_load(),this.status.waitForLoad=!1)},_aurora_resetMedia:function(){this.aurora.player&&this.aurora.player.stop()},_aurora_clearMedia:function(){},_aurora_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.aurora.player.preload())},_aurora_play:function(c){this.status.waitForLoad||isNaN(c)||this.aurora.player.seek(c);
this.aurora.player.playing||this.aurora.player.play();this.status.waitForLoad=!1;this._aurora_checkWaitForPlay();this._updateButtons(!0);this._trigger(b.jPlayer.event.play)},_aurora_pause:function(c){isNaN(c)||this.aurora.player.seek(1E3*c);this.aurora.player.pause();0<c&&this._aurora_checkWaitForPlay();this._updateButtons(!1);this._trigger(b.jPlayer.event.pause)},_aurora_playHead:function(b){0<this.aurora.player.duration&&this.aurora.player.seek(b*this.aurora.player.duration/100);this.status.waitForLoad||
this._aurora_checkWaitForPlay()},_aurora_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1)},_aurora_volume:function(b){this.aurora.player.volume=100*b},_aurora_mute:function(b){b?(this.aurora.properties.lastvolume=this.aurora.player.volume,this.aurora.player.volume=0):this.aurora.player.volume=this.aurora.properties.lastvolume;this.aurora.properties.muted=b},_flash_setAudio:function(c){var h=this;try{b.each(this.formats,function(b,l){if(h.flash.support[l]&&c[l]){switch(l){case "m4a":case "fla":h._getMovie().fl_setAudio_m4a(c[l]);
break;case "mp3":h._getMovie().fl_setAudio_mp3(c[l]);break;case "rtmpa":h._getMovie().fl_setAudio_rtmp(c[l])}return h.status.src=c[l],h.status.format[l]=!0,h.status.formatType=l,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(k){this._flashError(k)}},_flash_setVideo:function(c){var h=this;try{b.each(this.formats,function(b,l){if(h.flash.support[l]&&c[l]){switch(l){case "m4v":case "flv":h._getMovie().fl_setVideo_m4v(c[l]);break;case "rtmpv":h._getMovie().fl_setVideo_rtmp(c[l])}return h.status.src=
c[l],h.status.format[l]=!0,h.status.formatType=l,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(k){this._flashError(k)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"});this._flash_pause(0/0)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(b){this._flashError(b)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(b){this._flashError(b)}this.status.waitForLoad=!1},_flash_play:function(b){try{this._getMovie().fl_play(b)}catch(c){this._flashError(c)}this.status.waitForLoad=
!1;this._flash_checkWaitForPlay()},_flash_pause:function(b){try{this._getMovie().fl_pause(b)}catch(c){this._flashError(c)}0<b&&(this.status.waitForLoad=!1,this._flash_checkWaitForPlay())},_flash_playHead:function(b){try{this._getMovie().fl_play_head(b)}catch(c){this._flashError(c)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&
(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(b){try{this._getMovie().fl_volume(b)}catch(c){this._flashError(c)}},_flash_mute:function(b){try{this._getMovie().fl_mute(b)}catch(c){this._flashError(c)}},_getMovie:function(){return document[this.internal.flash.id]},_getFlashPluginVersion:function(){var b,c=0;if(window.ActiveXObject)try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");var k=b.GetVariable("$version");
k&&(k=k.split(" ")[1].split(","),c=parseInt(k[0],10)+"."+parseInt(k[1],10))}catch(h){}else navigator.plugins&&0<navigator.mimeTypes.length&&(b=navigator.plugins["Shockwave Flash"],b&&(c=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1")));return 1*c},_checkForFlash:function(b){var c=!1;return this._getFlashPluginVersion()>=b&&(c=!0),c},_validString:function(b){return b&&"string"==typeof b},_limitValue:function(b,c,k){return c>b?c:b>k?k:b},_urlNotSetError:function(c){this._error({type:b.jPlayer.error.URL_NOT_SET,
context:c,message:b.jPlayer.errorMsg.URL_NOT_SET,hint:b.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(c){var h;h=this.internal.ready?"FLASH_DISABLED":"FLASH";this._error({type:b.jPlayer.error[h],context:this.internal.flash.swf,message:b.jPlayer.errorMsg[h]+c.message,hint:b.jPlayer.errorHint[h]});this.internal.flash.jq.css({width:"1px",height:"1px"})},_error:function(c){this._trigger(b.jPlayer.event.error,c);this.options.errorAlerts&&this._alert("Error!"+(c.message?"\n"+c.message:"")+(c.hint?
"\n"+c.hint:"")+"\nContext: "+c.context)},_warning:function(c){this._trigger(b.jPlayer.event.warning,h,c);this.options.warningAlerts&&this._alert("Warning!"+(c.message?"\n"+c.message:"")+(c.hint?"\n"+c.hint:"")+"\nContext: "+c.context)},_alert:function(b){b="jPlayer "+this.version.script+" : id\x3d'"+this.internal.self.id+"' : "+b;this.options.consoleAlerts||alert(b)},_emulateHtmlBridge:function(){var c=this;b.each(b.jPlayer.emulateMethods.split(/\s+/g),function(b,k){c.internal.domNode[k]=function(b){c[k](b)}});
b.each(b.jPlayer.event,function(h,k){var l=!0;b.each(b.jPlayer.reservedEvent.split(/\s+/g),function(b,k){return k===h?(l=!1,!1):void 0});l&&c.element.bind(k+".jPlayer.jPlayerHtml",function(){c._emulateHtmlUpdate();var b=document.createEvent("Event");b.initEvent(h,!1,!0);c.internal.domNode.dispatchEvent(b)})})},_emulateHtmlUpdate:function(){var c=this;b.each(b.jPlayer.emulateStatus.split(/\s+/g),function(b,k){c.internal.domNode[k]=c.status[k]});b.each(b.jPlayer.emulateOptions.split(/\s+/g),function(b,
k){c.internal.domNode[k]=c.options[k]})},_destroyHtmlBridge:function(){var c=this;this.element.unbind(".jPlayerHtml");b.each((b.jPlayer.emulateMethods+" "+b.jPlayer.emulateStatus+" "+b.jPlayer.emulateOptions).split(/\s+/g),function(b,k){delete c.internal.domNode[k]})}};b.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"};b.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",
FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+b.jPlayer.prototype.version.script+
" needs Jplayer.swf version "+b.jPlayer.prototype.version.needFlash+" but found "};b.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."};
b.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"};b.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."};
b.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}});
(function(b,h){function c(b){B.put.call(this,b)}function l(b){this.parent=b;this.byStart=[{start:-1,end:-1}];this.byEnd=[{start:-1,end:-1}];this.animating=[];this.endIndex=this.startIndex=0;this.previousUpdateTime=-1;this.count=1}function m(b,k){return function(){if(y.plugin.debug)return b.apply(this,arguments);try{return b.apply(this,arguments)}catch(c){y.plugin.errors.push({plugin:k,thrown:c,source:b.toString()}),this.emit("pluginerror",y.plugin.errors)}}}if(h.addEventListener){var q=Array.prototype,
n=Object.prototype,r=q.forEach,k=q.slice,p=n.hasOwnProperty,v=n.toString,z=b.Popcorn,x=[],A=!1,u={hash:{},apis:{}},C=function(){return b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame||b.msRequestAnimationFrame||function(k,c){b.setTimeout(k,16)}}(),B={put:function(b){for(var k in b)b.hasOwnProperty(k)&&(this[k]=b[k])}},y=function(b,k){return new y.p.init(b,k||null)};y.version="@VERSION";y.isSupported=!0;y.instances=[];y.p=y.prototype={init:function(b,
k){var c,m=this;if("function"===typeof b)if("complete"===h.readyState)b(h,y);else{if(x.push(b),!A){A=!0;var u=function(){h.removeEventListener("DOMContentLoaded",u,!1);for(var b=0,k=x.length;b<k;b++)x[b].call(h,y);x=null};h.addEventListener("DOMContentLoaded",u,!1)}}else{if("string"===typeof b)try{c=h.querySelector(b)}catch(n){throw Error("Popcorn.js Error: Invalid media element selector: "+b);}this.media=c||b;c=this.media.nodeName&&this.media.nodeName.toLowerCase()||"video";this[c]=this.media;this.options=
y.extend({},k)||{};this.id=this.options.id||y.guid(c);if(y.byId(this.id))throw Error("Popcorn.js Error: Cannot use duplicate ID ("+this.id+")");this.isDestroyed=!1;this.data={running:{cue:[]},timeUpdate:y.nop,disabled:{},events:{},hooks:{},history:[],state:{volume:this.media.volume},trackRefs:{},trackEvents:new l(this)};y.instances.push(this);var p=function(){0>m.media.currentTime&&(m.media.currentTime=0);m.media.removeEventListener("loadedmetadata",p,!1);var b,k,c,h,l;b=m.media.duration;b=b!=b?Number.MAX_VALUE:
b+1;y.addTrackEvent(m,{start:b,end:b});m.isDestroyed||(m.data.durationChange=function(){var b=m.media.duration,k=b+1,c=m.data.trackEvents.byStart,h=m.data.trackEvents.byEnd;c.pop();h.pop();for(var l=h.length-1;0<l;l--)h[l].end>b&&m.removeTrackEvent(h[l]._id);for(h=0;h<c.length;h++)c[h].end>b&&m.removeTrackEvent(c[h]._id);m.data.trackEvents.byEnd.push({start:k,end:k});m.data.trackEvents.byStart.push({start:k,end:k})},m.media.addEventListener("durationchange",m.data.durationChange,!1));m.options.frameAnimation?
(m.data.timeUpdate=function(){y.timeUpdate(m,{});y.forEach(y.manifest,function(b,u){if(k=m.data.running[u])for(h=k.length,b=0;b<h;b++)c=k[b],(l=c._natives)&&l.frame&&l.frame.call(m,{},c,m.currentTime())});m.emit("timeupdate");!m.isDestroyed&&C(m.data.timeUpdate)},!m.isDestroyed&&C(m.data.timeUpdate)):(m.data.timeUpdate=function(b){y.timeUpdate(m,b)},m.isDestroyed||m.media.addEventListener("timeupdate",m.data.timeUpdate,!1))};m.media.addEventListener("error",function(){m.error=m.media.error},!1);1<=
m.media.readyState?p():m.media.addEventListener("loadedmetadata",p,!1);return this}}};y.p.init.prototype=y.p;y.byId=function(b){for(var k=y.instances,c=k.length,h=0;h<c;h++)if(k[h].id===b)return k[h];return null};y.forEach=function(b,k,c){if(!b||!k)return{};c=c||this;var h,l;if(r&&b.forEach===r)return b.forEach(k,c);if("[object NodeList]"===v.call(b)){h=0;for(l=b.length;h<l;h++)k.call(c,b[h],h,b);return b}for(h in b)p.call(b,h)&&k.call(c,b[h],h,b);return b};y.extend=function(b){var c=b,h=k.call(arguments,
1);y.forEach(h,function(b){for(var k in b)c[k]=b[k]});return c};y.extend(y,{noConflict:function(k){k&&(b.Popcorn=z);return y},error:function(b){throw Error(b);},guid:function(b){y.guid.counter++;return(b?b:"")+(+new Date+y.guid.counter)},sizeOf:function(b){var k=0,c;for(c in b)k++;return k},isArray:Array.isArray||function(b){return"[object Array]"===v.call(b)},nop:function(){},position:function(k){if(!k.parentNode)return null;k=k.getBoundingClientRect();var c={},l=h.documentElement,m=h.body,u,n,p;
u=l.clientTop||m.clientTop||0;n=l.clientLeft||m.clientLeft||0;p=b.pageYOffset&&l.scrollTop||m.scrollTop;l=b.pageXOffset&&l.scrollLeft||m.scrollLeft;u=Math.ceil(k.top+p-u);n=Math.ceil(k.left+l-n);for(var v in k)c[v]=Math.round(k[v]);return y.extend({},c,{top:u,left:n})},disable:function(b,k){if(!b.data.disabled[k]){b.data.disabled[k]=!0;if(k in y.registryByName&&b.data.running[k])for(var c=b.data.running[k].length-1,h;0<=c;c--)h=b.data.running[k][c],h._natives.end.call(b,null,h),b.emit("trackend",
y.extend({},h,{plugin:h.type,type:"trackend"}));return b}},enable:function(b,k){if(b.data.disabled[k]){b.data.disabled[k]=!1;if(k in y.registryByName&&b.data.running[k])for(var c=b.data.running[k].length-1,h;0<=c;c--)h=b.data.running[k][c],h._natives.start.call(b,null,h),b.emit("trackstart",y.extend({},h,{plugin:h.type,type:"trackstart",track:h}));return b}},destroy:function(b){var k=b.data.events,c=b.data.trackEvents,h,l,m,u;for(l in k){h=k[l];for(m in h)delete h[m];k[l]=null}for(u in y.registryByName)y.removePlugin(b,
u);c.byStart.length=0;c.byEnd.length=0;b.isDestroyed||(b.data.timeUpdate&&b.media.removeEventListener("timeupdate",b.data.timeUpdate,!1),b.isDestroyed=!0);y.instances.splice(y.instances.indexOf(b),1)}});y.guid.counter=1;y.extend(y.p,function(){var b={};y.forEach("load play pause currentTime playbackRate volume duration preload playbackRate autoplay loop controls muted buffered readyState seeking paused played seekable ended".split(/\s+/g),function(k){b[k]=function(b){var c;return"function"===typeof this.media[k]?
(null!=b&&/play|pause/.test(k)&&(this.media.currentTime=y.util.toSeconds(b)),this.media[k](),this):null!=b?(c=this.media[k],this.media[k]=b,c!==b&&this.emit("attrchange",{attribute:k,previousValue:c,currentValue:b}),this):this.media[k]}});return b}());y.forEach(["enable","disable"],function(b){y.p[b]=function(k){return y[b](this,k)}});y.extend(y.p,{roundTime:function(){return Math.round(this.media.currentTime)},exec:function(b,k,h){var l=arguments.length,m="trackadded",u,n;try{n=y.util.toSeconds(b)}catch(p){}"number"===
typeof n&&(b=n);if("number"===typeof b&&2===l)h=k,k=b,b=y.guid("cue");else if(1===l)k=-1;else if(u=this.getTrackEvent(b))this.data.trackEvents.remove(b),c.end(this,u),y.removeTrackEvent.ref(this,b),m="cuechange","string"===typeof b&&2===l&&("number"===typeof k&&(h=u._natives.start),"function"===typeof k&&(h=k,k=u.start));else if(2<=l){if("string"===typeof k){try{n=y.util.toSeconds(k)}catch(p){}k=n}"number"===typeof k&&(h=h||y.nop());"function"===typeof k&&(h=k,k=-1)}l={id:b,start:k,end:k+1,_running:!1,
_natives:{start:h||y.nop,end:y.nop,type:"cue"}};u&&(l=y.extend(u,l));"cuechange"===m?(l._id=l.id||l._id||y.guid(l._natives.type),this.data.trackEvents.add(l),c.start(this,l),this.timeUpdate(this,null,!0),y.addTrackEvent.ref(this,l),this.emit(m,y.extend({},l,{id:b,type:m,previousValue:{time:u.start,fn:u._natives.start},currentValue:{time:k,fn:h||y.nop},track:u}))):y.addTrackEvent(this,l);return this},mute:function(b){b=null==b||!0===b?"muted":"unmuted";"unmuted"===b&&(this.media.muted=!1,this.media.volume=
this.data.state.volume);"muted"===b&&(this.data.state.volume=this.media.volume,this.media.muted=!0);this.emit(b);return this},unmute:function(b){return this.mute(null==b?!1:!b)},position:function(){return y.position(this.media)},toggle:function(b){return y[this.data.disabled[b]?"enable":"disable"](this,b)},defaults:function(b,k){if(y.isArray(b))return y.forEach(b,function(b){for(var k in b)this.defaults(k,b[k])},this),this;this.options.defaults||(this.options.defaults={});this.options.defaults[b]||
(this.options.defaults[b]={});y.extend(this.options.defaults[b],k);return this}});y.Events={UIEvents:"blur focus focusin focusout load resize scroll unload",MouseEvents:"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave click dblclick",Events:"loadstart progress suspend emptied stalled play pause error loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange"};y.Events.Natives=y.Events.UIEvents+" "+y.Events.MouseEvents+
" "+y.Events.Events;u.apiTypes=["UIEvents","MouseEvents","Events"];(function(b,k){for(var c=u.apiTypes,h=b.Natives.split(/\s+/g),l=0,m=h.length;l<m;l++)k.hash[h[l]]=!0;c.forEach(function(c,h){k.apis[c]={};h=b[c].split(/\s+/g);for(var l=h.length,m=0;m<l;m++)k.apis[c][h[m]]=!0})})(y.Events,u);y.events={isNative:function(b){return!!u.hash[b]},getInterface:function(b){if(!y.events.isNative(b))return!1;for(var k=u.apiTypes,c=u.apis,h=0,l=k.length,m,n;h<l;h++)if(n=k[h],c[n][b]){m=n;break}return m},all:y.Events.Natives.split(/\s+/g),
fn:{trigger:function(k,c){var l,m=this.data.events[k];if(m){if(l=y.events.getInterface(k))return l=h.createEvent(l),l.initEvent(k,!0,!0,b,1),this.media.dispatchEvent(l),this;for(l=m.slice();l.length;)l.shift().call(this,c)}return this},listen:function(b,k){var c=this,h=!0,l=y.events.hooks[b],m,u;if("function"!==typeof k)throw Error("Popcorn.js Error: Listener is not a function");this.data.events[b]||(this.data.events[b]=[],h=!1);l&&(l.add&&l.add.call(this,{},k),l.bind&&(b=l.bind),l.handler&&(u=k,
k=function(b){l.handler.call(c,b,u)}),h=!0,this.data.events[b]||(this.data.events[b]=[],h=!1));this.data.events[b].push(k);!h&&-1<y.events.all.indexOf(b)&&this.media.addEventListener(b,function(k){if(c.data.events[b])for(m=c.data.events[b].slice();m.length;)m.shift().call(c,k)},!1);return this},unlisten:function(b,k){var c,h=this.data.events[b];if(h){if("string"===typeof k){for(c=0;c<h.length;c++)h[c].name===k&&h.splice(c--,1);return this}if("function"===typeof k){for(;-1!==c;)c=h.indexOf(k),-1!==
c&&h.splice(c,1);return this}this.data.events[b]=null;return this}}},hooks:{canplayall:{bind:"canplaythrough",add:function(b,k){var c=!1;this.media.readyState&&(setTimeout(function(){k.call(this,b)}.bind(this),0),c=!0);this.data.hooks.canplayall={fired:c}},handler:function(b,k){this.data.hooks.canplayall.fired||(k.call(this,b),this.data.hooks.canplayall.fired=!0)}}}};y.forEach([["trigger","emit"],["listen","on"],["unlisten","off"]],function(b){y.p[b[0]]=y.p[b[1]]=y.events.fn[b[0]]});c.start=function(b,
k){k.end>b.media.currentTime&&k.start<=b.media.currentTime&&!k._running&&(k._running=!0,b.data.running[k._natives.type].push(k),b.data.disabled[k._natives.type]||(k._natives.start.call(b,null,k),b.emit("trackstart",y.extend({},k,{plugin:k._natives.type,type:"trackstart",track:k}))))};c.end=function(b,k){var c;(k.end<=b.media.currentTime||k.start>b.media.currentTime)&&k._running&&(c=b.data.running[k._natives.type],k._running=!1,c.splice(c.indexOf(k),1),b.data.disabled[k._natives.type]||(k._natives.end.call(b,
null,k),b.emit("trackend",y.extend({},k,{plugin:k._natives.type,type:"trackend",track:k}))))};l.prototype.where=function(b){return(this.parent.getTrackEvents()||[]).filter(function(k){var c,h;if(!b)return!0;for(c in b){h=b[c];var l;(l=k[c]&&k[c]===h)||(l=k._natives,l=l[c]&&l[c]===h);if(l)return!0}return!1})};l.prototype.add=function(b){var k=this.byStart,c=this.byEnd,h;b&&b._id&&this.parent.data.history.push(b._id);b.start=y.util.toSeconds(b.start,this.parent.options.framerate);b.end=y.util.toSeconds(b.end,
this.parent.options.framerate);for(h=k.length-1;0<=h;h--)if(b.start>=k[h].start){k.splice(h+1,0,b);break}for(k=c.length-1;0<=k;k--)if(b.end>c[k].end){c.splice(k+1,0,b);break}h<=this.parent.data.trackEvents.startIndex&&b.start<=this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.startIndex++;k<=this.parent.data.trackEvents.endIndex&&b.end<this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.endIndex++;this.count++};l.prototype.remove=function(b,k){b instanceof
c&&(b=b.id);if("object"===typeof b)return this.where(b).forEach(function(b){this.removeTrackEvent(b._id)},this.parent),this;var h,l;l=this.byStart.length;for(var m=0,u=0,n=[],p=[],v=[],q=[];-1<--l;)k=this.byStart[m],h=this.byEnd[m],k._id||(n.push(k),p.push(h)),k._id&&(k._id!==b&&n.push(k),h._id!==b&&p.push(h),k._id===b&&(u=m)),m++;l=this.animating.length;m=0;if(l)for(;-1<--l;)k=this.animating[m],k._id||v.push(k),k._id&&k._id!==b&&v.push(k),m++;u<=this.startIndex&&this.startIndex--;u<=this.endIndex&&
this.endIndex--;this.byStart=n;this.byEnd=p;this.animating=v;this.count--;l=this.parent.data.history.length;for(m=0;m<l;m++)this.parent.data.history[m]!==b&&q.push(this.parent.data.history[m]);this.parent.data.history=q};y.addTrackEvent=function(b,k){var h;k instanceof c||((k=new c(k),k._natives)&&k._natives.type&&b.options.defaults&&b.options.defaults[k._natives.type]&&(h=y.extend({},k),y.extend(k,b.options.defaults[k._natives.type],h)),k._natives&&(k._id=k.id||k._id||y.guid(k._natives.type),k._natives._setup&&
(k._natives._setup.call(b,k),b.emit("tracksetup",y.extend({},k,{plugin:k._natives.type,type:"tracksetup",track:k})))),b.data.trackEvents.add(k),c.start(b,k),this.timeUpdate(b,null,!0),k._id&&y.addTrackEvent.ref(b,k),b.emit("trackadded",y.extend({},k,k._natives?{plugin:k._natives.type}:{},{type:"trackadded",track:k})))};y.addTrackEvent.ref=function(b,k){b.data.trackRefs[k._id]=k;return b};y.removeTrackEvent=function(b,k){var c=b.getTrackEvent(k);c&&(c._natives._teardown&&c._natives._teardown.call(b,
c),b.data.trackEvents.remove(k),y.removeTrackEvent.ref(b,k),c._natives&&b.emit("trackremoved",y.extend({},c,{plugin:c._natives.type,type:"trackremoved",track:c})))};y.removeTrackEvent.ref=function(b,k){delete b.data.trackRefs[k];return b};y.getTrackEvents=function(b){var k=[];b=b.data.trackEvents.byStart;for(var c=b.length,h=0,l;h<c;h++)l=b[h],l._id&&k.push(l);return k};y.getTrackEvents.ref=function(b){return b.data.trackRefs};y.getTrackEvent=function(b,k){return b.data.trackRefs[k]};y.getTrackEvent.ref=
function(b,k){return b.data.trackRefs[k]};y.getLastTrackEventId=function(b){return b.data.history[b.data.history.length-1]};y.timeUpdate=function(b,k){var c=b.media.currentTime,h=b.data.trackEvents.previousUpdateTime,l=b.data.trackEvents,m=l.endIndex,u=l.startIndex,n=l.byStart.length,p=l.byEnd.length,v=y.registryByName,q,x,z;if(h<=c){for(;l.byEnd[m]&&l.byEnd[m].end<=c;)if(q=l.byEnd[m],x=(h=q._natives)&&h.type,!h||v[x]||b[x])!0===q._running&&(q._running=!1,z=b.data.running[x],z.splice(z.indexOf(q),
1),b.data.disabled[x]||(h.end.call(b,k,q),b.emit("trackend",y.extend({},q,{plugin:x,type:"trackend",track:q})))),m++;else{y.removeTrackEvent(b,q._id);return}for(;l.byStart[u]&&l.byStart[u].start<=c;)if(q=l.byStart[u],x=(h=q._natives)&&h.type,!h||v[x]||b[x])q.end>c&&!1===q._running&&(q._running=!0,b.data.running[x].push(q),b.data.disabled[x]||(h.start.call(b,k,q),b.emit("trackstart",y.extend({},q,{plugin:x,type:"trackstart",track:q})))),u++;else{y.removeTrackEvent(b,q._id);return}}else if(h>c){for(;l.byStart[u]&&
l.byStart[u].start>c;)if(q=l.byStart[u],x=(h=q._natives)&&h.type,!h||v[x]||b[x])!0===q._running&&(q._running=!1,z=b.data.running[x],z.splice(z.indexOf(q),1),b.data.disabled[x]||(h.end.call(b,k,q),b.emit("trackend",y.extend({},q,{plugin:x,type:"trackend",track:q})))),u--;else{y.removeTrackEvent(b,q._id);return}for(;l.byEnd[m]&&l.byEnd[m].end>c;)if(q=l.byEnd[m],x=(h=q._natives)&&h.type,!h||v[x]||b[x])q.start<=c&&!1===q._running&&(q._running=!0,b.data.running[x].push(q),b.data.disabled[x]||(h.start.call(b,
k,q),b.emit("trackstart",y.extend({},q,{plugin:x,type:"trackstart",track:q})))),m--;else{y.removeTrackEvent(b,q._id);return}}l.endIndex=m;l.startIndex=u;l.previousUpdateTime=c;l.byStart.length<n&&l.startIndex--;l.byEnd.length<p&&l.endIndex--};y.extend(y.p,{getTrackEvents:function(){return y.getTrackEvents.call(null,this)},getTrackEvent:function(b){return y.getTrackEvent.call(null,this,b)},getLastTrackEventId:function(){return y.getLastTrackEventId.call(null,this)},removeTrackEvent:function(b){y.removeTrackEvent.call(null,
this,b);return this},removePlugin:function(b){y.removePlugin.call(null,this,b);return this},timeUpdate:function(b){y.timeUpdate.call(null,this,b);return this},destroy:function(){y.destroy.call(null,this);return this}});y.manifest={};y.registry=[];y.registryByName={};y.plugin=function(b,h,l){if(0<=y.protect.natives.indexOf(b.toLowerCase()))y.error("'"+b+"' is a protected function name");else{var u="function"===typeof h,n=["start","end","type","manifest"],v=["_setup","_teardown","start","end","frame"],
q={},x=function(b,k){b=b||y.nop;k=k||y.nop;return function(){b.apply(this,arguments);k.apply(this,arguments)}};y.manifest[b]=l=l||h.manifest||{};v.forEach(function(k){h[k]=m(h[k]||y.nop,b)});var z=function(h,m){if(!m)return this;if(m.ranges&&y.isArray(m.ranges))return y.forEach(m.ranges,function(k){k=y.extend({},m,k);delete k.ranges;this[b](k)},this),this;var u=m._natives={},q="",z;y.extend(u,h);m._natives.type=m._natives.plugin=b;m._running=!1;u.start=u.start||u["in"];u.end=u.end||u.out;m.once&&
(u.end=x(u.end,function(){this.removeTrackEvent(m._id)}));u._teardown=x(function(){var b=k.call(arguments),c=this.data.running[u.type];b.unshift(null);b[1]._running&&c.splice(c.indexOf(m),1)&&u.end.apply(this,b);b[1]._running=!1;this.emit("trackend",y.extend({},m,{plugin:u.type,type:"trackend",track:y.getTrackEvent(this,m.id||m._id)}))},u._teardown);u._teardown=x(u._teardown,function(){this.emit("trackteardown",y.extend({},m,{plugin:b,type:"trackteardown",track:y.getTrackEvent(this,m.id||m._id)}))});
m.compose=m.compose||[];"string"===typeof m.compose&&(m.compose=m.compose.split(" "));m.effect=m.effect||[];"string"===typeof m.effect&&(m.effect=m.effect.split(" "));m.compose=m.compose.concat(m.effect);m.compose.forEach(function(b){q=y.compositions[b]||{};v.forEach(function(b){u[b]=x(u[b],q[b])})});m._natives.manifest=l;"start"in m||(m.start=m["in"]||0);m.end||0===m.end||(m.end=m.out||Number.MAX_VALUE);p.call(m,"toString")||(m.toString=function(){var k=["start: "+m.start,"end: "+m.end,"id: "+(m.id||
m._id)];null!=m.target&&k.push("target: "+m.target);return b+" ( "+k.join(", ")+" )"});m.target||(z="options"in l&&l.options,m.target=z&&"target"in z&&z.target);!m._id&&m._natives&&(m._id=y.guid(m._natives.type));m instanceof c?(m._natives&&(m._id=m.id||m._id||y.guid(m._natives.type),m._natives._setup&&(m._natives._setup.call(this,m),this.emit("tracksetup",y.extend({},m,{plugin:m._natives.type,type:"tracksetup",track:m})))),this.data.trackEvents.add(m),c.start(this,m),this.timeUpdate(this,null,!0),
m._id&&y.addTrackEvent.ref(this,m)):y.addTrackEvent(this,m);y.forEach(h,function(b,k){if(-1===n.indexOf(k))this.on(k,b)},this);return this};y.p[b]=q[b]=function(k,l){var m,n;if(k&&!l)l=k;else{if(m=this.getTrackEvent(k)){n=l;var v={},q;for(q in m)p.call(n,q)&&p.call(m,q)&&(v[q]=m[q]);if(m._natives._update)this.data.trackEvents.remove(m),p.call(l,"start")&&(m.start=l.start),p.call(l,"end")&&(m.end=l.end),c.end(this,m),u&&h.call(this,m),m._natives._update.call(this,m,l),this.data.trackEvents.add(m),
c.start(this,m);else return y.extend(m,l),this.data.trackEvents.remove(k),m._natives._teardown&&m._natives._teardown.call(this,m),y.removeTrackEvent.ref(this,k),u?z.call(this,h.call(this,m),m):(m._id=m.id||m._id||y.guid(m._natives.type),m._natives&&m._natives._setup&&(m._natives._setup.call(this,m),this.emit("tracksetup",y.extend({},m,{plugin:m._natives.type,type:"tracksetup",track:m}))),this.data.trackEvents.add(m),c.start(this,m),this.timeUpdate(this,null,!0),y.addTrackEvent.ref(this,m)),this.emit("trackchange",
{id:m.id,type:"trackchange",previousValue:v,currentValue:m,track:m}),this;"cue"!==m._natives.type&&this.emit("trackchange",{id:m.id,type:"trackchange",previousValue:v,currentValue:n,track:m});return this}l.id=k}this.data.running[b]=this.data.running[b]||[];m=y.extend({},this.options.defaults&&this.options.defaults[b]||{},l);z.call(this,u?h.call(this,m):h,m);return this};l&&y.extend(h,{manifest:l});var r={fn:q[b],definition:h,base:h,parents:[],name:b};y.registry.push(y.extend(q,r,{type:b}));y.registryByName[b]=
r;return q}};y.plugin.errors=[];y.plugin.debug="@VERSION"===y.version;y.removePlugin=function(b,k){if(!k){k=b;b=y.p;if(0<=y.protect.natives.indexOf(k.toLowerCase())){y.error("'"+k+"' is a protected function name");return}var c=y.registry.length,h;for(h=0;h<c;h++)if(y.registry[h].name===k){y.registry.splice(h,1);delete y.registryByName[k];delete y.manifest[k];delete b[k];return}}c=b.data.trackEvents.byStart;h=b.data.trackEvents.byEnd;var l=b.data.trackEvents.animating,m,u;m=0;for(u=c.length;m<u;m++)c[m]&&
c[m]._natives&&c[m]._natives.type===k&&(c[m]._natives._teardown&&c[m]._natives._teardown.call(b,c[m]),c.splice(m,1),m--,u--,b.data.trackEvents.startIndex<=m&&(b.data.trackEvents.startIndex--,b.data.trackEvents.endIndex--)),h[m]&&h[m]._natives&&h[m]._natives.type===k&&h.splice(m,1);m=0;for(u=l.length;m<u;m++)l[m]&&l[m]._natives&&l[m]._natives.type===k&&(l.splice(m,1),m--,u--)};y.compositions={};y.compose=function(b,k,c){y.manifest[b]=c||k.manifest||{};y.compositions[b]=k};y.plugin.effect=y.effect=
y.compose;var E=/^(?:\.|#|\[)/;y.dom={debug:!1,find:function(b,k){var c=null;k=k||h;if(b){if(!E.test(b)&&(c=h.getElementById(b),null!==c))return c;try{c=k.querySelector(b)}catch(l){if(y.dom.debug)throw Error(l);}}return c}};var F=/\?/,D={ajax:null,url:"",data:"",dataType:"",success:y.nop,type:"GET",async:!0,contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8"};y.xhr=function(b){b.dataType=b.dataType&&b.dataType.toLowerCase()||null;if(!b.dataType||"jsonp"!==b.dataType&&"script"!==b.dataType){if(b=
y.extend({},D,b),b.ajax=new XMLHttpRequest,b.ajax)return"GET"===b.type&&b.data&&(b.url+=(F.test(b.url)?"\x26":"?")+b.data,b.data=null),b.ajax.open(b.type,b.url,b.async),"POST"===b.type&&b.ajax.setRequestHeader("Content-Type",b.contentType),b.ajax.send(b.data||null),y.xhr.httpData(b)}else y.xhr.getJSONP(b.url,b.success,"script"===b.dataType)};y.xhr.httpData=function(b){var k,c=null,h,l=null;b.ajax.onreadystatechange=function(){if(4===b.ajax.readyState){try{c=JSON.parse(b.ajax.responseText)}catch(m){}k=
{xml:b.ajax.responseXML,text:b.ajax.responseText,json:c};if(!k.xml||!k.xml.documentElement){k.xml=null;try{h=new DOMParser,l=h.parseFromString(b.ajax.responseText,"text/xml"),l.getElementsByTagName("parsererror").length||(k.xml=l)}catch(m){}}b.dataType&&(k=k[b.dataType]);b.success.call(b.ajax,k)}};return k};y.xhr.getJSONP=function(b,k,c){var l=h.head||h.getElementsByTagName("head")[0]||h.documentElement,m=h.createElement("script"),u=!1,n=[],n=/(=)\?(?=&|$)|\?\?/,p,v;c||(v=b.match(/(callback=[^&]*)/),
null!==v&&v.length?(n=v[1].split("\x3d")[1],"?"===n&&(n="jsonp"),p=y.guid(n),b=b.replace(/(callback=[^&]*)/,"callback\x3d"+p)):(p=y.guid("jsonp"),n.test(b)&&(b=b.replace(n,"$1"+p)),n=b.split(/\?(.+)?/),b=n[0]+"?",n[1]&&(b+=n[1]+"\x26"),b+="callback\x3d"+p),window[p]=function(b){k&&k(b);u=!0});m.addEventListener("load",function(){c&&k&&k();u&&delete window[p];l.removeChild(m)},!1);m.addEventListener("error",function(b){k&&k({error:b});c||delete window[p];l.removeChild(m)},!1);m.src=b;l.insertBefore(m,
l.firstChild)};y.getJSONP=y.xhr.getJSONP;y.getScript=y.xhr.getScript=function(b,k){return y.xhr.getJSONP(b,k,!0)};y.util={toSeconds:function(b,k){var c=/^([0-9]+:){0,2}[0-9]+([.;][0-9]+)?$/,h,l;if("number"===typeof b)return b;"string"!==typeof b||c.test(b)||y.error("Invalid time format");c=b.split(":");b=c.length-1;h=c[b];-1<h.indexOf(";")&&(h=h.split(";"),l=0,k&&"number"===typeof k&&(l=parseFloat(h[1],10)/k),c[b]=parseInt(h[0],10)+l);b=c[0];return{1:parseFloat(b,10),2:60*parseInt(b,10)+parseFloat(c[1],
10),3:3600*parseInt(b,10)+60*parseInt(c[1],10)+parseFloat(c[2],10)}[c.length||1]}};y.p.cue=y.p.exec;y.protect={natives:function(b){if(Object.keys)b=Object.keys(b);else{var k,c=[];for(k in b)p.call(b,k)&&c.push(k);b=c}return b}(y.p).map(function(b){return b.toLowerCase()})};y.forEach({listen:"on",unlisten:"off",trigger:"emit",exec:"cue"},function(b,k){var c=y.p[k];y.p[k]=function(){"undefined"!==typeof console&&console.warn&&(y.p[k]=c);return y.p[b].apply(this,[].slice.call(arguments))}});b.Popcorn=
y}else for(b.Popcorn={isSupported:!1},q="byId forEach extend effects error guid sizeOf isArray nop position disable enable destroyaddTrackEvent removeTrackEvent getTrackEvents getTrackEvent getLastTrackEventId timeUpdate plugin removePlugin compose effect xhr getJSONP getScript".split(/\s+/);q.length;)b.Popcorn[q.shift()]=function(){}})(window,window.document);
(function(b){var h=function(c,h){c=c||b.nop;h=h||b.nop;return function(){c.apply(this,arguments);h.apply(this,arguments)}};b.player=function(c,l){if(!b[c]){l=l||{};var m=function(c,m,r){r=r||{};var k=new Date/1E3,p=k,v=0,z=0,x=1,A=!1,u={},C="string"===typeof c?b.dom.find(c):c,B={};Object.prototype.__defineGetter__||(B=C||document.createElement("div"));for(var y in C)y in B||("object"===typeof C[y]?B[y]=C[y]:"function"===typeof C[y]?B[y]=function(b){return"length"in C[b]&&!C[b].call?C[b]:function(){return C[b].apply(C,
arguments)}}(y):b.player.defineProperty(B,y,{get:function(b){return function(){return C[b]}}(y),set:b.nop,configurable:!0}));var E=function(){k=new Date/1E3;B.paused||(B.currentTime+=k-p,B.dispatchEvent("timeupdate"),setTimeout(E,10));p=k};B.play=function(){this.paused=!1;4<=B.readyState&&(p=new Date/1E3,B.dispatchEvent("play"),E())};B.pause=function(){this.paused=!0;B.dispatchEvent("pause")};b.player.defineProperty(B,"currentTime",{get:function(){return v},set:function(b){v=+b;B.dispatchEvent("timeupdate");
return v},configurable:!0});b.player.defineProperty(B,"volume",{get:function(){return x},set:function(b){x=+b;B.dispatchEvent("volumechange");return x},configurable:!0});b.player.defineProperty(B,"muted",{get:function(){return A},set:function(b){A=+b;B.dispatchEvent("volumechange");return A},configurable:!0});b.player.defineProperty(B,"readyState",{get:function(){return z},set:function(b){return z=b},configurable:!0});B.addEventListener=function(b,k){u[b]||(u[b]=[]);u[b].push(k);return k};B.removeEventListener=
function(b,k){var c=u[b];if(c){for(b=u[b].length-1;0<=b;b--)k===c[b]&&c.splice(b,1);return k}};B.dispatchEvent=function(k){var c,h=k.type;!h&&(h=k,k=b.events.getInterface(h))&&(c=document.createEvent(k),c.initEvent(h,!0,!0,window,1));if(u[h])for(k=u[h].length-1;0<=k;k--)u[h][k].call(this,c,this)};B.src=m||"";B.duration=0;B.paused=!0;B.ended=0;r&&r.events&&b.forEach(r.events,function(b,k){B.addEventListener(k,b,!1)});!1!==l._canPlayType(C.nodeName,m)?l._setup?l._setup.call(B,r):(B.readyState=4,B.dispatchEvent("loadedmetadata"),
B.dispatchEvent("loadeddata"),B.dispatchEvent("canplaythrough")):setTimeout(function(){B.dispatchEvent("error")},0);c=new b.p.init(B,r);l._teardown&&(c.destroy=h(c.destroy,function(){l._teardown.call(B,r)}));return c};m.canPlayType=l._canPlayType=l._canPlayType||b.nop;b[c]=b.player.registry[c]=m}};b.player.registry={};b.player.defineProperty=Object.defineProperty||function(c,h,m){c.__defineGetter__(h,m.get||b.nop);c.__defineSetter__(h,m.set||b.nop)};b.player.playerQueue=function(){var b=[],h=!1;return{next:function(){h=
!1;b.shift();b[0]&&b[0]()},add:function(m){b.push(function(){h=!0;m&&m()});!h&&b[0]()}}};b.smart=function(c,h,m){var q="string"===typeof c?b.dom.find(c):c,n,r,k,p,v,z=["HTMLYouTubeVideoElement","HTMLVimeoVideoElement","HTMLSoundCloudAudioElement","HTMLNullVideoElement"];if(q){h="string"===typeof h?[h]:h;c=0;for(v=h.length;c<v;c++){n=h[c];for(r=0;r<z.length;r++)if((p=b[z[r]])&&"probably"===p._canPlaySrc(n))return k=p(q),m=b(k,m),setTimeout(function(){k.src=n},0),m;for(var x in b.player.registry)if(b.player.registry.hasOwnProperty(x)&&
b.player.registry[x].canPlayType(q.nodeName,n))return b[x](q,n,m)}var A;x=b.guid("popcorn-video-");r=document.createElement("div");r.style.width="100%";r.style.height="100%";if(1===h.length)return A=document.createElement("video"),A.id=x,q.appendChild(A),setTimeout(function(){var b=document.createElement("div");b.innerHTML=h[0];A.src=b.firstChild.nodeValue},0),b("#"+x,m);q.appendChild(r);z='\x3cvideo id\x3d"'+x+'" preload\x3dauto autobuffer\x3e';c=0;for(v=h.length;c<v;c++)z+='\x3csource src\x3d"'+
h[c]+'"\x3e';r.innerHTML=z+"\x3c/video\x3e";m&&m.events&&m.events.error&&q.addEventListener("error",m.events.error,!1);return b("#"+x,m)}b.error("Specified target `"+c+"` was not found.")}})(Popcorn);
(function(b){var h=Object.prototype.hasOwnProperty;b.parsers={};b.parser=function(c,l,m){if(0<=b.protect.natives.indexOf(c.toLowerCase()))b.error("'"+c+"' is a protected function name");else if("function"!==typeof l||m||(m=l,l=""),"function"===typeof m&&"string"===typeof l){var q={};q[c]=function(c,q,k){if(!c)return this;"function"===typeof q||k||(k=q,q=null);var p=this;b.xhr({url:c,dataType:l,success:function(b){var c,l,n=0;b=m(b,k).data||[];if(c=b.length){for(;n<c;n++){l=b[n];for(var u in l)if(h.call(l,
u)&&p[u])p[u](l[u])}q&&q()}}});return this};b.extend(b.p,q);return q}}})(Popcorn);
(function(b){function h(b,c){var h={};h[b]=c;return h}function c(b){b=b.split(":");try{var c=b[2].split(",");1===c.length&&(c=b[2].split("."));return 3600*parseFloat(b[0],10)+60*parseFloat(b[1],10)+parseFloat(c[0],10)+parseFloat(c[1],10)/1E3}catch(h){return 0}}b.parser("parseSRT",function(b,m){var q={title:"",remote:"",data:[]},n=[],r,k,p,v,z,x;k=b.text.split(/(?:\r\n|\r|\n)/gm);for(v=k.length-1;0<=v&&!k[v];)v--;z=v+1;for(b=0;b<z;b++){x={};for(v=[];!k[b];)b++;x.id=parseInt(k[b++],10);p=k[b++].split(/[\t ]*--\x3e[\t ]*/);
x.start=c(p[0]);r=p[1].indexOf(" ");-1!==r&&(p[1]=p[1].substr(0,r));for(x.end=c(p[1]);b<z&&k[b];)v.push(k[b++]);x.text=v.join("\\N").replace(/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,"");x.text=x.text.replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;");x.text=x.text.replace(/&lt;(\/?(font|b|u|i|s))((\s+(\w|\w[\w\-]*\w)(\s*=\s*(?:\".*?\"|'.*?'|[^'\">\s]+))?)+\s*|\s*)(\/?)&gt;/gi,"\x3c$1$3$7\x3e");x.text=x.text.replace(/\\N/gi,"\x3cbr /\x3e");m&&m.target&&(x.target=m.target);n.push(h("subtitle",x))}q.data=n;
return q})})(Popcorn);
(function(b){b.parser("parseSBV",function(b){var c={title:"",remote:"",data:[]},l=[],m=0,q=0,n=function(b){b=b.split(":");var k=b.length-1,c;try{c=60*parseInt(b[k-1],10)+parseFloat(b[k],10),2===k&&(c+=3600*parseInt(b[0],10))}catch(h){throw"Bad cue";}return c},r=function(b,k){var c={};c[b]=k;return c};b=b.text.split(/(?:\r\n|\r|\n)/gm);for(q=b.length;m<q;){var k={},p=[],v=b[m++].split(",");try{k.start=n(v[0]);for(k.end=n(v[1]);m<q&&b[m];)p.push(b[m++]);k.text=p.join("\x3cbr /\x3e");l.push(r("subtitle",
k))}catch(z){for(;m<q&&b[m];)m++}for(;m<q&&!b[m];)m++}c.data=l;return c})})(Popcorn);
(function(b){function h(b){var c=b.split(":");b=b.length;var h;if(12!==b&&9!==b)throw"Bad cue";b=c.length-1;try{h=60*parseInt(c[b-1],10)+parseFloat(c[b],10),2===b&&(h+=3600*parseInt(c[0],10))}catch(n){throw"Bad cue";}return h}function c(b,c){var h={};h[b]=c;return h}b.parser("parseVTT",function(b){var m={title:"",remote:"",data:[]},q=[],n=0,r,k,p;r=b.text.split(/(?:\r\n|\r|\n)/gm);b=r.length;if(0===b||"WEBVTT"!==r[0])return m;for(n++;n<b;){k=[];try{for(var v=n;v<b&&!r[v];)v++;var n=v,v=void 0,z=r[n++],
x={};if(!z)throw"Bad cue";if(-1===z.indexOf("--\x3e")){z=r[n];if(-1===z.indexOf("--\x3e"))throw"Bad cue";n++}v=z.replace(/--\x3e/," --\x3e ").split(/[\t ]+/);if(2>v.length)throw"Bad cue";x.id=z;x.start=h(v[0]);x.end=h(v[2]);for(p=x;n<b&&r[n];)k.push(r[n++]);p.text=k.join("\x3cbr /\x3e");q.push(c("subtitle",p))}catch(A){for(;n<b&&r[n];)n++}}m.data=q;return m})})(Popcorn);
(function(b){var h=0,c=function(c,h){var q=c.container=document.createElement("div"),n=q.style;q.id=h||b.guid();q.className="subClass";n.position="absolute";n.color="white";n.textShadow="black 2px 2px 6px";n.fontWeight="400";n.textAlign="center";c.media.parentNode.appendChild(q);return q};b.plugin("subtitle",{manifest:{about:{name:"Popcorn Subtitle Plugin",version:"0.1",author:"Scott Downe",website:"http://scottdowne.wordpress.com/"},options:{start:{elem:"input",type:"text",label:"Start"},end:{elem:"input",
type:"text",label:"End"},target:"subtitle-container",text:{elem:"input",type:"text",label:"Text"}}},_setup:function(b){var m=document.createElement("div");m.id="subtitle-"+h++;m.style.display="none";this.container||b.target&&"subtitle-container"!==b.target||c(this);b.container=b.target&&"subtitle-container"!==b.target?document.getElementById(b.target)||c(this,b.target):this.container;document.getElementById(b.container.id)&&document.getElementById(b.container.id).appendChild(m);b.innerContainer=m;
b.formatText=function(){b.text=b.text.replace("[br]","\x3cbr/\x3e")};b.showSubtitle=function(){b.formatText();var c=b.text?"\x26nbsp"+b.text.replace(/<br\s*[\/]?>/gi,"\x26nbsp\x3cbr\x3e\x26nbsp")+"\x26nbsp":"";b.innerContainer.innerHTML=c.replace("[br]","\x3cbr/\x3e")}},start:function(b,c){c.innerContainer.style.display="inline";c.showSubtitle(c,c.text)},end:function(b,c){c.innerContainer.style.display="none";c.innerContainer.innerHTML=""},_teardown:function(b){b.container.removeChild(b.innerContainer)}})})(Popcorn);
(function(b){var h=!1,c=!1,l={mp3:{codec:'audio/mpeg; codecs\x3d"mp3"',flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs\x3d"mp4a.40.2"',flashCanPlay:!0,media:"audio"},oga:{codec:'audio/ogg; codecs\x3d"vorbis"',flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs\x3d"1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs\x3d"vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs\x3d"rtmp"',flashCanPlay:!0,
media:"audio"},m4v:{codec:'video/mp4; codecs\x3d"avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},ogv:{codec:'video/ogg; codecs\x3d"theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs\x3d"vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs\x3d"rtmp"',flashCanPlay:!0,media:"video"}},m=function(b){return b&&"object"===typeof b&&b.hasOwnProperty?!0:!1},q=function(b){var k=!1;/\.mp3$/i.test(b)?
k="mp3":/\.mp4$/i.test(b)||/\.m4v$/i.test(b)?k="m4v":/\.m4a$/i.test(b)?k="m4a":/\.ogg$/i.test(b)||/\.oga$/i.test(b)?k="oga":/\.ogv$/i.test(b)?k="ogv":/\.webm$/i.test(b)&&(k="webmv");return k},n=function(b){var k="",c="";if(m(b))for(var h in b)b.hasOwnProperty(h)&&(k+=c+h,c=",");return k};b.player("jplayer",{_canPlayType:function(b,k){var c=b.toLowerCase(),h={media:{},options:{}};b=!1;if("video"!==c&&"audio"!==c&&("string"===typeof k?/^http.*/i.test(k)&&(c=q(k))&&(h.media[c]=k,h.options.solution="html,flash",
h.options.supplied=c):h=k,m(h)&&m(h.media))){m(h.options)||(h.options={});h.options.solution||(h.options.solution="html,flash");h.options.supplied||(h.options.supplied=n(h.media));k=h.options.solution.toLowerCase().split(",");for(var h=h.options.supplied.toLowerCase().split(","),z=0;z<k.length;z++)for(var c=k[z].replace(/^\s+|\s+$/g,""),x="html"===c,A="flash"===c,u,C=0;C<h.length;C++)if(c=h[C].replace(/^\s+|\s+$/g,""),l[c]){!u&&x&&(u=document.createElement(l[c].media));var B=!!(u&&u.canPlayType&&
u.canPlayType(l[c].codec))&&x,y=l[c].flashCanPlay&&A;if(B||y)b={html:B,type:c},z=k.length,C=h.length}}return b},_setup:function(){var l=this,k,p,v="unknown",z={},x={},A=!1,u=0,C=null,B=!1,y=null,E=function(){A?l.dispatchEvent("durationchange"):(clearTimeout(C),C=setTimeout(E,250))},F=function(){var b=function(b){b.jPlayer.status.duration!==u&&(u=b.jPlayer.status.duration,E())},c=function(b){B||100!==b.jPlayer.status.seekPercent||(B=!0,setTimeout(function(){p._trigger($.jPlayer.event.canplaythrough)},
0))};k.bind($.jPlayer.event.loadstart,function(){setTimeout(function(){p._trigger($.jPlayer.event.loadeddata)},0)}).bind($.jPlayer.event.progress,function(k){b(k);c(k)}).bind($.jPlayer.event.timeupdate,function(k){b(k);c(k)}).bind($.jPlayer.event.play,function(){setTimeout(function(){p._trigger($.jPlayer.event.playing)},0)})},D=function(){(function(c){k=c("#"+l.id);"string"===typeof l.src?(v=q(l.src),z[v]=l.src,x.supplied=v,x.solution="html,flash"):m(l.src)&&(z=m(l.src.media)?l.src.media:{},x=m(l.src.options)?
l.src.options:{},x.solution=x.solution||"html,flash",x.supplied=x.supplied||n(l.src.media));x.swfPath=x.swfPath||"http://www.jplayer.org/2.4.0/js/Jplayer.swf";k.bind(c.jPlayer.event.ready,function(b){b.jPlayer.flash.used&&F();c(this).jPlayer("setMedia",z).jPlayer("load")});var h=(c.jPlayer.reservedEvent+" loadeddata durationchange").split(/\s+/g),C=function(b){k.bind(c.jPlayer.event[b],function(k){l.dispatchEvent(b)})},B;for(B in c.jPlayer.event)if(c.jPlayer.event.hasOwnProperty(B)){var D=!0,G;for(G in h)if(h.hasOwnProperty(G)&&
h[G]===B){D=!1;break}D&&C(B)}k.bind(c.jPlayer.event.loadeddata,function(b){l.dispatchEvent("loadeddata");A=!0});k.bind(c.jPlayer.event.durationchange,function(b){u=b.jPlayer.status.duration;E()});k.bind(c.jPlayer.event.error,function(b){y=b.jPlayer.error;y.code=y.type===c.jPlayer.error.URL?4:0;l.dispatchEvent("error")});b.player.defineProperty(l,"error",{set:function(){return y},get:function(){return y}});b.player.defineProperty(l,"currentTime",{set:function(b){p.status.paused?k.jPlayer("pause",b):
k.jPlayer("play",b);return b},get:function(){return p.status.currentTime}});b.player.defineProperty(l,"duration",{set:function(){return A?u:NaN},get:function(){return A?u:NaN}});b.player.defineProperty(l,"muted",{set:function(b){k.jPlayer("mute",b);return p.options.muted},get:function(){return p.options.muted}});b.player.defineProperty(l,"volume",{set:function(b){k.jPlayer("volume",b);return p.options.volume},get:function(){return p.options.volume}});b.player.defineProperty(l,"paused",{set:function(){return p.status.paused},
get:function(){return p.status.paused}});l.play=function(){k.jPlayer("play")};l.pause=function(){k.jPlayer("pause")};k.jPlayer(x);p=k.data("jPlayer")})(jQuery)},G=function(){jQuery.jPlayer?D():c?setTimeout(G,250):(c=!0,b.getScript("http://www.jplayer.org/2.4.0/js/jquery.jplayer.min.js",function(){c=!1;D()}))},I=function(){window.jQuery?G():h?setTimeout(I,250):(h=!0,b.getScript("http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js",function(){h=!1;G()}))};I()},_teardown:function(){jQuery("#"+
this.id).jPlayer("destroy")}})})(Popcorn);
!function(){function b(l){if(!l)throw Error("No options passed to Waypoint constructor");if(!l.element)throw Error("No element option passed to Waypoint constructor");if(!l.handler)throw Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+h;this.options=b.Adapter.extend({},b.defaults,l);this.element=this.options.element;this.adapter=new b.Adapter(this.element);this.callback=l.handler;this.axis=this.options.horizontal?"horizontal":"vertical";this.enabled=this.options.enabled;
this.triggerPoint=null;this.group=b.Group.findOrCreate({name:this.options.group,axis:this.axis});this.context=b.Context.findOrCreateByElement(this.options.context);b.offsetAliases[this.options.offset]&&(this.options.offset=b.offsetAliases[this.options.offset]);this.group.add(this);this.context.add(this);c[this.key]=this;h+=1}var h=0,c={};b.prototype.queueTrigger=function(b){this.group.queueTrigger(this,b)};b.prototype.trigger=function(b){this.enabled&&this.callback&&this.callback.apply(this,b)};b.prototype.destroy=
function(){this.context.remove(this);this.group.remove(this);delete c[this.key]};b.prototype.disable=function(){return this.enabled=!1,this};b.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this};b.prototype.next=function(){return this.group.next(this)};b.prototype.previous=function(){return this.group.previous(this)};b.invokeAll=function(b){var h=[],q;for(q in c)h.push(c[q]);q=0;for(var n=h.length;n>q;q++)h[q][b]()};b.destroyAll=function(){b.invokeAll("destroy")};b.disableAll=
function(){b.invokeAll("disable")};b.enableAll=function(){b.invokeAll("enable")};b.refreshAll=function(){b.Context.refreshAll()};b.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight};b.viewportWidth=function(){return document.documentElement.clientWidth};b.adapters=[];b.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0};b.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},
"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}};window.Waypoint=b}();
(function(){function b(b){window.setTimeout(b,1E3/60)}function h(b){this.element=b;this.Adapter=m.Adapter;this.adapter=new this.Adapter(b);this.key="waypoint-context-"+c;this.didResize=this.didScroll=!1;this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()};this.waypoints={vertical:{},horizontal:{}};b.waypointContextKey=this.key;l[b.waypointContextKey]=this;c+=1;this.createThrottledScrollHandler();this.createThrottledResizeHandler()}var c=0,l={},m=window.Waypoint,q=window.onload;
h.prototype.add=function(b){this.waypoints[b.options.horizontal?"horizontal":"vertical"][b.key]=b;this.refresh()};h.prototype.checkEmpty=function(){var b=this.Adapter.isEmptyObject(this.waypoints.horizontal),c=this.Adapter.isEmptyObject(this.waypoints.vertical);b&&c&&(this.adapter.off(".waypoints"),delete l[this.key])};h.prototype.createThrottledResizeHandler=function(){function b(){c.handleResize();c.didResize=!1}var c=this;this.adapter.on("resize.waypoints",function(){c.didResize||(c.didResize=
!0,m.requestAnimationFrame(b))})};h.prototype.createThrottledScrollHandler=function(){function b(){c.handleScroll();c.didScroll=!1}var c=this;this.adapter.on("scroll.waypoints",function(){c.didScroll&&!m.isTouch||(c.didScroll=!0,m.requestAnimationFrame(b))})};h.prototype.handleResize=function(){m.Context.refreshAll()};h.prototype.handleScroll=function(){var b={},c={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),
oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},k;for(k in c){var h=c[k],l=h.newScroll>h.oldScroll?h.forward:h.backward,m;for(m in this.waypoints[k]){var q=this.waypoints[k][m],A=h.oldScroll<q.triggerPoint,u=h.newScroll>=q.triggerPoint,C=!A&&!u;(A&&u||C)&&(q.queueTrigger(l),b[q.group.id]=q.group)}}for(var B in b)b[B].flushTriggers();this.oldScroll={x:c.horizontal.newScroll,y:c.vertical.newScroll}};h.prototype.innerHeight=function(){return this.element==this.element.window?m.viewportHeight():
this.adapter.innerHeight()};h.prototype.remove=function(b){delete this.waypoints[b.axis][b.key];this.checkEmpty()};h.prototype.innerWidth=function(){return this.element==this.element.window?m.viewportWidth():this.adapter.innerWidth()};h.prototype.destroy=function(){var b=[],c;for(c in this.waypoints)for(var k in this.waypoints[c])b.push(this.waypoints[c][k]);c=0;for(k=b.length;k>c;c++)b[c].destroy()};h.prototype.refresh=function(){var b;b=this.element==this.element.window;var c=this.adapter.offset(),
k={};this.handleScroll();b={horizontal:{contextOffset:b?0:c.left,contextScroll:b?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:b?0:c.top,contextScroll:b?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var h in b){var c=b[h],l;for(l in this.waypoints[h]){var m,q,A,u=this.waypoints[h][l];A=u.options.offset;
m=u.triggerPoint;q=0;var C=null==m;u.element!==u.element.window&&(q=u.adapter.offset()[c.offsetProp]);"function"==typeof A?A=A.apply(u):"string"==typeof A&&(A=parseFloat(A),-1<u.options.offset.indexOf("%")&&(A=Math.ceil(c.contextDimension*A/100)));u.triggerPoint=q+(c.contextScroll-c.contextOffset)-A;m=m<c.oldScroll;q=u.triggerPoint>=c.oldScroll;A=m&&q;m=!m&&!q;!C&&A?(u.queueTrigger(c.backward),k[u.group.id]=u.group):!C&&m?(u.queueTrigger(c.forward),k[u.group.id]=u.group):C&&c.oldScroll>=u.triggerPoint&&
(u.queueTrigger(c.forward),k[u.group.id]=u.group)}}for(var B in k)k[B].flushTriggers();return this};h.findOrCreateByElement=function(b){return h.findByElement(b)||new h(b)};h.refreshAll=function(){for(var b in l)l[b].refresh()};h.findByElement=function(b){return l[b.waypointContextKey]};window.onload=function(){q&&q();h.refreshAll()};m.requestAnimationFrame=function(c){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||b).call(window,c)};m.Context=
h})();
(function(){function b(b,c){return b.triggerPoint-c.triggerPoint}function h(b,c){return c.triggerPoint-b.triggerPoint}function c(b){this.name=b.name;this.axis=b.axis;this.id=this.name+"-"+this.axis;this.waypoints=[];this.clearTriggerQueues();l[this.axis][this.name]=this}var l={vertical:{},horizontal:{}},m=window.Waypoint;c.prototype.add=function(b){this.waypoints.push(b)};c.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}};c.prototype.flushTriggers=function(){for(var c in this.triggerQueues){var l=
this.triggerQueues[c];l.sort("up"===c||"left"===c?h:b);for(var m=0,k=l.length;k>m;m+=1){var p=l[m];(p.options.continuous||m===l.length-1)&&p.trigger([c])}}this.clearTriggerQueues()};c.prototype.next=function(c){this.waypoints.sort(b);c=m.Adapter.inArray(c,this.waypoints);return c===this.waypoints.length-1?null:this.waypoints[c+1]};c.prototype.previous=function(c){this.waypoints.sort(b);return(c=m.Adapter.inArray(c,this.waypoints))?this.waypoints[c-1]:null};c.prototype.queueTrigger=function(b,c){this.triggerQueues[c].push(b)};
c.prototype.remove=function(b){b=m.Adapter.inArray(b,this.waypoints);-1<b&&this.waypoints.splice(b,1)};c.prototype.first=function(){return this.waypoints[0]};c.prototype.last=function(){return this.waypoints[this.waypoints.length-1]};c.findOrCreate=function(b){return l[b.axis][b.name]||new c(b)};m.Group=c})();
(function(){function b(b){this.$element=h(b)}var h=window.jQuery,c=window.Waypoint;h.each("innerHeight innerWidth off offset on outerHeight outerWidth scrollLeft scrollTop".split(" "),function(c,h){b.prototype[h]=function(){var b=Array.prototype.slice.call(arguments);return this.$element[h].apply(this.$element,b)}});h.each(["extend","inArray","isEmptyObject"],function(c,m){b[m]=h[m]});c.adapters.push({name:"jquery",Adapter:b});c.Adapter=b})();
(function(){function b(b){return function(l,m){var q=[],n=l;return b.isFunction(l)&&(n=b.extend({},m),n.handler=l),this.each(function(){var l=b.extend({},n,{element:this});"string"==typeof l.context&&(l.context=b(this).closest(l.context)[0]);q.push(new h(l))}),q}}var h=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=b(window.jQuery));window.Zepto&&(window.Zepto.fn.waypoint=b(window.Zepto))})();
!function(){function b(){}function h(b){this.options=c.Adapter.extend({},h.defaults,b);this.axis=this.options.horizontal?"horizontal":"vertical";this.waypoints=[];this.createWaypoints()}var c=window.Waypoint;h.prototype.createWaypoints=function(){for(var b={vertical:[{down:"enter",up:"exited",offset:"100%"},{down:"entered",up:"exit",offset:"bottom-in-view"},{down:"exit",up:"entered",offset:0},{down:"exited",up:"enter",offset:function(){return-this.adapter.outerHeight()}}],horizontal:[{right:"enter",
left:"exited",offset:"100%"},{right:"entered",left:"exit",offset:"right-in-view"},{right:"exit",left:"entered",offset:0},{right:"exited",left:"enter",offset:function(){return-this.adapter.outerWidth()}}]},c=0,h=b[this.axis].length;h>c;c++)this.createWaypoint(b[this.axis][c])};h.prototype.createWaypoint=function(b){var h=this;this.waypoints.push(new c({element:this.options.element,handler:function(b){return function(c){h.options[b[c]].call(this,c)}}(b),offset:b.offset,horizontal:this.options.horizontal}))};
h.prototype.destroy=function(){for(var b=0,c=this.waypoints.length;c>b;b++)this.waypoints[b].destroy();this.waypoints=[]};h.defaults={enter:b,entered:b,exit:b,exited:b};c.Inview=h}();
(function(b){b.fn.extend({reflect:function(h){h=b.extend({height:1/3,opacity:.5},h);return this.unreflect().each(function(){var c=this;if(/^img$/i.test(c.tagName)){var l=function(){var l=c.width,q=c.height,n,r,k,p;r=Math.floor(1<h.height?Math.min(q,h.height):q*h.height);n=b("\x3ccanvas /\x3e")[0];if(n.getContext){k=n.getContext("2d");try{b(n).attr({width:l,height:r}),k.save(),k.translate(0,q-1),k.scale(1,-1),k.drawImage(c,0,0,l,q),k.restore(),k.globalCompositeOperation="destination-out",p=k.createLinearGradient(0,
0,0,r),p.addColorStop(0,"rgba(255, 255, 255, "+(1-h.opacity)+")"),p.addColorStop(1,"rgba(255, 255, 255, 1.0)"),k.fillStyle=p,k.rect(0,0,l,r),k.fill()}catch(v){return}}else{if(!b.browser.msie)return;n=b("\x3cimg /\x3e").attr("src",c.src).css({width:l,height:q,marginBottom:r-q,filter:"FlipV progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+100*h.opacity+", FinishOpacity\x3d0, Style\x3d1, StartX\x3d0, StartY\x3d0, FinishX\x3d0, FinishY\x3d"+r/q*100+")"})[0]}b(n).css({display:"block",border:0});n=
b(/^a$/i.test(c.parentNode.tagName)?"\x3cspan /\x3e":"\x3cdiv /\x3e").insertAfter(c).append([c,n])[0];n.className=c.className;b.data(c,"reflected",n.style.cssText=c.style.cssText);b(n).css({width:l,height:q+r,overflow:"hidden"});c.style.cssText="display: block; border: 0px";c.className="reflected";void 0!=h.attr&&void 0!=h.attr.style&&(n.style.cssText=h.attr.style);void 0!=h.attr&&void 0!=h.attr.cls&&(n.className=h.attr.cls)};c.complete?l():b(c).load(l)}})},unreflect:function(){return this.unbind("load").each(function(){var h=
b.data(this,"reflected"),c;void 0!==h&&(c=this.parentNode,this.className=c.className,this.style.cssText=h,b.removeData(this,"reflected"),c.parentNode.replaceChild(this,c))})}})})(jQuery);jQuery(function(b){b("img.reflect").reflect({})});
(function(b,h){function c(c,h){var k,m,v,q=c.nodeName.toLowerCase();return"area"===q?(k=c.parentNode,m=k.name,c.href&&m&&"map"===k.nodeName.toLowerCase()?(v=b("img[usemap\x3d#"+m+"]")[0],!!v&&l(v)):!1):(/input|select|textarea|button|object/.test(q)?!c.disabled:"a"===q?c.href||h:h)&&l(c)}function l(c){return b.expr.filters.visible(c)&&!b(c).parents().andSelf().filter(function(){return"hidden"===b.css(this,"visibility")}).length}var m=0,q=/^ui-id-\d+$/;b.ui=b.ui||{};b.ui.version||(b.extend(b.ui,{version:"1.9.1",
keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),b.fn.extend({_focus:b.fn.focus,focus:function(c,h){return"number"==typeof c?this.each(function(){var k=this;setTimeout(function(){b(k).focus();h&&h.call(k)},c)}):this._focus.apply(this,arguments)},scrollParent:function(){var c;return b.ui.ie&&
/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?c=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(b.css(this,"position"))&&/(auto|scroll)/.test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0):c=this.parents().filter(function(){return/(auto|scroll)/.test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!c.length?b(document):c},zIndex:function(c){if(c!==
h)return this.css("zIndex",c);if(this.length){c=b(this[0]);for(var l;c.length&&c[0]!==document;){l=c.css("position");if("absolute"===l||"relative"===l||"fixed"===l)if(l=parseInt(c.css("zIndex"),10),!isNaN(l)&&0!==l)return l;c=c.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++m)})},removeUniqueId:function(){return this.each(function(){q.test(this.id)&&b(this).removeAttr("id")})}}),b("\x3ca\x3e").outerWidth(1).jquery||b.each(["Width","Height"],function(c,
l){function k(k,c,h,l){return b.each(m,function(){c-=parseFloat(b.css(k,"padding"+this))||0;h&&(c-=parseFloat(b.css(k,"border"+this+"Width"))||0);l&&(c-=parseFloat(b.css(k,"margin"+this))||0)}),c}var m="Width"===l?["Left","Right"]:["Top","Bottom"],v=l.toLowerCase(),q={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};b.fn["inner"+l]=function(c){return c===h?q["inner"+l].call(this):this.each(function(){b(this).css(v,k(this,c)+"px")})};
b.fn["outer"+l]=function(c,h){return"number"!=typeof c?q["outer"+l].call(this,c):this.each(function(){b(this).css(v,k(this,c,!0,h)+"px")})}}),b.extend(b.expr[":"],{data:b.expr.createPseudo?b.expr.createPseudo(function(c){return function(h){return!!b.data(h,c)}}):function(c,h,k){return!!b.data(c,k[3])},focusable:function(h){return c(h,!isNaN(b.attr(h,"tabindex")))},tabbable:function(h){var l=b.attr(h,"tabindex"),k=isNaN(l);return(k||0<=l)&&c(h,!k)}}),b(function(){var c=document.body,h=c.appendChild(h=
document.createElement("div"));h.offsetHeight;b.extend(h.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});b.support.minHeight=100===h.offsetHeight;b.support.selectstart="onselectstart"in h;c.removeChild(h).style.display="none"}),function(){var c=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];b.ui.ie=c.length?!0:!1;b.ui.ie6=6===parseFloat(c[1],10)}(),b.fn.extend({disableSelection:function(){return this.bind((b.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",
function(b){b.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),b.extend(b.ui,{plugin:{add:function(c,h,k){var l;c=b.ui[c].prototype;for(l in k)c.plugins[l]=c.plugins[l]||[],c.plugins[l].push([h,k[l]])},call:function(b,c,k){var h=b.plugins[c];if(h&&b.element[0].parentNode&&11!==b.element[0].parentNode.nodeType)for(c=0;c<h.length;c++)b.options[h[c][0]]&&h[c][1].apply(b.element,k)}},contains:b.contains,hasScroll:function(c,h){if("hidden"===b(c).css("overflow"))return!1;
h=h&&"left"===h?"scrollLeft":"scrollTop";var k=!1;return 0<c[h]?!0:(c[h]=1,k=0<c[h],c[h]=0,k)},isOverAxis:function(b,c,k){return b>c&&b<c+k},isOver:function(c,h,k,l,m,q){return b.ui.isOverAxis(c,k,m)&&b.ui.isOverAxis(h,l,q)}}))})(jQuery);
(function(b,h){var c=0,l=Array.prototype.slice,m=b.cleanData;b.cleanData=function(c){for(var h=0,l;null!=(l=c[h]);h++)try{b(l).triggerHandler("remove")}catch(k){}m(c)};b.widget=function(c,h,l){var k,m,v,z,x=c.split(".")[0];c=c.split(".")[1];k=x+"-"+c;l||(l=h,h=b.Widget);b.expr[":"][k.toLowerCase()]=function(c){return!!b.data(c,k)};b[x]=b[x]||{};m=b[x][c];v=b[x][c]=function(b,k){if(!this._createWidget)return new v(b,k);arguments.length&&this._createWidget(b,k)};b.extend(v,m,{version:l.version,_proto:b.extend({},
l),_childConstructors:[]});z=new h;z.options=b.widget.extend({},z.options);b.each(l,function(k,c){b.isFunction(c)&&(l[k]=function(){var b=function(){return h.prototype[k].apply(this,arguments)},l=function(b){return h.prototype[k].apply(this,b)};return function(){var k=this._super,h=this._superApply,m;return this._super=b,this._superApply=l,m=c.apply(this,arguments),this._super=k,this._superApply=h,m}}())});v.prototype=b.widget.extend(z,{widgetEventPrefix:z.widgetEventPrefix||c},l,{constructor:v,namespace:x,
widgetName:c,widgetBaseClass:k,widgetFullName:k});m?(b.each(m._childConstructors,function(k,c){k=c.prototype;b.widget(k.namespace+"."+k.widgetName,v,c._proto)}),delete m._childConstructors):h._childConstructors.push(v);b.widget.bridge(c,v)};b.widget.extend=function(c){for(var m=l.call(arguments,1),r=0,k=m.length,p,v;r<k;r++)for(p in m[r])v=m[r][p],m[r].hasOwnProperty(p)&&v!==h&&(b.isPlainObject(v)?c[p]=b.isPlainObject(c[p])?b.widget.extend({},c[p],v):b.widget.extend({},v):c[p]=v);return c};b.widget.bridge=
function(c,m){var r=m.prototype.widgetFullName;b.fn[c]=function(k){var p="string"==typeof k,v=l.call(arguments,1),z=this;return k=!p&&v.length?b.widget.extend.apply(null,[k].concat(v)):k,p?this.each(function(){var l,m=b.data(this,r);if(!m)return b.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+k+"'");if(!b.isFunction(m[k])||"_"===k.charAt(0))return b.error("no such method '"+k+"' for "+c+" widget instance");l=m[k].apply(m,v);if(l!==m&&l!==h)return z=l&&l.jquery?
z.pushStack(l.get()):l,!1}):this.each(function(){var c=b.data(this,r);c?c.option(k||{})._init():new m(k,this)}),z}};b.Widget=function(){};b.Widget._childConstructors=[];b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"\x3cdiv\x3e",options:{disabled:!1,create:null},_createWidget:function(h,l){l=b(l||this.defaultElement||this)[0];this.element=b(l);this.uuid=c++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=b.widget.extend({},this.options,this._getCreateOptions(),
h);this.bindings=b();this.hoverable=b();this.focusable=b();l!==this&&(b.data(l,this.widgetName,this),b.data(l,this.widgetFullName,this),this._on(this.element,{remove:function(b){b.target===l&&this.destroy()}}),this.document=b(l.style?l.ownerDocument:l.document||l),this.window=b(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:b.noop,_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,
destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(b.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:b.noop,widget:function(){return this.element},
option:function(c,l){var m=c,k,p,v;if(0===arguments.length)return b.widget.extend({},this.options);if("string"==typeof c)if(m={},k=c.split("."),c=k.shift(),k.length){p=m[c]=b.widget.extend({},this.options[c]);for(v=0;v<k.length-1;v++)p[k[v]]=p[k[v]]||{},p=p[k[v]];c=k.pop();if(l===h)return p[c]===h?null:p[c];p[c]=l}else{if(l===h)return this.options[c]===h?null:this.options[c];m[c]=l}return this._setOptions(m),this},_setOptions:function(b){for(var c in b)this._setOption(c,b[c]);return this},_setOption:function(b,
c){return this.options[b]=c,"disabled"===b&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!c).attr("aria-disabled",c),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(c,h){var l,k=this;h?(c=l=b(c),this.bindings=this.bindings.add(c)):(h=c,c=this.element,l=this.widget());b.each(h,function(h,m){function n(){if(!0!==
k.options.disabled&&!b(this).hasClass("ui-state-disabled"))return("string"==typeof m?k[m]:m).apply(k,arguments)}"string"!=typeof m&&(n.guid=m.guid=m.guid||n.guid||b.guid++);var x=h.match(/^(\w+)\s*(.*)$/);h=x[1]+k.eventNamespace;(x=x[2])?l.delegate(x,h,n):c.bind(h,n)})},_off:function(b,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;b.unbind(c).undelegate(c)},_delay:function(b,c){var h=this;return setTimeout(function(){return("string"==typeof b?h[b]:b).apply(h,arguments)},
c||0)},_hoverable:function(c){this.hoverable=this.hoverable.add(c);this._on(c,{mouseenter:function(c){b(c.currentTarget).addClass("ui-state-hover")},mouseleave:function(c){b(c.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(c){this.focusable=this.focusable.add(c);this._on(c,{focusin:function(c){b(c.currentTarget).addClass("ui-state-focus")},focusout:function(c){b(c.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(c,h,l){var k,m=this.options[c];l=l||{};h=b.Event(h);
h.type=(c===this.widgetEventPrefix?c:this.widgetEventPrefix+c).toLowerCase();h.target=this.element[0];if(c=h.originalEvent)for(k in c)k in h||(h[k]=c[k]);return this.element.trigger(h,l),!(b.isFunction(m)&&!1===m.apply(this.element[0],[h].concat(l))||h.isDefaultPrevented())}};b.each({show:"fadeIn",hide:"fadeOut"},function(c,h){b.Widget.prototype["_"+c]=function(l,k,m){"string"==typeof k&&(k={effect:k});var v,z=k?!0===k||"number"==typeof k?h:k.effect||h:c;k=k||{};"number"==typeof k&&(k={duration:k});
v=!b.isEmptyObject(k);k.complete=m;k.delay&&l.delay(k.delay);v&&b.effects&&(b.effects.effect[z]||!1!==b.uiBackCompat&&b.effects[z])?l[c](k):z!==c&&l[z]?l[z](k.duration,k.easing,m):l.queue(function(k){b(this)[c]();m&&m.call(l[0]);k()})}});!1!==b.uiBackCompat&&(b.Widget.prototype._getCreateOptions=function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName]})})(jQuery);
(function(b,h){var c=!1;b(document).mouseup(function(b){c=!1});b.widget("ui.mouse",{version:"1.9.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(b){return c._mouseDown(b)}).bind("click."+this.widgetName,function(h){if(!0===b.data(h.target,c.widgetName+".preventClickEvent"))return b.removeData(h.target,c.widgetName+".preventClickEvent"),h.stopImmediatePropagation(),!1});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(h){if(!c){this._mouseStarted&&this._mouseUp(h);this._mouseDownEvent=h;var m=this,q=1===h.which,n="string"==typeof this.options.cancel&&h.target.nodeName?b(h.target).closest(this.options.cancel).length:!1;if(!q||n||!this._mouseCapture(h))return!0;(this.mouseDelayMet=
!this.options.delay)||(this._mouseDelayTimer=setTimeout(function(){m.mouseDelayMet=!0},this.options.delay));return this._mouseDistanceMet(h)&&this._mouseDelayMet(h)&&(this._mouseStarted=!1!==this._mouseStart(h),!this._mouseStarted)?(h.preventDefault(),!0):(!0===b.data(h.target,this.widgetName+".preventClickEvent")&&b.removeData(h.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(b){return m._mouseMove(b)},this._mouseUpDelegate=function(b){return m._mouseUp(b)},b(document).bind("mousemove."+
this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),h.preventDefault(),c=!0,!0)}},_mouseMove:function(c){return!b.ui.ie||9<=document.documentMode||c.button?this._mouseStarted?(this._mouseDrag(c),c.preventDefault()):(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,c),this._mouseStarted?this._mouseDrag(c):this._mouseUp(c)),!this._mouseStarted):this._mouseUp(c)},_mouseUp:function(c){return b(document).unbind("mousemove."+
this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&b.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c)),!1},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(b){return this.mouseDelayMet},_mouseStart:function(b){},
_mouseDrag:function(b){},_mouseStop:function(b){},_mouseCapture:function(b){return!0}})})(jQuery);
(function(b,h){function c(b,k,c){return[parseInt(b[0],10)*(z.test(b[0])?k/100:1),parseInt(b[1],10)*(z.test(b[1])?c/100:1)]}b.ui=b.ui||{};var l,m=Math.max,q=Math.abs,n=Math.round,r=/left|center|right/,k=/top|center|bottom/,p=/[\+\-]\d+%?/,v=/^\w+/,z=/%$/,x=b.fn.position;b.position={scrollbarWidth:function(){if(l!==h)return l;var k,c,m=b("\x3cdiv style\x3d'display:block;width:50px;height:50px;overflow:hidden;'\x3e\x3cdiv style\x3d'height:100px;width:auto;'\x3e\x3c/div\x3e\x3c/div\x3e"),p=m.children()[0];
return b("body").append(m),k=p.offsetWidth,m.css("overflow","scroll"),c=p.offsetWidth,k===c&&(c=m[0].clientWidth),m.remove(),l=k-c},getScrollInfo:function(k){var c=k.isWindow?"":k.element.css("overflow-x"),h=k.isWindow?"":k.element.css("overflow-y"),h="scroll"===h||"auto"===h&&k.height<k.element[0].scrollHeight;return{width:"scroll"===c||"auto"===c&&k.width<k.element[0].scrollWidth?b.position.scrollbarWidth():0,height:h?b.position.scrollbarWidth():0}},getWithinInfo:function(k){k=b(k||window);var c=
b.isWindow(k[0]);return{element:k,isWindow:c,offset:k.offset()||{left:0,top:0},scrollLeft:k.scrollLeft(),scrollTop:k.scrollTop(),width:c?k.width():k.outerWidth(),height:c?k.height():k.outerHeight()}}};b.fn.position=function(h){if(!h||!h.of)return x.apply(this,arguments);h=b.extend({},h);var l,z,B,y,E,F=b(h.of),D=b.position.getWithinInfo(h.within),G=b.position.getScrollInfo(D),I=F[0],K=(h.collision||"flip").split(" "),H={};return 9===I.nodeType?(z=F.width(),B=F.height(),y={top:0,left:0}):b.isWindow(I)?
(z=F.width(),B=F.height(),y={top:F.scrollTop(),left:F.scrollLeft()}):I.preventDefault?(h.at="left top",z=B=0,y={top:I.pageY,left:I.pageX}):(z=F.outerWidth(),B=F.outerHeight(),y=F.offset()),E=b.extend({},y),b.each(["my","at"],function(){var b=(h[this]||"").split(" "),c,l;1===b.length&&(b=r.test(b[0])?b.concat(["center"]):k.test(b[0])?["center"].concat(b):["center","center"]);b[0]=r.test(b[0])?b[0]:"center";b[1]=k.test(b[1])?b[1]:"center";c=p.exec(b[0]);l=p.exec(b[1]);H[this]=[c?c[0]:0,l?l[0]:0];h[this]=
[v.exec(b[0])[0],v.exec(b[1])[0]]}),1===K.length&&(K[1]=K[0]),"right"===h.at[0]?E.left+=z:"center"===h.at[0]&&(E.left+=z/2),"bottom"===h.at[1]?E.top+=B:"center"===h.at[1]&&(E.top+=B/2),l=c(H.at,z,B),E.left+=l[0],E.top+=l[1],this.each(function(){var k,p,v=b(this),x=v.outerWidth(),r=v.outerHeight(),I=parseInt(b.css(this,"marginLeft"),10)||0,U=parseInt(b.css(this,"marginTop"),10)||0,R=x+I+(parseInt(b.css(this,"marginRight"),10)||0)+G.width,N=r+U+(parseInt(b.css(this,"marginBottom"),10)||0)+G.height,
T=b.extend({},E),M=c(H.my,v.outerWidth(),v.outerHeight());"right"===h.my[0]?T.left-=x:"center"===h.my[0]&&(T.left-=x/2);"bottom"===h.my[1]?T.top-=r:"center"===h.my[1]&&(T.top-=r/2);T.left+=M[0];T.top+=M[1];b.support.offsetFractions||(T.left=n(T.left),T.top=n(T.top));k={marginLeft:I,marginTop:U};b.each(["left","top"],function(c,m){b.ui.position[K[c]]&&b.ui.position[K[c]][m](T,{targetWidth:z,targetHeight:B,elemWidth:x,elemHeight:r,collisionPosition:k,collisionWidth:R,collisionHeight:N,offset:[l[0]+
M[0],l[1]+M[1]],my:h.my,at:h.at,within:D,elem:v})});b.fn.bgiframe&&v.bgiframe();h.using&&(p=function(b){var k=y.left-T.left,c=k+z-x,l=y.top-T.top,u=l+B-r,p={target:{element:F,left:y.left,top:y.top,width:z,height:B},element:{element:v,left:T.left,top:T.top,width:x,height:r},horizontal:0>c?"left":0<k?"right":"center",vertical:0>u?"top":0<l?"bottom":"middle"};z<x&&q(k+c)<z&&(p.horizontal="center");B<r&&q(l+u)<B&&(p.vertical="middle");m(q(k),q(c))>m(q(l),q(u))?p.important="horizontal":p.important="vertical";
h.using.call(this,b,p)});v.offset(b.extend(T,{using:p}))})};b.ui.position={fit:{left:function(b,k){var c=k.within,h=c.isWindow?c.scrollLeft:c.offset.left,c=c.width,l=b.left-k.collisionPosition.marginLeft,p=h-l,n=l+k.collisionWidth-c-h,v;k.collisionWidth>c?0<p&&0>=n?(v=b.left+p+k.collisionWidth-c-h,b.left+=p-v):0<n&&0>=p?b.left=h:p>n?b.left=h+c-k.collisionWidth:b.left=h:0<p?b.left+=p:0<n?b.left-=n:b.left=m(b.left-l,b.left)},top:function(b,k){var c=k.within,c=c.isWindow?c.scrollTop:c.offset.top,h=k.within.height,
l=b.top-k.collisionPosition.marginTop,p=c-l,n=l+k.collisionHeight-h-c,v;k.collisionHeight>h?0<p&&0>=n?(v=b.top+p+k.collisionHeight-h-c,b.top+=p-v):0<n&&0>=p?b.top=c:p>n?b.top=c+h-k.collisionHeight:b.top=c:0<p?b.top+=p:0<n?b.top-=n:b.top=m(b.top-l,b.top)}},flip:{left:function(b,k){var c=k.within,h=c.offset.left+c.scrollLeft,l=c.width,m=c.isWindow?c.scrollLeft:c.offset.left,p=b.left-k.collisionPosition.marginLeft,c=p-m,n=p+k.collisionWidth-l-m,p="left"===k.my[0]?-k.elemWidth:"right"===k.my[0]?k.elemWidth:
0,v="left"===k.at[0]?k.targetWidth:"right"===k.at[0]?-k.targetWidth:0,x=-2*k.offset[0];if(0>c){if(k=b.left+p+v+x+k.collisionWidth-l-h,0>k||k<q(c))b.left+=p+v+x}else 0<n&&(k=b.left-k.collisionPosition.marginLeft+p+v+x-m,0<k||q(k)<n)&&(b.left+=p+v+x)},top:function(b,k){var c=k.within,h=c.offset.top+c.scrollTop,l=c.height,c=c.isWindow?c.scrollTop:c.offset.top,m=b.top-k.collisionPosition.marginTop,p=m-c,m=m+k.collisionHeight-l-c,n="top"===k.my[1]?-k.elemHeight:"bottom"===k.my[1]?k.elemHeight:0,v="top"===
k.at[1]?k.targetHeight:"bottom"===k.at[1]?-k.targetHeight:0,x=-2*k.offset[1],z,r;0>p?(r=b.top+n+v+x+k.collisionHeight-l-h,b.top+n+v+x>p&&(0>r||r<q(p))&&(b.top+=n+v+x)):0<m&&(z=b.top-k.collisionPosition.marginTop+n+v+x-c,b.top+n+v+x>m&&(0<z||q(z)<m)&&(b.top+=n+v+x))}},flipfit:{left:function(){b.ui.position.flip.left.apply(this,arguments);b.ui.position.fit.left.apply(this,arguments)},top:function(){b.ui.position.flip.top.apply(this,arguments);b.ui.position.fit.top.apply(this,arguments)}}};(function(){var k,
c,h,l,m=document.getElementsByTagName("body")[0];h=document.createElement("div");k=document.createElement(m?"div":"body");c={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};m&&b.extend(c,{position:"absolute",left:"-1000px",top:"-1000px"});for(l in c)k.style[l]=c[l];k.appendChild(h);c=m||document.documentElement;c.insertBefore(k,c.firstChild);h.style.cssText="position: absolute; left: 10.7432222px;";h=b(h).offset().left;b.support.offsetFractions=10<h&&11>h;k.innerHTML="";
c.removeChild(k)})();!1!==b.uiBackCompat&&function(b){var k=b.fn.position;b.fn.position=function(c){if(!c||!c.offset)return k.call(this,c);var l=c.offset.split(" "),m=c.at.split(" ");return 1===l.length&&(l[1]=l[0]),/^\d/.test(l[0])&&(l[0]="+"+l[0]),/^\d/.test(l[1])&&(l[1]="+"+l[1]),1===m.length&&(/left|center|right/.test(m[0])?m[1]="center":(m[1]=m[0],m[0]="center")),k.call(this,b.extend(c,{at:m[0]+l[0]+" "+m[1]+l[1],offset:h}))}}(jQuery)})(jQuery);
(function(b,h){b.widget("ui.draggable",b.ui.mouse,{version:"1.9.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&
(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(c){var h=this.options;return this.helper||h.disabled||b(c.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(c),this.handle?(b(!0===h.iframeFix?
"iframe":h.iframeFix).each(function(){b('\x3cdiv class\x3d"ui-draggable-iframeFix" style\x3d"background: #fff;"\x3e\x3c/div\x3e').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(b(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(c){var h=this.options;return this.helper=this._createHelper(c),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),b.ui.ddmanager&&(b.ui.ddmanager.current=this),this._cacheMargins(),
this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},b.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(c),this.originalPageX=c.pageX,this.originalPageY=c.pageY,
h.cursorAt&&this._adjustOffsetFromHelper(h.cursorAt),h.containment&&this._setContainment(),!1===this._trigger("start",c)?(this._clear(),!1):(this._cacheHelperProportions(),b.ui.ddmanager&&!h.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c),this._mouseDrag(c,!0),b.ui.ddmanager&&b.ui.ddmanager.dragStart(this,c),!0)},_mouseDrag:function(c,h){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!h){h=this._uiHash();if(!1===this._trigger("drag",c,h))return this._mouseUp({}),
!1;this.position=h.position}this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");return b.ui.ddmanager&&b.ui.ddmanager.drag(this,c),!1},_mouseStop:function(c){var h=!1;b.ui.ddmanager&&!this.options.dropBehaviour&&(h=b.ui.ddmanager.drop(this,c));this.dropped&&(h=this.dropped,this.dropped=!1);for(var m=this.element[0],q=!1;m&&(m=m.parentNode);)m==document&&(q=!0);if(!q&&
"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!h||"valid"==this.options.revert&&h||!0===this.options.revert||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,h)){var n=this;b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",c)&&n._clear()})}else!1!==this._trigger("stop",c)&&this._clear();return!1},_mouseUp:function(c){return b("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),
b.ui.ddmanager&&b.ui.ddmanager.dragStop(this,c),b.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(c){var h=this.options.handle&&b(this.options.handle,this.element).length?!1:!0;return b(this.options.handle,this.element).find("*").andSelf().each(function(){this==c.target&&(h=!0)}),h},_createHelper:function(c){var h=this.options;c=b.isFunction(h.helper)?b(h.helper.apply(this.element[0],
[c])):"clone"==h.helper?this.element.clone().removeAttr("id"):this.element;return c.parents("body").length||c.appendTo("parent"==h.appendTo?this.element[0].parentNode:h.appendTo),c[0]!=this.element[0]&&!/(fixed|absolute)/.test(c.css("position"))&&c.css("position","absolute"),c},_adjustOffsetFromHelper:function(c){"string"==typeof c&&(c=c.split(" "));b.isArray(c)&&(c={left:+c[0],top:+c[1]||0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);"right"in c&&(this.offset.click.left=this.helperProportions.width-
c.right+this.margins.left);"top"in c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==
document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&b.ui.ie)c={top:0,left:0};return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var b=this.element.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||
0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c=this.options;"parent"==c.containment&&
(c.containment=this.helper[0].parentNode);if("document"==c.containment||"window"==c.containment)this.containment=["document"==c.containment?0:b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==c.containment?0:b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==c.containment?0:b(window).scrollLeft())+b("document"==c.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==c.containment?0:b(window).scrollTop())+
(b("document"==c.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(/^(document|window|parent)$/.test(c.containment)||c.containment.constructor==Array)c.containment.constructor==Array&&(this.containment=c.containment);else{var c=b(c.containment),h=c[0];if(h){c.offset();var m="hidden"!=b(h).css("overflow");this.containment=[(parseInt(b(h).css("borderLeftWidth"),10)||0)+(parseInt(b(h).css("paddingLeft"),10)||0),(parseInt(b(h).css("borderTopWidth"),
10)||0)+(parseInt(b(h).css("paddingTop"),10)||0),(m?Math.max(h.scrollWidth,h.offsetWidth):h.offsetWidth)-(parseInt(b(h).css("borderLeftWidth"),10)||0)-(parseInt(b(h).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(m?Math.max(h.scrollHeight,h.offsetHeight):h.offsetHeight)-(parseInt(b(h).css("borderTopWidth"),10)||0)-(parseInt(b(h).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=c}}},
_convertPositionTo:function(c,h){h||(h=this.position);c="absolute"==c?1:-1;var m="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,q=/(html|body)/i.test(m[0].tagName);return{top:h.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():q?0:m.scrollTop())*c,left:h.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"==this.cssPosition?
-this.scrollParent.scrollLeft():q?0:m.scrollLeft())*c}},_generatePosition:function(c){var h=this.options,m="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,q=/(html|body)/i.test(m[0].tagName),n=c.pageX,r=c.pageY;if(this.originalPosition){var k;this.containment&&(this.relative_container?(k=this.relative_container.offset(),k=[this.containment[0]+k.left,this.containment[1]+k.top,this.containment[2]+
k.left,this.containment[3]+k.top]):k=this.containment,c.pageX-this.offset.click.left<k[0]&&(n=k[0]+this.offset.click.left),c.pageY-this.offset.click.top<k[1]&&(r=k[1]+this.offset.click.top),c.pageX-this.offset.click.left>k[2]&&(n=k[2]+this.offset.click.left),c.pageY-this.offset.click.top>k[3]&&(r=k[3]+this.offset.click.top));h.grid&&(r=h.grid[1]?this.originalPageY+Math.round((r-this.originalPageY)/h.grid[1])*h.grid[1]:this.originalPageY,r=k?r-this.offset.click.top<k[1]||r-this.offset.click.top>k[3]?
r-this.offset.click.top<k[1]?r+h.grid[1]:r-h.grid[1]:r:r,n=h.grid[0]?this.originalPageX+Math.round((n-this.originalPageX)/h.grid[0])*h.grid[0]:this.originalPageX,n=k?n-this.offset.click.left<k[0]||n-this.offset.click.left>k[2]?n-this.offset.click.left<k[0]?n+h.grid[0]:n-h.grid[0]:n:n)}return{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():q?0:m.scrollTop()),left:n-this.offset.click.left-this.offset.relative.left-
this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():q?0:m.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(c,h,m){return m=m||this._uiHash(),b.ui.plugin.call(this,c,[h,m]),"drag"==c&&(this.positionAbs=this._convertPositionTo("absolute")),b.Widget.prototype._trigger.call(this,c,h,m)},plugins:{},
_uiHash:function(b){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});b.ui.plugin.add("draggable","connectToSortable",{start:function(c,h){var m=b(this).data("draggable"),q=m.options,n=b.extend({},h,{item:m.element});m.sortables=[];b(q.connectToSortable).each(function(){var h=b.data(this,"sortable");h&&!h.options.disabled&&(m.sortables.push({instance:h,shouldRevert:h.options.revert}),h.refreshPositions(),h._trigger("activate",c,n))})},
stop:function(c,h){var m=b(this).data("draggable"),q=b.extend({},h,{item:m.element});b.each(m.sortables,function(){this.instance.isOver?(this.instance.isOver=0,m.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(c),this.instance.options.helper=this.instance.options._helper,"original"==m.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",
c,q))})},drag:function(c,h){var m=b(this).data("draggable"),q=this;b.each(m.sortables,function(n){var r=!1,k=this;this.instance.positionAbs=m.positionAbs;this.instance.helperProportions=m.helperProportions;this.instance.offset.click=m.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&(r=!0,b.each(m.sortables,function(){return this.instance.positionAbs=m.positionAbs,this.instance.helperProportions=m.helperProportions,this.instance.offset.click=m.offset.click,this!=k&&this.instance._intersectsWith(this.instance.containerCache)&&
b.ui.contains(k.instance.element[0],this.instance.element[0])&&(r=!1),r}));r?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=b(q).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return h.helper[0]},c.target=this.instance.currentItem[0],this.instance._mouseCapture(c,!0),this.instance._mouseStart(c,!0,!0),this.instance.offset.click.top=m.offset.click.top,
this.instance.offset.click.left=m.offset.click.left,this.instance.offset.parent.left-=m.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=m.offset.parent.top-this.instance.offset.parent.top,m._trigger("toSortable",c),m.dropped=this.instance.element,m.currentItem=m.element,this.instance.fromOutside=m),this.instance.currentItem&&this.instance._mouseDrag(c)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=
!1,this.instance._trigger("out",c,this.instance._uiHash(this.instance)),this.instance._mouseStop(c,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),m._trigger("fromSortable",c),m.dropped=!1)})}});b.ui.plugin.add("draggable","cursor",{start:function(c,h){c=b("body");h=b(this).data("draggable").options;c.css("cursor")&&(h._cursor=c.css("cursor"));c.css("cursor",h.cursor)},stop:function(c,h){c=
b(this).data("draggable").options;c._cursor&&b("body").css("cursor",c._cursor)}});b.ui.plugin.add("draggable","opacity",{start:function(c,h){c=b(h.helper);h=b(this).data("draggable").options;c.css("opacity")&&(h._opacity=c.css("opacity"));c.css("opacity",h.opacity)},stop:function(c,h){c=b(this).data("draggable").options;c._opacity&&b(h.helper).css("opacity",c._opacity)}});b.ui.plugin.add("draggable","scroll",{start:function(c,h){c=b(this).data("draggable");c.scrollParent[0]!=document&&"HTML"!=c.scrollParent[0].tagName&&
(c.overflowOffset=c.scrollParent.offset())},drag:function(c,h){h=b(this).data("draggable");var m=h.options,q=!1;h.scrollParent[0]!=document&&"HTML"!=h.scrollParent[0].tagName?(m.axis&&"x"==m.axis||(h.overflowOffset.top+h.scrollParent[0].offsetHeight-c.pageY<m.scrollSensitivity?h.scrollParent[0].scrollTop=q=h.scrollParent[0].scrollTop+m.scrollSpeed:c.pageY-h.overflowOffset.top<m.scrollSensitivity&&(h.scrollParent[0].scrollTop=q=h.scrollParent[0].scrollTop-m.scrollSpeed)),m.axis&&"y"==m.axis||(h.overflowOffset.left+
h.scrollParent[0].offsetWidth-c.pageX<m.scrollSensitivity?h.scrollParent[0].scrollLeft=q=h.scrollParent[0].scrollLeft+m.scrollSpeed:c.pageX-h.overflowOffset.left<m.scrollSensitivity&&(h.scrollParent[0].scrollLeft=q=h.scrollParent[0].scrollLeft-m.scrollSpeed))):(m.axis&&"x"==m.axis||(c.pageY-b(document).scrollTop()<m.scrollSensitivity?q=b(document).scrollTop(b(document).scrollTop()-m.scrollSpeed):b(window).height()-(c.pageY-b(document).scrollTop())<m.scrollSensitivity&&(q=b(document).scrollTop(b(document).scrollTop()+
m.scrollSpeed))),m.axis&&"y"==m.axis||(c.pageX-b(document).scrollLeft()<m.scrollSensitivity?q=b(document).scrollLeft(b(document).scrollLeft()-m.scrollSpeed):b(window).width()-(c.pageX-b(document).scrollLeft())<m.scrollSensitivity&&(q=b(document).scrollLeft(b(document).scrollLeft()+m.scrollSpeed))));!1!==q&&b.ui.ddmanager&&!m.dropBehaviour&&b.ui.ddmanager.prepareOffsets(h,c)}});b.ui.plugin.add("draggable","snap",{start:function(c,h){var m=b(this).data("draggable");c=m.options;m.snapElements=[];b(c.snap.constructor!=
String?c.snap.items||":data(draggable)":c.snap).each(function(){var c=b(this),h=c.offset();this!=m.element[0]&&m.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:h.top,left:h.left})})},drag:function(c,h){for(var m=b(this).data("draggable"),q=m.options,n=q.snapTolerance,r=h.offset.left,k=r+m.helperProportions.width,p=h.offset.top,v=p+m.helperProportions.height,z=m.snapElements.length-1;0<=z;z--){var x=m.snapElements[z].left,A=x+m.snapElements[z].width,u=m.snapElements[z].top,
C=u+m.snapElements[z].height;if(x-n<r&&r<A+n&&u-n<p&&p<C+n||x-n<r&&r<A+n&&u-n<v&&v<C+n||x-n<k&&k<A+n&&u-n<p&&p<C+n||x-n<k&&k<A+n&&u-n<v&&v<C+n){if("inner"!=q.snapMode){var B=Math.abs(u-v)<=n,y=Math.abs(C-p)<=n,E=Math.abs(x-k)<=n,F=Math.abs(A-r)<=n;B&&(h.position.top=m._convertPositionTo("relative",{top:u-m.helperProportions.height,left:0}).top-m.margins.top);y&&(h.position.top=m._convertPositionTo("relative",{top:C,left:0}).top-m.margins.top);E&&(h.position.left=m._convertPositionTo("relative",{top:0,
left:x-m.helperProportions.width}).left-m.margins.left);F&&(h.position.left=m._convertPositionTo("relative",{top:0,left:A}).left-m.margins.left)}var D=B||y||E||F;"outer"!=q.snapMode&&(B=Math.abs(u-p)<=n,y=Math.abs(C-v)<=n,E=Math.abs(x-r)<=n,F=Math.abs(A-k)<=n,B&&(h.position.top=m._convertPositionTo("relative",{top:u,left:0}).top-m.margins.top),y&&(h.position.top=m._convertPositionTo("relative",{top:C-m.helperProportions.height,left:0}).top-m.margins.top),E&&(h.position.left=m._convertPositionTo("relative",
{top:0,left:x}).left-m.margins.left),F&&(h.position.left=m._convertPositionTo("relative",{top:0,left:A-m.helperProportions.width}).left-m.margins.left));!m.snapElements[z].snapping&&(B||y||E||F||D)&&m.options.snap.snap&&m.options.snap.snap.call(m.element,c,b.extend(m._uiHash(),{snapItem:m.snapElements[z].item}));m.snapElements[z].snapping=B||y||E||F||D}else m.snapElements[z].snapping&&m.options.snap.release&&m.options.snap.release.call(m.element,c,b.extend(m._uiHash(),{snapItem:m.snapElements[z].item})),
m.snapElements[z].snapping=!1}}});b.ui.plugin.add("draggable","stack",{start:function(c,h){c=b(this).data("draggable").options;c=b.makeArray(b(c.stack)).sort(function(c,h){return(parseInt(b(c).css("zIndex"),10)||0)-(parseInt(b(h).css("zIndex"),10)||0)});if(c.length){var m=parseInt(c[0].style.zIndex)||0;b(c).each(function(b){this.style.zIndex=m+b});this[0].style.zIndex=m+c.length}}});b.ui.plugin.add("draggable","zIndex",{start:function(c,h){c=b(h.helper);h=b(this).data("draggable").options;c.css("zIndex")&&
(h._zIndex=c.css("zIndex"));c.css("zIndex",h.zIndex)},stop:function(c,h){c=b(this).data("draggable").options;c._zIndex&&b(h.helper).css("zIndex",c._zIndex)}})})(jQuery);
(function(b,h){b.widget("ui.droppable",{version:"1.9.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var c=this.options,h=c.accept;this.isover=0;this.isout=1;this.accept=b.isFunction(h)?h:function(b){return b.is(h)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};b.ui.ddmanager.droppables[c.scope]=b.ui.ddmanager.droppables[c.scope]||[];b.ui.ddmanager.droppables[c.scope].push(this);
c.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var c=b.ui.ddmanager.droppables[this.options.scope],h=0;h<c.length;h++)c[h]==this&&c.splice(h,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(c,h){"accept"==c&&(this.accept=b.isFunction(h)?h:function(b){return b.is(h)});b.Widget.prototype._setOption.apply(this,arguments)},_activate:function(c){var h=b.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);
h&&this._trigger("activate",c,this.ui(h))},_deactivate:function(c){var h=b.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);h&&this._trigger("deactivate",c,this.ui(h))},_over:function(c){var h=b.ui.ddmanager.current;h&&(h.currentItem||h.element)[0]!=this.element[0]&&this.accept.call(this.element[0],h.currentItem||h.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",c,this.ui(h)))},_out:function(c){var h=
b.ui.ddmanager.current;h&&(h.currentItem||h.element)[0]!=this.element[0]&&this.accept.call(this.element[0],h.currentItem||h.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",c,this.ui(h)))},_drop:function(c,h){var m=h||b.ui.ddmanager.current;if(!m||(m.currentItem||m.element)[0]==this.element[0])return!1;var q=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var c=b.data(this,"droppable");if(c.options.greedy&&
!c.options.disabled&&c.options.scope==m.options.scope&&c.accept.call(c.element[0],m.currentItem||m.element)&&b.ui.intersect(m,b.extend(c,{offset:c.element.offset()}),c.options.tolerance))return q=!0,!1}),q?!1:this.accept.call(this.element[0],m.currentItem||m.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",c,this.ui(m)),this.element):!1},ui:function(b){return{draggable:b.currentItem||
b.element,helper:b.helper,position:b.position,offset:b.positionAbs}}});b.ui.intersect=function(c,h,m){if(!h.offset)return!1;var q=(c.positionAbs||c.position.absolute).left,n=q+c.helperProportions.width,r=(c.positionAbs||c.position.absolute).top,k=r+c.helperProportions.height,p=h.offset.left,v=p+h.proportions.width,z=h.offset.top,x=z+h.proportions.height;switch(m){case "fit":return p<=q&&n<=v&&z<=r&&k<=x;case "intersect":return p<q+c.helperProportions.width/2&&n-c.helperProportions.width/2<v&&z<r+
c.helperProportions.height/2&&k-c.helperProportions.height/2<x;case "pointer":return b.ui.isOver((c.positionAbs||c.position.absolute).top+(c.clickOffset||c.offset.click).top,(c.positionAbs||c.position.absolute).left+(c.clickOffset||c.offset.click).left,z,p,h.proportions.height,h.proportions.width);case "touch":return(r>=z&&r<=x||k>=z&&k<=x||r<z&&k>x)&&(q>=p&&q<=v||n>=p&&n<=v||q<p&&n>v);default:return!1}};b.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(c,h){var m=b.ui.ddmanager.droppables[c.options.scope]||
[],q=h?h.type:null,n=(c.currentItem||c.element).find(":data(droppable)").andSelf(),r=0;a:for(;r<m.length;r++)if(!(m[r].options.disabled||c&&!m[r].accept.call(m[r].element[0],c.currentItem||c.element))){for(var k=0;k<n.length;k++)if(n[k]==m[r].element[0]){m[r].proportions.height=0;continue a}m[r].visible="none"!=m[r].element.css("display");m[r].visible&&("mousedown"==q&&m[r]._activate.call(m[r],h),m[r].offset=m[r].element.offset(),m[r].proportions={width:m[r].element[0].offsetWidth,height:m[r].element[0].offsetHeight},
"undefined"!=typeof DKI&&"undefined"!=typeof DKI.utility&&"undefined"!=typeof DKI.utility.getScale&&(k=DKI.utility.getScale(),m[r].proportions.width*=k,m[r].proportions.height*=k))}},drop:function(c,h){var m=!1;return b.each(b.ui.ddmanager.droppables[c.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&b.ui.intersect(c,this,this.options.tolerance)&&(m=this._drop.call(this,h)||m),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],c.currentItem||c.element)&&
(this.isout=1,this.isover=0,this._deactivate.call(this,h)))}),m},dragStart:function(c,h){c.element.parentsUntil("body").bind("scroll.droppable",function(){c.options.refreshPositions||b.ui.ddmanager.prepareOffsets(c,h)})},drag:function(c,h){c.options.refreshPositions&&b.ui.ddmanager.prepareOffsets(c,h);b.each(b.ui.ddmanager.droppables[c.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var m=b.ui.intersect(c,this,this.options.tolerance);if(m=m||1!=this.isover?
m&&0==this.isover?"isover":null:"isout"){var q;if(this.options.greedy){var n=this.options.scope,r=this.element.parents(":data(droppable)").filter(function(){return b.data(this,"droppable").options.scope===n});r.length&&(q=b.data(r[0],"droppable"),q.greedyChild="isover"==m?1:0)}q&&"isover"==m&&(q.isover=0,q.isout=1,q._out.call(q,h));this[m]=1;this["isout"==m?"isover":"isout"]=0;this["isover"==m?"_over":"_out"].call(this,h);q&&"isout"==m&&(q.isout=0,q.isover=1,q._over.call(q,h))}}})},dragStop:function(c,
h){c.element.parentsUntil("body").unbind("scroll.droppable");c.options.refreshPositions||b.ui.ddmanager.prepareOffsets(c,h)}}})(jQuery);
(function(b,h){b.widget("ui.resizable",b.ui.mouse,{version:"1.9.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1E3},_create:function(){var c=this,h=this.options;this.element.addClass("ui-resizable");b.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,
_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(b('\x3cdiv class\x3d"ui-wrapper" style\x3d"overflow: hidden;"\x3e\x3c/div\x3e').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",
this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",
zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=h.handles||(b(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var l=this.handles.split(",");
this.handles={};for(var r=0;r<l.length;r++){var k=b.trim(l[r]),p=b('\x3cdiv class\x3d"ui-resizable-handle ui-resizable-'+k+'"\x3e\x3c/div\x3e');p.css({zIndex:h.zIndex});"se"==k&&p.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[k]=".ui-resizable-"+k;this.element.append(p)}}this._renderAxis=function(k){k=k||this.element;for(var c in this.handles){this.handles[c].constructor==String&&(this.handles[c]=b(this.handles[c],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var h=
b(this.handles[c],this.element),h=/sw|ne|nw|se|n|s/.test(c)?h.outerHeight():h.outerWidth(),l=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join("");k.css(l,h);this._proportionallyResize()}b(this.handles[c])}};this._renderAxis(this.element);this._handles=b(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!c.resizing){if(this.className)var b=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);c.axis=b&&
b[1]?b[1]:"se"}});h.autoHide&&(this._handles.hide(),b(this.element).addClass("ui-resizable-autohide").mouseenter(function(){h.disabled||(b(this).removeClass("ui-resizable-autohide"),c._handles.show())}).mouseleave(function(){h.disabled||c.resizing||(b(this).addClass("ui-resizable-autohide"),c._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();var c=function(c){b(c).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};
if(this.elementIsWrapper){c(this.element);var h=this.element;this.originalElement.css({position:h.css("position"),width:h.outerWidth(),height:h.outerHeight(),top:h.css("top"),left:h.css("left")}).insertAfter(h);h.remove()}return this.originalElement.css("resize",this.originalResizeStyle),c(this.originalElement),this},_mouseCapture:function(c){var h=!1,l;for(l in this.handles)b(this.handles[l])[0]==c.target&&(h=!0);return!this.options.disabled&&h},_mouseStart:function(h){var l=this.options,n=this.element.position(),
r=this.element;this.resizing=!0;this.documentScroll={top:b(document).scrollTop(),left:b(document).scrollLeft()};(r.is(".ui-draggable")||/absolute/.test(r.css("position")))&&r.css({position:"absolute",top:n.top,left:n.left});this._renderProxy();var n=c(this.helper.css("left")),k=c(this.helper.css("top"));l.containment&&(n+=b(l.containment).scrollLeft()||0,k+=b(l.containment).scrollTop()||0);this.offset=this.helper.offset();this.position={left:n,top:k};this.size=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:
{width:r.width(),height:r.height()};this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()};this.originalPosition={left:n,top:k};this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()};this.originalMousePosition={left:h.pageX,top:h.pageY};this.aspectRatio="number"==typeof l.aspectRatio?l.aspectRatio:this.originalSize.width/this.originalSize.height||1;l=b(".ui-resizable-"+this.axis).css("cursor");return b("body").css("cursor",
"auto"==l?this.axis+"-resize":l),r.addClass("ui-resizable-resizing"),this._propagate("start",h),!0},_mouseDrag:function(b){var c=this.helper,h=this.originalMousePosition,l=this._change[this.axis];if(!l)return!1;h=l.apply(this,[b,b.pageX-h.left||0,b.pageY-h.top||0]);this._updateVirtualBoundaries(b.shiftKey);if(this._aspectRatio||b.shiftKey)h=this._updateRatio(h,b);return h=this._respectSize(h,b),this._propagate("resize",b),c.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+
"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(h),this._trigger("resize",b,this.ui()),!1},_mouseStop:function(c){this.resizing=!1;var h=this.options;if(this._helper){var l=this._proportionallyResizeElements,r=l.length&&/textarea/i.test(l[0].nodeName),l=r&&b.ui.hasScroll(l[0],"left")?0:this.sizeDiff.height,r=r?0:this.sizeDiff.width,r={width:this.helper.width()-r,height:this.helper.height()-l},l=parseInt(this.element.css("left"),
10)+(this.position.left-this.originalPosition.left)||null,k=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null;h.animate||this.element.css(b.extend(r,{top:k,left:l}));this.helper.height(this.size.height);this.helper.width(this.size.width);this._helper&&!h.animate&&this._proportionallyResize()}return b("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",c),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(b){var c=
this.options,h,r,k,c={minWidth:l(c.minWidth)?c.minWidth:0,maxWidth:l(c.maxWidth)?c.maxWidth:Infinity,minHeight:l(c.minHeight)?c.minHeight:0,maxHeight:l(c.maxHeight)?c.maxHeight:Infinity};if(this._aspectRatio||b)b=c.minHeight*this.aspectRatio,r=c.minWidth/this.aspectRatio,h=c.maxHeight*this.aspectRatio,k=c.maxWidth/this.aspectRatio,b>c.minWidth&&(c.minWidth=b),r>c.minHeight&&(c.minHeight=r),h<c.maxWidth&&(c.maxWidth=h),k<c.maxHeight&&(c.maxHeight=k);this._vBoundaries=c},_updateCache:function(b){this.offset=
this.helper.offset();l(b.left)&&(this.position.left=b.left);l(b.top)&&(this.position.top=b.top);l(b.height)&&(this.size.height=b.height);l(b.width)&&(this.size.width=b.width)},_updateRatio:function(b,c){c=this.position;var h=this.size,r=this.axis;return l(b.height)?b.width=b.height*this.aspectRatio:l(b.width)&&(b.height=b.width/this.aspectRatio),"sw"==r&&(b.left=c.left+(h.width-b.width),b.top=null),"nw"==r&&(b.top=c.top+(h.height-b.height),b.left=c.left+(h.width-b.width)),b},_respectSize:function(b,
c){c=this._vBoundaries;var h=this.axis,r=l(b.width)&&c.maxWidth&&c.maxWidth<b.width,k=l(b.height)&&c.maxHeight&&c.maxHeight<b.height,p=l(b.width)&&c.minWidth&&c.minWidth>b.width,v=l(b.height)&&c.minHeight&&c.minHeight>b.height;p&&(b.width=c.minWidth);v&&(b.height=c.minHeight);r&&(b.width=c.maxWidth);k&&(b.height=c.maxHeight);var z=this.originalPosition.left+this.originalSize.width,x=this.position.top+this.size.height,A=/sw|nw|w/.test(h),h=/nw|ne|n/.test(h);p&&A&&(b.left=z-c.minWidth);r&&A&&(b.left=
z-c.maxWidth);v&&h&&(b.top=x-c.minHeight);k&&h&&(b.top=x-c.maxHeight);c=!b.width&&!b.height;return c&&!b.left&&b.top?b.top=null:c&&!b.top&&b.left&&(b.left=null),b},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var c=this.helper||this.element,h=0;h<this._proportionallyResizeElements.length;h++){var l=this._proportionallyResizeElements[h];if(!this.borderDif){var r=[l.css("borderTopWidth"),l.css("borderRightWidth"),l.css("borderBottomWidth"),l.css("borderLeftWidth")],
k=[l.css("paddingTop"),l.css("paddingRight"),l.css("paddingBottom"),l.css("paddingLeft")];this.borderDif=b.map(r,function(b,c){b=parseInt(b,10)||0;c=parseInt(k[c],10)||0;return b+c})}l.css({height:c.height()-this.borderDif[0]-this.borderDif[2]||0,width:c.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var c=this.options;this.elementOffset=this.element.offset();if(this._helper){this.helper=this.helper||b('\x3cdiv style\x3d"overflow:hidden;"\x3e\x3c/div\x3e');var h=b.ui.ie6?
1:0,l=b.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+l,height:this.element.outerHeight()+l,position:"absolute",left:this.elementOffset.left-h+"px",top:this.elementOffset.top-h+"px",zIndex:++c.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(b,c,h){return{width:this.originalSize.width+c}},w:function(b,c,h){return{left:this.originalPosition.left+c,width:this.originalSize.width-c}},n:function(b,c,h){return{top:this.originalPosition.top+
h,height:this.originalSize.height-h}},s:function(b,c,h){return{height:this.originalSize.height+h}},se:function(c,h,l){return b.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[c,h,l]))},sw:function(c,h,l){return b.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[c,h,l]))},ne:function(c,h,l){return b.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[c,h,l]))},nw:function(c,h,l){return b.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,
[c,h,l]))}},_propagate:function(c,h){b.ui.plugin.call(this,c,[h,this.ui()]);"resize"!=c&&this._trigger(c,h,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});b.ui.plugin.add("resizable","alsoResize",{start:function(c,h){c=b(this).data("resizable").options;var l=function(c){b(c).each(function(){var c=b(this);c.data("resizable-alsoresize",
{width:parseInt(c.width(),10),height:parseInt(c.height(),10),left:parseInt(c.css("left"),10),top:parseInt(c.css("top"),10)})})};"object"!=typeof c.alsoResize||c.alsoResize.parentNode?l(c.alsoResize):c.alsoResize.length?(c.alsoResize=c.alsoResize[0],l(c.alsoResize)):b.each(c.alsoResize,function(b){l(b)})},resize:function(c,h){c=b(this).data("resizable");var l=c.options,r=c.originalSize,k=c.originalPosition,p={height:c.size.height-r.height||0,width:c.size.width-r.width||0,top:c.position.top-k.top||
0,left:c.position.left-k.left||0},v=function(c,k){b(c).each(function(){var c=b(this),l=b(this).data("resizable-alsoresize"),m={},n=k&&k.length?k:c.parents(h.originalElement[0]).length?["width","height"]:["width","height","top","left"];b.each(n,function(b,c){(b=(l[c]||0)+(p[c]||0))&&0<=b&&(m[c]=b||null)});c.css(m)})};"object"!=typeof l.alsoResize||l.alsoResize.nodeType?v(l.alsoResize):b.each(l.alsoResize,function(b,c){v(b,c)})},stop:function(c,h){b(this).removeData("resizable-alsoresize")}});b.ui.plugin.add("resizable",
"animate",{stop:function(c,h){var l=b(this).data("resizable");h=l.options;var r=l._proportionallyResizeElements,k=r.length&&/textarea/i.test(r[0].nodeName),p=k&&b.ui.hasScroll(r[0],"left")?0:l.sizeDiff.height,k={width:l.size.width-(k?0:l.sizeDiff.width),height:l.size.height-p},p=parseInt(l.element.css("left"),10)+(l.position.left-l.originalPosition.left)||null,v=parseInt(l.element.css("top"),10)+(l.position.top-l.originalPosition.top)||null;l.element.animate(b.extend(k,v&&p?{top:v,left:p}:{}),{duration:h.animateDuration,
easing:h.animateEasing,step:function(){var k={width:parseInt(l.element.css("width"),10),height:parseInt(l.element.css("height"),10),top:parseInt(l.element.css("top"),10),left:parseInt(l.element.css("left"),10)};r&&r.length&&b(r[0]).css({width:k.width,height:k.height});l._updateCache(k);l._propagate("resize",c)}})}});b.ui.plugin.add("resizable","containment",{start:function(h,l){h=b(this).data("resizable");l=h.element;var n=h.options.containment;if(l=n instanceof b?n.get(0):/parent/.test(n)?l.parent().get(0):
n)if(h.containerElement=b(l),/document/.test(n)||n==document)h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:b(document),left:0,top:0,width:b(document).width(),height:b(document).height()||document.body.parentNode.scrollHeight};else{var r=b(l),k=[];b(["Top","Right","Left","Bottom"]).each(function(b,h){k[b]=c(r.css("padding"+h))});h.containerOffset=r.offset();h.containerPosition=r.position();h.containerSize={height:r.innerHeight()-k[3],width:r.innerWidth()-
k[1]};var n=h.containerOffset,p=h.containerSize.height,v=h.containerSize.width,v=b.ui.hasScroll(l,"left")?l.scrollWidth:v,p=b.ui.hasScroll(l)?l.scrollHeight:p;h.parentData={element:l,left:n.left,top:n.top,width:v,height:p}}},resize:function(c,h){h=b(this).data("resizable");var l=h.options,r=h.containerOffset,k=h.position;c=h._aspectRatio||c.shiftKey;var p={top:0,left:0},v=h.containerElement;v[0]!=document&&/static/.test(v.css("position"))&&(p=r);k.left<(h._helper?r.left:0)&&(h.size.width+=h._helper?
h.position.left-r.left:h.position.left-p.left,c&&(h.size.height=h.size.width/h.aspectRatio),h.position.left=l.helper?r.left:0);k.top<(h._helper?r.top:0)&&(h.size.height+=h._helper?h.position.top-r.top:h.position.top,c&&(h.size.width=h.size.height*h.aspectRatio),h.position.top=h._helper?r.top:0);h.offset.left=h.parentData.left+h.position.left;h.offset.top=h.parentData.top+h.position.top;l=Math.abs(h.offset.left-p.left+h.sizeDiff.width);r=Math.abs((h._helper?h.offset.top-p.top:h.offset.top-r.top)+h.sizeDiff.height);
k=h.containerElement.get(0)==h.element.parent().get(0);p=/relative|absolute/.test(h.containerElement.css("position"));k&&p&&(l-=h.parentData.left);l+h.size.width>=h.parentData.width&&(h.size.width=h.parentData.width-l,c&&(h.size.height=h.size.width/h.aspectRatio));r+h.size.height>=h.parentData.height&&(h.size.height=h.parentData.height-r,c&&(h.size.width=h.size.height*h.aspectRatio))},stop:function(c,h){c=b(this).data("resizable");h=c.options;var l=c.containerOffset,r=c.containerPosition,k=c.containerElement,
p=b(c.helper),v=p.offset(),z=p.outerWidth()-c.sizeDiff.width,p=p.outerHeight()-c.sizeDiff.height;c._helper&&!h.animate&&/relative/.test(k.css("position"))&&b(this).css({left:v.left-r.left-l.left,width:z,height:p});c._helper&&!h.animate&&/static/.test(k.css("position"))&&b(this).css({left:v.left-r.left-l.left,width:z,height:p})}});b.ui.plugin.add("resizable","ghost",{start:function(c,h){c=b(this).data("resizable");h=c.options;var l=c.size;c.ghost=c.originalElement.clone();c.ghost.css({opacity:.25,
display:"block",position:"relative",height:l.height,width:l.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof h.ghost?h.ghost:"");c.ghost.appendTo(c.helper)},resize:function(c,h){c=b(this).data("resizable");c.ghost&&c.ghost.css({position:"relative",height:c.size.height,width:c.size.width})},stop:function(c,h){c=b(this).data("resizable");c.ghost&&c.helper&&c.helper.get(0).removeChild(c.ghost.get(0))}});b.ui.plugin.add("resizable","grid",{resize:function(c,h){c=
b(this).data("resizable");var l=c.options,r=c.size;h=c.originalSize;var k=c.originalPosition,p=c.axis;l.grid="number"==typeof l.grid?[l.grid,l.grid]:l.grid;var v=Math.round((r.width-h.width)/(l.grid[0]||1))*(l.grid[0]||1),l=Math.round((r.height-h.height)/(l.grid[1]||1))*(l.grid[1]||1);/^(se|s|e)$/.test(p)?(c.size.width=h.width+v,c.size.height=h.height+l):/^(ne)$/.test(p)?(c.size.width=h.width+v,c.size.height=h.height+l,c.position.top=k.top-l):/^(sw)$/.test(p)?(c.size.width=h.width+v,c.size.height=
h.height+l,c.position.left=k.left-v):(c.size.width=h.width+v,c.size.height=h.height+l,c.position.top=k.top-l,c.position.left=k.left-v)}});var c=function(b){return parseInt(b,10)||0},l=function(b){return!isNaN(parseInt(b,10))}})(jQuery);
(function(b,h){b.widget("ui.selectable",b.ui.mouse,{version:"1.9.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var c=this;this.element.addClass("ui-selectable");this.dragged=!1;var h;this.refresh=function(){h=b(c.options.filter,c.element[0]);h.addClass("ui-selectee");h.each(function(){var c=b(this),h=c.offset();b.data(this,"selectable-item",{element:this,$element:c,left:h.left,top:h.top,right:h.left+c.outerWidth(),bottom:h.top+c.outerHeight(),
startselected:!1,selected:c.hasClass("ui-selected"),selecting:c.hasClass("ui-selecting"),unselecting:c.hasClass("ui-unselecting")})})};this.refresh();this.selectees=h.addClass("ui-selectee");this._mouseInit();this.helper=b("\x3cdiv class\x3d'ui-selectable-helper'\x3e\x3c/div\x3e")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(c){var h=this;this.opos=
[c.pageX,c.pageY];if(!this.options.disabled){var m=this.options;this.selectees=b(m.filter,this.element[0]);this._trigger("start",c);b(m.appendTo).append(this.helper);this.helper.css({left:c.clientX,top:c.clientY,width:0,height:0});m.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var m=b.data(this,"selectable-item");m.startselected=!0;c.metaKey||c.ctrlKey||(m.$element.removeClass("ui-selected"),m.selected=!1,m.$element.addClass("ui-unselecting"),m.unselecting=!0,
h._trigger("unselecting",c,{unselecting:m.element}))});b(c.target).parents().andSelf().each(function(){var m=b.data(this,"selectable-item");if(m){var n=!c.metaKey&&!c.ctrlKey||!m.$element.hasClass("ui-selected");return m.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),m.unselecting=!n,m.selecting=n,m.selected=n,n?h._trigger("selecting",c,{selecting:m.element}):h._trigger("unselecting",c,{unselecting:m.element}),!1}})}},_mouseDrag:function(c){var h=
this;this.dragged=!0;if(!this.options.disabled){var m=this.options,q=this.opos[0],n=this.opos[1],r=c.pageX,k=c.pageY;q>r&&(q=r=q);n>k&&(n=k=n);return this.helper.css({left:q,top:n,width:r-q,height:k-n}),this.selectees.each(function(){var p=b.data(this,"selectable-item");if(p&&p.element!=h.element[0]){var v=!1;"touch"==m.tolerance?v=!(p.left>r||p.right<q||p.top>k||p.bottom<n):"fit"==m.tolerance&&(v=p.left>q&&p.right<r&&p.top>n&&p.bottom<k);v?(p.selected&&(p.$element.removeClass("ui-selected"),p.selected=
!1),p.unselecting&&(p.$element.removeClass("ui-unselecting"),p.unselecting=!1),p.selecting||(p.$element.addClass("ui-selecting"),p.selecting=!0,h._trigger("selecting",c,{selecting:p.element}))):(p.selecting&&((c.metaKey||c.ctrlKey)&&p.startselected?(p.$element.removeClass("ui-selecting"),p.selecting=!1,p.$element.addClass("ui-selected"),p.selected=!0):(p.$element.removeClass("ui-selecting"),p.selecting=!1,p.startselected&&(p.$element.addClass("ui-unselecting"),p.unselecting=!0),h._trigger("unselecting",
c,{unselecting:p.element}))),p.selected&&!c.metaKey&&!c.ctrlKey&&!p.startselected&&(p.$element.removeClass("ui-selected"),p.selected=!1,p.$element.addClass("ui-unselecting"),p.unselecting=!0,h._trigger("unselecting",c,{unselecting:p.element})))}}),!1}},_mouseStop:function(c){var h=this;this.dragged=!1;return b(".ui-unselecting",this.element[0]).each(function(){var m=b.data(this,"selectable-item");m.$element.removeClass("ui-unselecting");m.unselecting=!1;m.startselected=!1;h._trigger("unselected",
c,{unselected:m.element})}),b(".ui-selecting",this.element[0]).each(function(){var m=b.data(this,"selectable-item");m.$element.removeClass("ui-selecting").addClass("ui-selected");m.selecting=!1;m.selected=!0;m.startselected=!0;h._trigger("selected",c,{selected:m.element})}),this._trigger("stop",c),this.helper.remove(),!1}})})(jQuery);
(function(b,h){b.widget("ui.sortable",b.ui.mouse,{version:"1.9.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"\x3e *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){var b=this.options;this.containerCache={};this.element.addClass("ui-sortable");
this.refresh();this.floating=this.items.length?"x"===b.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var b=this.items.length-1;0<=b;b--)this.items[b].item.removeData(this.widgetName+"-item");return this},_setOption:function(c,h){"disabled"===c?(this.options[c]=
h,this.widget().toggleClass("ui-sortable-disabled",!!h)):b.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(c,h){var m=this;if(this.reverting||this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(c);var q=null;b(c.target).parents().each(function(){if(b.data(this,m.widgetName+"-item")==m)return q=b(this),!1});b.data(c.target,m.widgetName+"-item")==m&&(q=b(c.target));if(!q)return!1;if(this.options.handle&&!h){var n=!1;b(this.options.handle,q).find("*").andSelf().each(function(){this==
c.target&&(n=!0)});if(!n)return!1}return this.currentItem=q,this._removeCurrentsFromItems(),!0},_mouseStart:function(c,h,m){h=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(c);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};b.extend(this.offset,{click:{left:c.pageX-this.offset.left,
top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;h.cursorAt&&this._adjustOffsetFromHelper(h.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();
h.containment&&this._setContainment();h.cursor&&(b("body").css("cursor")&&(this._storedCursor=b("body").css("cursor")),b("body").css("cursor",h.cursor));h.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",h.opacity));h.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",h.zIndex));this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());
this._trigger("start",c,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!m)for(m=this.containers.length-1;0<=m;m--)this.containers[m]._trigger("activate",c,this._uiHash(this));return b.ui.ddmanager&&(b.ui.ddmanager.current=this),b.ui.ddmanager&&!h.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(c),!0},_mouseDrag:function(c){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");
this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var h=this.options,m=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-c.pageY<h.scrollSensitivity?this.scrollParent[0].scrollTop=m=this.scrollParent[0].scrollTop+h.scrollSpeed:c.pageY-this.overflowOffset.top<h.scrollSensitivity&&(this.scrollParent[0].scrollTop=m=this.scrollParent[0].scrollTop-h.scrollSpeed),this.overflowOffset.left+
this.scrollParent[0].offsetWidth-c.pageX<h.scrollSensitivity?this.scrollParent[0].scrollLeft=m=this.scrollParent[0].scrollLeft+h.scrollSpeed:c.pageX-this.overflowOffset.left<h.scrollSensitivity&&(this.scrollParent[0].scrollLeft=m=this.scrollParent[0].scrollLeft-h.scrollSpeed)):(c.pageY-b(document).scrollTop()<h.scrollSensitivity?m=b(document).scrollTop(b(document).scrollTop()-h.scrollSpeed):b(window).height()-(c.pageY-b(document).scrollTop())<h.scrollSensitivity&&(m=b(document).scrollTop(b(document).scrollTop()+
h.scrollSpeed)),c.pageX-b(document).scrollLeft()<h.scrollSensitivity?m=b(document).scrollLeft(b(document).scrollLeft()-h.scrollSpeed):b(window).width()-(c.pageX-b(document).scrollLeft())<h.scrollSensitivity&&(m=b(document).scrollLeft(b(document).scrollLeft()+h.scrollSpeed)));!1!==m&&b.ui.ddmanager&&!h.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c)}this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px");
this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(h=this.items.length-1;0<=h;h--){var m=this.items[h],q=m.item[0],n=this._intersectsWithPointer(m);if(n&&m.instance===this.currentContainer&&q!=this.currentItem[0]&&this.placeholder[1==n?"next":"prev"]()[0]!=q&&!b.contains(this.placeholder[0],q)&&("semi-dynamic"==this.options.type?!b.contains(this.element[0],q):1)){this.direction=1==n?"down":"up";if("pointer"!=this.options.tolerance&&!this._intersectsWithSides(m))break;
this._rearrange(c,m);this._trigger("change",c,this._uiHash());break}}return this._contactContainers(c),b.ui.ddmanager&&b.ui.ddmanager.drag(this,c),this._trigger("sort",c,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(c,h){if(c){b.ui.ddmanager&&!this.options.dropBehaviour&&b.ui.ddmanager.drop(this,c);if(this.options.revert){var m=this;h=this.placeholder.offset();this.reverting=!0;b(this.helper).animate({left:h.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==
document.body?0:this.offsetParent[0].scrollLeft),top:h.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){m._clear(c)})}else this._clear(c,h);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;0<=c;c--)this.containers[c]._trigger("deactivate",
null,this._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,this._uiHash(this)),this.containers[c].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),b.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?b(this.domPosition.prev).after(this.currentItem):
b(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(c){var h=this._getItemsAsjQuery(c&&c.connected),m=[];return c=c||{},b(h).each(function(){var h=(b(c.item||this).attr(c.attribute||"id")||"").match(c.expression||/(.+)[-=_](.+)/);h&&m.push((c.key||h[1]+"[]")+"\x3d"+(c.key&&c.expression?h[1]:h[2]))}),!m.length&&c.key&&m.push(c.key+"\x3d"),m.join("\x26")},toArray:function(c){var h=this._getItemsAsjQuery(c&&c.connected),m=[];return c=c||{},h.each(function(){m.push(b(c.item||
this).attr(c.attribute||"id")||"")}),m},_intersectsWith:function(b){var h=this.positionAbs.left,m=h+this.helperProportions.width,q=this.positionAbs.top,n=q+this.helperProportions.height,r=b.left,k=r+b.width,p=b.top,v=p+b.height,z=this.offset.click.top,x=this.offset.click.left;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>b[this.floating?"width":"height"]?q+z>p&&q+z<v&&h+x>r&&
h+x<k:r<h+this.helperProportions.width/2&&m-this.helperProportions.width/2<k&&p<q+this.helperProportions.height/2&&n-this.helperProportions.height/2<v},_intersectsWithPointer:function(c){var h="x"===this.options.axis||b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,c.top,c.height);c="y"===this.options.axis||b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,c.left,c.width);h=h&&c;c=this._getDragVerticalDirection();var m=this._getDragHorizontalDirection();return h?this.floating?
m&&"right"==m||"down"==c?2:1:c&&("down"==c?2:1):!1},_intersectsWithSides:function(c){var h=b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,c.top+c.height/2,c.height);c=b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,c.left+c.width/2,c.width);var m=this._getDragVerticalDirection(),q=this._getDragHorizontalDirection();return this.floating&&q?"right"==q&&c||"left"==q&&!c:m&&("down"==m&&h||"up"==m&&!h)},_getDragVerticalDirection:function(){var b=this.positionAbs.top-this.lastPositionAbs.top;
return 0!=b&&(0<b?"down":"up")},_getDragHorizontalDirection:function(){var b=this.positionAbs.left-this.lastPositionAbs.left;return 0!=b&&(0<b?"right":"left")},refresh:function(b){return this._refreshItems(b),this.refreshPositions(),this},_connectWith:function(){var b=this.options;return b.connectWith.constructor==String?[b.connectWith]:b.connectWith},_getItemsAsjQuery:function(c){var h=[],m=[],q=this._connectWith();if(q&&c)for(c=q.length-1;0<=c;c--)for(var n=b(q[c]),r=n.length-1;0<=r;r--){var k=
b.data(n[r],this.widgetName);k&&k!=this&&!k.options.disabled&&m.push([b.isFunction(k.options.items)?k.options.items.call(k.element):b(k.options.items,k.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),k])}m.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(c=m.length-1;0<=c;c--)m[c][0].each(function(){h.push(this)});
return b(h)},_removeCurrentsFromItems:function(){var c=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=b.grep(this.items,function(b){for(var h=0;h<c.length;h++)if(c[h]==b.item[0])return!1;return!0})},_refreshItems:function(c){this.items=[];this.containers=[this];var h=this.items,m=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],c,{item:this.currentItem}):b(this.options.items,this.element),this]],q=this._connectWith();if(q&&this.ready)for(var n=q.length-
1;0<=n;n--)for(var r=b(q[n]),k=r.length-1;0<=k;k--){var p=b.data(r[k],this.widgetName);p&&p!=this&&!p.options.disabled&&(m.push([b.isFunction(p.options.items)?p.options.items.call(p.element[0],c,{item:this.currentItem}):b(p.options.items,p.element),p]),this.containers.push(p))}for(n=m.length-1;0<=n;n--)for(c=m[n][1],q=m[n][0],k=0,r=q.length;k<r;k++)p=b(q[k]),p.data(this.widgetName+"-item",c),h.push({item:p,instance:c,width:0,height:0,left:0,top:0})},refreshPositions:function(c){this.offsetParent&&
this.helper&&(this.offset.parent=this._getParentOffset());for(var h=this.items.length-1;0<=h;h--){var m=this.items[h];if(m.instance==this.currentContainer||!this.currentContainer||m.item[0]==this.currentItem[0]){var q=this.options.toleranceElement?b(this.options.toleranceElement,m.item):m.item;c||(m.width=q.outerWidth(),m.height=q.outerHeight());q=q.offset();m.left=q.left;m.top=q.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(h=
this.containers.length-1;0<=h;h--)q=this.containers[h].element.offset(),this.containers[h].containerCache.left=q.left,this.containers[h].containerCache.top=q.top,this.containers[h].containerCache.width=this.containers[h].element.outerWidth(),this.containers[h].containerCache.height=this.containers[h].element.outerHeight();return this},_createPlaceholder:function(c){c=c||this;var h=c.options;if(!h.placeholder||h.placeholder.constructor==String){var m=h.placeholder;h.placeholder={element:function(){var h=
b(document.createElement(c.currentItem[0].nodeName)).addClass(m||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return m||(h.style.visibility="hidden"),h},update:function(b,n){if(!m||h.forcePlaceholderSize)n.height()||n.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||
0,10))}}}c.placeholder=b(h.placeholder.element.call(c.element,c.currentItem));c.currentItem.after(c.placeholder);h.placeholder.update(c,c.placeholder)},_contactContainers:function(c){for(var h=null,m=null,q=this.containers.length-1;0<=q;q--)b.contains(this.currentItem[0],this.containers[q].element[0])||(this._intersectsWith(this.containers[q].containerCache)?h&&b.contains(this.containers[q].element[0],h.element[0])||(h=this.containers[q],m=q):this.containers[q].containerCache.over&&(this.containers[q]._trigger("out",
c,this._uiHash(this)),this.containers[q].containerCache.over=0));if(h)if(1===this.containers.length)this.containers[m]._trigger("over",c,this._uiHash(this)),this.containers[m].containerCache.over=1;else{for(var h=1E4,q=null,n=this.containers[m].floating?"left":"top",r=this.containers[m].floating?"width":"height",k=this.positionAbs[n]+this.offset.click[n],p=this.items.length-1;0<=p;p--)if(b.contains(this.containers[m].element[0],this.items[p].item[0])&&this.items[p].item[0]!=this.currentItem[0]){var v=
this.items[p].item.offset()[n],z=!1;Math.abs(v-k)>Math.abs(v+this.items[p][r]-k)&&(z=!0,v+=this.items[p][r]);Math.abs(v-k)<h&&(h=Math.abs(v-k),q=this.items[p],this.direction=z?"up":"down")}if(q||this.options.dropOnEmpty)this.currentContainer=this.containers[m],q?this._rearrange(c,q,null,!0):this._rearrange(c,null,this.containers[m].element,!0),this._trigger("change",c,this._uiHash()),this.containers[m]._trigger("change",c,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),
this.containers[m]._trigger("over",c,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(c){var h=this.options;c=b.isFunction(h.helper)?b(h.helper.apply(this.element[0],[c,this.currentItem])):"clone"==h.helper?this.currentItem.clone():this.currentItem;return c.parents("body").length||b("parent"!=h.appendTo?h.appendTo:this.currentItem[0].parentNode)[0].appendChild(c[0]),c[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,
position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==c[0].style.width||h.forceHelperSize)&&c.width(this.currentItem.width()),(""==c[0].style.height||h.forceHelperSize)&&c.height(this.currentItem.height()),c},_adjustOffsetFromHelper:function(c){"string"==typeof c&&(c=c.split(" "));b.isArray(c)&&(c={left:+c[0],top:+c[1]||0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);"right"in c&&(this.offset.click.left=this.helperProportions.width-
c.right+this.margins.left);"top"in c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==
document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&b.ui.ie)c={top:0,left:0};return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var b=this.currentItem.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),
10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c=this.options;"parent"==c.containment&&(c.containment=this.helper[0].parentNode);if("document"==c.containment||"window"==c.containment)this.containment=
[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,b("document"==c.containment?document:window).width()-this.helperProportions.width-this.margins.left,(b("document"==c.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(c.containment)){var h=b(c.containment)[0],c=b(c.containment).offset(),m="hidden"!=b(h).css("overflow");this.containment=
[c.left+(parseInt(b(h).css("borderLeftWidth"),10)||0)+(parseInt(b(h).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(b(h).css("borderTopWidth"),10)||0)+(parseInt(b(h).css("paddingTop"),10)||0)-this.margins.top,c.left+(m?Math.max(h.scrollWidth,h.offsetWidth):h.offsetWidth)-(parseInt(b(h).css("borderLeftWidth"),10)||0)-(parseInt(b(h).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(m?Math.max(h.scrollHeight,h.offsetHeight):h.offsetHeight)-(parseInt(b(h).css("borderTopWidth"),
10)||0)-(parseInt(b(h).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(c,h){h||(h=this.position);c="absolute"==c?1:-1;var m="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,q=/(html|body)/i.test(m[0].tagName);return{top:h.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():q?0:
m.scrollTop())*c,left:h.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():q?0:m.scrollLeft())*c}},_generatePosition:function(c){var h=this.options,m="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,q=/(html|body)/i.test(m[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||
(this.offset.relative=this._getRelativeOffset());var n=c.pageX,r=c.pageY;this.originalPosition&&(this.containment&&(c.pageX-this.offset.click.left<this.containment[0]&&(n=this.containment[0]+this.offset.click.left),c.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),c.pageX-this.offset.click.left>this.containment[2]&&(n=this.containment[2]+this.offset.click.left),c.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),
h.grid&&(r=this.originalPageY+Math.round((r-this.originalPageY)/h.grid[1])*h.grid[1],r=this.containment?r-this.offset.click.top<this.containment[1]||r-this.offset.click.top>this.containment[3]?r-this.offset.click.top<this.containment[1]?r+h.grid[1]:r-h.grid[1]:r:r,n=this.originalPageX+Math.round((n-this.originalPageX)/h.grid[0])*h.grid[0],n=this.containment?n-this.offset.click.left<this.containment[0]||n-this.offset.click.left>this.containment[2]?n-this.offset.click.left<this.containment[0]?n+h.grid[0]:
n-h.grid[0]:n:n));return{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():q?0:m.scrollTop()),left:n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():q?0:m.scrollLeft())}},_rearrange:function(b,h,m,q){m?m[0].appendChild(this.placeholder[0]):h.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?h.item[0]:h.item[0].nextSibling);
var n=this.counter=this.counter?++this.counter:1;this._delay(function(){n==this.counter&&this.refreshPositions(!q)})},_clear:function(c,h){this.reverting=!1;var m=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var q in this._storedCSS)if("auto"==this._storedCSS[q]||"static"==this._storedCSS[q])this._storedCSS[q]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();
this.fromOutside&&!h&&m.push(function(b){this._trigger("receive",b,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||h||m.push(function(b){this._trigger("update",b,this._uiHash())});this!==this.currentContainer&&(h||(m.push(function(b){this._trigger("remove",b,this._uiHash())}),m.push(function(b){return function(c){b._trigger("receive",c,this._uiHash(this))}}.call(this,
this.currentContainer)),m.push(function(b){return function(c){b._trigger("update",c,this._uiHash(this))}}.call(this,this.currentContainer))));for(q=this.containers.length-1;0<=q;q--)h||m.push(function(b){return function(c){b._trigger("deactivate",c,this._uiHash(this))}}.call(this,this.containers[q])),this.containers[q].containerCache.over&&(m.push(function(b){return function(c){b._trigger("out",c,this._uiHash(this))}}.call(this,this.containers[q])),this.containers[q].containerCache.over=0);this._storedCursor&&
b("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex);this.dragging=!1;if(this.cancelHelperRemoval){if(!h){this._trigger("beforeStop",c,this._uiHash());for(q=0;q<m.length;q++)m[q].call(this,c);this._trigger("stop",c,this._uiHash())}return this.fromOutside=!1,!1}h||this._trigger("beforeStop",c,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!h){for(q=0;q<m.length;q++)m[q].call(this,c);this._trigger("stop",c,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===b.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(c){var h=c||this;return{helper:h.helper,placeholder:h.placeholder||b([]),position:h.position,originalPosition:h.originalPosition,offset:h.positionAbs,item:h.currentItem,sender:c?c.element:null}}})})(jQuery);
jQuery.effects||function(b,h){var c=!1!==b.uiBackCompat;b.effects={effect:{}};(function(c,h){function q(b,c,k){var h=x[c.type]||{};return null==b?k||!c.def?null:c.def:(b=h.floor?~~b:parseFloat(b),isNaN(b)?c.def:h.mod?(b+h.mod)%h.mod:0>b?0:h.max<b?h.max:b)}function n(b){var k=v(),h=k._rgba=[];return b=b.toLowerCase(),B(p,function(c,l){var m;c=(c=l.re.exec(b))&&l.parse(c);l=l.space||"rgba";if(c)return m=k[l](c),k[z[l].cache]=m[z[l].cache],h=k._rgba=m._rgba,!1}),h.length?("0,0,0,0"===h.join()&&c.extend(h,
C.transparent),k):C[b]}function r(b,c,k){return k=(k+1)%1,1>6*k?b+(c-b)*k*6:1>2*k?c:2>3*k?b+(c-b)*(2/3-k)*6:b}var k=/^([\-+])=\s*(\d+\.?\d*)/,p=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(b){return[b[1],b[2],b[3],b[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(b){return[2.55*b[1],2.55*b[2],2.55*b[3],b[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
parse:function(b){return[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(b){return[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(b){return[b[1],b[2]/100,b[3]/100,b[4]]}}],v=c.Color=function(b,k,h,m){return new c.Color.fn.parse(b,k,h,m)},z={rgba:{props:{red:{idx:0,type:"byte"},
green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},x={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},A=v.support={},u=c("\x3cp\x3e")[0],C,B=c.each;u.style.cssText="background-color:rgba(1,1,1,.5)";A.rgba=-1<u.style.backgroundColor.indexOf("rgba");B(z,function(b,c){c.cache="_"+b;c.props.alpha={idx:3,type:"percent",def:1}});v.fn=c.extend(v.prototype,{parse:function(k,
u,p,x){if(k===h)return this._rgba=[null,null,null,null],this;if(k.jquery||k.nodeType)k=c(k).css(u),u=h;var r=this,A=c.type(k),K=this._rgba=[];u!==h&&(k=[k,u,p,x],A="array");if("string"===A)return this.parse(n(k)||C._default);if("array"===A)return B(z.rgba.props,function(b,c){K[c.idx]=q(k[c.idx],c)}),this;if("object"===A)return k instanceof v?B(z,function(b,c){k[c.cache]&&(r[c.cache]=k[c.cache].slice())}):B(z,function(c,h){var l=h.cache;B(h.props,function(b,c){if(!r[l]&&h.to){if("alpha"===b||null==
k[b])return;r[l]=h.to(r._rgba)}r[l][c.idx]=q(k[b],c,!0)});r[l]&&0>b.inArray(null,r[l].slice(0,3))&&(r[l][3]=1,h.from&&(r._rgba=h.from(r[l])))}),this},is:function(b){var c=v(b),k=!0,h=this;return B(z,function(b,l){var m,u=c[l.cache];return u&&(m=h[l.cache]||l.to&&l.to(h._rgba)||[],B(l.props,function(b,c){if(null!=u[c.idx])return k=u[c.idx]===m[c.idx],k})),k}),k},_space:function(){var b=[],c=this;return B(z,function(k,h){c[h.cache]&&b.push(k)}),b.pop()},transition:function(b,c){var k=v(b);b=k._space();
var h=z[b],l=0===this.alpha()?v("transparent"):this,m=l[h.cache]||h.to(l._rgba),u=m.slice();return k=k[h.cache],B(h.props,function(b,h){b=h.idx;var l=m[b],p=k[b],n=x[h.type]||{};null!==p&&(null===l?u[b]=p:(n.mod&&(p-l>n.mod/2?l+=n.mod:l-p>n.mod/2&&(l-=n.mod)),u[b]=q((p-l)*c+l,h)))}),this[b](u)},blend:function(b){if(1===this._rgba[3])return this;var k=this._rgba.slice(),h=k.pop(),m=v(b)._rgba;return v(c.map(k,function(b,c){return(1-h)*m[c]+h*b}))},toRgbaString:function(){var b="rgba(",k=c.map(this._rgba,
function(b,c){return null==b?2<c?1:0:b});return 1===k[3]&&(k.pop(),b="rgb("),b+k.join()+")"},toHslaString:function(){var b="hsla(",k=c.map(this.hsla(),function(b,c){return null==b&&(b=2<c?1:0),c&&3>c&&(b=Math.round(100*b)+"%"),b});return 1===k[3]&&(k.pop(),b="hsl("),b+k.join()+")"},toHexString:function(b){var k=this._rgba.slice(),h=k.pop();return b&&k.push(~~(255*h)),"#"+c.map(k,function(b){return b=(b||0).toString(16),1===b.length?"0"+b:b}).join("")},toString:function(){return 0===this._rgba[3]?
"transparent":this.toRgbaString()}});v.fn.parse.prototype=v.fn;z.hsla.to=function(b){if(null==b[0]||null==b[1]||null==b[2])return[null,null,null,b[3]];var c=b[0]/255,k=b[1]/255,h=b[2]/255;b=b[3];var l=Math.max(c,k,h),m=Math.min(c,k,h),u=l-m,p=l+m,n=.5*p,v,x;return m===l?v=0:c===l?v=60*(k-h)/u+360:k===l?v=60*(h-c)/u+120:v=60*(c-k)/u+240,0===n||1===n?x=n:.5>=n?x=u/p:x=u/(2-p),[Math.round(v)%360,x,n,null==b?1:b]};z.hsla.from=function(b){if(null==b[0]||null==b[1]||null==b[2])return[null,null,null,b[3]];
var c=b[0]/360,k=b[1],h=b[2];b=b[3];k=.5>=h?h*(1+k):h+k-h*k;h=2*h-k;return[Math.round(255*r(h,k,c+1/3)),Math.round(255*r(h,k,c)),Math.round(255*r(h,k,c-1/3)),b]};B(z,function(b,u){var p=u.props,n=u.cache,x=u.to,z=u.from;v.fn[b]=function(b){x&&!this[n]&&(this[n]=x(this._rgba));if(b===h)return this[n].slice();var k,u=c.type(b),y="array"===u||"object"===u?b:arguments,r=this[n].slice();return B(p,function(b,c){b=y["object"===u?b:c.idx];null==b&&(b=r[c.idx]);r[c.idx]=q(b,c)}),z?(k=v(z(r)),k[n]=r,k):v(r)};
B(p,function(h,m){v.fn[h]||(v.fn[h]=function(u){var p=c.type(u),n="alpha"===h?this._hsla?"hsla":"rgba":b,v=this[n](),x=v[m.idx],q;return"undefined"===p?x:("function"===p&&(u=u.call(this,x),p=c.type(u)),null==u&&m.empty?this:("string"===p&&(q=k.exec(u),q&&(u=x+parseFloat(q[2])*("+"===q[1]?1:-1))),v[m.idx]=u,this[n](v)))})})});B("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),function(b,
k){c.cssHooks[k]={set:function(b,h){var m,u="";if("string"!==c.type(h)||(m=n(h))){h=v(m||h);if(!A.rgba&&1!==h._rgba[3]){for(m="backgroundColor"===k?b.parentNode:b;(""===u||"transparent"===u)&&m&&m.style;)try{u=c.css(m,"backgroundColor"),m=m.parentNode}catch(p){}h=h.blend(u&&"transparent"!==u?u:"_default")}h=h.toRgbaString()}try{b.style[k]=h}catch(p){}}};c.fx.step[k]=function(b){b.colorInit||(b.start=v(b.elem,k),b.end=v(b.end),b.colorInit=!0);c.cssHooks[k].set(b.elem,b.start.transition(b.end,b.pos))}});
c.cssHooks.borderColor={expand:function(b){var c={};return B(["Top","Right","Bottom","Left"],function(k,h){c["border"+h+"Color"]=b}),c}};C=c.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(){function c(){var h=this.ownerDocument.defaultView?
this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,l={},k,m;if(h&&h.length&&h[0]&&h[h[0]])for(m=h.length;m--;)k=h[m],"string"==typeof h[k]&&(l[b.camelCase(k)]=h[k]);else for(k in h)"string"==typeof h[k]&&(l[k]=h[k]);return l}var m=["add","remove","toggle"],q={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};b.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(c,h){b.fx.step[h]=
function(b){if("none"!==b.end&&!b.setAttr||1===b.pos&&!b.setAttr)jQuery.style(b.elem,h,b.end),b.setAttr=!0}});b.effects.animateClass=function(h,r,k,p){var v=b.speed(r,k,p);return this.queue(function(){var k=b(this),p=k.attr("class")||"",r,u=v.children?k.find("*").andSelf():k,u=u.map(function(){return{el:b(this),start:c.call(this)}});r=function(){b.each(m,function(b,c){h[c]&&k[c+"Class"](h[c])})};r();u=u.map(function(){this.end=c.call(this.el[0]);var k=this.start,h=this.end,m={},u,p;for(u in h)p=h[u],
k[u]===p||q[u]||!b.fx.step[u]&&isNaN(parseFloat(p))||(m[u]=p);return this.diff=m,this});k.attr("class",p);u=u.map(function(){var c=this,k=b.Deferred(),h=jQuery.extend({},v,{queue:!1,complete:function(){k.resolve(c)}});return this.el.animate(this.diff,h),k.promise()});b.when.apply(b,u.get()).done(function(){r();b.each(arguments,function(){var c=this.el;b.each(this.diff,function(b){c.css(b,"")})});v.complete.call(k[0])})})};b.fn.extend({_addClass:b.fn.addClass,addClass:function(c,h,k,l){return h?b.effects.animateClass.call(this,
{add:c},h,k,l):this._addClass(c)},_removeClass:b.fn.removeClass,removeClass:function(c,h,k,l){return h?b.effects.animateClass.call(this,{remove:c},h,k,l):this._removeClass(c)},_toggleClass:b.fn.toggleClass,toggleClass:function(c,l,k,m,v){return"boolean"==typeof l||l===h?k?b.effects.animateClass.call(this,l?{add:c}:{remove:c},k,m,v):this._toggleClass(c,l):b.effects.animateClass.call(this,{toggle:c},l,k,m)},switchClass:function(c,h,k,l,m){return b.effects.animateClass.call(this,{add:h,remove:c},k,l,
m)}})})();(function(){function l(c,h,l,k){b.isPlainObject(c)&&(h=c,c=c.effect);c={effect:c};null==h&&(h={});b.isFunction(h)&&(k=h,l=null,h={});if("number"==typeof h||b.fx.speeds[h])k=l,l=h,h={};return b.isFunction(l)&&(k=l,l=null),h&&b.extend(c,h),l=l||h.duration,c.duration=b.fx.off?0:"number"==typeof l?l:l in b.fx.speeds?b.fx.speeds[l]:b.fx.speeds._default,c.complete=k||h.complete,c}function m(h){return!h||"number"==typeof h||b.fx.speeds[h]?!0:"string"!=typeof h||b.effects.effect[h]?!1:c&&b.effects[h]?
!1:!0}b.extend(b.effects,{version:"1.9.1",save:function(b,c){for(var h=0;h<c.length;h++)null!==c[h]&&b.data("ui-effects-"+c[h],b[0].style[c[h]])},restore:function(b,c){var l,k;for(k=0;k<c.length;k++)null!==c[k]&&(l=b.data("ui-effects-"+c[k]),l===h&&(l=""),b.css(c[k],l))},setMode:function(b,c){return"toggle"===c&&(c=b.is(":hidden")?"show":"hide"),c},getBaseline:function(b,c){var h;switch(b[0]){case "top":h=0;break;case "middle":h=.5;break;case "bottom":h=1;break;default:h=b[0]/c.height}switch(b[1]){case "left":b=
0;break;case "center":b=.5;break;case "right":b=1;break;default:b=b[1]/c.width}return{x:b,y:h}},createWrapper:function(c){if(c.parent().is(".ui-effects-wrapper"))return c.parent();var h={width:c.outerWidth(!0),height:c.outerHeight(!0),"float":c.css("float")},l=b("\x3cdiv\x3e\x3c/div\x3e").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),k={width:c.width(),height:c.height()},m=document.activeElement;try{m.id}catch(v){m=document.body}return c.wrap(l),
(c[0]===m||b.contains(c[0],m))&&b(m).focus(),l=c.parent(),"static"===c.css("position")?(l.css({position:"relative"}),c.css({position:"relative"})):(b.extend(h,{position:c.css("position"),zIndex:c.css("z-index")}),b.each(["top","left","bottom","right"],function(b,k){h[k]=c.css(k);isNaN(parseInt(h[k],10))&&(h[k]="auto")}),c.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),c.css(k),l.css(h).show()},removeWrapper:function(c){var h=document.activeElement;return c.parent().is(".ui-effects-wrapper")&&
(c.parent().replaceWith(c),(c[0]===h||b.contains(c[0],h))&&b(h).focus()),c},setTransition:function(c,h,l,k){return k=k||{},b.each(h,function(b,h){b=c.cssUnit(h);0<b[0]&&(k[h]=b[0]*l+b[1])}),k}});b.fn.extend({effect:function(){function h(c){function k(){b.isFunction(u)&&u.call(l[0]);b.isFunction(c)&&c()}var l=b(this),u=m.complete,v=m.mode;(l.is(":hidden")?"hide"===v:"show"===v)?k():p.call(l[0],m,k)}var m=l.apply(this,arguments),r=m.mode,k=m.queue,p=b.effects.effect[m.effect],v=!p&&c&&b.effects[m.effect];
return b.fx.off||!p&&!v?r?this[r](m.duration,m.complete):this.each(function(){m.complete&&m.complete.call(this)}):p?!1===k?this.each(h):this.queue(k||"fx",h):v.call(this,{options:m,duration:m.duration,callback:m.complete,mode:m.mode})},_show:b.fn.show,show:function(b){if(m(b))return this._show.apply(this,arguments);var c=l.apply(this,arguments);return c.mode="show",this.effect.call(this,c)},_hide:b.fn.hide,hide:function(b){if(m(b))return this._hide.apply(this,arguments);var c=l.apply(this,arguments);
return c.mode="hide",this.effect.call(this,c)},__toggle:b.fn.toggle,toggle:function(c){if(m(c)||"boolean"==typeof c||b.isFunction(c))return this.__toggle.apply(this,arguments);var h=l.apply(this,arguments);return h.mode="toggle",this.effect.call(this,h)},cssUnit:function(c){var h=this.css(c),l=[];return b.each(["em","px","%","pt"],function(b,c){0<h.indexOf(c)&&(l=[parseFloat(h),c])}),l}})})();(function(){var c={};b.each(["Quad","Cubic","Quart","Quint","Expo"],function(b,h){c[h]=function(c){return Math.pow(c,
b+2)}});b.extend(c,{Sine:function(b){return 1-Math.cos(b*Math.PI/2)},Circ:function(b){return 1-Math.sqrt(1-b*b)},Elastic:function(b){return 0===b||1===b?b:-Math.pow(2,8*(b-1))*Math.sin((80*(b-1)-7.5)*Math.PI/15)},Back:function(b){return b*b*(3*b-2)},Bounce:function(b){for(var c,h=4;b<((c=Math.pow(2,--h))-1)/11;);return 1/Math.pow(4,3-h)-7.5625*Math.pow((3*c-2)/22-b,2)}});b.each(c,function(c,h){b.easing["easeIn"+c]=h;b.easing["easeOut"+c]=function(b){return 1-h(1-b)};b.easing["easeInOut"+c]=function(b){return.5>
b?h(2*b)/2:1-h(-2*b+2)/2}})})()}(jQuery);
(function(b,h){var c=/up|down|vertical/,l=/up|left|vertical|horizontal/;b.effects.effect.blind=function(h,q){var n=b(this),r="position top bottom left right height width".split(" "),k=b.effects.setMode(n,h.mode||"hide"),p=h.direction||"up",v=c.test(p),z=v?"height":"width",x=v?"top":"left",p=l.test(p),A={},u="show"===k,C,B,y;n.parent().is(".ui-effects-wrapper")?b.effects.save(n.parent(),r):b.effects.save(n,r);n.show();C=b.effects.createWrapper(n).css({overflow:"hidden"});B=C[z]();y=parseFloat(C.css(x))||
0;A[z]=u?B:0;p||(n.css(v?"bottom":"right",0).css(v?"top":"left","auto").css({position:"absolute"}),A[x]=u?y:B+y);u&&(C.css(z,0),p||C.css(x,y+B));C.animate(A,{duration:h.duration,easing:h.easing,queue:!1,complete:function(){"hide"===k&&n.hide();b.effects.restore(n,r);b.effects.removeWrapper(n);q()}})}})(jQuery);
(function(b,h){b.effects.effect.bounce=function(c,h){var m=b(this),q="position top bottom left right height width".split(" "),n=b.effects.setMode(m,c.mode||"effect"),r="hide"===n,k="show"===n,p=c.direction||"up",n=c.distance,v=c.times||5,z=2*v+(k||r?1:0),x=c.duration/z;c=c.easing;var A="up"===p||"down"===p?"top":"left",p="up"===p||"left"===p,u,C,B=m.queue(),y=B.length;(k||r)&&q.push("opacity");b.effects.save(m,q);m.show();b.effects.createWrapper(m);n||(n=m["top"===A?"outerHeight":"outerWidth"]()/
3);k&&(C={opacity:1},C[A]=0,m.css("opacity",0).css(A,p?2*-n:2*n).animate(C,x,c));r&&(n/=Math.pow(2,v-1));C={};for(k=C[A]=0;k<v;k++)u={},u[A]=(p?"-\x3d":"+\x3d")+n,m.animate(u,x,c).animate(C,x,c),n=r?2*n:n/2;r&&(u={opacity:0},u[A]=(p?"-\x3d":"+\x3d")+n,m.animate(u,x,c));m.queue(function(){r&&m.hide();b.effects.restore(m,q);b.effects.removeWrapper(m);h()});1<y&&B.splice.apply(B,[1,0].concat(B.splice(y,z+1)));m.dequeue()}})(jQuery);
(function(b,h){b.effects.effect.clip=function(c,h){var m=b(this),q="position top bottom left right height width".split(" "),n="show"===b.effects.setMode(m,c.mode||"hide"),r="vertical"===(c.direction||"vertical"),k=r?"height":"width",r=r?"top":"left",p={},v,z;b.effects.save(m,q);m.show();v=b.effects.createWrapper(m).css({overflow:"hidden"});v="IMG"===m[0].tagName?v:m;z=v[k]();n&&(v.css(k,0),v.css(r,z/2));p[k]=n?z:0;p[r]=n?0:z/2;v.animate(p,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){n||
m.hide();b.effects.restore(m,q);b.effects.removeWrapper(m);h()}})}})(jQuery);
(function(b,h){b.effects.effect.drop=function(c,h){var m=b(this),q="position top bottom left right opacity height width".split(" "),n=b.effects.setMode(m,c.mode||"hide"),r="show"===n,k=c.direction||"left",p="up"===k||"down"===k?"top":"left",k="up"===k||"left"===k?"pos":"neg",v={opacity:r?1:0},z;b.effects.save(m,q);m.show();b.effects.createWrapper(m);z=c.distance||m["top"===p?"outerHeight":"outerWidth"](!0)/2;r&&m.css("opacity",0).css(p,"pos"===k?-z:z);v[p]=(r?"pos"===k?"+\x3d":"-\x3d":"pos"===k?"-\x3d":
"+\x3d")+z;m.animate(v,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){"hide"===n&&m.hide();b.effects.restore(m,q);b.effects.removeWrapper(m);h()}})}})(jQuery);
(function(b,h){b.effects.effect.explode=function(c,h){function m(){x.push(this);x.length===q*n&&(r.css({visibility:"visible"}),b(x).remove(),k||r.hide(),h())}var q=c.pieces?Math.round(Math.sqrt(c.pieces)):3,n=q,r=b(this),k="show"===b.effects.setMode(r,c.mode||"hide"),p=r.show().css("visibility","hidden").offset(),v=Math.ceil(r.outerWidth()/n),z=Math.ceil(r.outerHeight()/q),x=[],A,u,C,B,y,E;for(A=0;A<q;A++)for(B=p.top+A*z,E=A-(q-1)/2,u=0;u<n;u++)C=p.left+u*v,y=u-(n-1)/2,r.clone().appendTo("body").wrap("\x3cdiv\x3e\x3c/div\x3e").css({position:"absolute",
visibility:"visible",left:-u*v,top:-A*z}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:z,left:C+(k?y*v:0),top:B+(k?E*z:0),opacity:k?0:1}).animate({left:C+(k?0:y*v),top:B+(k?0:E*z),opacity:k?1:0},c.duration||500,c.easing,m)}})(jQuery);(function(b,h){b.effects.effect.fade=function(c,h){var m=b(this),q=b.effects.setMode(m,c.mode||"toggle");m.animate({opacity:q},{queue:!1,duration:c.duration,easing:c.easing,complete:h})}})(jQuery);
(function(b,h){b.effects.effect.fold=function(c,h){var m=b(this),q="position top bottom left right height width".split(" "),n=b.effects.setMode(m,c.mode||"hide"),r="show"===n,k="hide"===n,n=c.size||15,p=/([0-9]+)%/.exec(n),v=!!c.horizFirst,z=r!==v,x=z?["width","height"]:["height","width"],A=c.duration/2,u,C={},B={};b.effects.save(m,q);m.show();u=b.effects.createWrapper(m).css({overflow:"hidden"});z=z?[u.width(),u.height()]:[u.height(),u.width()];p&&(n=parseInt(p[1],10)/100*z[k?0:1]);r&&u.css(v?{height:0,
width:n}:{height:n,width:0});C[x[0]]=r?z[0]:n;B[x[1]]=r?z[1]:0;u.animate(C,A,c.easing).animate(B,A,c.easing,function(){k&&m.hide();b.effects.restore(m,q);b.effects.removeWrapper(m);h()})}})(jQuery);
(function(b,h){b.effects.effect.highlight=function(c,h){var m=b(this),q=["backgroundImage","backgroundColor","opacity"],n=b.effects.setMode(m,c.mode||"show"),r={backgroundColor:m.css("backgroundColor")};"hide"===n&&(r.opacity=0);b.effects.save(m,q);m.show().css({backgroundImage:"none",backgroundColor:c.color||"#ffff99"}).animate(r,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){"hide"===n&&m.hide();b.effects.restore(m,q);h()}})}})(jQuery);
(function(b,h){b.effects.effect.pulsate=function(c,h){var m=b(this),q=b.effects.setMode(m,c.mode||"show"),n="show"===q,r="hide"===q,q=2*(c.times||5)+(n||"hide"===q?1:0),k=c.duration/q,p=0,v=m.queue(),z=v.length;if(n||!m.is(":visible"))m.css("opacity",0).show(),p=1;for(n=1;n<q;n++)m.animate({opacity:p},k,c.easing),p=1-p;m.animate({opacity:p},k,c.easing);m.queue(function(){r&&m.hide();h()});1<z&&v.splice.apply(v,[1,0].concat(v.splice(z,q+1)));m.dequeue()}})(jQuery);
(function(b,h){b.effects.effect.puff=function(c,h){var m=b(this),q=b.effects.setMode(m,c.mode||"hide"),n="hide"===q,r=parseInt(c.percent,10)||150,k=r/100,p={height:m.height(),width:m.width()};b.extend(c,{effect:"scale",queue:!1,fade:!0,mode:q,complete:h,percent:n?r:100,from:n?p:{height:p.height*k,width:p.width*k}});m.effect(c)};b.effects.effect.scale=function(c,h){var m=b(this),q=b.extend(!0,{},c),n=b.effects.setMode(m,c.mode||"effect"),r=parseInt(c.percent,10)||(0===parseInt(c.percent,10)?0:"hide"===
n?0:100),k=c.direction||"both",p=c.origin,v={height:m.height(),width:m.width(),outerHeight:m.outerHeight(),outerWidth:m.outerWidth()},z="horizontal"!==k?r/100:1,r="vertical"!==k?r/100:1;q.effect="size";q.queue=!1;q.complete=h;"effect"!==n&&(q.origin=p||["middle","center"],q.restore=!0);q.from=c.from||("show"===n?{height:0,width:0}:v);q.to={height:v.height*z,width:v.width*r,outerHeight:v.outerHeight*z,outerWidth:v.outerWidth*r};q.fade&&("show"===n&&(q.from.opacity=0,q.to.opacity=1),"hide"===n&&(q.from.opacity=
1,q.to.opacity=0));m.effect(q)};b.effects.effect.size=function(c,h){var m,q,n,r,k,p,v=b(this),z="position top bottom left right width height overflow opacity".split(" ");k="position top bottom left right overflow opacity".split(" ");var x=["width","height","overflow"],A=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],C=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],B=b.effects.setMode(v,c.mode||"effect"),y=c.restore||"effect"!==B,E=c.scale||
"both",F=c.origin||["middle","center"],D=v.css("position"),G=y?z:k,I={height:0,width:0};"show"===B&&v.show();k={height:v.height(),width:v.width(),outerHeight:v.outerHeight(),outerWidth:v.outerWidth()};"toggle"===c.mode&&"show"===B?(v.from=c.to||I,v.to=c.from||k):(v.from=c.from||("show"===B?I:k),v.to=c.to||("hide"===B?I:k));n=v.from.height/k.height;r=v.from.width/k.width;m=v.to.height/k.height;q=v.to.width/k.width;if("box"===E||"both"===E)n!==m&&(G=G.concat(u),v.from=b.effects.setTransition(v,u,n,
v.from),v.to=b.effects.setTransition(v,u,m,v.to)),r!==q&&(G=G.concat(C),v.from=b.effects.setTransition(v,C,r,v.from),v.to=b.effects.setTransition(v,C,q,v.to));("content"===E||"both"===E)&&n!==m&&(G=G.concat(A).concat(x),v.from=b.effects.setTransition(v,A,n,v.from),v.to=b.effects.setTransition(v,A,m,v.to));b.effects.save(v,G);v.show();b.effects.createWrapper(v);v.css("overflow","hidden").css(v.from);F&&(p=b.effects.getBaseline(F,k),v.from.top=(k.outerHeight-v.outerHeight())*p.y,v.from.left=(k.outerWidth-
v.outerWidth())*p.x,v.to.top=(k.outerHeight-v.to.outerHeight)*p.y,v.to.left=(k.outerWidth-v.to.outerWidth)*p.x);v.css(v.from);if("content"===E||"both"===E)u=u.concat(["marginTop","marginBottom"]).concat(A),C=C.concat(["marginLeft","marginRight"]),x=z.concat(u).concat(C),v.find("*[width]").each(function(){var k=b(this),h=k.height(),l=k.width();y&&b.effects.save(k,x);k.from={height:h*n,width:l*r};k.to={height:h*m,width:l*q};n!==m&&(k.from=b.effects.setTransition(k,u,n,k.from),k.to=b.effects.setTransition(k,
u,m,k.to));r!==q&&(k.from=b.effects.setTransition(k,C,r,k.from),k.to=b.effects.setTransition(k,C,q,k.to));k.css(k.from);k.animate(k.to,c.duration,c.easing,function(){y&&b.effects.restore(k,x)})});v.animate(v.to,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){0===v.to.opacity&&v.css("opacity",v.from.opacity);"hide"===B&&v.hide();b.effects.restore(v,G);y||("static"===D?v.css({position:"relative",top:v.to.top,left:v.to.left}):b.each(["top","left"],function(b,c){v.css(c,function(c,k){c=
parseInt(k,10);var h=b?v.to.left:v.to.top;return"auto"===k?h+"px":c+h+"px"})}));b.effects.removeWrapper(v);h()}})}})(jQuery);
(function(b,h){b.effects.effect.shake=function(c,h){var m=b(this),q="position top bottom left right height width".split(" "),n=b.effects.setMode(m,c.mode||"effect"),r=c.direction||"left",k=c.distance||20,p=c.times||3,v=2*p+1,z=Math.round(c.duration/v),x="up"===r||"down"===r?"top":"left",A="up"===r||"left"===r,r={},u={},C={},B=m.queue(),y=B.length;b.effects.save(m,q);m.show();b.effects.createWrapper(m);r[x]=(A?"-\x3d":"+\x3d")+k;u[x]=(A?"+\x3d":"-\x3d")+2*k;C[x]=(A?"-\x3d":"+\x3d")+2*k;m.animate(r,
z,c.easing);for(k=1;k<p;k++)m.animate(u,z,c.easing).animate(C,z,c.easing);m.animate(u,z,c.easing).animate(r,z/2,c.easing).queue(function(){"hide"===n&&m.hide();b.effects.restore(m,q);b.effects.removeWrapper(m);h()});1<y&&B.splice.apply(B,[1,0].concat(B.splice(y,v+1)));m.dequeue()}})(jQuery);
(function(b,h){b.effects.effect.slide=function(c,h){var m=b(this),q="position top bottom left right width height".split(" "),n=b.effects.setMode(m,c.mode||"show"),r="show"===n,k=c.direction||"left",p="up"===k||"down"===k?"top":"left",k="up"===k||"left"===k,v,z={};b.effects.save(m,q);m.show();v=c.distance||m["top"===p?"outerHeight":"outerWidth"](!0);b.effects.createWrapper(m).css({overflow:"hidden"});r&&m.css(p,k?isNaN(v)?"-"+v:-v:v);z[p]=(r?k?"+\x3d":"-\x3d":k?"-\x3d":"+\x3d")+v;m.animate(z,{queue:!1,
duration:c.duration,easing:c.easing,complete:function(){"hide"===n&&m.hide();b.effects.restore(m,q);b.effects.removeWrapper(m);h()}})}})(jQuery);
(function(b,h){b.effects.effect.transfer=function(c,h){var m=b(this),q=b(c.to),n="fixed"===q.css("position"),r=b("body"),k=n?r.scrollTop():0,r=n?r.scrollLeft():0,p=q.offset(),q={top:p.top-k,left:p.left-r,height:q.innerHeight(),width:q.innerWidth()},p=m.offset(),v=b('\x3cdiv class\x3d"ui-effects-transfer"\x3e\x3c/div\x3e').appendTo(document.body).addClass(c.className).css({top:p.top-k,left:p.left-r,height:m.innerHeight(),width:m.innerWidth(),position:n?"fixed":"absolute"}).animate(q,c.duration,c.easing,
function(){v.remove();h()})}})(jQuery);
function d(b){var h,c;if(!this.length)return this;h=this[0];h.ownerDocument?c=h.ownerDocument:(c=h,h=c.documentElement);if(null==b)return c.cancelFullScreen||c.webkitCancelFullScreen||c.mozCancelFullScreen?(b=!!c.fullScreen||!!c.webkitIsFullScreen||!!c.mozFullScreen)?c.fullScreenElement||c.webkitCurrentFullScreenElement||c.mozFullScreenElement||b:b:null;b?(b=h.requestFullScreen||h.webkitRequestFullScreen||h.mozRequestFullScreen)&&b.call(h,Element.ALLOW_KEYBOARD_INPUT):(b=c.cancelFullScreen||c.webkitCancelFullScreen||
c.mozCancelFullScreen)&&b.call(c);return this}jQuery.fn.fullScreen=d;jQuery.fn.toggleFullScreen=function(){return d.call(this,!d.call(this))};var e,f,g;e=document;e.webkitCancelFullScreen?(f="webkitfullscreenchange",g="webkitfullscreenerror"):e.mozCancelFullScreen?(f="mozfullscreenchange",g="mozfullscreenerror"):(f="fullscreenchange",g="fullscreenerror");jQuery(document).bind(f,function(){jQuery(document).trigger(new jQuery.Event("fullscreenchange"))});jQuery(document).bind(g,function(){jQuery(document).trigger(new jQuery.Event("fullscreenerror"))});
(function(b){b.effects.fly=function(h){return this.queue(function(){var c=b(this),l=["position","top","bottom","left","right"];b.effects.setMode(c,h.options.mode||"show");var m=h.options.direction||"left";b.effects.save(c,l);var q=c.position();"none"==c.css("display")&&(c.css({visibility:"hidden",display:"block"}),q=c.position(),c.css({visibility:"inherit",display:"none"}));c.parent();"absolute"!=c.css("position")&&"relative"!=c.css("position")&&c.css({position:"absolute",top:q.top+"px",left:q.left+
"px"});"show"==h.options.mode?("left"==m?c.css("left",0-c.width()+"px"):"right"==m?c.css("left",b(document).width()+c.width()+"px"):"up"==m?c.css("top",0-c.height()+"px"):"down"==m&&c.css("top",b(document).height()+c.height()+"px"),c.show(),m=void 0!=h.duration?h.duration:1E3,c.animate(q,{duration:m,queue:!1,easing:"linear",complete:function(){b.effects.restore(c,l);h.callback&&h.callback.apply(this,arguments);c.dequeue()}})):(q={},"left"==m?q.left=0-c.width():"right"==m?q.left=b(document).width()+
c.width():"up"==m?q.top=0-c.height():"down"==m&&(q.top=b(document).height()+c.height()),m=void 0!=h.duration?h.duration:1E3,c.animate(q,{duration:m,queue:!1,easing:"linear",complete:function(){c.hide();b.effects.restore(c,l);h.callback&&h.callback.apply(this,arguments);c.dequeue()}}))})};b.effects.move=function(h){return this.queue(function(){var c=b(this),l=["position","top","bottom","left","right"],m=h.options.to;b.effects.save(c,l);var q=c.position();c.parent().css("height");"absolute"!=c.css("position")&&
"relative"!=c.css("position")&&c.css({position:"absolute",top:q.top+"px",left:q.left+"px"});q=void 0!=h.duration?h.duration:800;"undefined"!=typeof h.options.allowShow&&1!=h.options.allowShow||c.show();c.animate(m,{duration:q,queue:!1,easing:"linear",complete:function(){h.options.restore&&b.effects.restore(c,l);h.callback&&h.callback.apply(this,arguments);c.dequeue()}})})};b.effects.resize=function(h){return this.queue(function(){var c=b(this),l=h.options.to,m=void 0!=h.duration?h.duration:800;b.effects.save(c,
["width","height"]);var q={};void 0!=l.height&&(q.height=l.height+"%");void 0!=l.width&&(q.width=l.width+"%");c.velocity(q,{duration:m,complete:function(){h.callback&&h.callback.apply(this,arguments);c.dequeue()}});c.dequeue()})};b.effects.fadeTo=function(h){return this.queue(function(){var c=b(this);c.animate(h.options.to,{duration:void 0!=h.duration?h.duration:800,queue:!1,easing:"linear",complete:function(){h.callback&&h.callback.apply(this,arguments);c.dequeue()}})})};b.effects.fadeTo=b.effects.fadeTo;
b.effects.moveBy=b.effects.move;b.effects.moveTo=b.effects.move;b.effects.resizeTo=b.effects.resize;b.effects.resizeBy=b.effects.resize})(jQuery);
!function(b){var h=function(c,h){this.options=h;this.element=b(c);b(c).addClass("dki-stayInView").css("transition","top 100ms ease-in-out");this.initSubscribers();return this};h.DEFAULTS={scrollParent:b("body")};h.prototype={initSubscribers:function(){var c=this;this.options.scrollParent.hasClass("siv-wp")||this.options.scrollParent.addClass("siv-wp").data("siv-wp",new Waypoint.Inview({element:this.options.scrollParent[0],enter:function(){b(window).on("scroll."+c.element.data("id"),b.proxy(c.move,
c))},exited:function(){b(window).off("scroll."+b(c.el).data("id"))}}))},getVisibleRange:function(c){var h=b(window).scrollTop(),m=b(window).scrollTop()+b(window).height(),q=this.options.scrollParent.offset().top,n=this.options.scrollParent.offset().top+this.options.scrollParent.outerHeight();return Math.max(0,Math.min((m-q+Math.max(0,h-q))/2,n-(20+b(c).outerHeight())-q))},move:function(){var c=this;this.options.scrollParent.find(".dki-stayInView").each(function(){b(this).css("top",c.getVisibleRange(this))})},
destroy:function(){this.siv.element.removeClass(".dki-stayInView");0==this.siv.options.scrollParent.find(".dki-staInView").length&&(this.siv.options.scrollParent.data("siv-wp").destroy(),this.siv.options.scrollParent.data("siv-wp",""));b(window).off("scroll."+this.siv.element.data("id"))}};b.fn.StayInView=function(c){var l=c,m=Array.prototype.slice.call(arguments,1);return this.each(function(){var q=b(this),n=b(this).data("dki.StayInView");options=b.extend({},h.DEFAULTS,"object"===typeof l&&l);n?
"string"===typeof c&&(q=b(this).data("dki.StayInView"))&&q[c]&&q[c].apply({$:b(this),siv:b(this).data("dki.StayInView")},m):q.data("dki.StayInView",new h(this,options))})};b.fn.StayInView.Constructor=h}(window.jQuery);var DKI;DKI||(DKI={});var idSeed=0;DKI.apply=function(b,h){b="undefined"!=typeof b?b:{};h="undefined"!=typeof h?h:{};for(var c in h)b[c]=h[c];return b};
DKI.applyIf=function(b,h,c){b="undefined"!=typeof b?b:{};h="undefined"!=typeof h?h:{};if(b)if(void 0===c?0:c)DKI.applyIfDeep(b,h);else for(var l in h)"undefined"==typeof b[l]&&(b[l]=h[l]);return b};DKI.applyIfDeep=function(b,h){if(b)for(var c in h)"undefined"===typeof b[c]?DKI.isObject(h[c])?(b[c]={},arguments.callee(b[c],h[c])):b[c]=h[c]:DKI.isObject(h[c])&&arguments.callee(b[c],h[c]);return b};DKI.id=function(){for(;0<$(idSeed).length;)idSeed++;return idSeed};
DKI.determineRoot=function(){var b=window.location.href;return/\/$/.test(b)?b:b.replace(/\?.*$/,"").replace(/\w*\.[a-zA-Z]+$/,"")};DKI.isDefined=function(b){return"undefined"!==typeof b};DKI.getVideoEmbedURL=function(b){var h=dataStorage.getElement(b);return"videoembed"==h.elementtype?(h.meta2="dynamic",settings.inPreview?DKI.determineRoot().replace("/preview/","")+"ajax/element.cfm/"+b+"/videoEmbedTemp.html":"assets/elements/"+b+"/tempVideoEmbed.html"):""};
DKI.stripHTML=function(b){b=b.toString();b=b.replace(/<(?:.|\s)*?>/g,"");b=b.replace(/\&nbsp\;/g," ");b=b.replace(/\s+/g," ");return b=$("\x3cdiv\x3e"+b+"\x3c/div\x3e").text()};DKI.getObjectKeys=function(b){var h=[],c;for(c in b)h.push(c);return h};DKI.isObject=function(b){return"[object Object]"==Object.prototype.toString.call(b)};DKI.isEmptyObject=function(b){var h=0,c;for(c in b)b.hasOwnProperty(c)&&h++;return 0==h};DKI.isFunction=function(b){return"[object Function]"==Object.prototype.toString.call(b)};
DKI.isArray=function(b){return"[object Array]"==Object.prototype.toString.call(b)};DKI.clone=function(b,h){var c="undefined"==typeof h?!0:h;if(DKI.isArray(b)){h=[];for(var l=0;l<b.length;l++)c?h.push(DKI.clone(b[l])):h.push(b[l])}else if(DKI.isObject(b))for(l in h={},b){var m=b[l];h[l]=c?DKI.clone(m):m}else h=b;return h};
DKI.scrollTop=function(){var b;if(1==settings.courseType&&settings.scrolling)b=$("#contentFrame div.current.slide").scrollTop();else if(dkiUA.ie&&8>=dkiUA.ieVersion){b=document.body;var h=document.documentElement,h=h.clientHeight?h:b;b=h.scrollTop}else b=window.pageYOffset;return b};
DKI.centerInPlayer=function(b,h){var c="left";h||(c="margin-"+c);h=b.outerWidth(!0);var l=b.outerHeight(!0),m=$("#contentFrame").width(),q=((DKI.courseStore&&DKI.courseStore.course.get()?DKI.courseStore.course.get().height:$(q).height())-l)/2+DKI.scrollTop();h=(m-h)/2;b.css("top",q+"px").css(c,h+"px")};
DKI.calculateCoords=function(b,h,c){var l=$(window).height()>$("#contentFrame").height()?$("#contentFrame").height():$(window).height(),m=$("#contentFrame").width(),q=$("#headerContainer").height(),n=$(h).outerHeight()*settings.scale;h=$(h).outerWidth()*settings.scale;var r=($("html").width()/settings.scale-$("body").width())/2,r={x:($(b).offset().left-r-$("#contentFrame").offset().left)/settings.scale,y:($(b).offset().top+b.offsetHeight*settings.scale+c-$("#contentFrame").offset().top)/settings.scale},
k=DKI.scrollTop();r.x+h>m&&(r.x=m-(h+20));m=l+k-q;1==settings.courseType&&(m=settings.courseHeight);r.y+n>m&&(r.y=r.y-n-$(b).outerHeight()-c,0>r.y&&(r.y=l-q-n));r.y=0>r.y?0:r.y;return r};DKI.setNS=function(b,h,c){"string"===typeof b&&(b=b.split("."));if(1<b.length){var l=b.shift();DKI.setNS(b,h[l]="[object Object]"===Object.prototype.toString.call(h[l])?h[l]:{},c)}else h[b[0]]=c};
DKI.capitalizeString=function(b){return b.toLowerCase().replace(/^[\u00C0-\u1FFF\u2C00-\uD7FF\w]|\s[\u00C0-\u1FFF\u2C00-\uD7FF\w]/g,function(b){return b.toUpperCase()})};DKI.waypointsDefaults={};DKI.EVENT_CANCEL_BUBBLE=function(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0};
DKI.hexToRGB=function(b,h){b=b.replace("#","");var c=parseInt(b.substring(0,2),16),l=parseInt(b.substring(2,4),16);b=parseInt(b.substring(4,6),16);return"undefined"!==typeof h?"rgba("+c+","+l+","+b+","+h/100+")":"rgb("+c+","+l+","+b+")"};DKI.shuffle=function(b){for(var h=b.length,c,l;0!==h;)l=Math.floor(Math.random()*h),--h,c=b[h],b[h]=b[l],b[l]=c;return b};
DKI.formatDate=function(b,h,c,l){"string"===typeof b&&(b=b.replace(" ","T"));b=b instanceof Date?b:new Date(b);var m="";l||(m+=b.getFullYear()+"-"+("0"+(b.getMonth()+1)).slice(-2)+"-"+("0"+b.getDate()).slice(-2));h||(h=b.getHours(),l="",c||(l=11<h?"pm":"am",h%=12,0==h&&(h=12)),m+=" "+("0"+h).slice(-2)+":"+("0"+b.getMinutes()).slice(-2)+l);return m.trim()};
DKI.getURLParameterValue=function(b,h,c){var l=location;b=decodeURIComponent(((new RegExp("[?|\x26]"+b+"\x3d([^\x26;]+?)(\x26|##|;|$)")).exec(l.search)||[null,""])[1].replace(/\+/g,"%20"))||null;!b&&h&&(b=l.href.split("?")[1],c&&isNaN(b)&&(b=null));return b};DKI.getURLParameters=function(b){"undefined"==typeof b&&(b=location);b=b.search.slice(1).split("\x26");for(var h={},c=0;c<b.length;c++){var l=b[c].split("\x3d");h[""+l[0]]=l[1]}return h};
DKI.enforceFocus=function(b){$(document).off("focusin.enforce");if(b)$(document).on("focusin.enforce",$.proxy(function(h){document===h.target||b[0]===h.target||b.has(h.target).length||(h=b.find("*[tabindex\x3d'1']").first(),h[0]?h[0].focus():b[0].focus())},this))};DKI.canAccessIframe=function(b){try{return!!b.document}catch(h){return!1}};DKI.getViewPortHeight=function(b){return b*Math.max(document.documentElement.clientHeight,window.innerHeight||0)/100};
DKI.utility={dateDiff:function(b,h){b=b instanceof Date?b:new Date(b);h=(h-b)/1E3;var c="";0<h&&(c=1>h?"About a second ago":60>h?Math.floor(h)+" seconds ago":120>h?"About a minute ago":3600>h?Math.floor(h/60)+" minutes ago":7200>h?"About an hour ago":86400>=h?Math.floor(h/3600)+" hours ago":DKI.utility.formatDate(b,!0));return c},timeFunctions:{convertMsToTime:function(b){var h={d:0,h:0,m:0,s:0,ms:0};864E5<=b&&(h.d=Math.floor(b/864E5),b-=864E5*h.d);36E5<=b&&(h.h=Math.floor(b/36E5),b-=36E5*h.h);6E4<=
b&&(h.m=Math.floor(b/6E4),b-=6E4*h.m);1E3<=b&&(h.s=Math.floor(b/1E3),b-=1E3*h.s);h.ms=b;return h}},isValidEmail:function(b){return(new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i)).test(b)},getScale:function(){var b=settings.scale;!settings.responsive&&
$(".fancybox-container").length&&(b*=settings.claroLightboxScaling);return b},getDragContainment:function(b,h,c){var l=DKI.utility.getScale();return[b.offset().left,b.offset().top,b.offset().left+b.width()*l-h*l,b.offset().top+b.height()*l-c*l]},dragFix:function(b){var h=0,c=DKI.utility.getScale();settings.responsive||(h=b.helper.data("initialPageYOffset")?b.helper.data("initialPageYOffset"):document.documentElement.scrollTop,b.helper.closest(".fancybox-container").length&&(c*=settings.claroLightboxScaling));
b.position.top+=h;h=(b.originalPosition.top+(b.position.top-b.originalPosition.top))/c;b.position.left=(b.originalPosition.left+(b.position.left-b.originalPosition.left))/c;b.position.top=h;return b},transitionEnd:function(){var b={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in b)if(void 0!==document.getElementsByTagName("html")[0].style[t])return b[t]}(),animationEnd:function(){var b={animation:"animationend",
IEAnimation:"MSAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(a in b)if(void 0!==document.getElementsByTagName("html")[0].style[a])return b[a]}(),onAnimation:function(b,h,c){b=b instanceof jQuery?b:$(b);DKI.utility.onGeneric(b,"animationEnd",h,c)},onTransition:function(b,h,c){b=b instanceof jQuery?b:$(b);DKI.utility.onGeneric(b,"transitionEnd",h,c)},onGeneric:function(b,h,c,l){var m=b.get(0),q=DKI.utility[h];l=l||350;if((!dkiUA||!dkiUA.ie||10<dkiUA.ieVersion)&&q){if(q)return b.one(q+".dkiAnimation",
c),!1}else{if($("html").hasClass("csstransforms"))return b.data("dkiAnimation-"+h,setTimeout(function(){c.call(m)},l)),!1;setTimeout(c,l)}},genericOff:function(b,h){var c=DKI.utility[h+"Event"];c?b.off(c+".dkiAnimation"):$("html").hasClass("csstransforms")&&b.data("dkiAnimation-"+h)&&(clearTimeout(b.data("dkiAnimation-"+h)),b.data("dkiAnimation-"+h,""))},animationOff:function(b){DKI.utility.genericOff(b,"animationEnd")},transitionOff:function(b){DKI.utility.genericOff(b,"transitionEnd")}};
this.JSON||(JSON={});
(function(){function b(b){return 10>b?"0"+b:b}function h(b){m.lastIndex=0;return m.test(b)?'"'+b.replace(m,function(b){var c=r[b];return"string"===typeof c?c:"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function c(b,l){var m,x,r=q,u,C=l[b];C&&"object"===typeof C&&"function"===typeof C.toJSON&&(C=C.toJSON(b));"function"===typeof k&&(C=k.call(l,b,C));switch(typeof C){case "string":return h(C);case "number":return isFinite(C)?String(C):"null";case "boolean":case "null":return String(C);case "object":if(!C)return"null";
q+=n;u=[];if("number"===typeof C.length&&!C.propertyIsEnumerable("length")){x=C.length;for(b=0;b<x;b+=1)u[b]=c(b,C)||"null";l=0===u.length?"[]":q?"[\n"+q+u.join(",\n"+q)+"\n"+r+"]":"["+u.join(",")+"]";q=r;return l}if(k&&"object"===typeof k)for(x=k.length,b=0;b<x;b+=1)m=k[b],"string"===typeof m&&(l=c(m,C))&&u.push(h(m)+(q?": ":":")+l);else for(m in C)Object.hasOwnProperty.call(C,m)&&(l=c(m,C))&&u.push(h(m)+(q?": ":":")+l);l=0===u.length?"{}":q?"{\n"+q+u.join(",\n"+q)+"\n"+r+"}":"{"+u.join(",")+"}";
q=r;return l}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(c){return this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z"},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(b){return this.valueOf()});var l=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
q,n,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;"function"!==typeof JSON.stringify&&(JSON.stringify=function(b,h,l){var m;n=q="";if("number"===typeof l)for(m=0;m<l;m+=1)n+=" ";else"string"===typeof l&&(n=l);if((k=h)&&"function"!==typeof h&&("object"!==typeof h||"number"!==typeof h.length))throw Error("JSON.stringify");return c("",{"":b})});"function"!==typeof JSON.parse&&(JSON.parse=function(b,c){function k(b,h){var l,m,p=b[h];if(p&&"object"===typeof p)for(l in p)Object.hasOwnProperty.call(p,
l)&&(m=k(p,l),void 0!==m?p[l]=m:delete p[l]);return c.call(b,h,p)}l.lastIndex=0;l.test(b)&&(b=b.replace(l,function(b){return"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return b=eval("("+b+")"),"function"===typeof c?k({"":b},""):b;throw new SyntaxError("JSON.parse");})})();
var swfobject=function(){function b(){if(!W){try{var b=F.getElementsByTagName("body")[0].appendChild(F.createElement("span"));b.parentNode.removeChild(b)}catch(c){return}W=!0;for(var b=I.length,k=0;k<b;k++)I[k]()}}function h(b){W?b():I[I.length]=b}function c(b){if("undefined"!=typeof E.addEventListener)E.addEventListener("load",b,!1);else if("undefined"!=typeof F.addEventListener)F.addEventListener("load",b,!1);else if("undefined"!=typeof E.attachEvent)A(E,"onload",b);else if("function"==typeof E.onload){var c=
E.onload;E.onload=function(){c();b()}}else E.onload=b}function l(){var b=F.getElementsByTagName("body")[0],c=F.createElement("object");c.setAttribute("type","application/x-shockwave-flash");var k=b.appendChild(c);if(k){var h=0;(function(){if("undefined"!=typeof k.GetVariable){var l=k.GetVariable("$version");l&&(l=l.split(" ")[1].split(","),M.pv=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)])}else if(10>h){h++;setTimeout(arguments.callee,10);return}b.removeChild(c);k=null;m()})()}else m()}
function m(){var b=K.length;if(0<b)for(var c=0;c<b;c++){var h=K[c].id,l=K[c].callbackFn,m={success:!1,id:h};if(0<M.pv[0]){var p=x(h);if(p)if(!u(K[c].swfVersion)||M.wk&&312>M.wk)if(K[c].expressInstall&&n()){m={};m.data=K[c].expressInstall;m.width=p.getAttribute("width")||"0";m.height=p.getAttribute("height")||"0";p.getAttribute("class")&&(m.styleclass=p.getAttribute("class"));p.getAttribute("align")&&(m.align=p.getAttribute("align"));for(var v={},p=p.getElementsByTagName("param"),z=p.length,y=0;y<
z;y++)"movie"!=p[y].getAttribute("name").toLowerCase()&&(v[p[y].getAttribute("name")]=p[y].getAttribute("value"));r(m,v,h,l)}else k(p),l&&l(m);else B(h,!0),l&&(m.success=!0,m.ref=q(h),l(m))}else B(h,!0),l&&((h=q(h))&&"undefined"!=typeof h.SetVariable&&(m.success=!0,m.ref=h),l(m))}}function q(b){var c=null;(b=x(b))&&"OBJECT"==b.nodeName&&("undefined"!=typeof b.SetVariable?c=b:(b=b.getElementsByTagName("object")[0])&&(c=b));return c}function n(){return!U&&u("6.0.65")&&(M.win||M.mac)&&!(M.wk&&312>M.wk)}
function r(b,c,k,h){U=!0;aa=h||null;ga={success:!1,id:k};var l=x(k);if(l){"OBJECT"==l.nodeName?(O=p(l),J=null):(O=l,J=k);b.id="SWFObjectExprInst";if("undefined"==typeof b.width||!/%$/.test(b.width)&&310>parseInt(b.width,10))b.width="310";if("undefined"==typeof b.height||!/%$/.test(b.height)&&137>parseInt(b.height,10))b.height="137";F.title=F.title.slice(0,47)+" - Flash Player Installation";h=M.ie&&M.win?"ActiveX":"PlugIn";h="MMredirectURL\x3d"+E.location.toString().replace(/&/g,"%26")+"\x26MMplayerType\x3d"+
h+"\x26MMdoctitle\x3d"+F.title;c.flashvars="undefined"!=typeof c.flashvars?c.flashvars+("\x26"+h):h;M.ie&&M.win&&4!=l.readyState&&(h=F.createElement("div"),k+="SWFObjectNew",h.setAttribute("id",k),l.parentNode.insertBefore(h,l),l.style.display="none",function(){4==l.readyState?l.parentNode.removeChild(l):setTimeout(arguments.callee,10)}());v(b,c,k)}}function k(b){if(M.ie&&M.win&&4!=b.readyState){var c=F.createElement("div");b.parentNode.insertBefore(c,b);c.parentNode.replaceChild(p(b),c);b.style.display=
"none";(function(){4==b.readyState?b.parentNode.removeChild(b):setTimeout(arguments.callee,10)})()}else b.parentNode.replaceChild(p(b),b)}function p(b){var c=F.createElement("div");if(M.win&&M.ie)c.innerHTML=b.innerHTML;else if(b=b.getElementsByTagName("object")[0])if(b=b.childNodes)for(var k=b.length,h=0;h<k;h++)1==b[h].nodeType&&"PARAM"==b[h].nodeName||8==b[h].nodeType||c.appendChild(b[h].cloneNode(!0));return c}function v(b,c,k){var h,l=x(k);if(M.wk&&312>M.wk)return h;if(l)if("undefined"==typeof b.id&&
(b.id=k),M.ie&&M.win){var m="",u;for(u in b)b[u]!=Object.prototype[u]&&("data"==u.toLowerCase()?c.movie=b[u]:"styleclass"==u.toLowerCase()?m+=' class\x3d"'+b[u]+'"':"classid"!=u.toLowerCase()&&(m+=" "+u+'\x3d"'+b[u]+'"'));u="";for(var p in c)c[p]!=Object.prototype[p]&&(u+='\x3cparam name\x3d"'+p+'" value\x3d"'+c[p]+'" /\x3e');l.outerHTML='\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+m+"\x3e"+u+"\x3c/object\x3e";H[H.length]=b.id;h=x(b.id)}else{p=F.createElement("object");p.setAttribute("type",
"application/x-shockwave-flash");for(var v in b)b[v]!=Object.prototype[v]&&("styleclass"==v.toLowerCase()?p.setAttribute("class",b[v]):"classid"!=v.toLowerCase()&&p.setAttribute(v,b[v]));for(m in c)c[m]!=Object.prototype[m]&&"movie"!=m.toLowerCase()&&(b=p,u=m,v=c[m],k=F.createElement("param"),k.setAttribute("name",u),k.setAttribute("value",v),b.appendChild(k));l.parentNode.replaceChild(p,l);h=p}return h}function z(b){var c=x(b);c&&"OBJECT"==c.nodeName&&(M.ie&&M.win?(c.style.display="none",function(){if(4==
c.readyState){var k=x(b);if(k){for(var h in k)"function"==typeof k[h]&&(k[h]=null);k.parentNode.removeChild(k)}}else setTimeout(arguments.callee,10)}()):c.parentNode.removeChild(c))}function x(b){var c=null;try{c=F.getElementById(b)}catch(k){}return c}function A(b,c,k){b.attachEvent(c,k);P[P.length]=[b,c,k]}function u(b){var c=M.pv;b=b.split(".");b[0]=parseInt(b[0],10);b[1]=parseInt(b[1],10)||0;b[2]=parseInt(b[2],10)||0;return c[0]>b[0]||c[0]==b[0]&&c[1]>b[1]||c[0]==b[0]&&c[1]==b[1]&&c[2]>=b[2]?!0:
!1}function C(b,c,k,h){if(!M.ie||!M.mac){var l=F.getElementsByTagName("head")[0];l&&(k=k&&"string"==typeof k?k:"screen",h&&(N=R=null),R&&N==k||(h=F.createElement("style"),h.setAttribute("type","text/css"),h.setAttribute("media",k),R=l.appendChild(h),M.ie&&M.win&&"undefined"!=typeof F.styleSheets&&0<F.styleSheets.length&&(R=F.styleSheets[F.styleSheets.length-1]),N=k),M.ie&&M.win?R&&"object"==typeof R.addRule&&R.addRule(b,c):R&&"undefined"!=typeof F.createTextNode&&R.appendChild(F.createTextNode(b+
" {"+c+"}")))}}function B(b,c){T&&(c=c?"visible":"hidden",W&&x(b)?x(b).style.visibility=c:C("#"+b,"visibility:"+c))}function y(b){return null!=/[\\\"<>\.;]/.exec(b)&&"undefined"!=typeof encodeURIComponent?encodeURIComponent(b):b}var E=window,F=document,D=navigator,G=!1,I=[function(){G?l():m()}],K=[],H=[],P=[],O,J,aa,ga,W=!1,U=!1,R,N,T=!0,M=function(){var b="undefined"!=typeof F.getElementById&&"undefined"!=typeof F.getElementsByTagName&&"undefined"!=typeof F.createElement,c=D.userAgent.toLowerCase(),
k=D.platform.toLowerCase(),h=k?/win/.test(k):/win/.test(c),k=k?/mac/.test(k):/mac/.test(c),c=/webkit/.test(c)?parseFloat(c.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,l=!+"\v1",m=[0,0,0],u=null;if("undefined"!=typeof D.plugins&&"object"==typeof D.plugins["Shockwave Flash"])!(u=D.plugins["Shockwave Flash"].description)||"undefined"!=typeof D.mimeTypes&&D.mimeTypes["application/x-shockwave-flash"]&&!D.mimeTypes["application/x-shockwave-flash"].enabledPlugin||(G=!0,l=!1,u=u.replace(/^.*\s+(\S+\s+\S+$)/,
"$1"),m[0]=parseInt(u.replace(/^(.*)\..*$/,"$1"),10),m[1]=parseInt(u.replace(/^.*\.(.*)\s.*$/,"$1"),10),m[2]=/[a-zA-Z]/.test(u)?parseInt(u.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if("undefined"!=typeof E.ActiveXObject)try{if(u=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version"))l=!0,u=u.split(" ")[1].split(","),m=[parseInt(u[0],10),parseInt(u[1],10),parseInt(u[2],10)]}catch(p){}return{w3:b,pv:m,wk:c,ie:l,win:h,mac:k}}();(function(){M.w3&&(("undefined"!=typeof F.readyState&&
"complete"==F.readyState||"undefined"==typeof F.readyState&&(F.getElementsByTagName("body")[0]||F.body))&&b(),W||("undefined"!=typeof F.addEventListener&&F.addEventListener("DOMContentLoaded",b,!1),M.ie&&M.win&&(F.attachEvent("onreadystatechange",function(){"complete"==F.readyState&&(F.detachEvent("onreadystatechange",arguments.callee),b())}),E==top&&function(){if(!W){try{F.documentElement.doScroll("left")}catch(c){setTimeout(arguments.callee,0);return}b()}}()),M.wk&&function(){W||(/loaded|complete/.test(F.readyState)?
b():setTimeout(arguments.callee,0))}(),c(b)))})();(function(){M.ie&&M.win&&window.attachEvent("onunload",function(){for(var b=P.length,c=0;c<b;c++)P[c][0].detachEvent(P[c][1],P[c][2]);b=H.length;for(c=0;c<b;c++)z(H[c]);for(var k in M)M[k]=null;M=null;for(var h in swfobject)swfobject[h]=null;swfobject=null})})();return{registerObject:function(b,c,k,h){if(M.w3&&b&&c){var l={};l.id=b;l.swfVersion=c;l.expressInstall=k;l.callbackFn=h;K[K.length]=l;B(b,!1)}else h&&h({success:!1,id:b})},getObjectById:function(b){if(M.w3)return q(b)},
embedSWF:function(b,c,k,l,m,p,x,q,z,y){var C={success:!1,id:c};M.w3&&!(M.wk&&312>M.wk)&&b&&c&&k&&l&&m?(B(c,!1),h(function(){k+="";l+="";var h={};if(z&&"object"===typeof z)for(var A in z)h[A]=z[A];h.data=b;h.width=k;h.height=l;A={};if(q&&"object"===typeof q)for(var E in q)A[E]=q[E];if(x&&"object"===typeof x)for(var D in x)A.flashvars="undefined"!=typeof A.flashvars?A.flashvars+("\x26"+D+"\x3d"+x[D]):D+"\x3d"+x[D];if(u(m))E=v(h,A,c),h.id==c&&B(c,!0),C.success=!0,C.ref=E;else{if(p&&n()){h.data=p;r(h,
A,c,y);return}B(c,!0)}y&&y(C)})):y&&y(C)},switchOffAutoHideShow:function(){T=!1},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:u,createSWF:function(b,c,k){if(M.w3)return v(b,c,k)},showExpressInstall:function(b,c,k,h){M.w3&&n()&&r(b,c,k,h)},removeSWF:function(b){M.w3&&z(b)},createCSS:function(b,c,k,h){M.w3&&C(b,c,k,h)},addDomLoadEvent:h,addLoadEvent:c,getQueryParamValue:function(b){var c=F.location.search||F.location.hash;if(c){/\?/.test(c)&&
(c=c.split("?")[1]);if(null==b)return y(c);for(var c=c.split("\x26"),k=0;k<c.length;k++)if(c[k].substring(0,c[k].indexOf("\x3d"))==b)return y(c[k].substring(c[k].indexOf("\x3d")+1))}return""},expressInstallCallback:function(){if(U){var b=x("SWFObjectExprInst");b&&O&&(b.parentNode.replaceChild(O,b),J&&(B(J,!0),M.ie&&M.win&&(O.style.display="block")),aa&&aa(ga));U=!1}}}}(),isMobile=$("body").hasClass("mobile"),isTablet=$("body").hasClass("tablet"),isOnline=$("body").hasClass("online");DKI||(DKI={});
DKI.templates={};DKI.templates.header="";DKI.templates.footer="";if(isMobile||isTablet||isOnline)DKI.templates.header+='\x3cdiv id\x3d"logo"\x3e\x3c/div\x3e';
isMobile?DKI.templates.header=isTablet?DKI.templates.header+'\x3ca id\x3d"skipToContent" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.skipToContent}}" \x3e\x3c/a\x3e \x3ca id\x3d"listButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.listButtonLabel}}" \x3e \x3cspan\x3e{{strings.index.listButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3cdiv id\x3d"moreButtons"\x3e \x3ca id\x3d"exitButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.exitButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.exitButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"menuButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.menuButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.menuButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"audioButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.audioButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.audioButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"resourceButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.resourcesButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.resourcesButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"glossaryButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.glossaryButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.glossaryButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"transcriptButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.transcriptButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.transcriptButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"replayButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.replayButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.replayButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3c/div\x3e \x3cspan id\x3d"moduleName" tabindex\x3d"1"\x3e\x3c/span\x3e \x3cspan id\x3d"objectName" tabindex\x3d"1"\x3e\x3c/span\x3e \x3cspan id\x3d"screenCount" tabindex\x3d"1"\x3e\x3cspan id\x3d"currentScreen"\x3e0\x3c/span\x3e / \x3cspan id\x3d"totalScreens"\x3e0\x3c/span\x3e\x3c/span\x3e \x3cdiv id\x3d"navigationButtons"\x3e \x3ca id\x3d"backButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.previousButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.previousButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"forwardButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.nextButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.nextButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3c/div\x3e':DKI.templates.header+
'\x3ca id\x3d"skipToContent" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.skipToContent}}" \x3e\x3c/a\x3e \x3ca id\x3d"listButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" aria-label\x3d"{{strings.index.listButtonLabel}}" aria-haspopup\x3d"true" aria-owns\x3d"moreButtons" title\x3d"{{strings.index.listButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.listButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3cdiv id\x3d"moreButtons"\x3e \x3ca id\x3d"exitButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.exitButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.exitButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"menuButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.menuButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.menuButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"resourceButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.resourcesButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.resourcesButtonLabel}}\x3c/span\x3e \x3ca id\x3d"glossaryButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.glossaryButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.glossaryButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"transcriptButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.transcriptButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.transcriptButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"audioButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.audioButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.audioButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"replayButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.replayButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.replayButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3c/div\x3e \x3cspan id\x3d"moduleName" tabindex\x3d"1"\x3e\x3c/span\x3e \x3cspan id\x3d"objectName" tabindex\x3d"1"\x3e\x3c/span\x3e \x3cspan id\x3d"screenCount" tabindex\x3d"1" role\x3d"region"\x3e\x3cspan id\x3d"currentScreen"\x3e0\x3c/span\x3e / \x3cspan id\x3d"totalScreens"\x3e0\x3c/span\x3e\x3c/span\x3e \x3cdiv id\x3d"navigationButtons"\x3e \x3ca id\x3d"backButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" aria-label\x3d"{{strings.index.previousButtonLabel}}" title\x3d"{{strings.index.previousButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.previousButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"forwardButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" aria-label\x3d"{{strings.index.nextButtonLabel}}" title\x3d"{{strings.index.nextButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.nextButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3c/div\x3e':
(DKI.templates.footer+='\x3cdiv id\x3d"info"\x3e \x3cspan id\x3d"moduleName" tabindex\x3d"0"\x3e\x3c/span\x3e \x3cspan id\x3d"objectName" tabindex\x3d"0"\x3e\x3c/span\x3e \x3c/div\x3e \x3cdiv class\x3d"navButtonContainer"\x3e \x3ca id\x3d"audioButton" class\x3d"navButton" tabindex\x3d"0" role\x3d"button" title\x3d"{{strings.index.audioButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.audioButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"replayButton" class\x3d"navButton" tabindex\x3d"0" role\x3d"button" title\x3d"{{strings.index.replayButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.replayButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3cdiv id\x3d"navButtons"\x3e \x3cspan id\x3d"screenCount" tabindex\x3d"0"\x3e\x3cspan id\x3d"currentScreen"\x3e0\x3c/span\x3e / \x3cspan id\x3d"totalScreens"\x3e0\x3c/span\x3e\x3c/span\x3e \x3ca id\x3d"backButton" class\x3d"navButton" tabindex\x3d"0" role\x3d"button" title\x3d"{{strings.index.previousButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.previousButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"forwardButton" class\x3d"navButton" tabindex\x3d"0" role\x3d"button" title\x3d"{{strings.index.nextButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.nextButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3c/div\x3e \x3c/div\x3e\t',
DKI.templates.header+='\x3cdiv class\x3d"navButtonContainer"\x3e\x3ca id\x3d"skipToContent" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.skipToContent}}" \x3e\x3c/a\x3e \x3ca id\x3d"resourceButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.resourcesButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.resourcesButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"glossaryButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.glossaryButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.glossaryButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"transcriptButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.transcriptButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.transcriptButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"menuButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.menuButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.menuButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"exitButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.exitButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.exitButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3c/div\x3e');
Handlebars.registerHelper("forExport",function(b){return DKI.renderService.state.renderEnvironment.export?b.fn(this):b.inverse(this)});DKI.templates.endModule='\x3cdiv class\x3d"endScreenWrapper" style\x3d"display : -ms-flexbox;-ms-flex-direction : column;"\x3e \x3cdiv class\x3d"endScreen flex {{#if responsive}}dki-section-height" data-section-height\x3d"100"{{else}}"{{/if}}\x3e \x3cdiv id\x3d"endMod_header" class\x3d"section header" style\x3d""\x3e \x3cdiv tabindex\x3d"1"\x3e\x3ch4\x3e{{strings.endMod.headerText}}\x3c/h4\x3e \x3ch3 id\x3d"endMod_moduleName" class\x3d"modname" style\x3d"margin-top:0px"\x3e{{{module.name}}}\x3c/h3\x3e \x3c/div\x3e\x3cdiv style\x3d"text-align:center;"\x3e\x3cdiv class\x3d"passCont"  tabindex\x3d"1"\x3e\x3cspan class\x3d"endMod_testScore testScore"\x3e\x3c/span\x3e\x3cspan class\x3d"endMod_passStatus passStatus"\x3e\x3c/span\x3e\x3cspan class\x3d"endMod_passingScore passingScore"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e \x3cdiv id\x3d"endMod_content" class\x3d"flexfill flex"\x3e\x3cdiv id\x3d"endMod_status" class\x3d"status flexfill flex"\x3e \x3cdiv id\x3d"endMod_testScoreDetails" class\x3d"dki-lineitem dki-lineitem-last"\x3e \x3c/div\x3e \x3c/div\x3e \x3cdiv id\x3d"endMod_actions" class\x3d"section actions" style\x3d"display: inline-block;"\x3e \x3cspan class\x3d"col-xs-clear-right col-lg-3 col-md-3 col-sm-3 col-xs-{{#if responsive}}12{{else}}3{{/if}} endMod_testingLink centerBlock"\x3e\x3ca class\x3d" disabled btn btn-success" id\x3d"" tabindex\x3d"1" role\x3d"button"\x3e{{strings.endMod.testingLinkLabel}}\x3c/a\x3e \x3c/span\x3e\x3cspan class\x3d"col-xs-clear-right col-lg-3 col-md-3 col-sm-3 col-xs-{{#if responsive}}6{{else}}3{{/if}} endMod_reviewLink centerBlock"\x3e\x3ca class\x3d" btn btn-success" tabindex\x3d"1" role\x3d"button"\x3e{{strings.endMod.reviewTestButton}}\x3c/a\x3e \x3c/span\x3e\x3cspan class\x3d"col-xs-clear-right col-lg-3 col-md-3 col-sm-3 col-xs-{{#if responsive}}12{{else}}3{{/if}} endMod_revisitLink centerBlock"\x3e\x3ca class\x3d" btn btn-default" tabindex\x3d"1" role\x3d"button"\x3e{{strings.endMod.revisitContentButton}}\x3c/a\x3e \x3c/span\x3e\x3cspan class\x3d"col-xs-clear-right col-lg-3 col-md-3 col-sm-3 col-xs-{{#if responsive}}12{{else}}3{{/if}} endMod_learningLink centerBlock"\x3e\x3ca class\x3d" btn btn-primary" tabindex\x3d"1" role\x3d"button"\x3e{{strings.endMod.learningLinkLabel}}\x3c/a\x3e \x3c/span\x3e\x3c/div\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e';
DKI.templates.endScreenTestItem='\x3cdiv class\x3d"col-xs-clear-right{{#if responsive}} col-lg-4 col-md-4 col-sm-6 col-xs-12{{/if}} objectTestItem centerBlock"\x3e \x3cdiv class\x3d"testItemContentContainer flex"\x3e\x3cdiv class\x3d"dki-modTitle" tabindex\x3d"1" aria-label\x3d"{{{object.name}}}"\x3e{{{object.name}}}\x3c/div\x3e\x3cdiv class\x3d\'flex flexrow flexfill gaugecont\' style\x3d\'margin-bottom:10px;\'\x3e\x3cdiv class\x3d\'flexfill gaugesubcont\'\x3e\x3cdiv {{#if gaugeLabel}} tabindex\x3d\'1\' aria-label\x3d\'{{gaugeLabel}}\'{{/if}} class\x3d"{{style}} dki-radialgauge radial fill-primary noJelly {{#unless forTesting}}overlay_transparent{{/unless}}"\x3e\x3cdiv class\x3d"overlay"\x3e\x3cdiv tabindex\x3d"1" class\x3d"text dki-element-text {{#unless forTesting}}hidden{{/unless}}"\x3e\x3c/div\x3e{{#if isComplete}}\x3ci class\x3d\'fa fa-check justicon\' style\x3d\'font-size:80px; margin-top:12px;\'\x3e\x3c/i\x3e{{/if}}\x3c/div\x3e\x3cdiv class\x3d"mask full"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask half"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3cdiv class\x3d"fill fix"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{#if forTesting}}\x3cdiv class\x3d\'scoreDisp\' tabindex\x3d\'1\' style\x3d\'white-space:nowrap;\'\x3e({{object.points}}/{{object.totalWeight}} {{strings.txtPoints}})\x3c/div\x3e{{else}}\x3cdiv class\x3d\'scoreDisp\' tabindex\x3d\'-1\' aria-hidden style\x3d\'white-space:nowrap;\'\x3e\x26nbsp;\x3c/div\x3e{{/if}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e';
DKI.templates.CourseEndScreenTestItem="\x3cdiv class\x3d\"col-xs-clear-right{{#if responsive}} col-lg-4 col-md-4 col-sm-6 col-xs-12{{/if}} objectTestItem centerBlock{{#if requiresPass}} requiresPass{{/if}}\"\x3e \x3cdiv class\x3d\"testItemContentContainer flex\"\x3e\x3cdiv class\x3d\"dki-modTitle\" tabindex\x3d\"1\" \"\x3e{{{module.loname}}}\x3c/div\x3e\x3cdiv class\x3d'flex flexrow flexfill gaugecont'\x3e\x3cdiv\x3e\x3cdiv class\x3d'flex flexfill gaugesubcont'\x3e\x3cdiv {{#if gaugeLabel}} tabindex\x3d'1' aria-label\x3d'{{gaugeLabel}}'{{/if}} class\x3d\"{{style}} dki-radialgauge radial noJelly {{#unless showScore}}overlay_transparent{{/unless}}\"\x3e\x3cdiv class\x3d\"overlay\"\x3e\x3cdiv tabindex\x3d\"1\" class\x3d\"text dki-element-text {{#unless showScore}}hidden{{/unless}}\"\x3e\x3c/div\x3e{{#if isComplete}}\x3ci class\x3d'fa fa-check justicon' style\x3d'font-size:80px; margin-top:12px;'\x3e\x3c/i\x3e{{/if}}\x3c/div\x3e\x3cdiv class\x3d\"mask full\"\x3e\x3cdiv class\x3d\"fill\"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\"mask half\"\x3e\x3cdiv class\x3d\"fill\"\x3e\x3c/div\x3e\x3cdiv class\x3d\"fill fix\"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{#if showWeight}}\x3cdiv class\x3d'scoreDisp' style\x3d'margin-top:10px;' tabindex\x3d'1'\x3e\x3cdiv\x3e({{points}}/{{weight}} {{strings.runtime.txtPoints}})\x3c/div\x3e\x3c/div\x3e{{/if}}\x3c/div\x3e\x3cdiv class\x3d'scoreDisp' style\x3d'white-space:nowrap;' \x3e{{#if showRetake}}\x3cdiv class\x3d'btn btn-success retake {{retakeButtonClassExtra}}' style\x3d'margin-bottom:10px;' data-moduleid\x3d'{{module.loid}}' tabindex\x3d'1'\x3e{{retakeText}}\x3c/div\x3e{{/if}}{{#if showScore}}\x3cdiv class\x3d'endCourse_remainingAttempts' style\x3d'font-size: 0.75em' tabindex\x3d'1'\x3e{{strings.runtime.txtRemainingAttempts}} {{attempts}}\x3c/div\x3e{{/if}}{{#if showPass}}\x3cdiv style\x3d'font-size: 0.75em; margin-top:10px;' tabindex\x3d'1'\x3e{{passMark}}\x3c/div\x3e{{/if}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'btn btn-default view' data-moduleid\x3d'{{module.loid}}' style\x3d'width: calc(100% - 30px); margin: 15px 0; padding: 5px 0;'tabindex\x3d'1'\x3e{{strings.endMod.revisitContentButton}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";
DKI.templates.endCourse='\x3cdiv class\x3d"endScreenWrapper"\x3e \x3cdiv class\x3d"endScreen flex{{#if responsive}} dki-section-height" data-section-height\x3d"100"{{else}}"{{/if}}\x3e \x3cdiv id\x3d"endCourse_header" class\x3d"section header bg-primary" style\x3d""\x3e \x3cdiv tabindex\x3d"1"\x3e\x3ch4\x3e{{strings.endCourse.headerLabel}}\x3c/h4\x3e \x3ch3 id\x3d"endCourse_courseName" style\x3d"margin-top:0px"\x3e{{contentApi "getCourseName"}}\x3c/h3\x3e \x3c/div\x3e\x3cdiv style\x3d"text-align:center;"\x3e\x3cdiv class\x3d"passCont" tabindex\x3d"1"\x3e\x3cspan class\x3d"endCourse_testScore testScore"\x3e\x3c/span\x3e\x3cspan class\x3d"endCourse_passStatus passStatus"\x3e\x3c/span\x3e\x3cspan class\x3d"endCourse_passingScore passingScore"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e \x3cdiv id\x3d"endCourse_status" class\x3d"status flex flexfill"\x3e \x3cdiv id\x3d"endCourse_testScoreDetails" class\x3d"dki-lineitem dki-lineitem-last"\x3e \x3c/div\x3e\x3c/div\x3e \x3cdiv id\x3d"endCourse_actions" class\x3d"section actions"\x3e \x3cspan class\x3d"col-xs-clear-right col-lg-4 col-md-4 col-sm-4 col-xs-12 centerBlock" id\x3d"endCourse_bibliographyLink"\x3e\x3ca class\x3d"btn btn-default" tabindex\x3d"1" role\x3d"button"\x3e{{strings.endCourse.viewBibliography}}\x3c/a\x3e\x3c/span\x3e\x3cspan class\x3d"col-xs-clear-right col-lg-4 col-md-4 col-sm-4 col-xs-12 centerBlock" id\x3d"endCourse_certificateLink"\x3e\x3ca class\x3d"disabled btn btn-warning" tabindex\x3d"1" role\x3d"button"\x3e{{strings.endCourse.viewCertificate}}\x3c/a\x3e\x3c/span\x3e\x3cspan class\x3d"col-xs-clear-right col-lg-4 col-md-4 col-sm-4 col-xs-12 centerBlock" id\x3d"endCourse_exitLink"\x3e\x3ca class\x3d"btn btn-primary" tabindex\x3d"1" role\x3d"button"\x3e{{strings.index.exitButtonLabel}}\x3c/a\x3e\x3c/span\x3e\x3c/div\x3e \x3c/div\x3e \x3c/div\x3e';
DKI.templates.window="\x3cdiv id\x3d'{{id}}' class\x3d'loading windowContainer'\x3e\x3cdiv class\x3d'browserHeader'\x3e\x3cspan class\x3d'headerTitle' tabindex\x3d'0'\x3e{{windowTitle}}\x3c/span\x3e\x3cdiv class\x3d'browserCloseButton' title\x3d'{{strings.runtime.buttonLabelClose}}' tabindex\x3d'0'\x3e\x3c/div\x3e\x3c/div\x3e{{{afterHeader}}}\x3cdiv id\x3d'{{contentId}}' class\x3d'browserContentContainer'\x3e{{{windowContent}}}\x3c/div\x3e\x3c/div\x3e";DKI.templates.mobileBackSearch="{{#if mobile}}\x3cdiv class\x3d'backButton' tabindex\x3d'0'\x3e Back \x3c/div\x3e\x3cdiv class\x3d'searchContainer'\x3e\x3cdiv class\x3d'searchIcon'/\x3e\x3cinput class\x3d'searchInput' type\x3d'text'\x3e\x3c/input\x3e\x3c/div\x3e{{/if}}";
DKI.templates.search="\x3cdiv id\x3d'resultList' class\x3d'panel browserList'\x3e\x3cdiv class\x3d'searchContainer'\x3e\x3cspan class\x3d'searchtitlelabel'\x3e{{strings.courseSearch.title}}\x3c/span\x3e\x3cinput id\x3d'courseSearchInput'class\x3d'searchInput' type\x3d'text' tabindex\x3d'0' placeholder\x3d'{{strings.courseSearch.inputPlaceholder}}'\x3e\x3c/input\x3e\x3ci class\x3d'fa fa-search'/\x3e\x3c/div\x3e\x3cul id\x3d'results' class\x3d'resultList clearfix'\x3e\x3cli class\x3d'searchItem' data-filter\x3d'top' tabindex\x3d'0' title\x3d'{{strings.courseSearch.filterTop}}'\x3e\x3cspan class\x3d'icon top'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterTop}}\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'page'  data-istextitem\x3d'true' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterTranscripts}}'\x3e\x3cspan class\x3d'icon page'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterTranscripts}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'image' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterImages}}'\x3e\x3cspan class\x3d'icon image'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterImages}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'video' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterVideos}}'\x3e\x3cspan class\x3d'icon video'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterVideos}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'audio' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterAudio}}'\x3e\x3cspan class\x3d'icon audio'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterAudio}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'richMedia' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterRichMedia}}'\x3e\x3cspan class\x3d'icon richMedia'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterRichMedia}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'division'\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'text' data-istextitem\x3d'true' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterText}}'\x3e\x3cspan class\x3d'icon text'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterText}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'reference'  data-istextitem\x3d'true' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterReferences}}'\x3e\x3cspan class\x3d'icon reference'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterReferences}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'glossary'  data-istextitem\x3d'true' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterGlossaries}}'\x3e\x3cspan class\x3d'icon glossary'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterGlossaries}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d'sequential' title\x3d''\x3e\x3cspan class\x3d'icon alert'\x3e\x3c/span\x3e\x3ch3\x3e{{strings.courseSearch.sequentialWarningTitle}}\x3c/h3\x3e\x3cp\x3e{{strings.courseSearch.sequentialWarningText}}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'panel details list'\x3e\x3cdiv class\x3d'switchContainer'\x3e\x3cdiv class\x3d'listPanel'\x3e\x3c/div\x3e\x3cdiv class\x3d'propertiesPanel'\x3e\x3cdiv tabindex\x3d'0' class\x3d'backNav'\x3e\x3cspan class\x3d'icon backChevron'\x3e\x3c/span\x3e\x3cspan\x3e{{strings.courseSearch.back}}\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d'overflowContainer'\x3e\x3cdiv class\x3d'propertiesContent'\x3e\x3c/div\x3e\x3cdiv class\x3d'linksContainer'\x3e\x3ch3 class\x3d'linksTitle'\x3e\x3c/h3\x3e\x3cdiv class\x3d'links'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";
DKI.templates.glossaryPopup='\x3cdiv id\x3d"glossaryPopup" class\x3d"popupWindow loading"\x3e\x3cdiv class\x3d"glossaryPopupHeader"\x3e\x3cp id\x3d"glossaryPopupTerm" tabindex\x3d"-1" \x3e\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"sectionBreak"\x3e\x3c/div\x3e\x3cdiv class\x3d"glossaryPopupBody"\x3e\x3cdiv id\x3d"glossaryPopupDefinitionContainer"\x3e\x3cdiv id\x3d"glossaryPopupDefinition" class\x3d"popupContent" tabindex\x3d"-1"\x3e\x3c/div\x3e\x3cdiv id\x3d"glossaryPopupSource" class\x3d"popupContent" tabindex\x3d"-1"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"glossaryHoverDefinition" class\x3d"popupWindow"\x3e\x3c/div\x3e';
DKI.templates.glossaryBrowser="\x3cdiv id\x3d'termList' class\x3d'panel browserList'\x3e{{#unless mobile }}\x3cdiv class\x3d'searchContainer'\x3e\x3cdiv class\x3d'searchIcon'/\x3e\x3cinput id\x3d'searchBox' class\x3d'searchInput' type\x3d'text'\x3e\x3c/input\x3e\x3c/div\x3e{{/unless}}\x3cul id\x3d'termUl' class\x3d'terms'\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv id\x3d'termDetails' class\x3d'panel details'\x3e\x3cdiv class\x3d'detailsContent'\x3e\x3cdiv\x3e\x3cdiv id\x3d'term' tabindex\x3d'0'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\"sectionBreak\"\x3e\x3c/div\x3e\x3cdiv id\x3d'definition' tabindex\x3d'0'\x3e\x3c/div\x3e\x3cdiv class\x3d'sectionBreak'\x3e\x3c/div\x3e\x3cdiv id\x3d'attribution' tabindex\x3d'0'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";
DKI.templates.glossary={list:'\x3cul class\x3d"list-group dki-glossary-list {{config.className}}"\x3e{{#each terms}}{{\x3e DKI.templates.glossary.list_term}}{{/each}}\x3c/ul\x3e',list_term:'\x3cli class\x3d"list-group-item dki-glossary-list-term" data-id\x3d"{{glossaryid}}" tabindex\x3d"1"\x3e{{term}}\x3c/li\x3e',term_content:'\x3cdiv class\x3d"dki-glossary-term-content-container"\x3e\x3cdiv class\x3d"dki-glossary-term-content-header-container tooltip-header"\x3e\x3ch4 class\x3d"dki-glossary-term-content-header"\x3e\x3cdiv class\x3d"dki-glossary-term-tooltip-close" tabindex\x3d"1" aria-label\x3d"{{strings.runtime.buttonLabelClose}}"\x3e\x3ci class\x3d"fa fa-close"\x3e\x3c/i\x3e\x3c/div\x3e\x3cspan id\x3d"dki-glossary-term-title" tabindex\x3d"1"\x3e{{term.term}}\x3c/span\x3e\x3c/h4\x3e\x3c/div\x3e\x3cdiv id\x3d"glosscon" class\x3d"dki-glossary-term-content"\x3e\x3cdiv class\x3d"dki-glossary-term-content-definition" tabindex\x3d"1" aria-label\x3d"{{term.definition}}"\x3e{{{term.definition}}}\x3c/div\x3e{{#glossaryHasAttribution term}}\x3cdiv class\x3d"sectionBreak fillWidth"\x3e\x3c/div\x3e\x3csmall class\x3d"dki-glossary-term-content-source" tabindex\x3d"1" aria-label\x3d"{{{glossaryAttribution term}}}"\x3e{{{glossaryAttribution term}}}\x3c/small\x3e{{/glossaryHasAttribution}}\x3cdiv class\x3d"dki-glossary-term-tooltip-close" tabindex\x3d"1" aria-label\x3d"{{strings.runtime.buttonLabelClose}}"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
term_tooltip:'\x3cdiv role\x3d"dialog" aria-live\x3d"off" aria-labelledby\x3d"dki-glossary-term-emptyLabel" aria-label\x3d" " class\x3d"dki-glossary-term-tooltip"\x3e\x3cdiv id\x3d"dki-glossary-term-emptyLabel" aria-label\x3d" "\x3e\x3c/div\x3e{{\x3e DKI.templates.glossary.term_content term\x3dterm strings\x3dstrings}}\x3c/div\x3e'};Handlebars.registerPartial("DKI.templates.glossary.list_term",DKI.templates.glossary.list_term);Handlebars.registerPartial("DKI.templates.glossary.term_content",DKI.templates.glossary.term_content);
DKI.templates.citationPopup="\x3cdiv id\x3d'referencePopup' class\x3d'popupWindow loading'\x3e\x3cdiv class\x3d'referencePopupHeader'\x3e\x3cdiv id\x3d'referencePopupClose' class\x3d'referenceCloseButton' tabindex\x3d'1' title\x3d'{{strings.runtime.buttonLabelClose}}'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'sectionBreak'\x3e\x3c/div\x3e\x3cdiv class\x3d'referencePopupBody'\x3e\x3cdiv id\x3d'referencePopupText' class\x3d'popupContent' tabindex\x3d'1'\x3e\x3cdiv id\x3d'referenceTextContainer'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'sectionBreak'\x3e\x3c/div\x3e\x3cdiv id\x3d'linkContainer'\x3e\x3cspan id\x3d'viewBibliographyLink' title \x3d '{{strings.references.viewBibliography}}'tabindex\x3d'1'\x3e\x3c/span\x3e\x3cdiv class\x3d'nav'\x3e\x3cspan class\x3d'previous citationNav' tabindex\x3d'1'\x3e\x3c/span\x3e\x3cspan class\x3d'counter' tabindex\x3d'1'\x3e\x3c/span\x3e\x3cspan class\x3d'next citationNav' tabindex\x3d'0'\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";
DKI.templates.resource={list:'\x3cul class\x3d"list-group dki-resource-list {{config.className}}"\x3e{{#each categories}}{{\x3e DKI.templates.resource.asset_category}}{{/each}}{{\x3e DKI.templates.resource.links_category}}\x3c/ul\x3e',asset_category:'\x3cli class\x3d"list-group-item dki-resource-list-category" data-id\x3d"{{id}}"\x3e\x3ch5 class\x3d"list-group-item-heading" tabindex\x3d"1"\x3e{{title}}\x3c/h5\x3e\x3cul class\x3d"list-group dki-resource-list-items"\x3e{{#each resources}}{{\x3e DKI.templates.resource.asset_list_item}}{{/each}}\x3c/ul\x3e\x3c/li\x3e',
asset_list_item:'\x3cli class\x3d"list-group-item dki-resource-list-item {{#if fancybox.href}}fancy-box-item{{/if}}" data-id\x3d"{{id}}" title\x3d"{{title}}" {{#if fancybox.href}}data-fancybox-href\x3d"{{fancybox.href}}" data-fancybox-group\x3d"{{fancybox.group}}" data-fancybox-title\x3d"{{fancybox.title}}" data-fancybox-type\x3d"{{fancybox.type}}" {{/if}}\x3e\x3cp class\x3d"list-group-item-text"\x3e{{#if allowResourceDownload}}\x3ca download\x3d"{{title}}.{{extension}}" href\x3d"{{filePath}}" target\x3d"_blank" class\x3d"ignore_enter dki-resource-asset-list-item-download" tabindex\x3d"1" aria-label\x3d"{{title}}" data-id\x3d"{{id}}"\x3e\x3ci class\x3d"fa fa-download"\x3e\x3c/i\x3e\x3c/a\x3e{{/if}}{{title}}\x3c/p\x3e{{{fancybox.inline_content}}}\x3c/li\x3e',
links_category:'{{#if links}}\x3cli class\x3d"list-group-item dki-resource-list-category" data-id\x3d"{{id}}" tabindex\x3d"1"\x3e\x3ch5 class\x3d"list-group-item-heading"\x3e{{links.title}}\x3c/h5\x3e\x3cul class\x3d"list-group dki-resource-list-items"\x3e{{#each links.resources}}{{\x3e DKI.templates.resource.link_list_item}}{{/each}}\x3c/ul\x3e\x3c/li\x3e{{/if}}',link_list_item:'\x3cli class\x3d"list-group-item dki-resource-list-item" data-id\x3d"{{id}}" tabindex\x3d"1"\x3e\x3ca class\x3d"link" href\x3d"{{parameters.url}}" target\x3d"_blank"\x3e{{parameters.title}}\x3c/a\x3e\x3cp class\x3d"list-group-item-text"\x3e{{parameters.description}}\x3c/p\x3e\x3c/li\x3e',
video_content:'\x3cdiv id\x3d"{{id}}" data-resource-id\x3d"{{resource_id}}" class\x3d"dki-resource-list-inline-media"\x3e{{\x3e jPlayerVideo videoAncestorId\x3dancestor_id videoPlayerId\x3dplayer_id}}\x3c/div\x3e',audio_content:'\x3cdiv id\x3d"{{id}}" data-resource-id\x3d"{{resource_id}}" class\x3d"dki-resource-list-inline-media"\x3e{{\x3e jPlayerAudio audioAncestorId\x3dancestor_id audioPlayerId\x3dplayer_id}}\x3c/div\x3e'};Handlebars.registerPartial("DKI.templates.resource.asset_category",DKI.templates.resource.asset_category);
Handlebars.registerPartial("DKI.templates.resource.asset_list_item",DKI.templates.resource.asset_list_item);Handlebars.registerPartial("DKI.templates.resource.links_category",DKI.templates.resource.links_category);Handlebars.registerPartial("DKI.templates.resource.link_list_item",DKI.templates.resource.link_list_item);DKI.templates.resourceBrowser="\x3cdiv id\x3d'resourceList' class\x3d'panel browserList'\x3e{{#unless mobile}}\x3cdiv class\x3d'searchContainer'\x3e\x3cdiv class\x3d'searchIcon'/\x3e\x3cinput id\x3d'resourceSearchBox'class\x3d'searchInput' type\x3d'text' tabindex\x3d'1'\x3e\x3c/input\x3e\x3c/div\x3e{{/unless}}\x3cul id\x3d'list' class\x3d'resultList'\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv id\x3d'resourceView' class\x3d'panel'\x3e\x3cdiv class\x3d'detailsContent border'\x3e\x3cdiv id\x3d'resourceDetails'\x3e\x3cdiv id\x3d'resourceContent' tabindex\x3d'1'\x3e\x3c/div\x3e\x3cdiv class\x3d'assetProperties'\x3e\x3cdiv id\x3d'resourceTitle' tabindex\x3d'1'\x3e\x3c/div\x3e\x3cdiv id\x3d'resourceDescription' tabindex\x3d'1'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";
DKI.templates.feedbackPanel={tooltipContent:'\x3cdiv class\x3d"feedback-wrapper"\x3e{{\x3e note.submit}}\x3cdiv class\x3d"feedback-notes"\x3e{{#each o.notes}}{{\x3e note}}{{/each}}\x3c/div\x3e\x3c/div\x3e',toolbar:'\x3cdiv id\x3d"reviewerTabContainer"\x3e\x3cspan class\x3d"reviewerButtonLabel reviewerTabDraggableIcon"\x3e\x3ci class\x3d"fa fa-arrows"\x3e\x3c/i\x3e\x3c/span\x3e\x3cspan class\x3d"reviewerButtonLabel" tabindex\x3d"0"\x3eReview Tools\x3c/span\x3e\x3cdiv class\x3d"reviewerTabButton feedback-tooltip-icon" id\x3d"feedbackTab" title\x3d"View page feedback" tabindex\x3d"0"\x3e\x3c/div\x3e\x3cdiv class\x3d"reviewerTabButton" id\x3d"pinFeedback" title\x3d"Select element for feedback" tabindex\x3d"0"\x3e\x3c/div\x3e\x3cdiv class\x3d"reviewerTabButton" id\x3d"answerKey" title\x3d"See the test answer key" tabindex\x3d"0"\x3e\x3c/div\x3e\x3cdiv class\x3d"reviewerTabButton" id\x3d"endReviewTab" title\x3d"End the review" tabindex\x3d"0"\x3e\x3c/div\x3e\x3c/div\x3e'};
DKI.templates.popupPanel={wrap:'\x3cdiv class\x3d"fancybox-wrap"\x3e\x3cdiv class\x3d"fancybox-skin"\x3e\x3cdiv class\x3d"fancybox-outer"\x3e\x3cdiv class\x3d"fancybox-inner"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',closeBtn:'\x3ca title\x3d"'+DKI.strings.runtime.buttonLabelClose+'" class\x3d"fancybox-item fancybox-close" href\x3d"javascript:;"\x3e\x3c/a\x3e'};DKI.templates.feedbackPopup=Handlebars.compile('\x3cdiv class\x3d"feedbackWrapper feedbackContainer"\x3e\x3cdiv class\x3d"feedbackContent"\x3e\x3cdiv class\x3d"feedbackHeader"\x3e\x3cspan class\x3d"feedbackClose" tabindex\x3d"0"\x3e\x3c/span\x3e\x3c/div\x3e{{{content}}}\x3c/div\x3e\x3c/div\x3e');
DKI.templates.browserWarning='\x3cdiv class\x3d"modal fade" tabindex\x3d"-1" role\x3d"dialog" data-backdrop\x3d"static"\x3e\x3cdiv class\x3d"modal-dialog"\x3e\x3cdiv class\x3d"modal-content"\x3e\x3cdiv class\x3d"modal-header"\x3e\x3cbutton type\x3d"button" class\x3d"close" data-dismiss\x3d"modal" aria-label\x3d"{{{strings.browserWarning.close}}}"\x3e\x3cspan aria-hidden\x3d"true"\x3e\x26times;\x3c/span\x3e\x3c/button\x3e\x3ch4 class\x3d"modal-title"\x3e{{{strings.browserWarning.title}}}\x3c/h4\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-body"\x3e\x3cdiv id\x3d"browserWarning_content"\x3e\x3cp\x3e{{{strings.browserWarning.message}}}\x3c/p\x3e\x3cdiv id\x3d"browserWarning_downloads"\x3e\x3ca href\x3d"http://www.google.com/chrome/" target\x3d"_blank" id\x3d"browserWarning_chromeDownload" title\x3d"{{{strings.browserWarning.downloadChrome}}}"\x3e\x3cspan\x3e{{{strings.browserWarning.downloadChrome}}}\x3c/span\x3e\x3c/a\x3e\x3ca href\x3d"http://www.getfirefox.com/" target\x3d"_blank" id\x3d"browserWarning_firefoxDownload" title\x3d"{{{strings.browserWarning.downloadFirefox}}}"\x3e\x3cspan\x3e{{{strings.browserWarning.downloadFirefox}}}\x3c/span\x3e\x3c/a\x3e\x3ca href\x3d"http://www.apple.com/safari/download/" target\x3d"_blank" id\x3d"browserWarning_safariDownload" title\x3d"{{{strings.browserWarning.downloadSafari}}}"\x3e\x3cspan\x3e{{{strings.browserWarning.downloadSafari}}}\x3c/span\x3e\x3c/a\x3e\x3ca href\x3d"http://windows.microsoft.com/en-US/internet-explorer/downloads/ie" target\x3d"_blank" id\x3d"browserWarning_ieDownload" title\x3d"{{{strings.browserWarning.downloadIe}}}"\x3e\x3cspan\x3e{{{strings.browserWarning.downloadIe}}}\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-footer"\x3e\x3cbutton type\x3d"button" tabindex\x3d\'1\' data-dismiss\x3d"modal" class\x3d"btn btn-default"\x3e{{{strings.runtime.buttonLabelClose}}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e';
DKI.templates.alertPanel=Handlebars.compile('\x3cdiv id\x3d"action_popup_{{id}}" data-actionID\x3d"{{id}}" tabindex\x3d"1" role\x3d\'dialog\' {{#if ariaLabel}}aria-label\x3d\'{{ariaLabel}}\'{{else}} aria-labelledby\x3d\'title_{{id}}\'{{/if}} class\x3d"popup modal {{style}} {{effect}} {{popupType.mod}} {{popupType.type}}"\x3e\x3cdiv class\x3d"vertAlign"\x3e\x3cdiv class\x3d"modal-dialog" role\x3d"document"\x3e\x3cdiv class\x3d"modal-content"\x3e\x3cdiv class\x3d"modal-header"\x3e{{#if exit}}\x3cbutton type\x3d"button" class\x3d"close" tabindex\x3d"1" aria-label\x3d"close"\x3e\x26times;\x3c/button\x3e{{/if}}\x3ch1 id\x3d\'title_{{id}}\' class\x3d"modal-title" {{#ifNEq title \'\'}}tabindex\x3d"1" aria-label\x3d"{{{title}}}" {{else}}tabindex\x3d"-1" {{/ifNEq}}\x3e{{{title}}}\x3c/h1\x3e\x3c/div\x3e\x3cdiv{{#if tabContent}} tabindex\x3d\'1\'{{/if}} class\x3d"modal-body"id\x3d\'content_{{id}}\'\x3e{{{html}}}\x3c/div\x3e\x3cdiv class\x3d"modal-footer"\x3e{{#if showInput}}\x3cdiv class\x3d\'doNotShow\'\x3e\x3cinput id\x3d\'popupDoNotShow\' type\x3d\'checkbox\' name\x3d\'popupDoNotShow\'/\x3e\x3clabel for\x3d\'popupDoNotShow\'\x3eDo not show this again\x3c/label\x3e\x3c/div\x3e{{/if}}\x3cbutton type\x3d"button" tabindex\x3d\'1\' aria-label\x3d"{{{strings.close}}}" class\x3d"btn {{#if popupType.btnCls}}{{popupType.btnCls}} {{else}}btn-default {{/if}}dismiss"\x3e{{{strings.close}}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
DKI.templates.notificationPanel=Handlebars.compile('\x3cdiv id\x3d"action_popup_{{id}}" data-actionID\x3d"{{id}}" {{#if role}}role\x3d"{{role}}"{{/if}} {{#if ariaLabel}}aria-label\x3d\'{{ariaLabel}}\'{{else}} aria-labelledby\x3d\'title_{{id}}\'{{/if}} class\x3d"popup alert {{style}} alert-dismissable {{effect}} {{popupType.mod}} {{popupType.type}}"  data-id\x3d{{id}}\x3e\x3ch4\x3e\x3cdiv class\x3d"titleCont"\x3e\x3cbutton type\x3d"button"  tabindex\x3d\'1\' class\x3d"close dismiss" aria-label\x3d"close"\x3e\x3cspan aria-hidden\x3d"true"\x3e\x26times;\x3c/span\x3e\x3c/button\x3e\x3cspan id\x3d\'title_{{id}}\' class\x3d"modal-title" {{#ifNEq title \'\'}}tabindex\x3d"1" aria-label\x3d"{{{title}}}" {{else}}tabindex\x3d"-1" {{/ifNEq}} \x3e{{{title}}}\x3c/span\x3e\x3c/div\x3e\x3c/h4\x3e\x3cdiv id\x3d\'content_{{id}}\' class\x3d"alert-content" {{#if tabContent}} tabindex\x3d\'1\'{{/if}}\x3e{{{html}}}\x3c/div\x3e\x3c/div\x3e');
DKI.templates.certificate={body:'\x3cdiv class\x3d"certificate"\x3e\x3cdiv class\x3d"content"\x3e\x3ch1\x3e{{{strings.certificate.title}}}\x3c/h1\x3e\x3cdiv\x3e{{{strings.certificate.body}}}\x3c/div\x3e\x3cdiv\x3e\x3cspan id\x3d"certificate_date"\x3e\x3c/span\x3e\x3c/div\x3e\x3ca id\x3d"certificate_print" tabindex\x3d"0" title\x3d"{{{strings.certificate.printTooltip}}}"\x3e\x3cspan\x3e{{{strings.certificate.print}}}\x3c/span\x3e\x3c/a\x3e\x3cdiv id\x3d"certificate_logo"\x3e\x3c/div\x3e\x3cdiv id\x3d"certificate_signature"\x3e{{{strings.certificate.sign}}}\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'};
DKI.templates.prompt='\x3cdiv class\x3d"modal fade" tabindex\x3d"-1" role\x3d"dialog" data-backdrop\x3d"static"\x3e\x3cdiv class\x3d"modal-dialog"\x3e\x3cdiv class\x3d"modal-content"\x3e\x3cdiv class\x3d"modal-body"\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel for\x3d"DKI_prompt_input"\x3e{{{strings.message}}}\x3c/label\x3e\x3cinput id\x3d"DKI_prompt_input" class\x3d"form-control"/\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-footer"\x3e\x3cbutton type\x3d"button" class\x3d"prompt_ok btn btn-primary"\x3e{{{strings.ok}}}\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"btn btn-default"\x3e{{{strings.cancel}}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e';
Handlebars.registerPartial("note.body",'\x3cdiv class\x3d"feedback-note-body-wrapper" data-id\x3d"{{id}}"\x3e\x3cdiv class\x3d"feedback-note-avatar" style\x3d"background-image: url({{enteredBy.avatarURL}});"\x3e\x3c/div\x3e\x3cdiv class\x3d"feedback-note-details"\x3e\x3cdiv class\x3d"feedback-note-header"\x3e\x3cspan class\x3d"feedback-name"\x3e{{enteredBy.first}} {{enteredBy.last}}\x3c/span\x3e\x3cspan class\x3d"feedback-date"\x3e{{simpleDate dateFiled}}\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"feedback-note-body"\x3e{{{description}}}\x3c/div\x3e{{\x3e note.edit}}\x3ca class\x3d"feedback-note-action upvote"\x3e+1\x3c/a\x3e\x3cdiv class\x3d"feedback-note-rating"\x3e{{{rating}}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("note.submit",'\x3cdiv class\x3d"feedback-submit-wrapper"\x3e\x3cdiv class\x3d"feedback-closeFeedbackTab" title\x3d"Close" tabindex\x3d"0"\x3e\x3ci class\x3d"fa fa-close"\x3e\x3c/i\x3e\x3c/div\x3e\x3ctextarea class\x3d"txtArea-feedback" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3cspan\x3e1000 characters\x3c/span\x3e\x3cbutton class\x3d"feedback-btnSubmit"\x3e{{strings.buttonLabelSubmit}}\x3c/button\x3e\x3c/div\x3e');Handlebars.registerPartial("note.reply",'\x3cdiv class\x3d"feedback-reply-wrapper" data-parent_note_id\x3d"{{id}}"\x3e\x3ctextarea class\x3d"txtArea-feedback" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3cspan\x3e1000 characters\x3c/span\x3e\x3cbutton class\x3d"feedback-btnSubmit"\x3eReply\x3c/button\x3e\x3c/div\x3e');
Handlebars.registerPartial("note.edit",'\x3cdiv class\x3d"feedback-edit-wrapper" data-id\x3d"{{id}}"\x3e\x3ctextarea class\x3d"txtArea-feedback" maxlength\x3d"1000"\x3e{{description}}\x3c/textarea\x3e\x3cspan\x3e1000 characters\x3c/span\x3e\x3cbutton class\x3d"feedback-btnSubmit"\x3eDone\x3c/button\x3e\x3c/div\x3e\x3ca class\x3d"feedback-note-action edit"\x3eedit\x3c/a\x3e');Handlebars.registerPartial("note",'\x3cdiv class\x3d"feedback-note-wrapper" data-id\x3d"{{id}}" data-enteredby\x3d"{{enteredBy.id}}"\x3e{{\x3e note.body}}\x3cdiv class\x3d"feedback-note-comments-wrapper"\x3e{{#each notes}}{{\x3e note.body}}{{/each}}{{\x3e note.reply}}\x3c/div\x3e\x3cdiv class\x3d"feedback-note-actions"\x3e\x3ca class\x3d"feedback-note-action reply"\x3ereply\x3c/a\x3e\x3ca class\x3d"feedback-note-action delete"\x3edelete\x3c/a\x3e\x3ca class\x3d"feedback-note-action resolve"\x3eresolve\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("jPlayerVideo",'\x3cdiv id\x3d\'{{videoAncestorId}}\' class\x3d"jp-video"\x3e\x3cdiv class\x3d"jp-type-single"\x3e\x3cdiv id \x3d\'{{videoPlayerId}}\' class\x3d"vidPlayer" class\x3d"jp-video-player"\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-video-play"\x3e\x3ca class\x3d"jp-video-play-icon"\x3eplay\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-gui"\x3e\x3cdiv class\x3d"jp-interface"\x3e\x3cdiv class\x3d"jp-progress"\x3e\x3cdiv class\x3d"jp-seek-bar"\x3e\x3cdiv class\x3d"jp-play-bar"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-controls-holder"\x3e\x3cul class\x3d"jp-controls"\x3e\x3cli\x3e\x3ca class\x3d"jp-play" role\x3d"button"\x3eplay\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-pause" role\x3d"button"\x3epause\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-mute" role\x3d"button"\x3emute\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-unmute" role\x3d"button"\x3eunmute\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-transcript" role\x3d"button"\x3etranscript\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"jp-time"\x3e\x3cdiv class\x3d"jp-current-time"\x3e\x3c/div\x3e/\x3cdiv class\x3d"jp-duration"\x3e\x3c/div\x3e\x3c/li\x3e\x3cli class\x3d"jp-fs"\x3e\x3ca class\x3d"jp-full-screen" role\x3d"button"\x3efull\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"jp-fs"\x3e\x3ca class\x3d"jp-restore-screen" role\x3d"button"\x3erestore\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d"jp-volume-bar"\x3e\x3cdiv class\x3d"jp-volume-bar-value"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("jPlayerAudio",'\x3cdiv id \x3d \'{{audioAncestorId}}\' class\x3d\'audioContainer mediaContainer jp-audio\'\x3e\x3cdiv id \x3d\'{{audioPlayerId}}\' class\x3d\'audioPlayer jp-jplayer\'\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-type-single"\x3e\x3cdiv class\x3d"jp-gui jp-interface"\x3e\x3cdiv class\x3d"jp-progress"\x3e\x3cdiv class\x3d"jp-seek-bar"\x3e\x3cdiv class\x3d"jp-play-bar"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-controls-holder"\x3e\x3cul class\x3d"jp-controls"\x3e\x3cli\x3e\x3ca class\x3d"jp-play" tabindex\x3d"0" role\x3d"button"\x3eplay\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-pause" tabindex\x3d"0" role\x3d"button"\x3epause\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-mute" tabindex\x3d"0" role\x3d"button"\x3emute\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-unmute"  style\x3d"display:none" tabindex\x3d"0" role\x3d"button"\x3eunmute\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-transcript" tabindex\x3d"0" role\x3d"button"\x3etranscript\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"jp-time jp-fs" tabindex\x3d"0"\x3e\x3cdiv class\x3d"jp-current-time"\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-time-slash"\x3e/\x3c/div\x3e\x3cdiv class\x3d"jp-duration"\x3e\x3c/div\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-no-solution"\x3e\x3cspan\x3eThe media element failed to load.\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("jPlayerAudioSimple",'\x3cdiv id\x3d"{{audioSimpleAncestorId}}" class\x3d"jp-basic jPlayerAudioSimple"\x3e\x3cdiv class\x3d"jp-type-single"\x3e\x3cdiv id\x3d\'{{audioSimplePlayerId}}\' class\x3d"jp-audio"\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-gui jp-basic jp-interface"\x3e\x3cdiv class\x3d"jp-controls-holder"\x3e{{#unless skipControls}}\x3cul class\x3d"jp-controls"\x3e\x3cli\x3e\x3ca class\x3d"jp-play" tabindex\x3d"0" role\x3d"button"\x3eplay\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-pause" tabindex\x3d"0" role\x3d"button"\x3epause\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e{{/unless}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerHelper("contentApi",function(b){return contentApi&&contentApi[b]?"function"===typeof contentApi[b]?contentApi[b]():contentApi[b]:""});Handlebars.registerHelper("exists",function(b,h){b=b.split(".");for(var c=!0,l=0;l<b.length;l++)if("undefined"===typeof this[b[l]]){c=!1;break}return c?h.fn(this):h.inverse(this)});Handlebars.registerHelper("runTemplate",function(b,h,c){"function"!==typeof b&&(b=b.template);return new Handlebars.SafeString(b(h.hash||h))});
Handlebars.registerHelper("simpleDate",function(b,h){b=new Date(b);return b.getDate()+"/"+(b.getMonth()+1)+"/"+b.getFullYear()});Handlebars.registerHelper("assessmentScore",function(b,h){return b.getScore()});Handlebars.registerHelper("assessmentPassmark",function(b,h){h=contentApi.getPassMark();b.module.passmark&&(h=b.module.passmark);return h});Handlebars.registerHelper("totalDelivered",function(b,h){return dataStorage.loadTest(b.module,!1).questions.length});
Handlebars.registerHelper("questionPartialScoring",function(b,h){h="On";if(0==b&&!playerBehaviour.partialScoring||2==b)h="Off";return h});
Handlebars.registerHelper("questionChoices",function(b,h){h="";if(1==b.type)h=h+'\x3cdiv class\x3d"status-detail-wrapper answer"\x3e\x3cdiv class\x3d"status-detail-label"\x3eAnswer : \x3c/div\x3e'+('\x3cdiv class\x3d"status-detail-value"\x3e'+b.options[0].parameters.correct+"\x3c/div\x3e"),h+="\x3c/div\x3e";else if(2==b.type){h+="\x3ctable\x3e\x3ctr\x3e\x3cth\x3eLetter\x3c/th\x3e\x3cth\x3eCorrect?\x3c/th\x3e\x3cth\x3eRandom?\x3c/th\x3e\x3cth\x3eFeedback\x3c/th\x3e\x3c/tr\x3e";for(var c=0;c<b.options.length;c++){var l=
b.options[c],m=$("#"+l.element_id+"_wrapper");h+='\x3ctr class\x3d"question-option-element-link" data-id\x3d"'+l.element_id+'"\x3e';h+="\x3ctd\x3e"+m.find(".optionNumber").text()+"\x3c/td\x3e";h+="\x3ctd\x3e"+l.parameters.correct+"\x3c/td\x3e";h+="\x3ctd\x3e"+l.parameters.randomized+"\x3c/td\x3e";h+='\x3ctd\x3e\x3cdiv class\x3d"option-feedback" title\x3d"'+l.parameters.feedback+'"\x3e'+l.parameters.feedback+"\x3c/div\x3e\x3c/td\x3e";h+="\x3c/tr\x3e"}h+="\x3c/table\x3e"}else if(4==b.type){h+="\x3ctable\x3e\x3ctr\x3e\x3cth\x3eLetter\x3c/th\x3e\x3cth\x3eCorrect Values\x3c/th\x3e\x3cth\x3eFeedback\x3c/th\x3e\x3c/tr\x3e";
for(c=0;c<b.options.length;c++)l=b.options[c],m=$("#"+l.element_id+"_wrapper"),h+='\x3ctr class\x3d"question-option-element-link" data-id\x3d"'+l.element_id+'"\x3e',h+="\x3ctd\x3e"+m.find(".optionNumber").text()+"\x3c/td\x3e",h+="\x3ctd\x3e"+l.parameters.correctValues+"\x3c/td\x3e",h+='\x3ctd\x3e\x3cdiv class\x3d"option-feedback" title\x3d"'+l.parameters.feedback+'"\x3e'+l.parameters.feedback+"\x3c/div\x3e\x3c/td\x3e",h+="\x3c/tr\x3e";h+="\x3c/table\x3e"}else if(5==b.type){h+="\x3ctable\x3e\x3ctr\x3e\x3cth\x3eLetter\x3c/th\x3e\x3cth\x3eCorrect Value\x3c/th\x3e\x3cth\x3eFeedback\x3c/th\x3e\x3c/tr\x3e";
for(c=0;c<b.options.length;c++)l=b.options[c],m=$("#"+l.element_id+"_wrapper"),h+='\x3ctr class\x3d"question-option-element-link" data-id\x3d"'+l.element_id+'"\x3e',h+="\x3ctd\x3e"+m.find(".optionNumber").text()+"\x3c/td\x3e",h+="\x3ctd\x3e"+l.parameters.correctValue+"\x3c/td\x3e",h+='\x3ctd\x3e\x3cdiv class\x3d"option-feedback" title\x3d"'+l.parameters.feedback+'"\x3e'+l.parameters.feedback+"\x3c/div\x3e\x3c/td\x3e",h+="\x3c/tr\x3e";h+="\x3c/table\x3e"}else if(6==b.type){h+="\x3ctable\x3e\x3ctr\x3e\x3cth\x3eDraggable\x3c/th\x3e\x3cth\x3eCorrect Target\x3c/th\x3e\x3c/tr\x3e";
for(c=0;c<b.options.length;c++){var l=b.options[c],m=$("#"+l.element_id+"_wrapper"),q=m.data("title");""==q&&(q=m.data("meta"));h+="\x3ctr\x3e";h+='\x3ctd class\x3d"question-option-element-link" data-id\x3d"'+l.element_id+'"\x3e'+q+"\x3c/td\x3e";h+="\x3ctd\x3e";for(m=0;m<l.parameters.correctTargets.length;m++){var q=$(".dki-authoring-element[data-dragdropid\x3d'"+l.parameters.correctTargets[m].toLowerCase()+"'], .dki-authoring-element[data-dragdropid\x3d'"+l.parameters.correctTargets[m].toUpperCase()+
"']"),n=q.data("title");""==n&&(n=q.data("meta"));h+='\x3cdiv class\x3d"question-option-element-link" data-id\x3d"'+q.data("id")+'"\x3e'+n+"\x3cdiv/\x3e"}h+="\x3c/td\x3e";h+="\x3c/tr\x3e"}h+="\x3c/table\x3e"}return h});Handlebars.registerHelper("questionFeedback",function(b,h){h=b.text;"true"==b.useDefault.toString()?h="\x3ci\x3eUsing course default\x3c/i\x3e":""==b.text&&(h="\x3ci\x3eNone supplied by author\x3c/i\x3e");return h});
Handlebars.registerHelper("math",function(b,h,c,l){b=parseFloat(b);c=parseFloat(c);return{"+":b+c,"-":b-c,"*":b*c,"/":b/c,"%":b%c}[h]});Handlebars.registerHelper("reverse",function(b){b.reverse()});Handlebars.registerHelper("glossaryAttribution",function(b){return b.attribution?DKI.strings.doc["Source label"]+b.attribution:b.citation_id?DKI.strings.doc["Source label"]+DKI.reference.getFullCitationText(b.citation_id):""});
Handlebars.registerHelper("glossaryHasAttribution",function(b,h){return b.attribution||b.citation_id?h.fn(this):h.inverse(this)});
DKI.RenderService=function(b){var h=this;this.state=$.extend(!0,{renderEnvironment:{authoring:!1,player:!1,full:!1,single:!1,export:!1,document:!1,template:!1,responsive:!1,legacyCourse:0},typeConfig:{},baseUrl:DKI.bu?DKI.bu():"",utility:DKI.utility?DKI.utility:{},design:{},strings:null},b);this.registerPartials();this.registerHelpers();this.defaultArgs={renderEnv:this.state.renderEnvironment,strings:this.state.strings,typeConfig:this.state.typeConfig};var c=function(b){return{outline:b}},l={format:function(b){return{outline:b,
audioAncestorId:"content_"+b.id+"_container",audioPlayerId:"content_"+b.id+"_player"}},template:Handlebars.compile('{{#if renderEnv.document}}{{element_forDocument outline}}{{else}}{{#element_ifAudioForEdit renderEnv}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e\x3cdiv class\x3d"dki-element-content{{#element_multimedia_hasPlayerControl this \'playerskin\'}} dki-audio-basic-placeholder{{else}} dki-media-placeholder{{/element_multimedia_hasPlayerControl}}"id\x3d"content_{{outline.id}}"title\x3d"{{#forPreview renderEnv}}Audio Asset{{/forPreview}}"data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}"{{#element_multimedia_hasPlayerControl this \'autohidecontrols\'}}{{else}} data-controls\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'autoplay\'}} data-autoplay\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'loop\'}} data-loop\x3d"true"{{/element_multimedia_hasPlayerControl}} data-extension\x3d"{{outline.asset_extension}}"  data-narration\x3d"{{outline.narration}}"  data-duration\x3d"{{outline.asset_duration}}" {{#element_multimedia_hasPlayerControl this \'playerskin\'}} data-playerskin\x3d"true"\x3e{{\x3e jPlayerAudioSimple audioSimpleAncestorId\x3daudioAncestorId audioSimplePlayerId\x3daudioPlayerId}}{{else}}\x3e{{\x3e jPlayerAudio audioAncestorId\x3daudioAncestorId audioPlayerId\x3daudioPlayerId}}{{/element_multimedia_hasPlayerControl}}\x3c/div\x3e{{else}}\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}" style\x3d"width:{{outline.width}}px;" data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" data-extension\x3d"{{outline.asset_extension}}" data-duration\x3d"{{outline.asset_duration}}" data-width\x3d"{{outline.width}}" data-height\x3d"{{outline.height}}" data-id\x3d"{{outline.id}}" data-narration\x3d"{{outline.narration}}" data-elementType\x3d"audio"{{#element_multimedia_hasPlayerControl this \'loop\'}} data-loop\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'autoplay\'}} data-autoplay\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'playerskin\'}} data-playerskin\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'autohide\'}}{{else}} data-controls\x3d"true"{{/element_multimedia_hasPlayerControl}}\x3e\x3ca class\x3d"dki-media-link" href\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" target\x3d"_blank"\x3e\x3c/a\x3e\x3c/div\x3e{{/element_ifAudioForEdit}}{{/if}}')},
m={format:c,template:Handlebars.compile('{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3ca tabindex\x3d"-1" style\x3d"height:100%;width:100%;{{#if renderEnv.responsive}}min-height:inherit;{{/if}}{{outline.cssstyle}}"id\x3d"content_{{outline.id}}"class\x3d"dki-authoring-button {{element_contentClass this}}"{{#if outline.txt}}title\x3d"{{outline.txt}}"{{/if}}\x3e\x3ctable width\x3d"100%" height\x3d"100%" style\x3d"{{#if renderEnv.responsive}}min-height:inherit;{{/if}}"\x3e\x3ctbody style\x3d"vertical-align:middle;"\x3e\x3ctr\x3e\x3ctd\x3e{{{outline.meta}}}\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e\x3c/a\x3e')},
q={format:c,template:Handlebars.compile('\x3ca href\x3d"javascript:;" tabindex\x3d"-1" style\x3d"{{#if renderEnv.responsive}}min-height:inherit;{{/if}}{{#ifEq outline.parameters.config.class_name \'advanced\'}}{{outline.parameters.config.backgroundCSS}} {{/ifEq}}{{#ifEq outline.parameters.config.class_name \'custom\'}}color: {{outline.parameters.config.colors.default.foreground}};border-color: {{outline.parameters.config.colors.default.border}};background-color: {{outline.parameters.config.colors.default.background}};{{/ifEq}}" id\x3d"content_{{outline.id}}"class\x3d"{{element_contentClass this}}"{{#if outline.txt}}title\x3d"{{outline.txt}}"{{/if}}\x3e\x3ci class\x3d"fa {{outline.parameters.config.icon.class_name}} left"\x3e\x3c/i\x3e\x3cdiv class\x3d"dki-element-text  {{courseStyles outline}}"\x3e{{{outline.meta}}}\x3c/div\x3e\x3ci class\x3d"fa {{outline.parameters.config.righticon.class_name}} right"\x3e\x3c/i\x3e\x3c/a\x3e')},
n={format:function(b){var c=DKI.clone(b.parameters.config);b.elements.sort(function(b,c){return b.elementno-c.elementno});c.content=b.elements;c.style+=c.showBorders?"":" callout-no-borders";return c},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"clearfix bs-callout {{style}} {{BgClassName outline.parameters.background}}" style\x3d"{{\x3eelement_backgroundCSSString outline}}"\x3e{{#if icon.enabled}}\x3ci class\x3d"fa {{icon.class_name}}"\x3e\x3c/i\x3e{{/if}}{{#each content}}{{\x3eelement outline\x3dthis scope\x3d../scope}}{{/each}}\x3c/div\x3e\x3c/div\x3e')},
r=$.proxy(function(b){var c="string"==typeof b.asset_parameters?JSON.parse(b.asset_parameters).config:b.asset_parameters.config,k=this.getAssetUrl({id:b.upload_id,folderId:b.asset_uploadfolderid,extension:""})+"/",l="?bust\x3d"+Date.now(),m=function(b){b.match(/\./)||(b+=".png");return k+b+l},u=function(b){var c=$("\x3cdiv/\x3e");c.html(b);c.find("img").each(function(){var b=$(this).attr("src");0>b.indexOf(k)&&$(this).attr("src",k+b)});return c.html()};DKI.apply(c,{sectionCount:0,totalDuration:0});
DKI.applyIf(c,{panAndZoom:!0,showNarrationText:!0,showJobAidDownload:!0,showDocumentDownload:!1,jobAidFile:""});c.jobAidFile&&(c.jobAidURL=m(c.jobAidFile));c.documentFile&&(c.documentURL=m(c.documentFile));c.showDocumentDropdown=c.showJobAidDownload&&c.showDocumentDownload;var p="undefined"!==typeof c.stepDuration&&0<=c.stepDuration,v=function(b,c){return 0<="MOUSE_CLICKED BUTTON_PRESSED CHECK_BOX_SELECTED FINISH_MOUSE_DRAGGED MENU_BUTTON_PRESSED RADIO_BUTTON_SELECTED START_MOUSE_DRAGGED".split(" ").indexOf(b.eventType)?
b[c]:0},n=1;$.each(c.sections,function(k){this.introduction=u(this.introduction);this.testMeIntroduction=u(this.testMeIntroduction);this.sectionName=u(this.sectionName);this.summary=u(this.summary);c.sectionCount+=0<this.steps.length?1:0;this.show=0<this.steps.length;this.sectionDuration=0;this.introText="testMe"==b.parameters.config.type?this.testMeIntroduction||this.introduction:this.introduction;this.overallStepCount=n;this.sectionCount=k;var h=this;$.each(this.steps,function(){n++;this.instructionalText=
u(this.instructionalText);this.hintText=u(this.hintText);this.testMeFeedbackText=u(this.testMeFeedbackText);this.narrationText=u(this.narrationText);this.imageURL=m(this.image);this.hotSpotImageURL=m(this.hotSpotImage);this.fullImageURL=m(this.fullImage);"guide"==b.parameters.config.type&&this.guideMeImage&&(this.fullImageURL=m(this.guideMeImage));$.each(this.markers,function(){this.imageURL=m(this.imageName);this.text=u(this.text)});this.clickCount="undefined"!==typeof this.clickCount?this.clickCount:
v(this,"clickCount");this.mouseButton="undefined"!==typeof this.mouseButton?this.mouseButton:v(this,"mouseButton");this.startTime=c.totalDuration;this.duration=!p||this.audioFile?this.durationForStepInMillis:1E3*c.stepDuration;this.timeStr=("0"+Math.floor(this.startTime/1E3/60)).slice(-2)+":"+("0"+Math.round(this.startTime/1E3)%60).slice(-2);c.totalDuration+=this.duration;h.sectionDuration+=this.duration;this.hide="STOP_CAPTURE"==this.eventType;this.hintText=this.hintText})});c.moreThanOneSectionWithSteps=
1<c.sectionCount;var x=DKI.apply({next:"Next",previous:"Previous",fullscreen:"Full Screen",play:"Play",hideSteps:"Menu",toggleZoom:"Zoom",mute:"Mute",start:"Start",reviewTest:"Review Test",retakeTest:"Retake Test",continue:"Continue",showAnswers:"Show Answers",downloadJobAid:"Download Job Aid",tryMeSimEnd:"Steps Completed",restart:"Restart",hint:"Hint",stepList:"Step List",jobAid:"Download job Aid",downloadDocument:"Download Document",downloadDocuments:"Download Documents"},DKI.strings?{next:DKI.strings.index.nextButtonLabel,
previous:DKI.strings.index.previousButtonLabel,fullscreen:DKI.strings.runtime.media_instructions_fullscreen,play:DKI.strings.runtime.media_instructions_play,hideSteps:DKI.strings.index.menuButtonLabel,toggleZoom:DKI.strings.runtime.zoom,mute:DKI.strings.index.audioButtonLabel,reviewTest:DKI.strings.endTest.reviewLinkLabel,retakeTest:DKI.strings.endTest.retakeTestButton,continue:DKI.strings.endMod.learningLinkLabel,start:DKI.strings.runtime["theme start"],showAnswers:DKI.strings.doc["Test answer header"]}:
{});return{project:c,elConfig:b.parameters.config,embed:!0,viewContainerCls:b.parameters.config.showSteps?" col-md-9 col-sm-8":" col-xs-12",imgPath:h.state.renderEnvironment.export?"./css":h.state.baseUrl+"player/css/capture",controlLabels:x}},this),k;Handlebars.registerPartial("capture_showMe",'\x3cdiv id\x3d"capture_{{outline.id}}" role\x3d"application" class\x3d"capture capture-project-container bg-light showMe" data-variable-name\x3d"{{elConfig.variable_name}}" data-duration\x3d"{{project.totalDuration}}"\x3e\x3cdiv id\x3d"sectionInfo" data-number-of-sections\x3d"{{project.sectionCount}}"\x3e{{#each project.sections}}{{#if this.show}}\x3cdiv id\x3d"section-{{arith @index "+" 1}}"data-section-size\x3d"{{this.steps.length}}"data-section-duration\x3d"{{this.sectionDuration}}"data-section-introduction\x3d"{{this.introText}}"data-section-summary\x3d"{{this.summary}}"\x3e\x3c/div\x3e{{/if}}{{/each}}\x3c/div\x3e\x3cdiv id\x3d"showMeContainer" class\x3d"container-fluid {{viewContainerCls}} capture-display bg-light capture-display-border-right"\x3e\x3cdiv id\x3d"introductionOverlay" class\x3d"introduction-overlay overlay hide-introduction"\x3e\x3cdiv id\x3d"introductionContainer" class\x3d"introduction-container text-center panel"\x3e\x3cdiv id\x3d"introductionTextContainer" class\x3d"introduction-text-container"\x3e\x3cspan class\x3d"introduction-text" id\x3d"introductionText" \x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv\x3e\x3cbutton id\x3d"introductionContainerPlayButton" class\x3d"btn btn-primary" aria-label\x3d"{{controlLabels.continue}}" title\x3d"{{controlLabels.continue}}"\x3e{{controlLabels.continue}}/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"container full-width"\x3e\x3cdiv class\x3d"video-overlay"\x3e\x3cbutton class\x3d"btn btn-link play-head-button"aria-hidden\x3d"true" aria-label\x3d"{{controlLabels.play}}" title\x3d"{{controlLabels.play}}"\x3e\x3ci class\x3d"fa fa-play-circle play-head-child" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"no-background bottom-buffer top-buffer"\x3e\x3cdiv id\x3d"softwareSimCarousel" class\x3d"carousel img-overlay" data-wrap\x3d"true" data-interval\x3d"1000000"\x3e\x3cdiv class\x3d"carousel-inner"\x3e{{#each project.sections}}{{#each this.steps}}\x3cdiv class\x3d"item" tabindex\x3d"-1"data-interval\x3d"{{duration}}"data-start-time\x3d"{{startTime}}"data-hotspot-minX\x3d"{{hotSpot.minX}}"data-hotspot-minY\x3d"{{hotSpot.minY}}"data-hotspot-width\x3d"{{hotSpot.width}}"data-hotspot-height\x3d"{{hotSpot.height}}"data-click-count\x3d"{{clickCount}}"data-step-count\x3d"{{arith @index "+" 1}}"data-section-count\x3d"{{arith @../index "+" 1}}"data-event-type\x3d"{{eventType}}"\x3e\x3cimg class\x3d"capture-image {{#ifNEq @index 0}}unloaded{{/ifNEq}}" border\x3d"1" src\x3d"{{element_capture_showMeImage this ../../project}}" id\x3d"image"\x3e\x3c/div\x3e{{/each}}{{/each}}\x3cdiv id\x3d"showMeDragOverlay" class\x3d"drag-overlay bg-primary" tabindex\x3d"-1"\x3e\x3ci class\x3d"fa fa-bars centered-element"\x3e\x3c/i\x3e\x3c/div\x3e \x3cdiv class\x3d"img overlay" id\x3d"mouse" tabindex\x3d"-1"\x3e\x3cimg class\x3d"mouse-pointer" src\x3d"{{imgPath}}/images/pointer-25.png"/\x3e\x3cimg style\x3d"display:none" class\x3d"mouse-pointer-click" src\x3d"{{imgPath}}/images/pointer-25-click.png"/\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"row controls"\x3e\x3cdiv class\x3d"bar bg-primary"\x3e\x3c/div\x3e\x3cdiv class\x3d"col col-xs-7"\x3e\x3cbutton id\x3d"playButton" class\x3d"btn btn-link btn-primary" type\x3d"button" tabindex\x3d"1" aria-label\x3d"{{controlLabels.play}}" title\x3d"{{controlLabels.play}}"\x3e\x3ci class\x3d"fa fa-2x fa-fw fa-cog fa-spin"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton id\x3d"prevStep" class\x3d"btn btn-link btn-primary" type\x3d"button" tabindex\x3d"1" aria-label\x3d"{{controlLabels.previous}}" title\x3d"{{controlLabels.previous}}"\x3e\x3ci class\x3d"fa fa-2x fa-fw fa-step-backward"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton id\x3d"nextStep" class\x3d"btn btn-link btn-primary" type\x3d"button" tabindex\x3d"1" aria-label\x3d"{{controlLabels.next}}" title\x3d"{{controlLabels.next}}"\x3e\x3ci class\x3d"fa fa-2x fa-fw fa-step-forward"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton id\x3d"mute" class\x3d"btn btn-link btn-primary" type\x3d"button" tabindex\x3d"1" aria-label\x3d"{{controlLabels.mute}}" title\x3d"{{controlLabels.mute}}"\x3e\x3ci class\x3d"fa fa-2x fa-fw fa-volume-up"\x3e\x3c/i\x3e\x3c/button\x3e\x3cspan class\x3d"player-time text-muted" tabindex\x3d"1" \x3e00:00 / 00:00\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"col col-xs-5" style\x3d"direction:rtl;"\x3e\x3cbutton id\x3d"fullScreen" class\x3d"btn btn-link btn-primary pull-right" type\x3d"button" tabindex\x3d"1"\x3e\x3ci class\x3d"fa fa-2x fa-fw fa-arrows-alt" aria-label\x3d"{{controlLabels.fullscreen}}" title\x3d"{{controlLabels.fullscreen}}"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton id\x3d"hideSteps" class\x3d"btn btn-link btn-primary pull-right" type\x3d"button" tabindex\x3d"1"\x3e\x3ci class\x3d"fa fa-2x fa-fw fa-list-ol" aria-label\x3d"{{controlLabels.hideSteps}}" title\x3d"{{controlLabels.hideSteps}}"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton id\x3d"toggleZoom" class\x3d"btn btn-link btn-primary pull-right" type\x3d"button" tabindex\x3d"1" aria-label\x3d"{{controlLabels.toggleZoom}}" title\x3d"{{controlLabels.toggleZoom}}"\x3e\x3ci class\x3d"fa fa-2x fa-fw{{#if project.panAndZoom}} fa-search-minus{{else}} fa-search-plus{{/if}}"\x3e\x3c/i\x3e\x3c/button\x3e{{#if project.showDocumentDropdown}}\x3cdiv class\x3d"dropup"\x3e\x3ca class\x3d"btn btn-primary btn-link pull-right dropdown-toggle" aria-label\x3d"{{@root.controlLabels.downloadDocuments}}" title\x3d"{{@root.controlLabels.downloadDocuments}}" data-toggle\x3d"dropdown"\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-download"\x3e\x3c/i\x3e\x3c/a\x3e\x3cul class\x3d"dropdown-menu dropdown-menu-right"\x3e\x3cli role\x3d"presentation"\x3e\x3ca href\x3d"{{project.jobAidURL}}"aria-label\x3d"{{@root.controlLabels.downloadJobAid}}" title\x3d"{{@root.controlLabels.downloadJobAid}}" download\x3d"{{element_capture_getJobAidName project}}"\x3e{{@root.controlLabels.downloadJobAid}}\x3c/a\x3e\x3c/li\x3e\x3cli role\x3d"presentation"\x3e\x3ca href\x3d"{{project.documentURL}}"aria-label\x3d"{{@root.controlLabels.downloadDocument}}" title\x3d"{{@root.controlLabels.downloadDocument}}" download\x3d"{{element_capture_getDocumentName project}}"\x3e{{@root.controlLabels.downloadDocument}}\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e{{else}}{{#if project.showJobAidDownload}}{{#if project.jobAidURL}}\x3ca class\x3d"btn btn-primary btn-link pull-right" href\x3d"{{project.jobAidURL}}" type\x3d"button" aria-label\x3d"{{@root.controlLabels.downloadJobAid}}" title\x3d"{{@root.controlLabels.downloadJobAid}}" download\x3d"{{element_capture_getJobAidName project}}"\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-download"\x3e\x3c/i\x3e\x3c/a\x3e{{/if}}{{/if}}{{#if project.showDocumentDownload}}{{#if project.documentURL}}\x3ca class\x3d"btn btn-primary btn-link pull-right" href\x3d"{{project.documentURL}}" type\x3d"button" aria-label\x3d"{{@root.controlLabels.downloadDocument}}" title\x3d"{{@root.controlLabels.downloadDocument}}" download\x3d"{{element_capture_getDocumentName project}}"\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-download"\x3e\x3c/i\x3e\x3c/a\x3e{{/if}}{{/if}}{{/if}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"stepsSideContainer" class\x3d"container-fluid col col-md-3 col-sm-4 side-container"{{#unless elConfig.showSteps}} style\x3d"display:none;"{{/unless}}\x3e\x3cdiv class\x3d"panel panel-default"\x3e\x3cul class\x3d"list-group" aria-label\x3d"{{controlLabels.stepList}}" title\x3d"{{controlLabels.stepList}}"\x3e{{#each project.sections}}{{#if ../project.moreThanOneSectionWithSteps}}\x3cdiv\x3e{{#if this.show}}\x3cspan\x3e{{this.sectionName}}\x3c/span\x3e{{/if}}\x3c/div\x3e{{/if}}{{#each this.steps}}\x3cdiv\x3e\x3cdiv class\x3d"list-group-item step-item" data-step-count\x3d"{{arith @index "+" 1}}" data-section-count\x3d"{{arith @../index "+" 1}}" style\x3d"white-space:pre-wrap" tabindex\x3d"1" aria-label\x3d"{{stripHTML this.instructionalText}}"\x3e\x3cspan class\x3d"label label-default" data-time-start\x3d"{{startTime}}" data-duration\x3d"{{duration}}"\x3e{{timeStr}}\x3c/span\x3e\x26nbsp;\x26nbsp; {{{this.instructionalText}}}{{#if narrationText}}{{#if ../../../project.showNarrationText}}\x3cspan class\x3d"mt-10 narration-border-top narration-text{{#if @../index}}{{#if @../../index}} hidden{{/if}}{{/if}}"\x3e\x3cspan\x3e{{{narrationText}}}\x3c/span\x3e\x3c/span\x3e{{/if}}{{/if}}{{#element_capture_show_markerList this ../../project}}\x3cul class\x3d\'markerList mt-10 narration-border-top{{#if @../index}}{{#if @../../index}} hidden{{/if}}{{/if}}\'\x3e{{#each markers}}\x3cli class\x3d"markerListItem" style\x3d"background-image:url(\'{{this.imageURL}}\')"\x3e\x3cspan class\x3d"markerText" tabindex\x3d"1"\x3e{{{text}}}\x3c/span\x3e\x3c/li\x3e{{/each}}\x3c/ul\x3e{{/element_capture_show_markerList}}\x3c/div\x3e\x3c/div\x3e{{/each}}{{/each}}\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"jplayer" class\x3d"jp-jplayer"\x3e\x3c/div\x3e\x3cdiv id\x3d"jplayer_inspector"\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("capture_tryMe",'\x3cdiv id\x3d"capture_{{outline.id}}" class\x3d"capture capture-project-container tryMe bg-light" data-variable-name\x3d"{{elConfig.variable_name}}"\x3e\x3cdiv id\x3d"sectionInfo" data-number-of-sections\x3d"{{project.sectionCount}}"\x3e{{#each project.sections}}{{#if this.show}}\x3cdiv id\x3d"section-{{arith @index "+" 1}}" data-section-size\x3d"{{this.steps.length}}"\x3e\x3c/div\x3e{{/if}}{{/each}}\x3c/div\x3e\x3cdiv id\x3d"tryMeSideContainer" class\x3d"container-fluid col-md-3 col-sm-4 side-container"{{#unless elConfig.showSteps}} style\x3d"display:none;"{{/unless}}\x3e\x3cdiv class\x3d"panel panel-default custom-scrollbar"\x3e\x3cul class\x3d"list-group"\x3e{{#each project.sections}}{{#if ../project.moreThanOneSectionWithSteps}}\x3cdiv\x3e{{#if this.show}}\x3cspan\x3e{{{this.sectionName}}}\x3c/span\x3e{{/if}}\x3c/div\x3e{{/if}}{{#each this.steps}}\x3cli class\x3d"row no-padding list-group-item disabled" data-step-count\x3d"{{arith @index "+" 1}}" data-section-count\x3d"{{arith @../index "+" 1}}" style\x3d"cursor:default"\x3e\x3cdiv class\x3d"col-step"\x3e\x3cspan class\x3d"label label-default label-circle step-number centered-element"\x3e{{arith @index "+" 1}}\x3c/span\x3e\x3cspan class\x3d"label label-default label-circle step-checkmark centered-element" style\x3d"display: none;"\x3e\x3ci class\x3d"fa fa-check centered-element"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"col-instructions no-padding" style\x3d"white-space:pre-wrap;"\x3e{{{this.instructionalText}}}\x3c/div\x3e\x3cdiv class\x3d"col-instructions no-padding continue-container hidden"\x3e\x3cdiv class\x3d"continue"\x3e\x3cdiv class\x3d"info-continue"\x3e\x3cp class\x3d"m-0"\x3e{{@root.controlLabels.continue}}\x3c/p\x3e\x3cbutton class\x3d"btn btn-step-continue" type\x3d"button" aria-label\x3d"{{@root.controlLabels.continue}}" title\x3d"{{@root.controlLabels.continue}}"\x3e\x3ci class\x3d"fa fa-step-forward"\x3e\x3c/i\x3e\x3c/button\x3e\x3cspan class\x3d"arrow-hint"\x3e\x3ci class\x3d"fa fa-arrow-left" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"panel panel-default cover-parent try-me-done-overlay"\x3e\x3c/div\x3e\x3c/li\x3e{{/each}}{{/each}}\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"tryMeContainer" class\x3d"container-fluid {{viewContainerCls}} capture-display bg-light capture-display-border-left"\x3e\x3cdiv class\x3d"container full-width"\x3e\x3cdiv class\x3d"no-background bottom-buffer top-buffer"\x3e\x3cdiv id\x3d"softwareSimCarousel" class\x3d"carousel img-overlay" data-wrap\x3d"true" data-interval\x3d"false"\x3e\x3cdiv class\x3d"carousel-inner"\x3e{{#each project.sections}}{{#each this.steps}}\x3cdiv class\x3d"item" data-interval\x3d"{{duration}}"data-start-time\x3d"{{startTime}}"data-hotspot-minX\x3d"{{hotSpot.minX}}"data-hotspot-minY\x3d"{{hotSpot.minY}}"data-hotspot-width\x3d"{{hotSpot.width}}"data-hotspot-height\x3d"{{hotSpot.height}}"data-step-count\x3d"{{arith @index "+" 1}}"data-section-count\x3d"{{arith @../index "+" 1}}"data-event-type\x3d"{{eventType}}"data-click-count\x3d"{{clickCount}}"data-mouse-button\x3d"{{mouseButton}}"data-hint-text\x3d"{{hintText}}"\x3e\x3cimg class\x3d"capture-image {{#ifNEq @index 0}}unloaded{{/ifNEq}}" border\x3d"1" src\x3d"{{this.imageURL}}" id\x3d"image"\x3e\x3c/div\x3e{{/each}}{{/each}}\x3cdiv class\x3d"targetHotspot"\x3e\x3c/div\x3e\x3cdiv id\x3d"tryMeDragOverlay" class\x3d"drag-overlay bg-primary"\x3e\x3ci class\x3d"fa fa-bars centered-element"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"row controls"\x3e\x3cdiv class\x3d"bar bg-primary"\x3e\x3c/div\x3e\x3cdiv class\x3d"col col-xs-4"\x3e\x3cbutton id\x3d"hintButton" class\x3d"btn btn-link hint-button" type\x3d"button" aria-label\x3d"{{controlLabels.hint}}" title\x3d"{{controlLabels.hint}}"\x3e\x3ci class\x3d"fa fa-question-circle fa-2x"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"col col-xs-4 try-me-restart-col"\x3e\x3cbutton class\x3d"btn btn-link try-me-restart-btn disabled" type\x3d"button" data-toggle\x3d"tooltip" aria-label\x3d"{{controlLabels.restart}}" title\x3d"{{controlLabels.restart}}"\x3e\x3ci class\x3d"fa fa-repeat fa-2x"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"col col-xs-4"\x3e\x3cbutton id \x3d"fullScreen" class\x3d"btn btn-link btn-primary" type \x3d"button" aria-label\x3d"{{controlLabels.fullscreen}}" title\x3d"{{controlLabels.fullscreen}}"\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-arrows-alt"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"startScreen"\x3e\x3cdiv class\x3d"centered-element"\x3e\x3cbutton class\x3d"btn btn-primary" type\x3d"button" aria-label\x3d"{{controlLabels.start}}" title\x3d"{{controlLabels.start}}"\x3e\x3ci class\x3d"fa fa-play" style\x3d"margin-right:5px"\x3e\x3c/i\x3e{{controlLabels.start}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"tryMeInfoScreen" style\x3d"display:none"\x3e\x3cdiv class\x3d\'centered-element\'\x3e\x3cp class\x3d\'info-text\'\x3e\x3c/p\x3e\x3cdiv class\x3d\'info-restart\'\x3e\x3cp\x3e\x3cstrong\x3e{{controlLabels.tryMeSimEnd}}\x3c/strong\x3e\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"tooltipTemplate" class\x3d"hidden"\x3e\x3cbutton class\x3d"btn btn-primary btn-sm btn-continue mt-10"\x3e\x3ci class\x3d"fa fa-check"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("capture_testMe",'\x3cdiv id\x3d"capture_{{outline.id}}" class\x3d"capture capture-project-container testMe" data-variable-name\x3d"{{elConfig.variable_name}}"\x3e\x3cdiv id\x3d"sectionInfo" data-number-of-sections\x3d"{{project.sectionCount}}"\x3e{{#each project.sections}}{{#if this.show}}\x3cdiv id\x3d"section-{{arith @index "+" 1}}" data-section-size\x3d"{{this.steps.length}}" data-section-introduction\x3d"{{this.introText}}"\x3e\x3c/div\x3e{{/if}}{{/each}}\x3c/div\x3e\x3cdiv id\x3d"testMeSideContainer" class\x3d"container-fluid side-container"{{#unless elConfig.showSteps}} style\x3d"display:none;"{{/unless}}\x3e\x3cdiv class\x3d"panel panel-default custom-scrollbar"\x3e\x3cdiv class\x3d"row score"\x3e\x3cdiv class\x3d"dki-radialgauge radial fill-primary"\x3e\x3cdiv class\x3d"overlay"\x3e\x3cdiv tabindex\x3d"1" class\x3d"text dki-element-text"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask full"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask half"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3cdiv class\x3d"fill fix"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cul class\x3d"list-group"\x3e{{#each project.sections}}{{#if ../project.moreThanOneSectionWithSteps}}\x3cdiv class\x3d"section row" data-id\x3d"{{arith @index "+" 1}}"\x3e{{#if this.show}}\x3cspan title\x3d"{{this.sectionName}}"\x3e{{arith @index "+" 1}}\x3c/span\x3e{{/if}}\x3c/div\x3e{{/if}}{{#each this.steps}}\x3cli class\x3d"row no-padding list-group-item disabled" data-step-count\x3d"{{arith @index "+" 1}}" data-section-count\x3d"{{arith @../index "+" 1}}" style\x3d"cursor:default;{{#if hide}}display:none;{{/if}}"\x3e\x3cdiv class\x3d"col-step"\x3e\x3cspan class\x3d"label label-default label-circle step-number"\x3e{{arith @index "+" 1}}\x3c/span\x3e\x3cspan class\x3d"label label-default label-circle step-checkmark" style\x3d"display: none;"\x3e\x3ci class\x3d"fa"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"col-instructions no-padding continue-container hidden"\x3e\x3cdiv class\x3d"continue"\x3e\x3cdiv class\x3d"info-continue"\x3e\x3cp class\x3d"m-0"\x3e{{@root.controlLabels.continue}}\x3c/p\x3e\x3cbutton class\x3d"btn btn-step-continue" type\x3d"button" aria-label\x3d"{{@root.controlLabels.continue}}" title\x3d"{{@root.controlLabels.continue}}"\x3e\x3ci class\x3d"fa fa-step-forward"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"panel panel-default cover-parent try-me-done-overlay"\x3e\x3c/div\x3e\x3cdiv class\x3d"progression"\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3c/li\x3e{{/each}}{{/each}}\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"testMeContainer" class\x3d"container-fluid {{viewContainerCls}} capture-display bg-light"\x3e\x3cdiv id\x3d"introductionOverlay" class\x3d"introduction-overlay overlay hide-introduction"\x3e\x3cdiv id\x3d"introductionContainer" class\x3d"introduction-container text-center panel"\x3e\x3cdiv id\x3d"introductionTextContainer" class\x3d"introduction-text-container"\x3e\x3cspan class\x3d"introduction-text" id\x3d"introductionText" \x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv\x3e\x3cbutton id\x3d"introductionContainerPlayButton" class\x3d"btn btn-primary" aria-label\x3d"{{controlLabels.continue}}" title\x3d"{{controlLabels.continue}}"\x3e{{controlLabels.continue}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"container full-width"\x3e\x3cdiv class\x3d"no-background bottom-buffer top-buffer"\x3e\x3cdiv id\x3d"softwareSimCarousel" class\x3d"carousel img-overlay" data-wrap\x3d"true" data-interval\x3d"false"\x3e\x3cdiv class\x3d"carousel-inner"\x3e{{#each project.sections}}{{#each this.steps}}\x3cdiv class\x3d"item" data-interval\x3d"{{duration}}"data-start-time\x3d"{{startTime}}"data-hotspot-minX\x3d"{{hotSpot.minX}}"data-hotspot-minY\x3d"{{hotSpot.minY}}"data-hotspot-width\x3d"{{hotSpot.width}}"data-hotspot-height\x3d"{{hotSpot.height}}"data-step-count\x3d"{{arith @index "+" 1}}"data-section-count\x3d"{{arith @../index "+" 1}}"data-event-type\x3d"{{eventType}}"data-click-count\x3d"{{clickCount}}"data-mouse-button\x3d"{{mouseButton}}"data-hint-text\x3d"{{hintText}}"\x3e\x3cimg class\x3d"capture-image {{#ifNEq @index 0}}unloaded{{/ifNEq}}" border\x3d"1" src\x3d"{{this.imageURL}}" id\x3d"image"\x3e\x3c/div\x3e{{/each}}{{/each}}\x3cdiv class\x3d"targetHotspot"\x3e\x3c/div\x3e\x3cdiv id\x3d"testMeDragOverlay" class\x3d"drag-overlay bg-primary"\x3e\x3ci class\x3d"fa fa-bars centered-element"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv id\x3d"testMeReviewOverlay"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"row controls"\x3e\x3cdiv class\x3d\'fill\'\x3e\x3cbutton id \x3d"sceneInfo" class\x3d"btn btn-link btn-primary" type \x3d"button"\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-info"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton id \x3d"showReviewToggle" class\x3d"btn" type \x3d"button" aria-label\x3d"{{controlLabels.showAnswers}}" title\x3d"{{controlLabels.showAnswers}}"\x3e\x3ci class\x3d"fa fa-fw fa-2x"\x3e\x3c/i\x3e\x3cspan\x3e{{controlLabels.showAnswers}}\x3c/span\x3e\x3c/button\x3e\x3c/div\x3e\x3cbutton id \x3d"fullScreen" class\x3d"btn btn-link btn-primary" type \x3d"button"\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-arrows-alt"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv id\x3d"startScreen"\x3e\x3cdiv class\x3d"centered-element"\x3e\x3cbutton class\x3d"btn btn-primary" type\x3d"button"\x3e\x3ci class\x3d"fa fa-play" style\x3d"margin-right:5px"\x3e\x3c/i\x3e{{controlLabels.start}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"testMeInfoScreen" style\x3d"display:none"\x3e\x3cdiv class\x3d\'centered-element\'\x3e\x3cdiv class\x3d\'display-center\'\x3e\x3cdiv class\x3d\'radialContainer\'\x3e\x3cdiv class\x3d"{{style}} dki-radialgauge radial fill-primary"\x3e\x3cdiv class\x3d"overlay"\x3e\x3cdiv tabindex\x3d"1" class\x3d"text dki-element-text"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask full"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask half"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3cdiv class\x3d"fill fix"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\'infoButtons\'\x3e\x3cbutton class\x3d\'btn btn-primary review\' aria-label\x3d"{{controlLabels.reviewTest}}" title\x3d"{{controlLabels.reviewTest}}"\x3e{{controlLabels.reviewTest}}\x3c/button\x3e\x3cbutton class\x3d\'btn btn-primary retake\' aria-label\x3d"{{controlLabels.retakeTest}}" title\x3d"{{controlLabels.retakeTest}}"\x3e{{controlLabels.retakeTest}}\x3c/button\x3e\x3cbutton class\x3d\'btn btn-primary next\' aria-label\x3d"{{controlLabels.next}}" title\x3d"{{controlLabels.next}}"\x3e{{controlLabels.next}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"tooltipTemplate" class\x3d"hidden"\x3e\x3cbutton class\x3d"btn btn-primary btn-sm btn-continue mt-10"\x3e\x3ci class\x3d"fa fa-check"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("capture_guide",'\x3cdiv id\x3d"showMeParent" class\x3d"capture guide" data-variable-name\x3d"{{elConfig.variable_name}}" aria-role\x3d"document" tabindex\x3d"1" aria-label\x3d"{{project.name}}"\x3e{{#if (arith project.sections.length "\x3e" 1)}}\x3cdiv class\x3d"panel pane-default"\x3e\x3cdiv class\x3d"panel-heading"\x3e\x3ch3 class\x3d"panel-title"\x3eSections\x3c/h3\x3e\x3c/div\x3e\x3cdiv class\x3d"panel-body"\x3e\x3cul class\x3d"list-inline"\x3e{{#each project.sections}}\x3cli\x3e\x3ca href\x3d"#Scene_{{arith @index "+" 1}}" class\x3d"toc-link" data-overallstep\x3d{{overallStepCount}}\x3e{{{sectionName}}}\x3c/a\x3e\x26nbsp;\x3cspan class\x3d"badge"\x3e{{steps.length}} {{#if (arith steps.length "\x3e" 1)}}Steps{{else}}Step{{/if}}\x3c/span\x3e\x3c/li\x3e{{/each}}\x3c/ul\x3e\x3cdiv\x3e\x3cdiv\x3e{{#if project.showJobAidDownload}}{{#if project.jobAidURL}}\x3ca  href\x3d"{{project.jobAidURL}}" type\x3d"button" aria-label\x3d"{{@root.controlLabels.downloadJobAid}}" title\x3d"{{@root.controlLabels.downloadJobAid}}" download\x3d"{{element_capture_getJobAidName project}}"\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-download"\x3e\x3c/i\x3e {{@root.controlLabels.downloadJobAid}}\x3c/a\x3e{{/if}}{{/if}}{{#if project.showDocumentDownload}}{{#if project.documentURL}}\x3ca  href\x3d"{{project.documentURL}}" type\x3d"button" aria-label\x3d"{{@root.controlLabels.downloadDocument}}" title\x3d"{{@root.controlLabels.downloadDocument}}" download\x3d"{{element_capture_getDocumentName project}}"\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-download"\x3e\x3c/i\x3e {{@root.controlLabels.downloadDocument}}\x3c/a\x3e{{/if}}{{/if}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{/if}}{{#each project.sections}}\x3cdiv class\x3d"panel panel-default"\x3e{{#if ../project.moreThanOneSectionWithSteps}}\x3cdiv class\x3d"panel-heading"\x3e\x3ca id\x3d"Scene_{{arith @index "+" 1}}"\x3e\x3c/a\x3e\x3ch3 class\x3d"panel-title"\x3e\x3cspan\x3e{{{this.sectionName}}}\x3c/span\x3e\x3c/h3\x3e\x3c/div\x3e{{/if}}\x3cdiv class\x3d"panel-body"\x3e\x3cdiv class\x3d"row"\x3e\x3cdiv class\x3d"col-sm-12"\x3e{{#if @root.project.moreThanOneSectionWithSteps}}{{else}}{{#if @root.project.showJobAidDownload}}{{#if @root.project.jobAidURL}}\x3cdiv class\x3d"jobAidPane"\x3e\x3ca  href\x3d"{{@root.project.jobAidURL}}" type\x3d"button" title\x3d"{{@root.controlLabels.jobAid}}" download\x3d"{{element_capture_getJobAidName @root.project}}"\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-download"\x3e\x3c/i\x3e {{@root.controlLabels.jobAid}}\x3c/a\x3e\x3c/div\x3e{{/if}}{{/if}}{{/if}}\x3cdiv\x3e\x3cp class\x3d"introduction-text"\x3e{{{this.introduction}}}\x3c/p\x3e\x3c/div\x3e{{#each steps}}\x3cdiv\x3e\x3ca id\x3d"{{../sectionName}}-{{arith @index "+" 1}}"\x3e\x3c/a\x3e\x3cdiv class\x3d"step"\x3e\x3cdiv class\x3d"row"\x3e\x3cdiv class\x3d"col-sm-9"\x3e\x3cdiv class\x3d"stepMedia"\x3e\x3cimg class\x3d"img-responsive capture-image" src\x3d"{{this.fullImageURL}}"\x3e\x3c/img\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"col-sm-3 stepCount" tabindex\x3d"1" aria-label\x3d"Step {{arith @index "+" 1}}"\x3e\x3ch4\x3eStep \x3cspan\x3e{{arith @index "+" 1}}\x3c/span\x3e\x3c/h4\x3e\x3cdiv class\x3d"stepText" tabindex\x3d"1"\x3e{{{this.instructionalText}}}\x3c/div\x3e{{#if ../../project.showNarrationText}}{{#if ../this.narrationText}}\x3cdiv class\x3d\'stepNarration\'\x3e\x3cp class\x3d"narrationSection mt-20" tabindex\x3d"1"\x3e{{{../this.narrationText}}}\x3c/p\x3e\x3c/div\x3e{{/if}}{{/if}}{{#if markers.length}}\x3cul class\x3d"markerList mt-20 narrationSection"\x3e{{#each ../markers}}\x3cli class\x3d"markerListItem" style\x3d"background-image:url(\'{{this.imageURL}}\')"\x3e\x3cspan class\x3d"markerText" tabindex\x3d"1"\x3e{{{text}}}\x3c/span\x3e\x3c/li\x3e{{/each}}\x3c/ul\x3e{{/if}}\x3cdiv class\x3d"clearer"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"clearer"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"row"\x3e{{#unless @last}}\x3cdiv class\x3d"col-sm-12"\x3e\x3chr\x3e\x3c/hr\x3e\x3c/div\x3e{{/unless}}{{#if @last}}\x3cdiv class\x3d"col-sm-12 bottom-buffer"\x3e\x3c/div\x3e{{/if}}\x3c/div\x3e{{/each}}\x3cdiv\x3e\x3cp class\x3d"introduction-text"\x3e{{{this.summary}}}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e');
k=Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d\'z-index:2000;\'\x3e\x3c/div\x3e{{/if}}{{\x3e(element_capture_getTemplate elConfig.type)}}\x3c/div\x3e');r={format:r,template:k};k={format:function(b){b.elements.sort(function(b,c){return b.elementno-c.elementno});elConfig=b.parameters.config;var c={panels:b.elements,cls:""};$.each(c.panels,function(){this.isContentContainer=
this.ignoreExamine=!0});$.each(elConfig.responsive.cfg,function(b,k){c.cls+=b+"-"+k.items+" "});"notOverlayLeftRight"==elConfig.navigation.type&&(c.cls+="carsouselLeftRight ");c.cls+=b.parameters.config.dotClass;c.hidenav=elConfig.hidenav;return c},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{#if hidenav}} hidenav {{/if}}" aria-busy\x3d"true"\x3e\x3cdiv data-vertical-alignment\x3d"{{outline.parameters.config.vertical_alignment}}" class\x3d"flickity clearfix {{cls}}" style\x3d"{{\x3eelement_backgroundCSSString outline}}" tabindex\x3d"1"\x3e{{#each panels}}{{\x3eelement outline\x3dthis scope\x3d../scope}}{{/each}}\x3c/div\x3e\x3c/div\x3e')};
var p={format:c,template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"style\x3d"width:0px;height:0px"\x3e\x3c/div\x3e')},v={format:c,template:Handlebars.compile('{{#if renderEnv.document}}{{element_forDocument outline}}{{else}}{{#unless renderEnv.export}}{{#unless renderEnv.full}}\x3cdiv class\x3d"dki-media-overlay flash-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{#if renderEnv.authoring}}\x3cdiv style\x3d"width:100%;height:100%;{{#if renderEnv.responsive}}min-width:{{outline.parameters.responsive.minWidth}}px;min-height:{{outline.parameters.responsive.minHeight}}px;{{/if}}" data-elementtype\x3d"{{outline.elementtype}}" class\x3d"dki-video-content-element {{element_contentClass this}}" id\x3d"content_{{outline.id}}" data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension outline\x3doutline}}" data-width\x3d"{{outline.width}}" data-height\x3d"{{outline.height}}" data-assetWidth\x3d"{{outline.asset_width}}" data-assetHeight\x3d"{{outline.asset_height}}" data-extension\x3d"{{outline.asset_extension}}"{{#if outline.parameters.config.allowUpscale}}data-allowupscale\x3d"true"{{/if}}\x3e\x3cdiv class\x3d"dki-media-placeholder" style\x3d"height:{{outline.height}}px;"\x3e\x3cdiv class\x3d"flash-play-head" data-id\x3d"{{outline.id}}"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{else}}\x3cobject tabindex\x3d"-1" class-id\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"style\x3d"width:{{outline.width}}px;height:{{outline.height}}px;"id\x3d"content_{{outline.id}}"class\x3d"{{element_contentClass this}}"\x3e\x3cparam name\x3d"movie" + value\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}"/\x3e{{\x3e multimedia_flashParams}}\x3c!--[if !IE]\x3e --\x3e\x3cobject type\x3d"application/x-shockwave-flash" data\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}"style\x3d"width:inherit;height:inherit;"\x3e\x3c!-- \x3c![endif]--\x3e{{\x3e multimedia_flashParams}}\x3cp\x3eThis content requires Adobe Flash Player version 10.2.0.0\x3c/p\x3e\x3ca href\x3d\'http://get.adobe.com/flashplayer/\' target\x3d\'downloadFlash\'\x3eUpdate Flash\x3c/a\x3e\x3c!--[if !IE]\x3e --\x3e\x3c/object\x3e\x3c!-- \x3c![endif]--\x3e\x3c/object\x3e{{/if}}{{#multimedia_ifRegisterSwfObject renderEnv}}\x3cscript type\x3d\'text/javascript\'\x3eswfobject.registerObject(\'content_10.2.0.0\');\x3c/script\x3e{{/multimedia_ifRegisterSwfObject}}{{/if}}')},
z={format:function(b){b.elements.sort(function(b,c){return b.elementno-c.elementno});elConfig=b.parameters.config;var c={panels:{front:b.elements[0],back:b.elements[1]}};$.each(c.panels,function(){this.parameters.config.border=b.parameters.config.borders;this.isContentContainer=this.ignoreExamine=!0});return c},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv data-vertical-alignment\x3d"{{outline.parameters.config.vertical_alignment}}" class\x3d"flip clearfix size_full" style\x3d"{{\x3eelement_backgroundCSSString outline}}"\x3e\x3cdiv role\x3d"button" class\x3d"front face flipCardPanel active clearfix" tabindex\x3d"1"\x3e{{\x3eelement outline\x3dpanels.front scope\x3dscope}}\x3c/div\x3e\x3cdiv role\x3d"button" class\x3d"back face flipCardPanel clearfix" tabindex\x3d"-1"\x3e{{\x3eelement outline\x3dpanels.back scope\x3dscope}}\x3c/div\x3e\x3ci class\x3d\'fa fa-reply-all flipIcon {{BgClassName outline.parameters.background}}\'\x3e\x3c/i\x3e\x3c/div\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d"flipBtn" title\x3d"Flip the card to the other side"\x3e\x3c/div\x3e{{/if}}\x3c/div\x3e')},
x={format:$.proxy(function(c){c.parameters.config.shuffle?this.state.utility.shuffle(c.elements):c.elements.sort(function(b,c){return b.elementno-c.elementno});elConfig=c.parameters.config;b={cards:c.elements.map(function(b){b.faceCls=c.parameters.background.class_name;return b}),cls:""};h.state.renderEnvironment.player&&(b.inputPlaceholder=DKI.strings.questionInstructions["3"]);b.submit=h.state.renderEnvironment.player?DKI.strings.runtime.buttonLabelSubmit:"Submit";return b},this),template:Handlebars.compile("\x3cdiv id\x3d\"content_{{outline.id}}\" class\x3d\"{{element_contentClass this}} {{cls}}\"\x3e\x3cdiv class\x3d'flickity-carousel' role\x3d\"application\"\x3e{{#each cards}}\x3cdiv class\x3d'flashCardCont' style\x3d'width:100%; text-align:center;' tabindex\x3d\"-1\" {{#if this.upload_id}}aria-label\x3d'{{this.asset_title}}'{{/if}}\x3e\x3cdiv data-id\x3d'{{this.id}}' class\x3d\"card clearfix {{../faceCls}}\" style\x3d\"{{\x3eelement_backgroundCSSString ../outline}}\"\x3e\x3cdiv  class\x3d'setImage' {{#if this.upload_id}}style\x3d\"background-image: url('{{getAssetUrl id\x3dthis.upload_id folderId\x3dthis.asset_uploadfolderid extension\x3dthis.asset_extension}}')\"{{/if}}\x3e\x3cdiv class\x3d'imgOverlay'\x3e\x3cdiv style\x3d'margin-top:15px'\x3e\x3ci class\x3d'fa fa-check'\x3e\x3c/i\x3e\x3cdiv class\x3d'resultText'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'cardContent'\x3e\x3cdiv id\x3d\"{{this.id}}_question\"class\x3d'question' aria-hidden\x3d\"true\"\x3e{{{this.meta}}}\x3c/div\x3e\x3cdiv class\x3d'response' role\x3d\"application\"\x3e\x3clabel style\x3d\"display:none\" for\x3d\"{{this.id}}_input\"\x3e{{../inputPlaceholder}}'\x3c/label\x3e\x3cinput aria-labelledby\x3d\"{{this.id}}_question\" name\x3d\"{{this.id}}_input\" type\x3d'text' tabindex\x3d'-1' placeholder\x3d'{{../inputPlaceholder}}'/\x3e\x3cbutton type\x3d\"button\" tabindex\x3d'-1' class\x3d'btn {{../outline.parameters.config.btn_class}}'\x3e{{../submit}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e")},
A={format:function(c){c.elements.sort(function(b,c){return b.elementno-c.elementno});var k=["size-"+c.parameters.config.size,"orientation-"+c.parameters.config.orientation,"icon-"+(c.parameters.config.showIcon?"show":"hide"),"border-"+(c.parameters.config.border?"show":"hide")];elConfig=c.parameters.config;return b={cards:c.elements.map(function(b){b.faceCls=c.parameters.background.class_name;return b}),cls:k.join(" ")}},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{cls}} flipSet"\x3e{{#each cards}}\x3cdiv class\x3d\'flip clearfix\'\x3e{{#each this.elements}}\x3cdiv role\x3d"button" class\x3d"{{#unless @index}}front seen active{{else}}back{{/unless}} face clearfix {{../faceCls}}" tabindex\x3d"{{#unless @index}}1{{else}}-1{{/unless}}" style\x3d"{{\x3eelement_backgroundCSSString ../../outline}}" {{#if this.upload_id}}alt\x3d\'{{this.asset_title}}\'{{/if}}\x3e{{#if this.upload_id}}\x3cdiv class\x3d\'setImage\' style\x3d"background-image: url(\'{{getAssetUrl id\x3dthis.upload_id folderId\x3dthis.asset_uploadfolderid extension\x3dthis.asset_extension}}\')"\x3e\x3c/div\x3e{{else}}\x3cspan\x3e{{{this.meta}}}\x3c/span\x3e{{/if}}\x3c/div\x3e{{/each}}\x3ci class\x3d\'fa fa-reply-all flipIcon\'\x3e\x3c/i\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e')},
u={format:function(b){var c=DKI.clone(b.parameters.config);c.outline=b;c.title={enabled:c.showText};c.subtitle={enabled:b.parameters.config.includeSubtitle&&c.showText};c.icon={enabled:c.showIcon};$.each(b.elements,function(){"tileCardTitle"==this.elementtype?c.title.element=this:"tileCardSubtitle"==this.elementtype?c.subtitle.element=this:"icon"==this.elementtype&&(c.icon.element=this)});c.class_name+=" size_"+c.size+" align_"+c.vertical_alignment;c.background_class_name=b.parameters.background.class_name;
c.class_name+=" "+c.background_class_name;c.visitedIcon=b.parameters.config.visitedIcon;c.iconSizeClass=c.icon.element?c.icon.element.parameters.config.size:"";c.showIcon||(c.iconSizeClass="no-icon");return c},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"tileCard {{class_name}}" data-vertical-alignment\x3d"{{vertical_alignment}}" style\x3d\'\' data-variable-name\x3d{{variable_name}} data-visitedIcon\x3d{{visitedIcon}}\x3e\x3cdiv class\x3d"tileCardBackground {{background_class_name}}" style\x3d"{{\x3eelement_backgroundCSSString outline}}"\x3e\x3c/div\x3e\x3cdiv class\x3d"tileCard-body {{iconSizeClass}}" \x3e\x3cdiv class\x3d"tileCard-subtitle clearfix {{#unless subtitle.enabled}}hidden{{/unless}}"\x3e{{\x3e element outline\x3dsubtitle.element scope\x3dscope}}\x3c/div\x3e\x3cdiv class\x3d"tileCard-title clearfix {{#unless title.enabled}}hidden{{/unless}}"\x3e{{\x3e element outline\x3dtitle.element scope\x3dscope}}\x3c/div\x3e\x3cspan class\x3d"variableIcon {{#unless icon.enabled}}hidden{{/unless}} "\x3e{{#if icon.element}}{{\x3e element outline\x3dicon.element scope\x3dscope}}{{/if}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
C={format:c,template:Handlebars.compile('{{#unless renderEnv.player}}{{\x3eelementOverlay}}{{/unless}}\x3cdiv class\x3d"{{element_contentClass this}}"style\x3d"{{outline.cssStyle}};display:inline-block;width:100%;height:100%;" id\x3d"content_{{outline.id}}"{{#if outine.txt}}title\x3d"{{outline.txt}}"{{/if}}\x3e\x26nbsp;\x3c/div\x3e')},B={format:$.proxy(function(c){c.elements.sort(function(b,c){return b.elementno-c.elementno});var k=["size-"+c.parameters.config.size,"icon-"+(c.parameters.config.showIcon?
"show":"hide")];c.parameters.config.border&&k.push("border-show");c.parameters.config.fadeMatched?k.push("fadeMatched"):!1;elConfig=c.parameters.config;b={cards:DKI.utility.shuffle(c.elements.slice(0).concat(c.elements)),cls:k.join(" ")};c.parameters.config.icon?b.frontMarkup="\x3cspan class\x3d'"+c.parameters.config.icon+"'\x3e\x3c/span\x3e":c.upload_id&&(c=this.getAssetUrl({id:c.upload_id,folderId:c.asset_uploadfolderid,extension:c.asset_extension})+"?bust\x3d"+Date.now(),b.frontMarkup='\x3cdiv class\x3d"face-image" style\x3d"background-image:url(\''+
c+"')\"\x3e\x3c/div\x3e");return b},this),template:Handlebars.compile("\x3cdiv id\x3d\"content_{{outline.id}}\" class\x3d\"{{element_contentClass this}} {{cls}} flipSet {{#unless renderEnv.authoring}}match_hidden{{/unless}}\" role\x3d'application'\x3e\x3cdiv class\x3d'match_manual_start' aria-hidden\x3d'true' role\x3d'dialog'\x3e\x3cdiv class\x3d'match_manual_start_container flex flexCol'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'cardsContainer'\x3e{{#each cards}}\x3cdiv class\x3d'flip accessibilitySelfManage clearfix{{#if this.elements.0.upload_id}} hasAsset{{/if}}' data-id\x3d'{{this.id}}'\x3e\x3cdiv tabindex\x3d'1' aria-label\x3d'{{arith @index '+' 1}}' aria-hidden\x3d'false' role\x3d\"button\" class\x3d\"front active face clearfix {{../faceCls}} {{../outline.parameters.config.frontBg}}\" tabindex\x3d\"1\" style\x3d\"{{\x3eelement_backgroundCSSString ../outline}}\"\x3e{{{../frontMarkup}}}\x3c/div\x3e\x3cdiv tabindex\x3d'-1' aria-hidden\x3d'true' class\x3d\"back face clearfix {{../faceCls}} {{../outline.parameters.config.backBg}}\" tabindex\x3d\"-1\" style\x3d\"{{\x3eelement_backgroundCSSString ../outline}}\" {{#if this.elements.0.upload_id}}alt\x3d'{{this.elements.0.asset_title}}'{{/if}}\x3e{{#if this.elements.0.upload_id}}\x3cdiv class\x3d'setImage' style\x3d\"background-image: url('{{getAssetUrl id\x3dthis.elements.0.upload_id folderId\x3dthis.elements.0.asset_uploadfolderid extension\x3dthis.elements.0.asset_extension}}')\"\x3e\x3c/div\x3e\x3cspan class\x3d'noShow'\x3e{{else}}\x3cspan\x3e{{/if}}{{#if this.elements.0.upload_id}}{{this.elements.0.asset_title}}{{else}}{{{this.elements.0.meta}}}{{/if}}\x3c/span\x3e\x3c/div\x3e\x3ci class\x3d'fa fa-reply-all flipIcon'\x3e\x3c/i\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e")},
y={format:$.proxy(function(b){return{outline:b}},this),template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" data-variable-name\x3d"{{outline.parameters.config.variable_name}}" class\x3d"{{element_contentClass this}} {{cls}}" \x3e\x3c/div\x3e')},E={format:$.proxy(function(b){var c=[],k=[],h="";$.each(b.elements,function(){"categoryCardsCategory"==this.elementtype?k.push(this):c.push(this)});2<k.length?(h="cat"+k.length,k=[k.splice(0,2),k]):k=[k];this.state.utility.shuffle(c);var l=b.parameters.config.cardClass.replace("bg-",
""),l=""===l?"default":l;return{cards:c,categories:k,outline:b,cardColour:l,numCls:h,answerColour:b.parameters.config.cardStyle.match("solid")?b.parameters.config.cardClass:l,restartLabel:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"}},this),template:Handlebars.compile("\x3cdiv id\x3d\"content_{{outline.id}}\" data-variable-name\x3d\"{{outline.parameters.config.variable_name}}\" class\x3d\"categoryCards {{element_contentClass this}} {{cls}} {{numCls}} question-element {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}\" \x3e\x3cdiv\x3e{{#if outline.meta}}\x3c{{outline.parameters.config.titleTag}} class\x3d\"question-title\"\x3e{{{outline.meta}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}{{#if outline.txt}}\x3cdiv class\x3d'description question-description'\x3e{{outline.txt}}\x3c/div\x3e{{/if}}\x3cdiv class\x3d'cards flex'\x3e\x3cdiv class\x3d'deck flex'\x3e{{#each cards}}{{#with ../this}}\x3cdiv role\x3d'button' aria-hidden\x3d'true' tabindex\x3d'-1' class\x3d'card{{#ifEq ../elementtype 'categoryCardsAnswer'}} disabled{{/ifEq}} {{../elementtype}} flex flexCol flexAuto{{#ifEq ../elementtype 'categoryCardsAnswer'}} {{answerColour}}{{else}} {{cardColour}}{{/ifEq}} {{outline.parameters.config.cardStyle}}' data-id\x3d'{{../id}}'\x3e\x3cdiv class\x3d'card-content flex'\x3e\x3cspan\x3e{{{../meta}}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{/with}}{{/each}}\x3cdiv class\x3d'flex' style\x3d'align-items:center;-ms-flex-align:center;'\x3e\x3cdiv class\x3d'feedback flex flexCol no-select'\x3e\x3cdiv class\x3d'gauge'\x3e\x3cspan class\x3d'score fill-primary'\x3e\x3cdiv class\x3d\"overlay\"\x3e\x3cdiv tabindex\x3d\"1\" class\x3d\"text dki-element-text\"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\"mask full\"\x3e\x3cdiv class\x3d\"fill\"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\"mask half\"\x3e\x3cdiv class\x3d\"fill\"\x3e\x3c/div\x3e\x3cdiv class\x3d\"fill fix\"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/div\x3e\x3cspan class\x3d'f-text'\x3e\x3c/span\x3e\x3cspan class\x3d'btn-default btn retake'\x3e{{restartLabel}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{#each categories}}\x3cdiv class\x3d'categories flex'\x3e{{#each this}}\x3cdiv\x3e\x3cdiv style\x3d'margin: 0 1rem'\x3e{{#with ../../this}}\x3cdiv role\x3d'button' aria-hidden\x3d'true' tabindex\x3d'-1' class\x3d'card{{#ifEq ../elementtype 'categoryCardsAnswer'}} disabled{{/ifEq}} {{../elementtype}} flex flexCol flexAuto{{#ifEq ../elementtype 'categoryCardsAnswer'}} {{answerColour}}{{else}} {{cardColour}}{{/ifEq}} {{outline.parameters.config.cardStyle}}' data-id\x3d'{{../id}}'\x3e\x3cdiv class\x3d'card-content flex'\x3e\x3cspan\x3e{{{../meta}}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{/with}}\x3c/div\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e")},
F={format:c,template:Handlebars.compile('\x3cdiv tabindex\x3d"-1" style\x3d"{{#if renderEnv.responsive}}min-height:inherit;{{/if}}{{outline.cssstyle}}"id\x3d"content_{{outline.id}}"class\x3d"{{element_contentClass this}}"{{#if outline.txt}}title\x3d"{{outline.txt}}"{{/if}}{{#if outline.parameters.config.height}}data-height\x3d"{{outline.parameters.config.height}}"{{/if}}{{#if outline.parameters.config.alignment}}data-align\x3d"{{outline.parameters.config.alignment}}"{{/if}}\x3e\x3cdiv class\x3d"dropTargetTextWrapper"\x3e\x3ci class\x3d"fa {{outline.parameters.config.icon.class_name}} left"\x3e\x3c/i\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{outline.meta}}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
D={format:c,template:Handlebars.compile('{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3c{{scope.tagName}} style\x3d"width:100%;{{element_htmHeight outline}}{{#if outline.parameters.textStyles.lineHeight}}line-height:{{outline.parameters.textStyles.lineHeight}};{{/if}}{{#if outline.parameters.textStyles.fontSize}}font-size:{{outline.parameters.textStyles.fontSize}};{{/if}}" id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{outline.parameters.config.root_class}} {{outline.parameters.config.text_effect}}"{{#if outline.txt}} title\x3d"{{outline.txt}}"{{/if}}\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{element_htmMeta this}}}\x3c/div\x3e\x3c/{{scope.tagName}}\x3e')},
G={format:c,template:Handlebars.compile('{{#if forTemplate}}{{\x3eelement_forTemplate}}{{else if renderEnv.document}}{{element_forDocument outline}}{{else}}{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3ciframe tabindex\x3d"-1" style \x3d"{{element_htmlWidgetStyle this}}" src\x3d"{{#if renderEnv.authoring}}{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}{{element_htmlWidgetPath outline}}{{else}}about:blank;{{/if}}" data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}{{element_htmlWidgetPath outline}}"scrolling\x3d"{{element_htmlWidgetScrolling this}}"id\x3d"content_{{outline.id}}"class\x3d"{{element_contentClass this}} {{outline.parameters.config.embedType}}"frameborder\x3d"0"seamless\x3e\x3c/iframe\x3e{{/if}}')},
I={format:c,template:Handlebars.compile('{{#if forTemplate}}{{\x3eelement_forTemplate}}{{else if renderEnv.document}}{{element_forDocument outline}}{{else}}{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3ciframe tabindex\x3d"-1" style\x3d"height:{{outline.height}}px;width:{{outline.width}}px;"{{element_iframe_getProperties outline}} id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"{{#if outline.src}} data-src\x3d"{{outline.src}}"{{/if}} src\x3d"{{#if renderEnv.authoring}}{{outline.src}}{{else}}about:blank;{{/if}}"\x3e\x3c/iframe\x3e{{/if}}')},
K={format:c,template:Handlebars.compile('{{#if forTemplate}}{{else}}{{#if renderEnv.authoring}}\x3cdiv class\x3d\'edit-fan-btn\' title\x3d\'Swap this image out with another one.\'\x3e\x3cdiv class\x3d\'icon16 swap\'\x3e\x3c/div\x3e\x3c/div\x3e{{/if}}\x3cimg {{#image_showMaps renderEnv}}{{#if outline.imageMaps}}usemap \x3d "#{{outline.id}}_imagemap"{{/if}}{{/image_showMaps}} data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" data-thumbUrl\x3d"{{getAssetThumb el\x3doutline id\x3doutline.upload_id extension\x3doutline.asset_extension}}" data-assetWidth\x3d"{{outline.asset_width}}" data-assetHeight\x3d"{{outline.asset_height}}" src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" style\x3d"top:0px;left:0px;z-index:1;{{#unless renderEnv.responsive}}width:100%;height:100%;{{/unless}}"alt\x3d"{{#ifNEq outline.txt \'\'}}{{outline.txt}}{{else}}{{#ifNEq outline.parameters.accessibility.text \'\'}}{{outline.parameters.accessibility.text}}{{/ifNEq}}{{/ifNEq}}" role\x3d"img" align\x3d"top" id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this }}{{#ifNEq outline.rollover_asset_id \'\'}} hasRollover {{/ifNEq}}"/\x3e{{#ifNEq outline.rollover_asset_id \'\'}}\x3cdiv style\x3d"position: absolute; width: 100%; top: 0; left: 0;"\x3e\x3cimg data-id\x3d\'{{outline.id}}\' data-src\x3d\'{{getAssetUrl id\x3doutline.rollover_asset_id folderId\x3doutline.rollover_asset_folderid extension\x3doutline.rollover_asset_extension}}\' {{#if outline.imageMaps}}usemap \x3d "#{{outline.id}}_imagemap"{{/if}}src\x3d\'{{getAssetUrl id\x3doutline.rollover_asset_id folderId\x3doutline.rollover_asset_uploadfolderid extension\x3doutline.rollover_asset_extension}}\' alt\x3d"{{outline.txt}}" align\x3d\'top\' id\x3d"content_{{outline.id}}_rollover" class\x3d"{{element_contentClass this}} dki-image-rollover" /\x3e\x3c/div\x3e{{/ifNEq}}{{#image_showMaps renderEnv}}{{#if outline.imageMaps}}{{reverse outline.imageMaps}}\x3cmap id\x3d"{{outline.id}}_imagemap" name\x3d"{{outline.id}}_imagemap"\t{{#if renderEnv.responsive}} style\x3d"width:{{outline.parameters.responsive.minWidth}}px;height:{{outline.parameters.responsive.minHeight}}px;" data-asset-width\x3d"{{outline.asset_width}}" data-asset-height\x3d"{{outline.asset_height}}"{{/if}}\x3e{{#each outline.imageMaps}}\x3carea shape\x3d"{{this.shape}}" coords\x3d"{{this.coords}}" alt\x3d"{{this.alt}}" role\x3d"button" data-href\x3d"{{this.href}}" data-hreftype\x3d"{{this.hreftype}}" data-hreftarget\x3d"{{this.hreftarget}}"{{#ifEq this.hreftype \'HTTP\'}} onclick\x3d"processHttpEvent(this);"{{/ifEq}}{{#ifEq this.hreftype \'file\'}} onclick\x3d"processHttpEvent(this);"{{/ifEq}}{{#ifEq this.hreftype \'event\'}}{{element_imageMapEventFunction this}}{{/ifEq}} onmouseover\x3d"$(\'body\').css(\'cursor\',\'pointer\');" onmouseout\x3d"$(\'body\').css(\'cursor\',\'\');" style\x3d"display:block;cursor:pointer;"/\x3e{{/each}}\x3c/map\x3e{{/if}}{{/image_showMaps}}{{/if}}')},
H={format:c,template:Handlebars.compile('{{#if forTemplate}}{{\x3eelement_forTemplate}}{{else}}\x3cdiv style\x3d"height:100%;width:100%" id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e{{each outline.parameters.config.elements_assets}}\x3cimg src\x3d"{{#getAssetUrl id\x3dthis.uploadid folderId\x3dthis.uploadfolderid extension\x3dthis.extention}}"/\x3e{{/each}}\x3c/div\x3e{{/if}}')},P={format:$.proxy(function(b){return{outline:b,startString:this.state.strings?this.state.strings.runtime["theme start"]:
"Start"}},this),template:Handlebars.compile('{{#if renderEnv.authoring}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d\'z-index:2000;\'\x3e\x3c/div\x3e{{/if}}\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this }}" style\x3d"{{#unless renderEnv.responsive}}width:{{outline.width}}px; height:{{outline.height}}px; {{/unless}}"\x3e{{#unless renderEnv.authoring}}{{#ifNEq outline.meta \'\'}}\x3cdiv class\x3d\'preamble\'\x3e\x3cdiv tabindex\x3d\'1\' class\x3d\'preamble_content\'\x3e{{{outline.meta}}}\x3c/div\x3e\x3cbutton tabindex\x3d\'1\' role\x3d\'button\' class\x3d\'btn btn-primary\' style\x3d\'display:inline-block;\'\x3e{{{startString}}}\x3c/button\x3e\x3c/div\x3e{{/ifNEq}}{{/unless}}\x3cdiv class\x3d"imagemap-image-wrapper flex inline"\x3e\x3cimg  data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" data-thumbUrl\x3d"{{getAssetThumb el\x3doutline id\x3doutline.upload_id extension\x3doutline.asset_extension}}" data-assetWidth\x3d"{{outline.asset_width}}" data-assetHeight\x3d"{{outline.asset_height}}" src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" style\x3d"top:0px;left:0px;z-index:1;{{#unless renderEnv.responsive}}width:100%;height:100%;{{/unless}}"alt\x3d"{{#ifNEq outline.txt \'\'}}{{outline.txt}}{{else}}{{#ifNEq outline.parameters.accessibility.text \'\'}}{{outline.parameters.accessibility.text}}{{/ifNEq}}{{/ifNEq}}" role\x3d"img" align\x3d"top" class\x3d"imagemap-image"/\x3e\x3c/div\x3e\x3cdiv class\x3d"imagemap-label-wrapper flex flexCol align-items-center"\x3e{{#each outline.elements}}\x3cdiv class\x3d"imagemap-label flex justify-start align-items-center inverted" data-id\x3d"{{id}}"\x3e\x3cdiv class\x3d"imagemap-label-dot flex justify-center align-items-center" data-id\x3d"{{id}}"\x3e{{arith @index \'+\' 1}}\x3c/div\x3e\x3cdiv class\x3d"imagemap-label-title"\x3e{{title}}\x3c/div\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e')},
O={format:$.proxy(function(b){var c={outline:b,submit:this.state.strings?this.state.strings.runtime.buttonLabelSubmit:"Submit",tryAgain:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"},k=[],h=function(b,c){switch(c){case "A":case "a":return String.fromCharCode(c.charCodeAt()+b)+") ";case "1":return parseInt(c,10)+b+") ";case "i":b+=1;if(+b){b=String(+b).split("");c=" C CC CCC CD D DC DCC DCCC CM  X XX XXX XL L LX LXX LXXX XC  I II III IV V VI VII VIII IX".split(" ");for(var k=
"",h=3;h--;)k=(c[+b.pop()+10*h]||"")+k;b=Array(+b.join("")+1).join("M")+k}else b=!1;return b+") ";default:return""}},l=1<parseInt(b.parameters.config.maxSelections,10)?"checkbox":"radio",m=0;$.each(b.elements,function(b,c){this.idx=b;k.push(this)});b.parameters.config.shuffle&&(k=this.state.utility.shuffle(k));$.each(k,function(b){this.inputType=l;this.num=h(m,c.outline.parameters.config.numbering);"slider"==this.elementtype&&(c.slider=this,m--);m++});c.items=k;return c},this),template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} clearfix content-type-{{outline.parameters.config.contentType}} {{#if outline.parameters.config.fullSize}}fullSize{{/if}} {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}"\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d\'disabler\' style\x3d\'background-color:transparent;\'\x3e\x3c/div\x3e{{/if}}{{#if outline.meta}}\x3c{{outline.parameters.config.titleTag}} class\x3d"question-title"\x3e{{{outline.meta}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}{{#if outline.txt}}\x3cdiv class\x3d\'question-description\'\x3e{{{outline.txt}}}\x3c/div\x3e{{/if}}\x3cdiv class\x3d"options clearfix "\x3e{{#each items}}{{#ifNEq elementtype \'slider\'}}{{\x3eelement outline\x3dthis scope\x3d../../scope}}{{/ifNEq}}{{/each}}\x3c/div\x3e\x3cdiv class\x3d"clearfix" style\x3d"padding-right:15px;"\x3e{{#if slider}}{{\x3eelement outline\x3dslider scope\x3dscope}}{{/if}}\x3c/div\x3e\x3cdiv class\x3d\'feedback\'\x3e\x3c/div\x3e\x3cdiv class\x3d"question-submit-wrapper clearfix" style\x3d"text-align:center; padding:20px 0 10px 0;"\x3e\x3cdiv class\x3d"btn-primary btn submit pull-right" title\x3d"{{submit}}"\x3e{{submit}}\x3c/div\x3e\x3cdiv class\x3d"btn-default btn retake pull-right" title\x3d"{{tryAgain}}"\x3e{{tryAgain}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
J={format:$.proxy(function(b){var c={outline:b,trueLabel:this.state.strings?this.state.strings.runtime.trueOptionLabel:"True",falseLabel:this.state.strings?this.state.strings.runtime.falseOptionLabel:"False",submit:this.state.strings?this.state.strings.runtime.buttonLabelSubmit:"Submit",tryAgain:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"},k=[],h=0;$.each(b.elements,function(b,c){this.elementtype="questionOption";k.push(this)});b.parameters.config.shuffle&&(k=this.state.utility.shuffle(k));
$.each(k,function(b){this.inputType="radio";this.num=getNumbers(h,c.outline.parameters.config.numbering);"slider"==this.elementtype&&(c.slider=this,h--);h++});c.items=k;return c},this),template:Handlebars.compile("\x3cdiv id\x3d\"content_{{outline.id}}\" class\x3d\"{{element_contentClass this}} clearfix {{#if outline.parameters.config.fullSize}}fullSize{{/if}} {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}\"\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d'disabler' style\x3d'background-color:transparent;'\x3e\x3c/div\x3e{{/if}}{{#if outline.meta}}\x3c{{outline.parameters.config.titleTag}} class\x3d\"question-title\"\x3e{{{outline.meta}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}{{#if outline.txt}}\x3cdiv class\x3d'question-description'\x3e{{{outline.txt}}}\x3c/div\x3e{{/if}}\x3cdiv class\x3d\"options clearfix\"\x3e\x3cdiv class\x3d'dki-question-option dki-element-content'\x3e\x3cdiv class\x3d'input-group'\x3e\x3cspan class\x3d'input-group-addon'\x3e\x3cinput id\x3d'{{outline.id}}_true' type\x3d'radio' name\x3d'{{outline.id}}_tf' value\x3d'true'/\x3e\x3c/span\x3e\x3clabel class\x3d'form-control' for\x3d'{{outline.id}}_true'\x3e{{trueLabel}}\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'dki-question-option dki-element-content'\x3e\x3cdiv class\x3d'input-group'\x3e\x3cspan class\x3d'input-group-addon'\x3e\x3cinput id\x3d'{{outline.id}}_false' type\x3d'radio' name\x3d'{{outline.id}}_tf' value\x3d'false'/\x3e\x3c/span\x3e\x3clabel class\x3d'form-control' for\x3d'{{outline.id}}_false'\x3e{{falseLabel}}\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\"clearfix\" style\x3d\"padding-right:15px;\"\x3e{{#if slider}}{{\x3eelement outline\x3dslider scope\x3dscope}}{{/if}}\x3c/div\x3e\x3cdiv class\x3d'feedback'\x3e\x3c/div\x3e\x3cdiv class\x3d\"clearfix\" style\x3d\"text-align:center; padding:20px 0 10px 0;\"\x3e\x3cdiv class\x3d\"btn-primary btn submit pull-right\" title\x3d\"{{submit}}\"\x3e{{submit}}\x3c/div\x3e\x3cdiv class\x3d\"btn-default btn retake pull-right\" title\x3d\"{{tryAgain}}\"\x3e{{tryAgain}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")},
aa={format:$.proxy(function(b){b={outline:b,meta:"",submit:this.state.strings?this.state.strings.runtime.buttonLabelSubmit:"Submit",tryAgain:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"};var c=$("\x3cdiv\x3e").html(b.outline.meta);c.find(".pulldown-link").each(function(b,c){$(this).replaceWith("\x3cspan class\x3d'dki-question-option flex inline dki-element-content'\x3e\x3cspan class\x3d'input-group flexAuto'\x3e\x3clabel class\x3d'flex align-items-center'\x3e\x3cselect aria-label\x3d'"+
(b+1)+"' tabindex\x3d'-1' class\x3d'pulldown_option input-group-addon' data-dragdrop-id\x3d'"+$(this).data("dragdrop-id")+"'\x3e\x3c/select\x3e\x3c/label\x3e\x3c/span\x3e\x3c/span\x3e")});b.meta=c.html();return b},this),template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} clearfix {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}"\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d\'disabler\' style\x3d\'background-color:transparent;\'\x3e\x3c/div\x3e{{/if}}{{#if outline.txt}}\x3c{{outline.parameters.config.titleTag}} class\x3d"question-title"\x3e{{{outline.txt}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}\x3cdiv class\x3d\'options\'\x3e{{{meta}}}\x3c/div\x3e\x3cdiv class\x3d\'feedback\'\x3e\x3c/div\x3e\x3cdiv class\x3d"clearfix" style\x3d"text-align:center; padding:20px 0 10px 0;"\x3e\x3cdiv class\x3d"btn-primary btn submit pull-right" title\x3d"{{submit}}"\x3e{{submit}}\x3c/div\x3e\x3cdiv class\x3d"btn-default btn retake pull-right" title\x3d"{{tryAgain}}"\x3e{{tryAgain}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
ga={format:$.proxy(function(b){b={outline:b,meta:"",submit:this.state.strings?this.state.strings.runtime.buttonLabelSubmit:"Submit",tryAgain:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"};var c=$("\x3cdiv\x3e").html(b.outline.meta);c.find(".fitb-link").each(function(b,c){$(this).replaceWith("\x3cspan class\x3d'dki-question-option flex inline dki-element-content'\x3e\x3cspan class\x3d'input-group flexAuto'\x3e\x3clabel class\x3d'flex align-items-center'\x3e\x3cinput type\x3d'text' aria-label\x3d'"+
(b+1)+"' class\x3d'fillInTheBlanks_option input-group-addon' data-dragdrop-id\x3d'"+$(this).data("dragdrop-id")+"'\x3e\x3c/input\x3e\x3c/label\x3e\x3c/span\x3e\x3c/span\x3e")});b.meta=c.html();return b},this),template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} clearfix {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}"\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d\'disabler\' style\x3d\'background-color:transparent;\'\x3e\x3c/div\x3e{{/if}}{{#if outline.txt}}\x3c{{outline.parameters.config.titleTag}} class\x3d"question-title"\x3e{{{outline.txt}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}\x3cdiv class\x3d\'options\'\x3e{{{meta}}}\x3c/div\x3e\x3cdiv class\x3d\'feedback\'\x3e\x3c/div\x3e\x3cdiv class\x3d"clearfix" style\x3d"text-align:center; padding:20px 0 10px 0;"\x3e\x3cdiv class\x3d"btn-primary btn submit pull-right" title\x3d"{{submit}}"\x3e{{submit}}\x3c/div\x3e\x3cdiv class\x3d"btn-default btn retake pull-right" title\x3d"{{tryAgain}}"\x3e{{tryAgain}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
W={format:$.proxy(function(b){var c={outline:b,submit:this.state.strings?this.state.strings.runtime.buttonLabelSubmit:"Submit",tryAgain:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"};b=$("\x3cdiv\x3e").html(b.meta);var k=this;b.find(".answer").each(function(b,c){$(this).attr({role:"option","aria-selected":!1});k.state.renderEnvironment.authoring&&$(this).addClass("selected")});b=b.contents();for(var h=new RegExp(/[^\s]$/),l=new RegExp(/^[^\s]/),m=0;m<b.length;m++){var u=b[m];
if("span"==u.nodeName.toLowerCase()){var p=b[m-1],v=b[m+1];p&&"#text"==p.nodeName.toLowerCase()&&h.test(p.textContent)&&$(u).addClass("leftText");v&&"#text"==v.nodeName.toLowerCase()&&l.test(v.textContent)&&$(u).addClass("rightText")}}c.meta=b.map(function(){return 3==this.nodeType?this.textContent.replace(/[^\s:;,.?!\/]+/g,function(b){return"\x3cspan role\x3d'option' aria-selected\x3d'false'\x3e"+b+"\x3c/span\x3e"}):$("\x3cdiv\x3e").append($(this).clone()).html()}).toArray().join("");c.answers=[];
return c},this),template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} clearfix wordInteractionQuestion {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}"\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d\'disabler\' style\x3d\'background-color:transparent;\'\x3e\x3c/div\x3e{{/if}}\x3cdiv class\x3d\'info\'\x3e{{#if outline.txt}}\x3c{{outline.parameters.config.titleTag}} class\x3d"question-title"\x3e{{{outline.txt}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}\x3cdiv class\x3d\'counter\'\x3e0/{{answers.length}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\'options\'\x3e{{{meta}}}\x3c/div\x3e\x3cdiv class\x3d\'feedback\'\x3e\x3c/div\x3e\x3cdiv class\x3d"clearfix" style\x3d"text-align:center; padding:20px 0 10px 0;"\x3e\x3cdiv class\x3d"btn-primary btn submit pull-right" title\x3d"{{submit}}"\x3e{{submit}}\x3c/div\x3e\x3cdiv class\x3d"btn-default btn retake pull-right" title\x3d"{{tryAgain}}"\x3e{{tryAgain}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
U={format:$.proxy(function(b){var c={outline:b,submit:this.state.strings?this.state.strings.runtime.buttonLabelSubmit:"Submit",tryAgain:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"},k=$("\x3cdiv\x3e").html(b.meta);b.answers=k.find(".answer").toArray().map(function(b){var c=$(b).html();$(b).html("").addClass("border-only fa fa-bullseye");return c});c.meta=k.html();return c},this),template:Handlebars.compile("\x3cdiv id\x3d\"content_{{outline.id}}\" class\x3d\"{{element_contentClass this}} clearfix wordInteractionQuestion {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}\"\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d'disabler' style\x3d'background-color:transparent;'\x3e\x3c/div\x3e{{/if}}\x3cdiv class\x3d'info'\x3e{{#if outline.txt}}\x3c{{outline.parameters.config.titleTag}} class\x3d\"question-title\"\x3e{{{outline.txt}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}\x3cdiv class\x3d'counter'\x3e0/{{outline.answers.length}}\x3c/div\x3e\x3cdiv class\x3d'answerPool flex'\x3e\x3cdiv class\x3d'answerNav fa fa-chevron-left'\x3e\x3c/div\x3e\x3cdiv class\x3d'answers flex wrap justify-center flexAuto'\x3e{{#if renderEnv.authoring}}{{#each outline.answers}}\x3cspan class\x3d'selected answerDrag'\x3e{{this}}\x3c/span\x3e{{/each}}{{/if}}\x3c/div\x3e\x3cdiv class\x3d'answerNav fa fa-chevron-right'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'options'\x3e{{{meta}}}\x3c/div\x3e\x3cdiv class\x3d'feedback'\x3e\x3c/div\x3e\x3cdiv class\x3d\"clearfix\" style\x3d\"text-align:center; padding:20px 0 10px 0;\"\x3e\x3cdiv class\x3d\"btn-primary btn submit pull-right\" title\x3d\"{{submit}}\"\x3e{{submit}}\x3c/div\x3e\x3cdiv class\x3d\"btn-default btn retake pull-right\" title\x3d\"{{tryAgain}}\"\x3e{{tryAgain}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")},
R={format:function(b){return{outline:b,strings:{zoom:"Click to see a larger version of the image."}}},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} dki-question-option{{#ifEq outline.inputType \'checkbox\'}} multiAnswer{{/ifEq}}"\x3e\x3cdiv class\x3d"input-group"\x3e\x3cspan class\x3d"input-group-addon"\x3e\x3cinput id\x3d"{{outline.id}}_option" type\x3d"{{outline.inputType}}" name\x3d"{{outline.parent_element_id}}_options" data-id\x3d"{{outline.id}}"/\x3e\x3c/span\x3e\x3clabel class\x3d"form-control" for\x3d"{{outline.id}}_option"\x3e{{#ifNEq outline.upload_id \'\'}}\x3cdiv class\x3d"question-option-image-wrapper flex justify-center align-items-center"\x3e\x3cimg class\x3d"flex nogrow" src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" alt\x3d"{{outline.asset_description}}"/\x3e\x3ca tabindex\x3d"1" class\x3d"question-option-image-magnifier fa fa-search" href\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" title\x3d"{{strings.zoom}}"\x3e\x3c/a\x3e\x3c/div\x3e{{/ifNEq}}{{#if outline.num}}\x3cspan class\x3d"numbering"\x3e{{outline.num}}\x3c/span\x3e{{/if}}\x3cdiv class\x3d"dki-element-text"\x3e{{{element_htmMeta this}}}\x3c/div\x3e\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e')},
N={format:c,template:Handlebars.compile('\x3cform class\x3d"{{element_contentClass this}}" action\x3d"javascript:void(0)" autocomplete\x3d"off" id\x3d"content_{{outline.id}}"\x3e\x3cfieldset\x3e\x3cdiv class\x3d\'form-group {{outline.parameters.config.labelVPos}} {{#if outline.parameters.config.labelBefore}}before{{else}}after{{/if}}\'\x3e{{#if outline.parameters.config.labelBefore}}\x3clabel for\x3d"{{outline.id}}_input"\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{outline.meta}}}\x3c/div\x3e\x3c/label\x3e{{/if}}\x3cdiv class\x3d"inputContainer"\x3e{{#unless renderEnv.player}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e{{#unless outline.txt}}Type here to set your own Placeholder{{/unless}}\x3c/div\x3e{{/unless}}\x3cinput  id\x3d"{{outline.id}}_input" class\x3d"form-control"{{#unless renderEnv.authoring}} maxlength\x3d"{{outline.parameters.config.maxLength}}"{{/unless}} type\x3d"{{#unless renderEnv.authoring}}{{outline.parameters.config.type}}{{else}}text{{/unless}}"{{#if outline.parameters.config.readOnly}} readonly{{else if renderEnv.authoring}}readonly{{/if}}{{#unless renderEnv.authoring}} placeholder\x3d"{{outline.txt}}"{{else}} value\x3d"{{outline.txt}}"{{/unless}}/\x3e\x3c/div\x3e{{#unless outline.parameters.config.labelBefore}}\x3clabel for\x3d"{{outline.id}}_input"\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{outline.meta}}}\x3c/div\x3e\x3c/label\x3e{{/unless}}\x3c/div\x3e\x3c/fieldset\x3e\x3c/form\x3e')},
T={format:function(b){var c=DKI.clone(b.parameters.config);b.elements.sort(function(b,c){return b.elementno-c.elementno});c.elements=b.elements;c.style+=c.showButton?"":" hideButton";return c},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"jumbotron clearfix {{style}}"\x3e{{#each elements}}{{\x3eelement outline\x3dthis scope\x3d../scope}}{{/each}}\x3c/div\x3e\x3c/div\x3e')},M={format:c,template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}"class\x3d"{{element_contentClass this}} clearfix"{{#if outline.txt}}title\x3d"{{outline.txt}}"{{/if}}style\x3d"{{#if outline.parameters.textStyles.lineHeight}}line-height:{{outline.parameters.textStyles.lineHeight}};{{/if}}{{#if outline.parameters.textStyles.fontSize}}font-size:{{outline.parameters.textStyles.fontSize}};{{/if}}"\x3e{{#if outline.parameters.config.icon.onLeft}}\x3cspan class\x3d"iconContainer"\x3e\x3ci class\x3d"fa {{outline.parameters.config.icon.class_name}} {{outline.parameters.config.icon.backgroundClass}} labelIcon left"\x3e\x3c/i\x3e\x3c/span\x3e{{/if}}\x3cdiv class\x3d"dki-element-text"\x3e{{#if outline.meta.length}}{{{element_htmMeta this}}}{{else}}\x26nbsp;{{/if}}\x3c/div\x3e{{#unless outline.parameters.config.icon.onLeft}}\x3cspan class\x3d"iconContainer"\x3e\x3ci class\x3d"fa {{outline.parameters.config.icon.class_name}} {{outline.parameters.config.icon.backgroundClass}} labelIcon right"\x3e\x3c/i\x3e\x3c/span\x3e{{/unless}}\x3ci class\x3d"fa fa-info responsiveFallback"\x3e\x3c/i\x3e\x3c/div\x3e')},
ea={format:c,template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e{{#unless renderEnv.player}}{{\x3eelementOverlay}}{{/unless}}\x3ci class\x3d"fa fa-thumbs-up"\x3e\x3c/i\x3e\x3ci class\x3d"fa fa-thumbs-down"\x3e\x3c/i\x3e\x3c/div\x3e')},ha={format:function(b){var c=DKI.clone(b.parameters.config);c.items=b.meta.split(",");$.each(c.items,function(b,k){c.items[b]=c.icons[b]&&""!=c.icons[b]&&c.iconsEnabled?"\x3ci class\x3d'"+c.icons[b]+'\'\x3e\x3c/i\x3e \x3cspan class\x3d"list-item-text"\x3e'+
k+"\x3c/span\x3e":c.numbersEnabled?"\x3cspan class\x3d'itemNumberIcon'\x3e"+(b+1)+'\x3c/span\x3e\x3cspan class\x3d"list-item-text"\x3e'+k+"\x3c/span\x3e":'\x3cspan class\x3d"list-item-text"\x3e'+k+"\x3c/span\x3e"});c.id=b.id;c.def=c.items[0];return c},template:Handlebars.compile('\x3cul class\x3d"{{element_contentClass this}} list-group {{outline.parameters.config.cls}} {{#unless outline.parameters.config.borders}}noBorders{{/unless}} {{#if outline.parameters.config.striped}}striped{{/if}}" id\x3d"content_{{outline.id}}"\x3e{{#each items}}\x3cli class\x3d"list-group-item"\x3e{{{this}}}\x3c/li\x3e{{/each}}\x3c/ul\x3e')},
X={format:c,template:Handlebars.compile('{{#unless renderEnv.player}}{{\x3eelementOverlay}}{{/unless}}\x3ci style\x3d"{{outline.cssstyle}}{{#element_ifCanHaveDims}}font-size:{{arith outline.height \'-\' 20}}px;height:{{outline.height}}px;width:{{outline.height}}px;{{/element_ifCanHaveDims}}{{#if outline.parameters.config.backgroundColor}} background-color:{{getColour outline.parameters.config.backgroundColor}}; {{/if}} " id\x3d"content_{{outline.id}}"{{#if outline.txt}} title"{{outline.txt}}"{{/if}} data-class\x3d"{{outline.parameters.config.class}}" class\x3d"fa {{element_contentClass this}} {{outline.parameters.config.size}} {{outline.parameters.config.class}} {{outline.parameters.config.shape}} {{outline.parameters.background.class_name}} {{outline.parameters.config.color}}"\x3e\x3c/i\x3e')},
ca={format:c,template:Handlebars.compile('{{#if renderEnv.document}}\x3cdiv id\x3d"content_{{outline.id}}"\x3e{{{outline.meta}}}\x3c/div\x3e{{else}}{{#unless renderEnv.player}}{{\x3eelementOverlay}}{{/unless}}\x3ci style\x3d"{{outline.cssstyle}}font-size:{{outline.height}}px;width:{{outline.width}}px;height:{{outline.height}}px;line-height:{{outline.height}}px;{{#if outline.parameters.background.color}} background-color:{{outline.parameters.background.color}}; {{/if}}{{#if outline.parameters.background.foreground}} color:{{outline.parameters.background.foreground}}; {{/if}}" id\x3d"content_{{outline.id}}"{{#if outline.txt}} title"{{outline.txt}}"{{/if}} class\x3d"marker fa {{element_contentClass this}} {{outline.parameters.config.shape}} {{outline.parameters.background.class_name}} {{outline.parameters.config.color}}"\x3e\x3c/i\x3e\x3cdiv class\x3d"markerPulsar {{outline.parameters.config.shape}}"\x3e\x3c/div\x3e{{/if}}')},
S=$.proxy(function(b,c){var k=c.renderEnv,h=c.page,l={renderControl:k.single||k.full||k.export||c.forTemplate,optionNo:-1};$.each(h.question.options,function(c,k){if(this.element_id==b.elementid)return l.optionNo=c+1,l.option=this,!1});"trueFalseOption"==b.elementtype&&(c="Option1"==b.txt?"true":"false",l.radioId=c+"Option"+b.id,l.labelClass=c+"Option_label",l.val=c);"multiPulldownOption"==b.elementtype&&(c=l.option.content,"string"===typeof c&&(l.option.content=this.state.utility.shuffle(c.replace(/"/g,
"\x26quot;").split(","))));"multiChoiceOption"==b.elementtype&&(l.inputType=1<h.question.max_selections?"checkbox":"radio");return l},this),ka;Handlebars.registerPartial("option_fillBlanksOption",'{{#unless renderControl}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d"height:100%;width:100%"\x3e\x3c/div\x3e{{/unless}}{{#if (designLegacy)}}\x3ctable width\x3d"100%"\x3e\x3ctr\x3e\x3ctd class\x3d"input-group"\x3e\x3clabel class\x3d"content control-label input-group-addon" for\x3d"{{outline.txt}}"\x3e{{element_option_renderNumbering this}}\x3c/label\x3e\x3c/td\x3e\x3ctd style\x3d"width:100%"\x3e\x3cinput tabindex\x3d"-1" class\x3d"content form-control" type\x3d"text" id\x3d"{{outline.txt}}" data-order\x3d"{{optionNo}}" {{element_option_getCorrect this}} style\x3d"width:100%"/\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e{{else}}\x3cdiv class\x3d"input-group"\x3e\x3cspan class\x3d"input-group-addon" id\x3d"{{outline.txt}}_addon"\x3e{{element_option_renderNumbering this}}\x3c/span\x3e\x3cinput type\x3d"text" class\x3d"content form-control" id\x3d"{{outline.txt}}" aria-describedby\x3d"{{outline.txt}}_addon" data-order\x3d"{{optionNo}}"/\x3e\x3c/div\x3e{{/if}}');
Handlebars.registerPartial("option_trueFalseOption",'{{#unless renderControl}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d"height:100%;width:100%"\x3e\x3c/div\x3e{{/unless}}\x3cdiv class\x3d"dki-trueFalse-selector"\x3e\x3c/div\x3e{{#if (designLegacy)}}\x3cdiv class\x3d"radio"\x3e\x3clabel for\x3d"{{radioId}}" class\x3d"radio"\x3e\x3cinput tabindex\x3d"-1" type\x3d"radio" id\x3d"{{radioId}}" value\x3d"{{val}}" name\x3d"questionOption{{scope.page.pageid}}" data-order\x3d"{{optionNo}}" {{element_option_getCorrect this}}/\x3e\x3cspan class\x3d"{{labelClass}}"\x3e{{{outline.meta}}}\x3c/span\x3e\x3c/label\x3e{{else}}\x3cdiv class\x3d"input-group"\x3e\x3cspan class\x3d"input-group-addon"\x3e\x3cinput aria-labelledby\x3d"{{outline.txt}}{{outline.id}}_label" tabindex\x3d"-1" type\x3d"radio" id\x3d"{{radioId}}" data-order\x3d"{{optionNo}}" value\x3d"{{val}}" name\x3d"questionOption{{scope.page.pageid}}" {{element_option_getCorrect this}}/\x3e\x3c/span\x3e\x3clabel aria-hidden\x3d"true" id\x3d"{{outline.txt}}{{outline.id}}_label" for\x3d"{{radioId}}" class\x3d"form-control"\x3e\x3cspan class\x3d"{{labelClass}}"\x3e{{{outline.meta}}}\x3c/span\x3e\x3c/label\x3e\x3c/div\x3e{{/if}}');
Handlebars.registerPartial("option_multiPulldownOption",'{{#if renderEnv.document}}\x3ctable\x3e\x3ctr\x3e\x3ctd\x3e{{element_option_renderNumbering this}}\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3cul\x3e{{#each option.content}}\x3cli\x3ethis\x3c/li\x3e{{/each}}\x3c/ul\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e{{else}}{{#unless renderControl}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d"height:100%;width:100%"\x3e\x3c/div\x3e{{/unless}}{{#if (designLegacy)}}\x3clabel for\x3d"{{outline.txt}}"\x3e{{element_option_renderNumbering this}}\x3c/label\x3e\x3cdiv class\x3d"contentWrapper"\x3e{{else}}\x3cdiv class\x3d"input-group"\x3e\x3clabel for\x3d"{{outline.txt}}" class\x3d"input-group-addon"\x3e{{element_option_renderNumbering this}}\x3c/label\x3e{{/if}}\x3cselect tabindex\x3d"-1" class\x3d"content form-control" id\x3d"{{outline.txt}}"data-order\x3d"{{optionNo}}" {{element_option_getCorrect this}}\x3e\x3coption value\x3d""\x3e\x3c/option\x3e{{#each option.content}}\x3coption class\x3d"content" label\x3d"{{trim this}}"\x3e{{trim this}}\x3c/option\x3e{{/each}}\x3c/select\x3e\x3c/div\x3e{{/if}}');
Handlebars.registerPartial("option_multiChoiceOption",'{{#unless renderControl}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d"height:100%;width:100%"\x3e\x3c/div\x3e{{/unless}}\x3cdiv class\x3d"dki-multiChoice-selector"\x3e\x3c/div\x3e{{#if (designLegacy)}}\x3cspan class\x3d"multiChoiceContentWrapper" style\x3d"visibility:hidden;"\x3e\x3cinput tabindex\x3d"-1" type\x3d"{{inputType}}"  name\x3d"questionOption{{scope.page.pageid}}" id\x3d"{{outline.txt}}{{outline.id}}" value\x3d"{{outline.txt}}" data-order\x3d"{{optionNo}}" {{element_option_getCorrect this}}/\x3e\x3clabel for\x3d"{{outline.txt}}{{outline.id}}" class\x3d"questionChoiceText"\x3e{{element_option_renderNumbering this}}{{{option.content}}}\x3c/label\x3e\x3c/span\x3e{{else}}\x3cdiv class\x3d"input-group"\x3e\x3cspan class\x3d"input-group-addon"\x3e\x3cinput aria-labelledby\x3d"{{outline.txt}}{{outline.id}}_label" tabindex\x3d"-1" type\x3d"{{inputType}}" name\x3d"questionOption{{scope.page.pageid}}" id\x3d"{{outline.txt}}{{outline.id}}" value\x3d"{{outline.txt}}" data-order\x3d"{{optionNo}}" {{element_option_getCorrect this}}/\x3e\x3c/span\x3e\x3clabel aria-hidden\x3d"true" for\x3d"{{outline.txt}}{{outline.id}}" id\x3d"{{outline.txt}}{{outline.id}}_label" class\x3d"form-control"\x3e\x3cspan class\x3d"questionChoiceText"\x3e{{element_option_renderNumbering this}}{{{option.content}}}\x3c/span\x3e\x3c/label\x3e\x3c/div\x3e{{/if}}');
Handlebars.registerPartial("option_freeFormOption",'{{#unless renderControl}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d"height:100%;width:100%"\x3e\x3c/div\x3e{{/unless}}\x3ctextarea tabindex\x3d"-1" class\x3d"content form-control" style\x3d""data-order\x3d"{{optionNo}}"\x3e\x3c/textarea\x3e');ka=Handlebars.compile('\x3cdiv {{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}{{#unless forTemplate}}data-option-index\x3d"{{optionNo}}" {{/unless}}{{/unless}}{{/unless}}{{/unless}}style\x3d"height:100%;width:100%" id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} dki-question-option {{#ifEq inputType \'checkbox\'}} multiAnswer{{/ifEq}}"\x3e{{\x3e(element_option_getPartial outline.elementtype)}}\x3c/div\x3e');
S={format:S,template:ka};ka={format:function(b){var c={outline:b,header:{enabled:b.parameters.config.header.enabled,iconLeft:b.parameters.config.header.iconLeft,iconRight:b.parameters.config.header.iconRight},footer:{enabled:b.parameters.config.footer.enabled},class_name:b.parameters.config.class_name,elements:[],startCollapsed:b.parameters.config.startCollapsed};h.state.renderEnvironment.authoring&&(c.startCollapsed=!1);c.class_name+=b.parameters.config.border?"":" no-border";$.each(b.elements,function(){"panelHeader"==
this.elementtype?c.header.element=this:"panelFooter"==this.elementtype?c.footer.element=this:c.elements.push(this)});b.parameters.config.collapseable&&b.parameters.config.show_accordion_controls&&(c.class_name+=" show_accordion_controls");c.startCollapsed||(c.class_name+=" expanded");b.parameters.config.padded||(c.class_name+=" no-padding");b.parameters.config.square&&(c.class_name+=" square");b.isContentContainer&&(c.class_name+=" content-container-panel");return c},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"panel {{class_name}} {{outline.parameters.config.size}}"\x3e\x3cdiv class\x3d"panel-heading clearfix {{#unless header.enabled}}hidden{{/unless}}" id\x3d"{{outline.elementid}}_panel_header"\x3e\x3ch3 class\x3d"panel-title"\x3e\x3ca tabindex\x3d"1"{{#if outline.parameters.config.collapseable}}role\x3d"button" data-toggle\x3d"collapse" data-parent\x3d"#{{outline.elementid}}_wrapper" href\x3d"#{{outline.elementid}}_panel_collapse" aria-expanded\x3d"true" aria-controls\x3d"{{outline.elementid}}_panel_collapse"{{/if}}\x3e\x3ci class\x3d"fa left {{header.iconLeft}}"\x3e\x3c/i\x3e{{\x3e element outline\x3dheader.element scope\x3dscope}}\x3ci class\x3d"fa right {{header.iconRight}}"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/h3\x3e\x3c/div\x3e{{#if outline.parameters.config.collapseable}}\x3cdiv id\x3d"{{outline.elementid}}_panel_collapse" class\x3d"panel-collapse collapse {{#unless startCollapsed}}in{{/unless}}"\x3e{{/if}}{{#unless renderEnv.responsive}}\x3cdiv style\x3d"width:100%;height:100%;overflow-y:auto;backface-visibility:hidden; position:relative;"\x3e{{/unless}}\x3cdiv class\x3d"panel-body clearfix {{BgClassName outline.parameters.background}} {{#if outline.isContentContainer}}content-container-panel-body{{/if}}" style\x3d"{{\x3eelement_backgroundCSSString outline}}"\x3e{{#each this.elements}}{{\x3e element outline\x3dthis scope\x3d../scope}}{{/each}}\x3c/div\x3e{{#unless renderEnv.responsive}}\x3c/div\x3e{{/unless}}{{#if outline.parameters.config.collapseable}}\x3c/div\x3e{{/if}}\x3cdiv class\x3d"panel-footer clearfix {{#unless footer.enabled}}hidden{{/unless}}"\x3e{{\x3e element outline\x3dfooter.element scope\x3dscope}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')};
var la={format:c,template:Handlebars.compile('\x3c{{outline.parameters.config.tag_name}} class\x3d"{{element_contentClass this}} clearfix placeholder-type-{{outline.parameters.placeholder.type}} {{outline.parameters.config.root_class}}"id\x3d"content_{{outline.id}}"\x3e\x3c/{{outline.parameters.config.tag_name}}\x3e')},ia={format:function(b,c){b=DKI.clone(b.parameters.config);b.style=c.renderEnv.authoring?b.dim+":50%":b.dim+":0%";return b},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"progress {{progClass}} {{barClass}}" data-max\x3d{{max}} data-current\x3d{{current}} data-variable-name\x3d{{variable_name}}\x3e\x3cdiv class\x3d"progress-bar {{barClass}}{{#if striped}} progress-bar-striped{{/if}} {{#if animated}} active{{/if}}" role\x3d"progressbar" aria-valuenow\x3d"0" aria-valuemax\x3d"100" style\x3d"{{style}}"\x3e\x3cspan class\x3d"progress-bar-display {{#unless show_percent}}hidden{{/unless}}"\x3e{{#if renderEnv.authoring}}50%{{/if}}\x3c/span\x3e\x3cspan class\x3d"sr-only"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
ja={format:function(b){b=DKI.clone(b.parameters.config);b.textClass=b.showText?b.textClass:"hidden";b.iconClass=b.showIcon?b.iconClass:"hidden";b.image=b.showBgImage&&b.elements_assets[0]?b.elements_assets[0]:"";"hidden"==b.textClass&&b.showIcon?b.iconClass+=" full":""==b.iconClass&&b.showIcon&&(b.icon="%");return b},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"{{style}} dki-radialgauge radial {{gaugeColor}} {{gaugeThickness}}" data-variable-name\x3d"{{variable_name}}" data-max\x3d"{{max}}" data-current\x3d"{{current}}"\x3e\x3cdiv class\x3d"overlay" style\x3d"{{#if showBgImage}}background-image:url(\'{{getAssetUrl id\x3dimage.uploadid folderId\x3dimage.uploadfolderid extension\x3dimage.extention}}\'){{/if}}"\x3e\x3cdiv tabindex\x3d"1" class\x3d"text dki-element-text {{textClass}}"\x3e\x3c/div\x3e\x3ci class\x3d"{{iconClass}}"\x3e{{icon}}\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"mask full"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask half"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3cdiv class\x3d"fill fix"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
ya={templates:{bs:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"{{fullCls}}" data-toggle\x3d"buttons"\x3e{{#each items}}\x3clabel for\x3d"{{this.id}}_radio" class\x3d"{{../lablCls}}" data-index\x3d"{{arith @index \'+\' 1}}"\x3e\x3cinput class\x3d"{{../iCls}}" id\x3d"{{this.id}}_radio" type\x3d"radio" value \x3d"{{arith @index \'+\' 1}}" name\x3d"{{../id}}_radio" autocomplete\x3d"off"\x3e{{\x3eelement outline\x3dthis scope\x3d../scope}}\x3c/label\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e'),
standard:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"{{fullCls}}"\x3e{{#each items}}\x3cinput id\x3d"{{this.id}}_radio" type\x3d"radio" value \x3d"{{arith @index \'+\' 1}}" name\x3d"{{../id}}_radio" autocomplete\x3d"off"\x3e\x3clabel for\x3d"{{this.id}}_radio" class\x3d"{{../lablCls}}" data-index\x3d"{{arith @index \'+\' 1}}"\x3e{{\x3eelement outline\x3dthis scope\x3d../scope}}\x3ca\x3e\x3c/a\x3e\x3c/label\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e')},
format:function(b){var c=DKI.clone(b.parameters.config);c.items=b.elements;c.items.sort(function(b,c){return b.elementno-c.elementno});c.id=b.id;c.def=c.items[0];DKI.applyIf(c,{inpCls:"",lablCls:"",contCls:"",template:h.renderConfig.radioGroup.templates[c.type]});var k=c.contCls;c.response&&(k+=" "+c.response);c.fullCls=k+" "+c.cls;"bs"==c.type&&(c.lablCls="btn "+c.cls.replace("radio-","btn-"));b.parameters.config.vertical&&(c.lablCls+=" clearfix");c.fullCls=c.justified?c.vertical?c.fullCls+" fullWidth":
c.fullCls+("bs"==c.type?" btn-group-justified":" justified"):c.fullCls+" clearfix";return c},template:function(b){return b.template(b)}},ma={template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"btn-group"\x3e{{#each items}}{{#if @first}}\x3cbutton class\x3d"btn {{../../cls}}{{#unless ../../split.enabled}}  dropdown-toggle" type\x3d"button" id\x3d"{{../../id}}" data-toggle\x3d"dropdown" aria-haspopup\x3d"true" aria-expanded\x3d"true"\x3e{{else}}" data-toggle\x3d"dropdown"\x3e{{/unless}}\x3cspan class\x3d"selectedCont"\x3e{{{this}}}\x3c/span\x3e{{#unless ../../split.enabled}}\x3cspan class\x3d"caret"\x3e\x3c/span\x3e\x3c/button\x3e{{else}}\x3c/button\x3e\x3cbutton type\x3d"button"class\x3d"btn {{../../../split.cls}} dropdown-toggle selectionSplit" data-toggle\x3d"dropdown" aria-haspopup\x3d"true" aria-expanded-"false"\x3e\x26nbsp;\x3cspan class\x3d"caret"\x3e\x3c/span\x3e\x3c/button\x3e{{/unless}}\x3cul class\x3d"dropdown-menu" aria-labelledby\x3d"{{../../id}}"\x3e{{/if}}\x3cli\x3e\x3ca data-val\x3d"{{arith @index \'+\' 1}}"href\x3d"javascript:void(0)"\x3e{{{this}}}\x3c/a\x3e\x3c/li\x3e{{/each}}\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e'),
format:function(b){var c=DKI.clone(b.parameters.config);c.items=b.meta.split(",");$.each(c.items,function(b,k){c.icons[b]&&""!=c.icons[b]&&c.iconsEnabled&&(c.items[b]="\x3ci class\x3d'"+c.icons[b]+"'\x3e\x3c/i\x3e "+k)});c.id=b.id;c.def=c.items[0];c.transparent&&(c.cls+=" btn_transparent",c.split.cls+=" btn_transparent");c.split.enabled&&(c.cls+=" btn_transparent");return c}},Da={format:c,template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{outline.parameters.background.stroke_class_name}} {{#if outline.parameters.config.roundedCorners}}rounded{{/if}} {{outline.parameters.config.class_name}}"\x3e\x3cdiv class\x3d\'shape-wrapper shape-type-{{outline.parameters.config.type}}\'\x3e\x3cdiv class\x3d"custom-shape-fill" style\x3d"{{#ifEq outline.parameters.config.class_name \'advanced\'}}{{outline.parameters.config.backgroundCSS}} {{/ifEq}}"\x3e\x3c/div\x3e\x3cdiv class\x3d"shape"\x3e{{{outline.meta}}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
pa={format:c,template:Handlebars.compile("\x3cdiv id\x3d\"content_{{outline.id}}\" class\x3d\"{{element_contentClass this}} {{outline.parameters.background.stroke_class_name}}\"\x3e\x3cdiv class\x3d'dki-element-text  {{courseStyles outline}}' data-prop\x3d'txt'\x3e{{{outline.txt}}}\x3c/div\x3e\x3cdiv class\x3d'shape'\x3e{{{outline.meta}}}\x3c/div\x3e\x3c/div\x3e")},Ea={format:function(b){return DKI.clone(b.parameters.config)},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"{{noUISlider.orientation}} {{track}}-track {{handle}}-handle  {{cls}}"\x3e\x3cdiv class\x3d"slider {{#if pipValues}}values{{/if}}" data-variable-id\x3d"{{variable_name}}"\x3e\x3c/div\x3e\x3cdiv class\x3d"hidden sliderLabel"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
ua={format:c,template:Handlebars.compile('\x3cdiv class\x3d"{{element_contentClass this}}"style\x3d"height:{{outline.height}}px;width:100%;"id\x3d"content_{{outline.id}}"\x3e\x3c/div\x3e')},Q={format:c,template:Handlebars.compile('\x3cdiv class\x3d"{{element_contentClass this}} speech-bubble {{#if outline.parameters.config.bordered}}bordered{{/if}} {{#if outline.parameters.config.rounded}}round{{/if}} {{outline.parameters.config.shape}} {{outline.parameters.config.direction}} {{BgClassName outline.parameters.background}}"  style\x3d"{{\x3eelement_backgroundCSSString outline}}"id\x3d"content_{{outline.id}}"\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{element_htmMeta this}}}\x3c/div\x3e\x3c/div\x3e')},
w={format:c,template:Handlebars.compile('{{\x3eelementOverlay}}\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e{{element_svg_setMeta outline}}\x3c/div\x3e')},Pa={format:c,template:Handlebars.compile('{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3cdiv tabindex\x3d"-1" style\x3d"{{#if renderEnv.responsive}}min-height:inherit;{{/if}}{{outline.cssstyle}}"id\x3d"content_{{outline.id}}"class\x3d"{{element_contentClass this}}"{{#if outline.txt}}title\x3d"{{outline.txt}}{{/if}}\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{element_htmMeta this}}}\x3c/div\x3e\x3c/div\x3e')},
va;Handlebars.registerPartial("tabset-tabs",'\x3cul class\x3d"nav responsive {{tabsetClasses.list}}" id\x3d"{{elid}}"\x3e{{#each elements.tabs}}\x3cli data-id\x3d"{{this.id}}"{{#unless @index}}{{#unless ../../cfg.startUnopened}}class\x3d"active"{{/unless}}{{/unless}}\x3e\x3ca tabindex\x3d"-1" draggable\x3d"false" class\x3d"clearfix{{#unless this.parameters.config.icon.enabled}} icon-hidden{{/unless}}{{#unless this.parameters.config.icon.right.enabled}} right-icon-hidden{{/unless}}" data-idx\x3d"{{@index}}" data-id\x3d"{{this.id}}" data-toggle\x3d"tab" href\x3d"#tabContent_{{@index}}_{{../elid}}" data-for\x3d"{{../elid}}" data-viewed\x3d"false"\x3e\x3ci class\x3d"fa left {{this.parameters.config.icon.class_name}}"\x3e\x3c/i\x3e{{\x3eelement outline\x3dthis scope \x3d ../scope}}\x3ci class\x3d"fa right {{this.parameters.config.icon.right.class_name}}"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/li\x3e{{/each}}\x3cli class\x3d"tabset-add"\x3e\x3ca class\x3d\'clearfix\' data-id\x3d"tabset-add" data-toggle\x3d"tab" href\x3d"_blank"\x3e\x3cspan\x3e+\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e');
Handlebars.registerPartial("tabset-content",'\x3cdiv class\x3d"tab-content responsive {{tabsetClasses.content}}" data-for\x3d"{{elid}}"\x3e{{#each elements.content}}\x3cdiv class\x3d"tab-pane clearfix {{#unless @index}}{{#unless ../../cfg.startUnopened}}active{{/unless}}{{/unless}} {{BgClassName ../outline.parameters.background}}" id\x3d"tabContent_{{@index}}_{{this.parentId}}" style\x3d"{{\x3eelement_backgroundCSSString ../outline}}" data-for\x3d"{{../elid}}"\x3e{{#each this.elements}}{{\x3eelement outline\x3dthis scope\x3d../../scope}}{{/each}}\x3c/div\x3e{{/each}}\x3c/div\x3e');
va=Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv role\x3d"application" class\x3d"tabbable {{tabsetClasses.core}} {{outline.parameters.config.colour}} {{outline.parameters.config.opacity}} clearfix"\x3e{{#if contentFirst}}{{\x3e tabset-content}}{{\x3e tabset-tabs}}{{else}}{{\x3e tabset-tabs}}{{\x3e tabset-content}}{{/if}}\x3c/div\x3e\x3c/div\x3e');this.renderConfig={audio:l,authoringButton:m,btn:q,callout:n,capture:r,contentCarousel:k,
control:p,flash:v,flipCard:z,flashCardSet:x,flipCardSet:A,tileCard:u,hotspot:C,matchCardSet:B,scenario:y,categoryCards:E,dropTarget:F,htm:D,html:G,iframe:I,image:K,imageGallery:H,imageMap:P,multipleChoiceQuestion:O,trueFalseQuestion:J,multiplePulldownQuestion:aa,fillInTheBlanksQuestion:ga,clickTheWordQuestion:W,dragTheWordQuestion:U,questionOption:R,input:N,jumbotron:T,label:M,likedislike:ea,list:ha,icon:X,marker:ca,option:S,panel:ka,placeholder:la,progress:ia,radialGauge:ja,radioGroup:ya,selection:ma,
shape:Da,svg:pa,slider:Ea,spacer:ua,speechBubble:Q,SVG:w,tab:Pa,tabset:{format:function(b){var c={elements:{tabs:[],content:[]},cfg:b.parameters.config,elid:b.id},k=!("rectangle"==b.parameters.config.custom_style||"square"==b.parameters.config.custom_style||"folder"==b.parameters.config.custom_style);b.elements.sort(function(b,c){return b.elementno-c.elementno});for(var h=0;h<b.elements.length;h++)"tab"==b.elements[h].elementtype&&(c.elements.tabs.push(b.elements[h]),c.elements.content.push({parentId:b.id,
elements:b.elements[h].elements}));c.tabsetClasses={list:b.parameters.config.style,content:"",tabset:"",core:b.parameters.config.custom_style};switch(c.cfg.orientation){case "vertical":k=12-c.cfg.verticalTabWidth;c.tabsetClasses.list+=" dki-vpMaxHeight-"+c.cfg.verticalMaxHeight+" nav-stacked col-xs-"+c.cfg.verticalTabWidth;c.tabsetClasses.content+=" col-xs-"+k;c.tabsetClasses.core+=" tabs-left";k=!1;break;case "vertical-right":k=c.cfg.verticalTabWidth;c.tabsetClasses.list+=" dki-vpMaxHeight-100 nav-stacked col-xs-"+
(12-c.cfg.verticalTabWidth);c.tabsetClasses.content+=" col-xs-"+k;c.tabsetClasses.core+=" tabs-right";k=!1;break;case "horizontal-bottom":c.tabsetClasses.core+=" tabs-below",c.contentFirst=!0}k&&b.parameters.config.justified&&(c.tabsetClasses.list+=" nav-justified");c.cfg.show_accordion_controls&&(c.tabsetClasses.core+=" show_accordion_controls");return c},template:va},textbox:{format:c,template:Handlebars.compile('{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3ctextarea tabindex\x3d"-1" style\x3d"display:block;height:100%;width:100%;" class\x3d"{{element_contentClass this}} form-control size_{{outline.parameters.config.size}}" id\x3d"content_{{outline.id}}"{{#unless renderEnv.authoring}} placeholder\x3d"{{outline.txt}}"{{/unless}}\x3e{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}{{outline.txt}}{{/unless}}{{/unless}}{{/unless}}\x3c/textarea\x3e')},
timeline:{format:function(b){var c=DKI.clone(b.parameters.config);b.elements.sort(function(b,c){return b.elementno-c.elementno});c.nodes=b.elements;c.timeline=b;return c},template:function(){Handlebars.registerHelper("timelineNode_hasImage",function(b,c){return b.parameters.config.elements_assets&&0<b.parameters.config.elements_assets.length?c.fn(this):c.inverse(this)});return Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3csection id\x3d"{{timeline.id}}_timeline" class\x3d"{{response}}"\x3e{{#each nodes}}\x3cdiv class\x3d"cd-timeline-block"\x3e\x3cdiv class\x3d"cd-timeline-img {{#if ../this.outline.parameters.config.enableEntrance}}is-hidden {{/if}}{{this.parameters.config.nodeCls}}"\x3e{{\x3eelement outline\x3dthis scope\x3d../scope}}\x3c/div\x3e\x3cdiv class\x3d"cd-timeline-content {{#if ../useBS}}panel panel-default {{/if}}{{#if ../this.outline.parameters.config.enableEntrance}}is-hidden{{/if}}"\x3e\x3cdiv class\x3d"elementContainer"\x3e{{#each this.elements}}{{\x3eelement outline\x3dthis scope\x3d../../scope}}{{/each}}\x3c/div\x3e\x3cspan class\x3d"cd-date"\x3e{{{this.meta}}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{/each}}\x3cdiv class\x3d"cd-timeline-block add"\x3e\x3cdiv class\x3d"cd-timeline-img"\x3e\x3cdiv\x3e\x3ci class\x3d"fa fa-plus"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"cd-timeline-content"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/div\x3e')}()},
timelineNode:{format:c,template:Handlebars.compile('{{#timelineNode_hasImage outline}}\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} img"style\x3d"{{#getArrayPos outline.parameters.config.elements_assets 0}} background-image:url(\'{{getAssetUrl id\x3dthis.uploadid folderId\x3dthis.uploadfolderid extension\x3dthis.extention}}\');{{/getArrayPos}}"\x3e\x3c/div\x3e{{else}}\x3ci id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{outline.parameters.config.icon}}"\x3e\x3c/i\x3e{{/timelineNode_hasImage}}')},
timer:{format:function(b){return DKI.clone(b.parameters.config)},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}" data-variable-id\x3d\'{{variable_name}}\'\x3e\x3c/div\x3e')},toggle:{templates:{basic:Handlebars.compile('{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cinput class\x3d"{{inputCls}}" id\x3d"cb_{{id}}" type\x3d"checkbox"\x3e\x3clabel class\x3d"{{labelCls}}" for\x3d"cb_{{id}}" aria-label\x3d"{{{accessibilityText}}}" {{\x3e dataToggle}}\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{meta}}}\x3c/div\x3e\x3c/label\x3e\x3c/div\x3e'),
swtch:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cspan class\x3d"tgl-container"\x3e\x3cinput type\x3d"checkbox"\x3e\x3clabel {{\x3e dataToggle}}\x3e\x3c/label\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{meta}}}\x3c/div\x3e\x3c/span\x3e\x3c/div\x3e')},format:function(b){var c={light:{inputCls:"tgl tgl-light",labelCls:"tgl-btn",template:h.renderConfig.toggle.templates.basic},iOS7:{inputCls:"tgl tgl-ios",labelCls:"tgl-btn",template:h.renderConfig.toggle.templates.basic},
skewed:{inputCls:"tgl tgl-skewed",labelCls:"tgl-btn",template:h.renderConfig.toggle.templates.basic},flat:{inputCls:"tgl tgl-flat",labelCls:"tgl-btn",template:h.renderConfig.toggle.templates.basic},flip:{inputCls:"tgl tgl-flip",labelCls:"tgl-btn",template:h.renderConfig.toggle.templates.basic},checkBox:{template:h.renderConfig.toggle.templates.basic,inputCls:"check"},checkBoxDark:{template:h.renderConfig.toggle.templates.basic,inputCls:"check dark"},checkBoxRound:{template:h.renderConfig.toggle.templates.basic,
inputCls:"check round"},checkBoxRoundDark:{template:h.renderConfig.toggle.templates.basic,inputCls:"check roundDark"},checkBoxRadio:{template:h.renderConfig.toggle.templates.basic,inputCls:"check radio"},"switch":{template:h.renderConfig.toggle.templates.swtch}}[b.parameters.config.type];c.id=b.id;c.meta=b.meta;c.accessibilityText=c.meta||b.parameters.accessibility.text;c.accessibilityText=c.accessibilityText.replace(/"/g,"\x26quot;");DKI.applyIf(c,b.parameters.config);return c},template:function(b){return b.template(b)}},
video:{format:c,template:Handlebars.compile('{{#if forTemplate}}{{\x3emultimedia_forEdit}}{{else if renderEnv.document}}{{element_forDocument outline}}{{else}}{{#if renderEnv.authoring}}\x3cdiv class\x3d\'edit-fan-btn\' style\x3d\'z-index:2000\' title\x3d\'Swap this video out with another from the media library.\'\x3e\x3cdiv class\x3d\'icon16 swap\'\x3e\x3c/div\x3e\x3c/div\x3e{{/if}}\x3cdiv style\x3d"width:100%;height:100%;{{#if renderEnv.responsive}}min-width:{{outline.parameters.responsive.minWidth}}px;min-height:{{outline.parameters.responsive.minHeight}}px;{{/if}}" data-elementtype\x3d"{{outline.elementtype}}" class\x3d"dki-video-content-element {{element_contentClass this}}" id\x3d"content_{{outline.id}}" data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension outline\x3doutline}}" data-width\x3d"{{outline.width}}" data-height\x3d"{{outline.height}}" data-assetWidth\x3d"{{outline.asset_width}}" data-assetHeight\x3d"{{outline.asset_height}}" data-extension\x3d"{{outline.asset_extension}}" data-vimeo-id\x3d"{{outline.asset_parameters.vimeo.id}}" data-vimeo-src\x3d"{{outline.asset_parameters.vimeo.src}}"{{#element_multimedia_hasPlayerControl this \'autohidecontrols\'}}{{else}} data-controls\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'autoplay\'}} data-autoplay\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'loop\'}} data-loop\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'allowfullscreen\'}} data-allowFullScreen\x3d"true"{{else}} data-allowFullScreen\x3d"false"{{/element_multimedia_hasPlayerControl}}{{#if outline.asset_has_poster}}data-poster\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension poster\x3dtrue}}"{{/if}}{{#if outline.parameters.config.allowUpscale}}data-allowupscale\x3d"true"{{/if}}\x3e\x3ca class\x3d"dki-media-link" style\x3d"width:100%;height:100%;" href\x3d"{{#if renderEnv.authoring}}{{else}}{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension outline\x3doutline}}{{/if}}" target\x3d"_blank"\x3e\x3cdiv class\x3d"dki-media-placeholder{{#if outline.asset_has_poster}} hasPoster{{/if}}" style\x3d"width:100%;height:100%;{{#if outline.asset_has_poster}}background-image: url(\'{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension poster\x3dtrue }}{{/if}}\');"\x3e\x3c/div\x3e\x3c/a\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d"video-play-head" data-id\x3d"{{outline.id}}"\x3e\x3c/div\x3e{{#unless outline.asset_has_poster}}\x3cdiv class\x3d"video-poster-message"\x3e{{#ifEq outline.elementtype \'mediastream\'}}{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension outline\x3doutline}}{{/ifEq}}{{#ifEq outline.elementtype \'video\'}}This video does not have a poster image.\x3cbr/\x3eAdd a poster to it by editing the video properties.{{/ifEq}}\x3c/div\x3e{{/unless}}{{/if}}\x3c/div\x3e{{/if}}')},
videoembed:{format:c,template:Handlebars.compile('{{#if renderEnv.template}}{{\x3eelement_forTemplate}}{{else if renderEnv.document}}{{element_forDocument outline}}{{else}}{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3cdiv style\x3d"{{#if outline.parameters.overflow}}height:100%;{{/if}}{{#if outline.parameters.textStyles.lineHeight}}line-height:{{outline.parameters.textStyles.lineHeight}};{{/if}}{{#if outline.parameters.textStyles.fontSize}}font-size:{{outline.parameters.textStyles.fontSize}};{{/if}}{{element_videoEmbedStyle this}}" id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"{{#if outline.txt}}title\x3d"{{outline.txt}}{{/if}}\x3e{{#ifEq outline.meta2 \'dynamic\'}}\x3ciframe src\x3d"about:blank;" data-src\x3d"{{element_videoEmbedURL this}}" style\x3d"border:none;height:{{outline.height}}px;width:{{#if renderEnv.responsive}}100%;{{else}}{{outline.width}}px;"{{/if}}" frameborder\x3d"0"\x3e\x3c/iframe\x3e{{else}}{{{outline.meta}}}{{/ifEq}}\x3c/div\x3e{{/if}}')},
videoPlaylist:{format:$.proxy(function(b){var c=DKI.clone(b.parameters.config);c.strings={autoPlay:"auto play",skipToContent:this.state.strings?this.state.strings.index.skipToContent:"Skip to Content",skipToNavigation:this.state.strings?this.state.strings.index.skipToNavigation:"Skip to Navigation"};$.each(b.elements,function(){this.thumb="";var c=this.parameters.config.duration||0,k=DKI.utility.timeFunctions?DKI.utility.timeFunctions.convertMsToTime(c):DKI.utility.millisecondsToTime(c);this.duration=
c?k.h?k.h+"h":k.m?k.m+"m":k.s+"s":"";switch(b.parameters.config.type){case "youtubeEmbed":case "vimeoEmbed":this.thumb=this.parameters.config.thumbnail_url;this.vidId=this.parameters.config.id;break;default:this.vidId=this.id}});return c},this),template:Handlebars.compile("\x3cdiv id\x3d\"content_{{outline.id}}\" class\x3d\"{{element_contentClass this}} flex{{#unless outline.parameters.config.showDescription}} noDesc{{/unless}}{{#unless outline.parameters.config.showTime}} noTime{{/unless}}{{#unless outline.parameters.config.showThumbnail}} noThumb{{/unless}} {{outline.parameters.config.response}}\" data-variable-id\x3d'{{variable_name}}'\x3e\x3cdiv class\x3d'dragD'\x3e\x3c/div\x3e\x3cdiv class\x3d'videoContainer flexAuto'\x3e\x3ch3 class\x3d'flex'\x3e\x3cspan class\x3d'vidTitle flexAuto'\x3e\x3c/span\x3e \x3ci class\x3d'fa vp-collapse h fa-chevron-right'\x3e\x3c/i\x3e\x3c/h3\x3e\x3cdiv class\x3d'vidWrapper'\x3e\x3c/div\x3e\x3ca tabindex\x3d'-1' href\x3d'javascript:void(0);' class\x3d'skipToMenu' aria-label\x3d'{{strings.skipToNavigation}}'\x3e\x3c/a\x3e\x3ci class\x3d'fa vp-collapse v fa-chevron-up'\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d'menu flex flexCol'\x3e\x3cdiv class\x3d'controls'\x3e\x3ci class\x3d'close-menu'\x3e\x3c/i\x3e\x3cdiv class\x3d'autoPlay'\x3e\x3cspan\x3e{{strings.autoPlay}}\x3c/span\x3e\x3cspan style\x3d'margin-left : 10px;'\x3e\x3cinput class \x3d 'tgl tgl-light' type\x3d'checkbox' id\x3d'autoplay_{{outline.id}}' {{#if outline.parameters.config.autoPlay}}checked{{/if}}/\x3e\x3clabel aria-label\x3d'{{strings.autoPlay}}' tabindex\x3d'1' class\x3d'tgl-btn' for\x3d'autoplay_{{outline.id}}'\x3e\x3c/label\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cul class\x3d'flexAuto'\x3e{{#each outline.elements}}\x3cli role\x3d'button' tabindex\x3d'1' data-id\x3d'{{this.id}}' aria-labeledby\x3d'title_{{this.id}}'\x3e\x3cdiv class\x3d'videoInfo flex'\x3e\x3cdiv class\x3d'videoThumb' style\x3d\"background-image:url('{{thumb}}')\"\x3e\x3cspan class\x3d'completion' style\x3d'position: relative; width: 20px height:20px;'\x3e\x3cdiv class\x3d'gauge notSeen'\x3e\x3cdiv class\x3d\"overlay\" style\x3d\"\"\x3e\x3ci class\x3d\"fa fa-play\"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d\"mask full\"\x3e\x3cdiv class\x3d\"fill\"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\"mask half\"\x3e\x3cdiv class\x3d\"fill\"\x3e\x3c/div\x3e\x3cdiv class\x3d\"fill fix\"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3cspan class\x3d'videoTime'\x3e{{duration}}\x3c/span\x3e\x3cdiv class\x3d'progress completion-bar'\x3e\x3cdiv class\x3d'progress-bar'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'videoInfo flexAuto'\x3e\x3cdiv id\x3d'title_{{this.id}}' class\x3d'videoTitle'\x3e{{this.title}}\x3c/div\x3e\x3cdiv class\x3d'videoDesc flexAuto'\x3e{{{this.description}}}\x3c/div\x3e\x3c/div\x3e\x3ca tabindex\x3d'1' href\x3d'javascript:void(0);' class\x3d'skipToContent' aria-label\x3d'{{../strings.skipToContent}}'\x3e\x3c/a\x3e\x3c/li\x3e{{/each}}\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e")},
zoomRegion:{format:c,template:Handlebars.compile('{{\x3eelementOverlay}}\x3cdiv style\x3d"{{outline.cssstyle}}display:inline-block;width:100%;height:100%;" id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"{{#if outline.txt}}title\x3d"{{outline.txt}}"{{/if}}\x3e\x3c/div\x3e')},matchingQuestion:{format:$.proxy(function(b){for(var c={items:[],categories:[],cardContentTemplate:this.renderConfig[b.elementtype].cardContentTemplate,outline:b,strings:{itemsLabel:this.state.strings?this.state.strings.doc["Drag table items header"]:
"Items"}},k=0;k<b.elements.length;k++)c["matchingQuestionCategory"===b.elements[k].elementtype?"categories":"items"].push(b.elements[k]);return c},this),cardContentTemplate:Handlebars.compile('{{#if cardEl.upload_id}}\x3cdiv class\x3d"content_wrapper img aspect-ratio {{ratio}}"\x3e\x3cdiv class\x3d"content flex justify-center align-items-center"\x3e\x3cimg class\x3d"flex nogrow" src\x3d"{{getAssetUrl id\x3dcardEl.upload_id folderId\x3dcardEl.asset_uploadfolderid extension\x3dcardEl.asset_extension}}" alt\x3d"{{cardEl.asset_description}}"/\x3e\x3c/div\x3e{{else}}\x3cdiv class\x3d"content_wrapper aspect-ratio {{ratio}}"\x3e\x3cdiv class\x3d"content"\x3e{{{cardEl.meta}}}\x3c/div\x3e{{/if}}\x3c/div\x3e'),
template:Handlebars.compile('{{#if renderEnv.authoring}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d\'z-index:2000;\'\x3e\x3c/div\x3e{{/if}}\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}"\x3e{{#if outline.meta}}\x3c{{outline.parameters.config.titleTag}} class\x3d"question-title" aria-hidden\x3d"false" tabindex\x3d"1" \x3e{{{outline.meta}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}{{#if outline.txt}}\x3cdiv tabindex\x3d"1" aria-hidden\x3d"false" class\x3d\'question-description\'\x3e{{{outline.txt}}}\x3c/div\x3e{{/if}}\x3cdiv class\x3d"items"\x3e\x3cdiv class\x3d"items_carousel" role\x3d"region" aria-hidden\x3d"false"\x3e{{#each items}}\x3cdiv class\x3d"card_container flex justify-center"\x3e\x3cdiv class\x3d"card flex align-items-center" data-id\x3d"{{this.id}}" data-dragdropid\x3d"{{this.dragdrop_id}}" \x3e\x3cspan class\x3d"item_num flex align-items-center justify-center" id\x3d"{{this.id}}_label" \x3e{{arith @index \'+\' 1}}\x3c/span\x3e{{{runTemplate ../cardContentTemplate cardEl\x3dthis ratio\x3d../outline.parameters.config.cardShape}}}\x3c/div\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"categories flex wrap align-items-center justify-around"\x3e{{#each categories}}\x3cdiv class\x3d"category" data-id\x3d"{{this.id}}" aria-hidden\x3d"false" tabindex\x3d"1"\x3e{{{runTemplate ../cardContentTemplate cardEl\x3dthis ratio\x3d../outline.parameters.config.cardShape}}}\x3cdiv class\x3d"category_items flex wrap"\x3e\x3cdiv class\x3d"sr-only"\x3e{{../strings.itemsLabel}}\x3c/div\x3e{{#each ../items}}\x3cdiv aria-hidden\x3d"true" class\x3d"category_item flex align-items-center justify-center" data-id\x3d"{{this.dragdrop_id}}"\x3e{{arith @index \'+\' 1}}\x3c/div\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e')},
sequencingQuestion:{format:$.proxy(function(b){var c={outline:b,items:this.state.renderEnvironment.authoring?b.elements:this.state.utility.shuffle(b.elements.concat([])),cardContentTemplate:this.renderConfig[b.elementtype].cardContentTemplate};"vertical"==b.parameters.config.layout&&(c.cardContentTemplate=this.renderConfig[b.elementtype].verticalContentTemplate);return c},this),cardContentTemplate:Handlebars.compile('{{#if cardEl.upload_id}}\x3cdiv class\x3d"content_wrapper img aspect-ratio {{ratio}}"\x3e\x3cdiv class\x3d"content flex wrap align-items-center justify-center"\x3e\x3cimg class\x3d"flex nogrow" src\x3d"{{getAssetUrl id\x3dcardEl.upload_id folderId\x3dcardEl.asset_uploadfolderid extension\x3dcardEl.asset_extension}}" alt\x3d"{{cardEl.asset_description}}"/\x3e\x3c/div\x3e\x3c/div\x3e{{#if cardEl.meta}}\x3cdiv class\x3d"caption"\x3e{{{cardEl.meta}}}\x3c/div\x3e{{/if}}{{else}}\x3cdiv class\x3d"content_wrapper aspect-ratio {{ratio}}"\x3e\x3cdiv class\x3d"content"\x3e{{{cardEl.meta}}}\x3c/div\x3e\x3c/div\x3e{{/if}}'),
verticalContentTemplate:Handlebars.compile('\x3cdiv class\x3d"content_wrapper flex align-items-center"\x3e{{#if cardEl.upload_id}}\x3cdiv class\x3d"img_container"\x3e\x3cimg class\x3d"flex nogrow" src\x3d"{{getAssetUrl id\x3dcardEl.upload_id folderId\x3dcardEl.asset_uploadfolderid extension\x3dcardEl.asset_extension}}" alt\x3d"{{cardEl.asset_description}}"/\x3e\x3c/div\x3e{{/if}}\x3cdiv class\x3d"content grow"\x3e{{{cardEl.meta}}}\x3c/div\x3e\x3c/div\x3e'),template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}"\x3e{{#if outline.meta}}\x3c{{outline.parameters.config.titleTag}} class\x3d"question-title" aria-hidden\x3d"false" tabindex\x3d"1" \x3e{{{outline.meta}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}{{#if outline.txt}}\x3cdiv aria-hidden\x3d"false" tabindex\x3d"1" class\x3d\'question-description\'\x3e{{{outline.txt}}}\x3c/div\x3e{{/if}}\x3cdiv class\x3d"items clearfix layout-{{outline.parameters.config.layout}}"\x3e{{#each items}}\x3cdiv class\x3d"card_container {{#ifEq outline.parameters.config.layout \'card\'}}flex justify-center{{/ifEq}} {{#if this.upload_id}} img{{/if}}" data-id\x3d"{{this.id}}" aria-hidden\x3d"false" tabindex\x3d"1"\x3e\x3cspan class\x3d"review_order flex align-items-center justify-center"\x3e\x3c/span\x3e\x3cdiv class\x3d"card"\x3e{{{runTemplate ../cardContentTemplate cardEl\x3dthis ratio\x3d../outline.parameters.config.cardShape}}}\x3c/div\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e')}};
this.renderConfig.header=this.renderConfig.htm;this.renderConfig.panelHeader=this.renderConfig.htm;this.renderConfig.panelFooter=this.renderConfig.htm;this.renderConfig.richText=this.renderConfig.htm;this.renderConfig.plainText=this.renderConfig.htm;this.renderConfig.radioButton=this.renderConfig.htm;this.renderConfig.tileCardTitle=this.renderConfig.htm;this.renderConfig.tileCardSubtitle=this.renderConfig.htm;this.renderConfig.questionOpening=this.renderConfig.richText;this.renderConfig.questionBody=
this.renderConfig.richText;this.renderConfig.table=this.renderConfig.richText;this.renderConfig.mediastream=this.renderConfig.video};DKI.RenderService.prototype.setEnvironment=function(b){DKI.apply(this.state.renderEnvironment,b)};
DKI.RenderService.prototype.renderContent=function(b,h){var c="";h=h?h:{};h.typeConfig=h.typeConfig?h.typeConfig:this.state.typeConfig[b.elementtype];if(rCfg=h.typeConfig.isQuestion?this.renderConfig.option:this.renderConfig[b.elementtype])c=DKI.applyIf(rCfg.format(b,h),this.defaultArgs),c.scope=h,c.scope.renderRules||(c.scope=this.generateElementArguments(b,c.scope)),c.outline=c.outline?c.outline:b,c.fromContentRender=!0,c=rCfg.template(c);return c};
DKI.RenderService.prototype.renderElement=function(b,h){h=DKI.applyIf(h,this.defaultArgs);return Handlebars.compile("{{\x3e element}}")(DKI.applyIf({outline:b,scope:h},this.defaultArgs))};DKI.RenderService.prototype.renderGroups=function(b,h){h.content=this.sortGroupRowSections(b);h=DKI.applyIf(h,this.defaultArgs);return Handlebars.compile("{{\x3e groups}}")(DKI.applyIf(h,this.defaultArgs))};
DKI.RenderService.prototype.renderPage=function(b,h,c,l){b=DKI.applyIf({page:b,course:h,content:this.sortGroupRowSections(b.groups),standalone:c,class_name:l?l:"page"},this.defaultArgs);return Handlebars.compile("{{\x3e page}}")(b)};DKI.RenderService.prototype.generateGroupArguments=function(b,h){return DKI.applyIf({group:b,page:h.page},this.defaultArgs)};
DKI.RenderService.prototype.generateElementArguments=function(b,h,c){b=DKI.applyIf({element:b,typeConfig:this.state.typeConfig[b.elementtype],skipId:!1,forceVisibleInDocument:!0,page:h.page,state:this.state},this.defaultArgs);b.forTemplate="undefined"===typeof c?b.renderEnv.template:c;b.element.asset_parameters&&"string"===typeof b.element.asset_parameters&&(b.element.asset_parameters=JSON.parse(b.element.asset_parameters));""!==b.element.csseffect&&"string"===typeof b.element.csseffect&&(b.element.cssEffect=
JSON.parse(b.element.csseffect));b.renderRules=b.typeConfig.renderRules.claro;if(b.renderEnv.responsive||b.element.parent_element_id)b.renderRules=b.typeConfig.renderRules.flow;b.renderEnv.document&&(b.renderRules=b.typeConfig.renderRules.document);if(b.typeConfig.isRichText||"plainText"==b.element.elementtype)b.tagName=b.element.parameters.config.tag_name&&""!=b.element.parameters.config.tag_name?b.element.parameters.config.tag_name:"div";b.typeConfig.hasStackableElementElements&&$.each(b.element.elements,
function(){this.forcePosition=this.forceDimensions=!0});return b};
DKI.RenderService.prototype.registerPartials=function(){Handlebars.registerPartial("dataToggle",'data-off\x3d"{{offLabel}}" data-on\x3d"{{onLabel}}"');Handlebars.registerPartial("background","background-position:{{parameters.background.position.vertical}} {{parameters.background.position.horizontal}};background-repeat:{{parameters.background.repeat}};background-size:{{parameters.background.size}};background-attachment:{{parameters.background.attachment}};{{#if background_asset_id}}background-image:url('{{getAssetUrl id\x3dbackground_asset_id folderId\x3dbackground_asset_uploadfolderid extension\x3dbackground_asset_extension}}');{{/if}}");Handlebars.registerHelper("checkScope",
function(b){});Handlebars.registerPartial("element_getWrapperClass","{{#if element.parent_element_id}}dki-authoring-element-element {{else}}dki-authoring-element{{/if}} dki-{{element.elementtype}}-element{{#element_ifCanHaveDims}}{{else}} col-lg-{{element.parameters.responsive.layout.large.width}} col-md-{{element.parameters.responsive.layout.medium.width}} col-sm-{{element.parameters.responsive.layout.small.width}} col-xs-{{element.parameters.responsive.layout.xsmall.width}} col-lg-offset-{{element.parameters.responsive.layout.large.offset}} col-md-offset-{{element.parameters.responsive.layout.medium.offset}} col-sm-offset-{{element.parameters.responsive.layout.small.offset}} col-xs-offset-{{element.parameters.responsive.layout.xsmall.offset}}{{/element_ifCanHaveDims}}{{#if element.parameters.responsive.layout.large.hidden}} hidden-lg{{/if}}{{#if element.parameters.responsive.layout.medium.hidden}} hidden-md{{/if}}{{#if element.parameters.responsive.layout.small.hidden}} hidden-sm{{/if}}{{#if element.parameters.responsive.layout.xsmall.hidden}} hidden-xs{{/if}}{{#unless renderEnv.authoring}}{{#unless renderEnv.document}}{{#if element.renderhidden}} hiddenOnLoad{{/if}}{{/unless}}{{/unless}}{{#if renderEnv.document}}{{#if element.ignored_from_document_publish}}{{#unless forceVisibleInDocument}} hiddenOnLoad {{/unless}}{{/if}}{{/if}}{{#if element.parameters.hiddenUntilInView}} hiddenUntilInView {{/if}}{{#if renderEnv.authoring}}{{#if element.authoring_hidden}} authoring_hidden {{/if}}{{/if}}{{#ifEq element.elementtype 'audio'}}{{#if element.parameters.config.hideNarration}} hiddenNarration {{/if}}{{/ifEq}}{{#if element.parameters.config.hoverAnimation}} hoverAnimation_{{element.parameters.config.hoverAnimation}} {{/if}}{{#if element.parameters.config.disablePadding}} disablePadding {{/if}}{{#if element.parameters.config.disableClaroPadding}} disableClaroPadding {{/if}}{{#element_isQuestionElement element}} question-element question-option-style-{{element.parameters.config.style.type}} {{#if element.parameters.config.style.attached}} question-option-attached {{/if}} question-option-color-{{element.parameters.config.style.color}} {{/element_isQuestionElement}}{{#if element.locked}} locked {{/if}}{{#if element.parameters.config.upgraded}} upgraded {{/if}}{{#if element.parameters.config.content_spacing}} dk-spaced-content {{/if}}");
Handlebars.registerPartial("element_getDataAttributes",'data-id\x3d"{{element.id}}" data-type\x3d"{{element.elementtype}}" data-elementtype\x3d"{{element.elementtype}}" data-opacity\x3d"{{element.opacity}}" data-cssclass\x3d"" data-title\x3d"{{element.title}}" data-description\x3d"{{element.description}}" data-placeholderid\x3d"{{element.placeholderid}}" data-templateLayout\x3d"{{element.templatelayout}}" data-narration\x3d"{{element.narration}}" data-elementno\x3d"{{element.elementno}}" data-templatebuttonid\x3d"{{templatebutton_id}}" data-assetid\x3d"{{element.upload_id}}" data-multimedia\x3d"{{typeConfig.isMultimedia}}" data-groupid\x3d"{{element.group_id}}" data-ignoredfromdocumentpublish\x3d"{{element.ignored_from_document_publish}}" data-rotation\x3d"{{element.rotation}}" data-text\x3d"{{element.txt}}"{{#if typeConfig.isRichText}} data-isrichtext\x3d"true"{{else}}data-isrichtext\x3d"false"{{/if}}{{#if typeConfig.examinable}} data-examinable\x3d"true"{{else}}data-examinable\x3d"false"{{/if}}{{#if element.parent_element_id}} data-parent_element_id\x3d"{{element.parent_element_id}}"{{/if}}{{#if element.draggable}}data-is-draggable \x3d"true"{{#ifEq page.pagetype \'question\'}}{{else}} data-isquestionelement\x3d\'false\'{{/ifEq}}{{else}} data-is-draggable\x3d"false"{{/if}} data-dragdropid\x3d"{{element.dragdrop_id}}" data-draggable-revert\x3d"{{element.parameters.draggable.revert}}" data-draggable-constrain-x\x3d"{{element.parameters.draggable.constrainX}}" data-draggable-constrain-y\x3d"{{element.parameters.draggable.constrainY}}" data-draggable-bring-to-front\x3d"{{element.parameters.draggable.bringToFront}}"{{#if element.droppable}} data-is-droppable\x3d"true" data-droppable-snap-to-center\x3d"{{element.parameters.droppable.snapToCenter}}"{{#ifEq page.pagetype \'question\'}} data-isquestionelement\x3d"true"{{else}} data-isquestionelement\x3d"false"{{/ifEq}}{{else}} data-is-droppable\x3d"false"{{/if}}{{#ifNEq element.elementtype \'htm\'}} data-meta\x3d"{{element.meta}}"{{/ifNEq}} data-renderHidden\x3d"{{element.renderhidden}}" data-dontPause\x3d"{{element.dontpause}}" data-dontHide\x3d"{{element.donthide}}" data-locked\x3d"{{#if element.locked}}true{{else}}false{{/if}}"{{#ifEq element.elementtype \'shape\'}} data-shapeType\x3d"{{element.parameters.config.type}}"{{/ifEq}} data-shapeType\x3d"{{element.shapetype}}" data-csseffect\x3d"{{element.csseffect}}" data-height\x3d"{{element.height}}" data-width\x3d"{{element.width}}" data-x\x3d"{{element.x}}" data-y\x3d"{{element.y}}" data-backgroundassetid\x3d"{{element.background_asset_id}}" data-documentorder\x3d"{{element.document_order}}" data-disableAudio\x3d"{{element.parameters.config.disableAudio}}" data-textstyles-fontsize\x3d"{{element.parameters.textStyles.fontSize}}" data-textstyles-lineheight\x3d"{{element.parameters.textStyles.lineHeight}}" data-textstyles-classname\x3d"{{element.parameters.textStyles.className}}" data-responsive-alignment-vertical\x3d"{{element.parameters.responsive.vertical}}" data-responsive-alignment-horizontal\x3d"{{element.parameters.responsive.horizontal}}" data-margin-left\x3d"{{element.parameters.margin.left}}" data-margin-right\x3d"{{element.parameters.margin.right}}" data-margin-bottom\x3d"{{element.parameters.margin.bottom}}" data-margin-top\x3d"{{element.parameters.margin.top}}" data-padding-left\x3d"{{element.parameters.padding.left}}" data-padding-right\x3d"{{element.parameters.padding.right}}" data-padding-bottom\x3d"{{element.parameters.padding.bottom}}" data-padding-top\x3d"{{element.parameters.padding.top}}" data-background-color\x3d"{{element.parameters.background.color}}" data-background-position-horizontal\x3d"{{element.parameters.background.position.horizontal}}" data-background-position-vertical\x3d"{{element.parameters.background.position.vertical}}" data-background-repeat\x3d"{{element.parameters.background.repeat}}" data-background-size\x3d"{{element.parameters.background.size}}" data-border-top\x3d"{{element.parameters.border.top}}" data-border-left\x3d"{{element.parameters.border.left}}" data-border-bottom\x3d"{{element.parameters.border.bottom}}" data-border-right\x3d"{{element.parameters.border.right}}" data-border-radius\x3d"{{element.parameters.border.radius}}" data-accessibility-text\x3d"{{element.parameters.accessibility.text}}" data-accessibility-tabable\x3d"{{element.parameters.accessibility.tabable}}"{{#ifEq page.pagetype \'question\'}}{{element_getQuestionAtts this}}{{/ifEq}}');
Handlebars.registerPartial("element_getWrapperStyle","{{#element_ifCanHaveDims}}{{#if (elementHasHeight element)}}height:{{element.height}}px;{{/if}}width:{{element.width}}px;{{/element_ifCanHaveDims}}{{#element_ifCanHavePos}}left:{{element.x}}px;top:{{element.y}}px;position:absolute;{{/element_ifCanHavePos}}{{#unless renderEnv.responsive}}z-index:{{element.elementno}};{{else}}clear:{{element.parameters.responsive.clear}};{{/unless}}margin-top : {{element.parameters.margin.top}}%;{{#ifEq element.parameters.responsive.layout.large.offset 0}}{{#ifEq element.parameters.responsive.layout.medium.offset 0}}{{#ifEq element.parameters.responsive.layout.small.offset 0}}{{#ifEq element.parameters.responsive.layout.xsmall.offset 0}}{{#if element.parameters.margin.left}} margin-left:{{element.parameters.margin.left}}%;{{/if}}{{#if element.parameters.margin.right}} margin-right:{{element.parameters.margin.right}}%;{{/if}}{{/ifEq}}{{/ifEq}}{{/ifEq}}{{/ifEq}} margin-bottom: {{element.parameters.margin.bottom}}%;");
Handlebars.registerPartial("element_getContentWrapperStyle","{{element_opacity element}}{{#ifNEq element.elementtype 'btn'}}{{element.cssstyle}}{{/ifNEq}}width:100%;height:100%;{{#if renderEnv.responsive}}min-height:{{element.parameters.responsive.minHeight}}px;min-width:{{element.parameters.responsive.minWidth}}px;{{#ifNEq element.parameters.padding.top 0}}padding-top:{{element.parameters.padding.top}}%;{{/ifNEq}}{{#ifNEq element.parameters.padding.bottom 0}}padding-bottom:{{element.parameters.padding.bottom}}%;{{/ifNEq}}{{#ifNEq element.parameters.padding.left 0}}padding-left:{{element.parameters.padding.left}}%;{{/ifNEq}}{{#ifNEq element.parameters.padding.right 0}}padding-right:{{element.parameters.padding.right}}%;{{/ifNEq}}{{/if}}{{\x3eborderStyle element.parameters.border}}{{#element_usesDefaultBackground typeConfig}}{{\x3eelement_backgroundCSSString element}}{{/element_usesDefaultBackground}}{{#if element.parameters.background.foreground}}{{#ifNEq element.parameters.background.foreground 'transparent'}}color:{{element.parameters.background.foreground}};{{/ifNEq}}{{/if}}{{#ifEq element.elementtype 'html'}}{{#ifEq element.parameters.config.embedType 'responsive'}}padding-bottom: {{element_htmlWidgetPadding this}}%;{{/ifEq}}{{#ifEq element.parameters.config.embedType 'fixed'}}overflow: auto !important;{{/ifEq}}{{/ifEq}}overflow:{{element.parameters.overflow}};");
Handlebars.registerPartial("element_backgroundCSSString","{{element_wrapperBgColour this}}{{#if this.background_asset_id}}background-image: url('{{getAssetUrl id\x3dthis.background_asset_id folderId\x3dthis.background_asset_uploadfolderid extension\x3dthis.background_asset_extension}}');{{/if}}background-position: {{this.parameters.background.position.vertical}} {{this.parameters.background.position.horizontal}};background-repeat:{{this.parameters.background.repeat}};background-size:{{this.parameters.background.size}};background-attachment:{{this.parameters.background.attachment}};");
Handlebars.registerPartial("borderStyle","{{#ifNEq this.right 'none'}}border-right:{{this.right}};{{/ifNEq}}{{#ifNEq this.left 'none'}}border-left:{{this.left}};{{/ifNEq}}{{#ifNEq this.bottom 'none'}}border-bottom:{{this.bottom}};{{/ifNEq}}{{#ifNEq this.top 'none'}}border-top:{{this.top}};{{/ifNEq}}{{#ifNEq this.radius 'none'}}border-radius:{{this.radius}};{{/ifNEq}}");Handlebars.registerPartial("element_getContentWrapperClass","dki-authoring-content-wrapper {{#element_usesDefaultBackground typeConfig}}{{BgClassName element.parameters.background}} {{/element_usesDefaultBackground}}{{#if typeConfig.applyDefaultBackground}}{{BgClassName element.parameters.background}} {{/if}} align-{{element.parameters.responsive.alignment.horizontal}}{{#element_isQuestionPageOption element}} dki-question-option_wrapper {{/element_isQuestionPageOption}}");
Handlebars.registerPartial("element_getContentClass","dki-element-content{{#if outline.parameters.textStyles.fontFamilyClass}} {{outline.parameters.textStyles.fontFamilyClass}}{{/if}}{{#if outline.parameters.textStyles.className}} {{outline.parameters.textStyles.className}}{{/if}}{{#ifEq elementTypeConfig.courseStyleSelector '\x3e .dki-authoring-content-wrapper \x3e .dki-element-content'}}{{courseStyles outline}}{{/ifEq}}{{#each outline.parameters.responsive.course_styles.large}} {{this}}-lg{{/each}}{{#each outline.parameters.responsive.course_styles.medium}} {{this}}-md{{/each}}{{#each outline.parameters.responsive.course_styles.small}} {{this}}-sm{{/each}}{{#each outline.parameters.responsive.course_styles.xsmall}} {{this}}-xs{{/each}}{{#if outline.cssclass}} {{outline.cssclass}}{{/if}}{{#ifEq elementTypeConfig.backgroundSelector '.dki-element-content'}} {{BgClassName outline.parameters.background}}{{/ifEq}}");
Handlebars.registerPartial("element",'{{#element_generateArguments scope\x3dthis.scope outline\x3dthis.outline forTemplate\x3dthis.forTemplate}}\x3cdiv id\x3d"{{element.id}}_wrapper" class\x3d"{{element_wrapperClass this}} {{element_cssFXClass element}}" {{element_dataAttributes this}} style\x3d"{{element_wrapperStyle this}}" {{#if renderEnv.authoring}} tabindex\x3d-1 {{/if}}\x3e\x3cdiv id\x3d"anchor_{{element.id}}" class\x3d"dki-element-anchor"{{#element_tabable element}}data-tabindex\x3d"1" tabIndex\x3d"1" {{#element_has_accessibility_text element}} aria-label\x3d"{{element.parameters.accessibility.text}}"{{/element_has_accessibility_text}}{{/element_tabable}}{{#ifEq element.elementtype \'button\'}}role\x3d"button"{{/ifEq}}\x3e\x3c/div\x3e{{#if renderEnv.authoring}}{{#element_isExamineable element}}\x3cdiv class\x3d"element-examine-mode-instructions"\x3e{{#if this.typeConfig.hasStackableElementElements}}Double click to add...{{else}}Double click to edit{{/if}}\x3c/div\x3e{{/element_isExamineable}}{{/if}}{{#ifEq element.elementtype \'placeholder\'}}{{#if renderEnv.authoring}}\x3cdiv class\x3d"htmlUploader"\x3e\x3cdiv class\x3d"inpCont"\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadLabel"\x3e\x3cspan\x3eDrop File Here\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{/if}}{{/ifEq}}{{#ifEq element.elementtype \'capture\'}}{{#if renderEnv.authoring}}\x3cdiv class\x3d"htmlUploader"\x3e\x3cdiv class\x3d"inpCont"\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadLabel"\x3e\x3cspan\x3eDrop File Here\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{/if}}{{/ifEq}}\x3cdiv {{#unless cfg.skipId}}id\x3d"{{element.id}}_content_wrapper"{{/unless}} class\x3d"{{element_contentWrapperClass this}}" style\x3d"{{element_contentWrapperStyle this}}"\x3e{{#element_ifCSSFX element}}\x3cdiv class\x3d"cssFX-level1" style\x3d"{{element.cssEffect.lvl1.style}}"\x3e\x3cdiv class\x3d"cssFX-level2" style\x3d"{{element.cssEffect.lvl2.style}}"\x3e\x3cdiv class\x3d"cssFX-level3" style\x3d"{{element.cssEffect.lvl3.style}}"\x3e{{/element_ifCSSFX}}{{{element_renderContent this}}}{{#if this.typeConfig.hasStackableElementElements}}{{#with ../this}}{{\x3eelement_elementElementsWrapper}}{{/with}}{{/if}}{{#element_ifCSSFX element}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{/element_ifCSSFX}}\x3cdiv class\x3d\'element-feedback\'\x3e\x3cdiv class\x3d"icon comment" title\x3d"View existing comments for this element."\x3e\x3c/div\x3e\x3cdiv class\x3d"icon accessibility" title\x3d"View accessibility details for this comment and leave an accessibility-specific comment."\x3e\x3c/div\x3e\x3cdiv class\x3d"new" title\x3d"Leave a new comment for this element."\x3eNew Comment\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{/element_generateArguments}}');
Handlebars.registerPartial("element_elementElementsWrapper",'\x3cdiv id\x3d"{{element.id}}_elements_wrapper" class\x3d"dki-authoring-element-elements-wrapper"\x3e{{#each element.elements}}{{\x3eelement outline\x3dthis scope\x3d../this forTemplate\x3d../this.forTemplate}}{{/each}}\x3c/div\x3e\x3cdiv class\x3d"element-feedback-icon feedback-tooltip-icon"\x3e\x3c/div\x3e');Handlebars.registerPartial("elementOverlay",'\x3cdiv class\x3d"dki-element-overlay" style\x3d"width:100%;height:100%"\x3e\x3c/div\x3e');
Handlebars.registerPartial("element_forTemplate",'{{#ifEq outline.templatelayout \'1\'}}\x3cdiv class\x3d"dki-template-placeholder" id\x3d"content_{{outline.id}}"style\x3d"height:{{outline.height}}px;width:{{outline.width}}px;"\x3e\x3c/div\x3e{{else}}{{\x3e element outline\x3doutline scope\x3dthis forTemplate\x3dfalse}}{{/ifEq}}');Handlebars.registerPartial("multimedia_forEdit",'\x3cdiv class\x3d"dki-media-placeholder dki-element-content{{#if outline.asset_has_poster}} hasPoster{{/if}}" id\x3d"content_{{outline.id}}" style\x3d"height:100%;width:100%;"\x3e{{#if outline.asset_has_poster}}\x3cimg style \x3d"height:100%;width:100%; src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension poster\x3dtrue }}"/\x3e{{/if}}\x3c/div\x3e');
Handlebars.registerPartial("multimedia_forDocument_simple",'\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"document_table_wrapper {{outline.elementtype}}"\x3e\x3ctable\x3e\x3ctr\x3e\x3ctd colspan\x3d\'2\' class\x3d\'header\'\x3e{{title}}\x3c/td\x3e\x3c/tr\x3e{{#each properties}}\x3ctr\x3e\x3ctd class\x3d"property"\x3e{{this.prop}}\x3c/td\x3e\x3ctd class\x3d"value"\x3e{{this.value}}\x3c/td\x3e\x3c/tr\x3e{{/each}}\x3c/table\x3e\x3c/div\x3e');Handlebars.registerPartial("multimedia_forDocument",'\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"document_table_wrapper multimedia"\x3e\x3ctable class\x3d"{{#if outline.asset_has_poster}}poster{{/if}}"\x3e\x3ctr\x3e\x3ctd colspan\x3d\'2\' class\x3d\'header\'\x3e{{outline.elementtype}} Element\x3c/td\x3e\x3c/tr\x3e{{#if outline.asset_has_poster}}\x3ctr\x3e\x3ctd colspan\x3d"2" class\x3d"poster"\x3e\x3cimg height\x3d"{{outline.height}}px" width\x3d"{{outline.width}}px" src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension poster\x3dtrue}}"/\x3e\x3c/td\x3e\x3c/tr\x3e{{/if}}\x3ctr\x3e\x3ctd class\x3d"property"\x3eTitle\x3c/td\x3e\x3ctd class\x3d"value"\x3e{{outline.title}}\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd class\x3d"property"\x3eDescription\x3c/td\x3e\x3ctd class\x3d"value"\x3e{{outline.description}}\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd class\x3d"property"\x3eTranscript\x3c/td\x3e\x3ctd class\x3d"value"\x3e{{{outline.transcript}}}\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e');
Handlebars.registerPartial("multimedia_flashParams",'\x3cparam name\x3d"wmode" value\x3d"transparent"/\x3e\x3cparam name\x3d"quality" value\x3d"high"/\x3e\x3cparam name\x3d"play" value\x3d"{{#element_multimedia_hasPlayerControl this \'autoplay\'}}true{{else}}false{{/element_multimedia_hasPlayerControl}}"/\x3e\x3cparam name\x3d"loop" value\x3d"{{#element_multimedia_hasPlayerControl this \'loop\'}}true{{else}}false{{/element_multimedia_hasPlayerControl}}"/\x3e\x3cparam name\x3d"allowfullscreen" value\x3d"{{#element_multimedia_hasPlayerControl this \'allowfullscreen\'}}true{{else}}false{{/element_multimedia_hasPlayerControl}}"/\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"{{#if playerEnv.player}}sameDomain{{else}}never{{/if}}"/\x3e{{#if outline.meta2}}\x3cparam name\x3d"allowScriptAccess" value\x3d"{{outline.meta2}}"/\x3e{{/if}}');
Handlebars.registerPartial("group_getClass","dki-authoring-group {{group.parameters.cssClass}}{{#each group.parameters.layout.classes}}{{#group_classNotNumeric this}} {{this}}{{/group_classNotNumeric}}{{/each}} col-lg-{{group.parameters.dimensions.flow.large.width}} col-md-{{group.parameters.dimensions.flow.medium.width}} col-sm-{{group.parameters.dimensions.flow.small.width}} col-xs-{{group.parameters.dimensions.flow.xsmall.width}} col-lg-offset-{{group.parameters.dimensions.flow.large.offset}} col-md-offset-{{group.parameters.dimensions.flow.medium.offset}} col-sm-offset-{{group.parameters.dimensions.flow.small.offset}} col-xs-offset-{{group.parameters.dimensions.flow.xsmall.offset}}{{#if group.parameters.dimensions.flow.large.hidden}} hidden-lg{{/if}}{{#if group.parameters.dimensions.flow.medium.hidden}} hidden-md{{/if}}{{#if group.parameters.dimensions.flow.small.hidden}} hidden-sm{{/if}}{{#if group.parameters.dimensions.flow.xsmall.hidden}} hidden-xs{{/if}}{{#each group.parameters.course_styles}} {{this}}{{/each}}{{#if group.parameters.hiddenOnLoad}} hiddenOnLoad{{/if}}{{#if group.parameters.hiddenUntilinView}} hiddenUntilInView{{/if}}{{#if group.parameters.sticky}} dki-sticky-group{{/if}}{{#if group.parameters.dimensions.flow.gutters}} gutters {{/if}}{{#unless group.parameters.dimensions.flow.xsmall.gutters}} no-gutter-xs {{/unless}}{{#unless group.parameters.dimensions.flow.small.gutters}} no-gutter-sm {{/unless}}{{#unless group.parameters.dimensions.flow.medium.gutters}} no-gutter-md {{/unless}}{{#unless group.parameters.dimensions.flow.large.gutters}} no-gutter-lg {{/unless}}");
Handlebars.registerPartial("group_getStyle","{{#unless renderEnv.responsive}}z-index:{{group.order}}{{/unless}}{{#if renderEnv.responsive}} min-height: {{group.parameters.dimensions.flow.minHeight}}px; min-width: {{group.parameters.dimensions.flow.minWidth}}px;{{#ifNEq group.parameters.clear ''}} clear:{{group.parameters.clear}};{{/ifNEq}}{{/if}}");Handlebars.registerPartial("group_getElementWrapperStyle","{{opacity group.parameters.background}} {{#group_hasBackground group}} {{\x3ebackground group}} {{/group_hasBackground}} {{\x3eborderStyle group.parameters.border}} ");
Handlebars.registerPartial("group_getDataAttributes",'data-id\x3d"{{group.id}}"data-batch-id\x3d"{{group.parameters.batch.id}}"data-is-question-choice-group\x3d"{{group.parameters.is_question_choice_group}}"data-title\x3d"{{group.title}}"');Handlebars.registerPartial("group",'\x3cdiv id\x3d"group_{{group.id}}" class\x3d"{{\x3egroup_getClass this}}" style\x3d"{{\x3egroup_getStyle this}}" {{\x3egroup_getDataAttributes this}}\x3e\x3cdiv class\x3d"dki-authoring-group-elements-wrapper clearfix {{BgClassName group.parameters.background}}" style\x3d"{{\x3egroup_getElementWrapperStyle this}}"\x3e{{#each group.elements}}{{\x3e element outline\x3dthis scope\x3d../this}}{{/each}}\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("groups","{{#each content}}{{#ifEq this.type 'group'}}{{#group_generateArguments outline\x3ditems scope\x3d../../this}}{{\x3e group this}}{{/group_generateArguments}}{{/ifEq}}{{#ifEq this.type 'section'}}{{\x3e section section\x3dthis scope\x3d../../this}}{{/ifEq}}{{#ifEq this.type 'row'}}{{\x3e row row\x3dthis scope\x3d../../this}}{{/ifEq}}{{/each}}");Handlebars.registerPartial("row",'\x3cdiv class\x3d"dki-authoring-row clearfix {{row.classString}}" style\x3d"width:100%;{{row.styleString}}" data-vertical-align\x3d"{{row.firstGroup.parameters.layout.row_config.vertical_align}}" id\x3d"{{row.firstGroup.parameters.batch.row_index}}_{{row.firstGroup.parameters.batch.id}}"\x3e{{#each row.items}}{{#group_generateArguments outline\x3dthis scope\x3d../scope}}{{\x3e group this}}{{/group_generateArguments}}{{/each}}\x3c/div\x3e');
Handlebars.registerPartial("section",'\x3cdiv class\x3d"dki-authoring-section {{section.classString}} {{#ifNEq section.firstGroup.parameters.layout.layout_config.decoration \'\'}}has-top-decoration{{/ifNEq}} {{#ifNEq section.firstGroup.parameters.layout.layout_config.bottom_decoration \'\'}}has-bottom-decoration{{/ifNEq}}" style\x3d"width:100%;{{section.styleString}}" data-section-height\x3d"{{section.firstGroup.parameters.layout.layout_config.section_height}}" data-vertical-align\x3d"{{section.firstGroup.parameters.layout.layout_config.vertical_align}}" data-id\x3d"{{section.firstGroup.parameters.layout.layout_id}}_{{section.firstGroup.parameters.batch.id}}" data-batch-id\x3d"{{section.firstGroup.parameters.batch.id}}"\x3e{{#ifEq section.firstGroup.parameters.background.attachment \'fixed\'}}\x3cdiv class\x3d"dki-authoring-section-fixed-background"\x3e\x3cpicture\x3e\x3cimg src\x3d"{{getAssetUrl id\x3dsection.firstGroup.background_asset_id folderId\x3dsection.firstGroup.background_asset_uploadfolderid extension\x3dsection.firstGroup.background_asset_extension}}"/\x3e\x3c/picture\x3e\x3c/div\x3e{{/ifEq}}\x3cdiv class\x3d"section-decoration top"\x3e{{sectionDecoration decoration\x3dsection.firstGroup.parameters.layout.layout_config.decoration background\x3dsection.firstGroup.parameters.layout.layout_config.background rotate\x3dfalse}}\x3c/div\x3e{{#each section.items}}{{\x3e row row\x3dthis scope\x3d../scope}}{{/each}}\x3cdiv class\x3d"section-decoration bottom"\x3e{{sectionDecoration decoration\x3dsection.firstGroup.parameters.layout.layout_config.bottom_decoration background\x3dsection.firstGroup.parameters.layout.layout_config.background rotate\x3dtrue}}\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("rowStyle","{{opacity group.parameters.layout.row_config.background}}{{#if hasMaxWidth}}max-width:{{max_width}}px;float:{{align}};{{/if}}");Handlebars.registerPartial("rowClass","{{BgClassName group.parameters.layout.row_config.background}} {{#if group.parameters.layout.row_config.reverse_order}} reverse-order {{/if}}{{#if group.parameters.layout.row_config.synchronizeHeights}} synchronize-heights {{/if}}{{#unless group.parameters.layout.row_config.gutters.xsmall}} no-gutter-xs {{/unless}}{{#unless group.parameters.layout.row_config.gutters.small}} no-gutter-sm {{/unless}}{{#unless group.parameters.layout.row_config.gutters.medium}} no-gutter-md {{/unless}}{{#unless group.parameters.layout.row_config.gutters.large}} no-gutter-lg {{/unless}}");
Handlebars.registerPartial("sectionStyle","{{opacity group.parameters.layout.layout_config.background}}");Handlebars.registerPartial("sectionClass","{{BgClassName group.parameters.layout.layout_config.background}} {{#if group.parameters.layout.layout_config.section_height}}dki-section-height {{/if}}{{#if group.parameters.layout.layout_config.super_section}}super-section {{/if}}");Handlebars.registerPartial("rowOrSectionStyle","{{\x3ebackground group}}{{#unless renderEnv.responsive}}z-index:{{group.order}};{{/unless}}");
Handlebars.registerPartial("rowOrSectionClass","{{#ifEq group.parameters.background.attachment 'fixed'}} dki-bg-attach-fixed{{/ifEq}}{{#each group.parameters.course_styles}} {{this}}{{/each}} {{group.parameters.background.animation}}");Handlebars.registerPartial("page_getStyle","{{#if renderEnv.authoring}}z-index: 2;{{else}}z-index: 0;{{/if}}{{#if page.parameters.background.foreground}}{{#ifNEq page.parameters.background.foreground 'transparent'}}color:{{page.parameters.background.foreground}};{{/ifNEq}}{{/if}}");
Handlebars.registerPartial("page_getBackgroundStyle","{{opacity page.parameters.background}}{{#page_BGFixed page standalone}}position: fixed;height: 100vh;width: 100vw;{{else}}position: absolute;height: 100%;width: 100%;{{/page_BGFixed}}{{#if page.background_asset_id}}background-position:{{page.parameters.background.position.vertical}} {{page.parameters.background.position.horizontal}};background-repeat:{{page.parameters.background.repeat}};background-size:{{page.parameters.background.size}};background-image:url('{{getAssetUrl id\x3dpage.background_asset_id folderId\x3dpage.background_asset_uploadfolderid extension\x3dpage.background_asset_extension}}');{{/if}}{{#if renderEnv.authoring}}z-index: 0;{{/if}}");
Handlebars.registerPartial("page_getDataAttributes",'{{page_forPreview this}} data-pagetype\x3d"{{page.pagetype}}" data-pageid\x3d"{{page.pageid}}" data-locked\x3d"{{#if page.locked}}true{{else}}false{{/if}}"{{#if page.background_asset_id}} data-background-url\x3d"{{getAssetUrl id\x3dpage.background_asset_id folderId\x3dpage.background_asset_uploadfolderid extension\x3dpage.background_asset_extension}}"{{/if}}{{#ifEq page.pagetype \'question\'}} data-questiontype\x3d"{{page.question.type}}"{{#if page.question.max_selections}} data-max-selections\x3d"{{page.question.max_selections}}"{{/if}}{{/ifEq}}');
Handlebars.registerPartial("page_getClass"," {{pageBgClassName page.parameters.background}} ");Handlebars.registerHelper("pageBgClassName",function(b,h){var c=[b.class_name,b.opacity_class_name];"transparent"==b.color&&""==b.color&&""===c&&(c=["bg-transparent"]);h.data.root.page.question&&13!=h.data.root.page.question.type&&(c.push("question-option-style-"+h.data.root.page.question.parameters.optionStyle.type),c.push("question-option-color-"+h.data.root.page.question.parameters.optionStyle.class_name),
h.data.root.page.question.parameters.optionStyle.attached&&c.push("question-option-attached"),c.push("question-option-choice-spacing-"+h.data.root.page.question.parameters.choiceSpacing));return c.join(" ")});Handlebars.registerPartial("page_getBackgroundClass","pageBackground {{page.parameters.background.animation}}");Handlebars.registerPartial("page",'\x3cdiv id\x3d"page_background_{{page.pageid}}" data-forPage\x3d"page_{{page.pageid}}" class\x3d"{{\x3e page_getBackgroundClass}}" style\x3d"{{\x3e page_getBackgroundStyle}}"\x3e\x3c/div\x3e{{#if standalone}}\x3cdiv class\x3d"page-standalone"\x3e{{/if}}\x3cdiv id\x3d"page_{{page.pageid}}" class\x3d"pageElementsWrapper {{\x3e page_getClass}} {{class_name}}" {{\x3e page_getDataAttributes}} style\x3d"{{\x3e page_getStyle}}"\x3e{{\x3egroups this}}\x3c/div\x3e{{#if standalone}}\x3c/div\x3e{{/if}}')};
DKI.RenderService.prototype.registerHelpers=function(){Handlebars.registerHelper("ifEq",function(b,c,l){return b==c?l.fn(this):l.inverse(this)});Handlebars.registerHelper("ifNEq",function(b,c,l){return b!=c?l.fn(this):l.inverse(this)});Handlebars.registerHelper("forPreview",function(b,c){return b.single||b.full?c.fn(this):c.inverse(this)});Handlebars.registerHelper("trim",function(b,c){return new Handlebars.SafeString(b.trim())});Handlebars.registerHelper("getColour",$.proxy(function(b,c){return this.getColour(b)},
this));Handlebars.registerHelper("getArrayPos",function(b,c,l){return l.fn(b[c])});Handlebars.registerHelper("mult",function(){var b=0;if(0<arguments.length&&parseInt(arguments[0],10)==arguments[0])for(var b=arguments[0],c=1;c<arguments.length;c++)parseInt(arguments[c],10)==arguments[c]&&(b*=arguments[c]);return b});Handlebars.registerHelper("arith",function(b,c,l,m){return c.match(/^([\>\<\+\-\*\/\%~(\=){1,3}])*$/)?eval(b+c+l):null});Handlebars.registerHelper("designLegacy",$.proxy(function(b){return this.state.design.legacy},
this));Handlebars.registerHelper("elementHasHeight",$.proxy(function(b,c){return"label"!=b.elementtype||2==this.state.renderEnvironment.legacyCourse&&0<b.height},this));Handlebars.registerHelper("getVar",$.proxy(function(b,c){return"{{"+b+"}}"},this));Handlebars.registerHelper("getAssetUrl",$.proxy(function(b,c){return this.getAssetUrl({outline:b.hash.outline,folderId:b.hash.folderId,id:b.hash.id,extension:b.hash.extension,poster:b.hash.poster})},this));Handlebars.registerHelper("getAssetThumb",$.proxy(function(b,
c){c=this.state.baseUrl+"/content/authoringToolDB/";var l=b.hash.el;b.data.root.renderEnv.export&&(c="assets/");if(l.asset_has_poster||"image"==l.elementtype)c="svg"==b.hash.exntension?c+"DOSVG":c+("thumbs/"+b.hash.id+".png");return c},this));Handlebars.registerHelper("opacity",$.proxy(function(b,c){return b.color&&"transparent"!=b.color&&"#transparent"!=b.color?"background-color:"+this.state.utility.hexToRGB(b.color,b.transparency?100-b.transparency:100)+";":""},this));Handlebars.registerHelper("element_ifCanHaveDims",
function(b,c){c=b.data.root.fromContentRender?b.data.root.scope.renderRules:b.data.root.renderRules;return(b.data.root.fromContentRender?b.data.root.outline:b.data.root.element).forceDimensions?b.fn(this):c.useDimensions?b.fn(this):b.inverse(this)});Handlebars.registerHelper("element_ifCanHavePos",function(b,c){c=b.data.root.renderRules;return b.data.root.element.forcePosition?b.fn(this):c.usePosition?b.fn(this):b.inverse(this)});Handlebars.registerHelper("element_isQuestionElement",function(b,c){var l=
!1;switch(b.elementtype){case "multipleChoiceQuestion":case "trueFalseQuestion":case "multiplePulldownQuestion":case "clickTheWordQuestion":case "dragTheWordQuestion":case "fillInTheBlanksQuestion":l=!0}return l?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_isQuestionPageOption",function(b,c){var l=!1;switch(b.elementtype){case "trueFalseOption":case "multiChoiceOption":case "multiPulldownOption":case "fillBlanksOption":l=!0}return l?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_ifCSSFX",
function(b,c){return b.cssEffect?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_isExamineable",function(b,c){return c.data.root.typeConfig[b.elementtype].examinable?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_cssFXClass",function(b,c){c="";b.cssEffect&&(c="cssFX cssFX-"+b.cssEffect.base,c+="1"==b.cssEffect.reflect?" cssFX-slctr-Reflect":"");return c});Handlebars.registerHelper("element_tabable",function(b,c){return"spacer"!=b.elementtype&&"groupSpacer"!=b.elementtype&&
"rowSpacer"!=b.elementtype&&"elementSpacer"!=b.elementtype&&"questionOption"!=b.elementtype&&"panelHeader"!=b.elementtype&&b.parameters.accessibility.tabable?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_has_accessibility_text",function(b,c){return""!=b.parameters.accessibility.text?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_htmMeta",$.proxy(function(b,c){c=$("\x3cdiv /\x3e").html(this.parseElementDataImagesInMeta(b.outline));if("table"==b.outline.elementtype){var l=
c.find("table"),m="table";l.attr("class")&&(m+=" "+l.attr("class"));$.each(b.outline.parameters.config.styles,function(b,c){c&&(m+=" table-"+b)});l.attr("class",m);l.after($("\x3ca href\x3d'#' tabindex\x3d'1' class\x3d'tableFocusCatcher' /\x3e"))}return new Handlebars.SafeString(c.html())},this));Handlebars.registerHelper("element_htmHeight",function(b,c){c="";if("table"==b.elementtype||b.parameters.overflow&&"visible"!=b.parameters.overflow)c="height:100%;";if("flipCardSet"==b.elementtype||"matchCardSet"==
b.elementtype)c="height:auto;";return c});Handlebars.registerHelper("element_opacity",function(b,c){c="";100>b.opacity&&(c=b.opacity/100,c="-moz-opacity:"+c+";opacity:"+c+";filter:alpha(opacity\x3d"+b.opacity+");");return c});Handlebars.registerHelper("element_wrapperBgColour",$.proxy(function(b,c){c="";var l=b.parameters.background;b=b.parameters.background.transparency;"transparent"!=l.color&&"none"!=l.color&&l.color&&""===l.class_name&&(c="background-color:"+this.state.utility.hexToRGB(l.color,
"undefined"==typeof b?100:100-b)+";");return c},this));Handlebars.registerHelper("element_getQuestionAtts",function(b,c){c=b.page;for(var l=' data-isquestionelement\x3d"false"',m=0;m<c.question.options.length;m++){var q=c.question.options[m];q.elementId==b.element.id&&(l="",l+=' data-isquestionelement\x3d"true"',l+=' data-isquestionoption\x3d"true"',q.correctTargets&&(l+='data-correcttargets\x3d"'+q.correctTargets.join()+'"'),q.feedback&&(q=q.feedback.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,
"\x26gt;").replace(/\"/g,"\x26quot;"),l+=' data-feedback\x3d"'+q+'"'))}if(""!=b.element.option_parameters)try{var n=JSON.parse(b.element.option_parameters);if(n&&(1==n.randomized||"YES"==n.randomized.toUpperCase())||"TRUE"==n.randomized.toUpperCase())l+='data-randomized\x3d"true"'}catch(r){}if("questionOpening"==b.element.elementtype||"questionBody"==b.element.elementtype)l=' data-isquestionelement\x3d"true" ';return new Handlebars.SafeString(l)});Handlebars.registerHelper("element_imageMapEventFunction",
function(b,c){c="";if(b.href){var l=b.href.split(","),m=l[0],q=l[1],n=l[3],r=l[4],k=l[5],p="";c+="data-hidetargetonload\x3d'"+l[2]+"'";1==n&&(p+="hideAllEventElements();");m==q?(p+="showHideElement('"+b.hreftarget+"','"+r+"','"+k+"');",c+=" "+m+'\x3d"'+p+'"'):(p+="showElement('"+b.hreftarget+"','"+r+"');",c+=" "+m+'\x3d"'+p+'" ',"none"!=q&&(c+=" "+q+"\x3d\"hideElement('"+b.hreftarget+"','"+k+"');\""))}return new Handlebars.SafeString(c)});Handlebars.registerHelper("element_htmlWidgetPath",function(b,
c){return new Handlebars.SafeString("/"+b.asset_parameters.LAUNCHFILE+"?elementid\x3d"+b.id)});Handlebars.registerHelper("element_htmlWidgetScrolling",function(b,c){c=b.outline;var l=c.asset_parameters,m="no";if("on"==l.scrolling)m="yes";else if("auto"==l.scrolling)m="auto";else if(b.renderEnv.responsive&&"responsive"==c.parameters.config.embedType||"adaptive"==c.parameters.config.embedType)m="no";return m});Handlebars.registerHelper("element_htmlWidgetStyle",function(b,c){c=b.outline;var l="height:"+
c.height+"px;";return l=b.renderEnv.responsive&&""==c.parameters.config.embedType?l+("width: 100%;max-width:"+c.width+"px"):l+("width:"+c.width+"px")});Handlebars.registerHelper("element_htmlWidgetPadding",function(b,c){b=b.element;return b.asset_height/b.asset_width*100});Handlebars.registerHelper("element_capture_getTemplate",function(b,c){return"capture_"+b});Handlebars.registerHelper("element_multimedia_hasPlayerControl",function(b,c,l){var m=0<=b.outline.meta.search(c);"video"==b.outline.elementtype&&
"autoplay"==c&&(m=!b.renderEnv.authoring&&m?!0:!1);return m?l.fn(this):l.inverse(this)});Handlebars.registerHelper("element_capture_hasStepDuration",function(b,c){return!b.stepDuration||0>=b.stepDuration?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_capture_getTime",function(b,c){c=(6E5>b?"0":"")+Math.floor(b/6E4)+":";return c+=(1E4>b%6E4?"0":"")+Math.floor(b/1E3%60)});Handlebars.registerHelper("element_capture_showMeImage",function(b,c){var l=b.imageURL;switch(c.showMeImageType){case "EMPTY":l=
b.imageURL;break;case "HOTSPOT":l=b.hotSpotImageURL;break;case "HOTSPOT_ANNOTATION":l=b.fullImageURL}return l});Handlebars.registerHelper("stripHTML",function(b){return DKI.stripHTML(b)});Handlebars.registerHelper("element_capture_show_markerList",function(b,c,l){return 0<b.markers.length&&"HOTSPOT_ANNOTATION"==c.showMeImageType?l.fn(this):l.inverse(this)});var b=function(b){return(b=b||"")?b.replace("[^a-zA-Z0-9]","-"):b};Handlebars.registerHelper("element_capture_getJobAidName",function(h){return b(h.name)+
"-job-aid.pdf"});Handlebars.registerHelper("element_capture_getDocumentName",function(h){return b(h.name)+"-document.pdf"});Handlebars.registerHelper("element_option_renderNumbering",function(b,c){c=function(b){if(isNaN(b))return NaN;b=String(+b).split("");for(var c=" C CC CCC CD D DC DCC DCCC CM  X XX XXX XL L LX LXX LXXX XC  I II III IV V VI VII VIII IX".split(" "),h="",l=3;l--;)h=(c[+b.pop()+10*l]||"")+h;return Array(+b.join("")+1).join("M")+h};var l=b.scope.page.question,m=b.option,q="abcdefghijklmnopqrstuvwxyz".split(""),
n={letter:[],caps:[],number:[],roman:[]};for(i=0;26>i;i++)n.letter.push(q[i]),n.caps.push(q[i].toUpperCase()),n.number.push(i+1),n.roman.push(c(i+1));return"none"==l.numbering?""==m.content?new Handlebars.SafeString("\x26nbsp;"):new Handlebars.SafeString(""):new Handlebars.SafeString("\x3cspan class\x3d'optionNumber'\x3e"+(n[l.numbering][b.optionNo-1]+(5!==b.scope.page.question.type?") ":""))+"\x3c/span\x3e")});Handlebars.registerHelper("element_option_getCorrect",function(b,c){c=b.renderEnv;var l=
"";if(c.single||c.full||b.forTemplate)c=b.scope.element.elementtype,l="","fillBlanksOption"==c?l=b.option.parameters.correctValues.join():"multiPulldownOption"==c?l=b.option.parameters.correctValue:"trueFalseOption"==c?l=b.option.parameters.correct:"multiChoiceOption"==c&&(l=b.option.parameters.correct?"true":"false"),l='data-correctresponse\x3d"'+l+'"';return Handlebars.SafeString(l)});Handlebars.registerHelper("element_option_getPartial",function(b,c){return new Handlebars.SafeString("option_"+
b)});Handlebars.registerHelper("element_forDocument",function(b,c){c="multimedia_forDocument";var l={outline:b};if("html"==b.elementtype)c="multimedia_forDocument_simple",l.title="HTML Widget Element",l.properties=[{prop:"title",value:b.title},{prop:"description",value:b.description}];else if("iframe"==b.elementtype)c="multimedia_forDocument_simple",l.title="External Webpage",l.properties=[{prop:"URL",value:b.src}];else if("mediastream"==b.elementtype)c="multimedia_forDocument_simple",l.title="Media Stream Element",
l.properties=[{prop:"URL",value:b.src}];else if("videoembed"==b.elementtype){c="multimedia_forDocument_simple";var m=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi,q=b.meta.match(m);l.title="Embedded Video";l.properties=q[0]?[{prop:"URL",value:b.meta.slice(b.meta.search(m),q[0].length)}]:[{prop:"Embed Code",value:b.meta}]}return new Handlebars.SafeString(Handlebars.compile("{{\x3e"+c+"}}")(l))});Handlebars.registerHelper("element_iframe_getProperties",function(b,
c){b=b.meta.split(";");return new Handlebars.SafeString(' scrolling\x3d"'+b[0].split(":").pop()+'" frameborder\x3d"'+b[1].split(":").pop()+'"')});Handlebars.registerHelper("element_videoEmbedURL",$.proxy(function(b,c){return"dynamic"==b.outline.meta2?b.renderEnv.export?"assets/elements/"+b.outline.id+"/tempVideoEmbed.html":this.state.baseUrl+"ajax/element.cfm/"+b.outline.id+"/videoEmbedTemp.html":b.outline.meta},this));Handlebars.registerHelper("element_videoEmbedStyle",$.proxy(function(b,c){c="";
b.renderEnv.responsive&&(c+="padding-bottom:"+b.outline.height/b.outline.width*100+"%;");return c},this));Handlebars.registerHelper("element_svg_setMeta",$.proxy(function(b,c){c=$("\x3cdiv/\x3e").append(b.meta);colour=b.parameters.config.colors.fill;stroke=b.parameters.config.atts.stroke;0<=color.search("designcolor")&&(colour=this.getColour(colour),c.find("path:not(#raphael-marker-block),circle,rect:not([fill\x3dnone])").attr("fill",colour));0<=stroke.search("designcolor")&&(stroke=this.getColour(stroke),
c.find("path:not(#raphael-marker-block)").attr("stroke",stroke),c.find("marker\x3euse").attr("fill",stroke));return Handlebars.SafeString(c.html())},this));Handlebars.registerHelper("element_generateArguments",$.proxy(function(b){return b.fn(this.generateElementArguments(b.hash.outline,b.hash.scope,b.hash.forTemplate))},this));Handlebars.registerHelper("element_dataAttributes",function(b,c){c=Handlebars.compile("{{\x3eelement_getDataAttributes}}")(b);b.ignoreExamine&&(c+=' data-ignoreExamine\x3d"true"');
if(b.typeConfig.isMultimedia)if(c+=' data-loop\x3d"'+(0<=b.element.meta.search("loop")?"true":"false")+'"',c+='" data-autoplay\x3d"'+(0<=b.element.meta.search("autoplay")?"true":"false")+'"',c+='" data-transcript\x3d"'+(b.element.asset_transcript?!0:!1)+'"',b.element.asset_parameters&&b.element.asset_parameters.bookmarks&&0<b.element.asset_parameters.bookmarks.length&&(c+='" data-bookmarks\x3d"'+escape(JSON.stringify(b.element.asset_parameters.bookmarks))+'"'),"video"==b.element.elementtype&&(c+=
' data-allowfullscreen\x3d"'+(0<=b.element.meta.search("allowfullscreen")?"true":"false")+'"',c+=' data-hidecontrols\x3d"'+(0<=b.element.meta.search("hidecontrols")?"true":"false")+'"'),"flash"==b.element.elementtype)c+='data-allowFullScreen\x3d"'+(0<=b.element.meta.search("allowFullScreen")?"true":"false")+'"',c+='data-flashvars\x3d"'+b.element.meta2+'"';else if("audio"==b.element.elementtype)c+=' data-playerskin\x3d"'+(0<=b.element.meta.search("playerskin")?"true":"false")+'"',c+=' data-hidecontrols\x3d"'+
(0<=b.element.meta.search("hidecontrols")?"true":"false")+'"';else if("mediastream"==b.elementtype){var l="",m="";b.element.meta&&(m=b.element.meta.split(";"),l=m[0].split(":").pop(),m=m[1].split(":").pop(),l="all"==l?"":l,m="all"==m?"":m);l&&(c+=' data-starttime\x3d"'+l+'"');m&&(c+=' data-endtime\x3d"'+m+'"')}if("body"==b.element.elementtype||"opening"==b.elementtype)c+=' data-isquestionelement\x3d"true"';else if("spacer"==b.element.elementtype)c+=' data-isspacer\x3d"true"';else if("shape"!=b.element.elementtype)if("image"==
b.element.elementtype){if(c+=' data-rolloverassetid\x3d"'+b.element.rollover_asset_id+'"',m=l="",""!=b.element.meta&&(m=b.element.meta.split(";"),l=m.shift(),m=m.pop()),c=c+(" data-rollovereffect\x3d'"+l+"'")+(" data-rollouteffect\x3d'"+m+"'"),b.element.imageMaps&&0<b.element.imageMaps.length){c+=" data-actiontype\x3d'imagemap' data-actiontargets\x3d\"";var q=[];$.each(b.element.imageMaps,function(b,c){q.push(this.hreftarget)});c+=q.join()+'"'}}else"flipCard"==b.element.elementtype&&(c+="data-fliptrigger\x3d'"+
b.element.parameters.config.trigger+"'");if(b.page.pageLinks)for(l=0;l<b.page.pageLinks.length;l++)m=b.page.pageLinks[l],m.active&&b.element.id==m.source_element_id&&(c+=' data-actiontype\x3d"pagelink" data-actiontargets\x3d"'+m.target_subeo_id+'"');return new Handlebars.SafeString(c)});Handlebars.registerHelper("element_wrapperClass",function(b,c){c=Handlebars.compile("{{\x3eelement_getWrapperClass}}")(b);b.typeConfig.isQuestion&&"none"===b.page.question.numbering&&(c+=" noNumbering");if(b.typeConfig.hasStackableElementElements)c+=
" stackable_element";else if("label"==b.element.elementtype){var l=" "+b.element.parameters.config.class_name;c+=l}else"capture"==b.element.elementtype?(l=" "+b.element.parameters.config.type,c+=l):"shape"==b.element.elementtype&&b.element.parameters.config.roundedCorners&&(c+=" dki-rounded-shape");b.typeConfig.navigateSubContent&&(c+=" navigatesSubContent");c+=b.element.isContentContainer?" contentContainer":"";return new Handlebars.SafeString(c)});Handlebars.registerHelper("element_wrapperStyle",
function(b,c){c=Handlebars.compile("{{\x3eelement_getWrapperStyle}}")(b);"zoomeRegion"==b.element.elementtype&&(b.renderEnv.single||b.renderEnv.full||b.renderEnv.export||b.renderEnv.template)&&(c+="pointer-events:none;");"videoembed"==b.element.elementtype&&b.renderEnv.responsive&&("center"==b.element.parameters.responsive.alignment.horizontal?c+="justify-content: center;-ms-pack:center;":"right"==b.element.parameters.responsive.alignment.horizontal&&(c+="justify-content: flex-end;-ms-pack:flex-end;"));
return new Handlebars.SafeString(c)});Handlebars.registerHelper("element_contentWrapperStyle",function(b,c){c=Handlebars.compile("{{\x3eelement_getContentWrapperStyle}}")(b);"videoembed"==b.element.elementtype&&b.renderEnv.responsive&&(c+="max-width:"+b.element.width+"px;");return new Handlebars.SafeString(c)});Handlebars.registerHelper("element_contentWrapperClass",function(b,c){c=Handlebars.compile("{{\x3eelement_getContentWrapperClass}}")(b);"flipCard"==b.element.elementtype&&b.element.parameters.config.flipIcon&&
(c+=" includeFlipIcon");return new Handlebars.SafeString(c)});Handlebars.registerHelper("element_contentClass",function(b,c){b.elementTypeConfig=b.typeConfig[b.outline.elementtype];c=Handlebars.compile("{{\x3eelement_getContentClass}}")(b);"body"==b.outline.elementtype&&(c+=" questionBody");"image"==b.outline.elementtype&&"png"==b.outline.asset_extension&&(c+=" pngFix");"video"==b.outline.elementtype&&b.outline.parameters.config.hidePlayHead&&(c+=" hidePlayerHead");"table"==b.outline.elementtype&&
b.renderEnv.responsive&&(c+=" table-responsive");"opening"==b.outline.elementtype&&(c+=" questionOpening");if("btn"==b.outline.elementtype){var l=" btn "+b.outline.parameters.config.class_name+" "+b.outline.parameters.config.size+" "+b.outline.parameters.config.shape;b.outline.parameters.config.icon.enabled||(l+=" icon-hidden");b.outline.parameters.config.righticon.enabled||(l+=" righticon-hidden");b.outline.parameters.config.showLabel||(l+=" text-hidden");b.outline.parameters.config.block&&(l+=" btn-block");
b.outline.parameters.config.toggleable&&(l+=" toggleable");b.outline.parameters.config.stay_toggled&&(l+=" stay-toggled");c+=l}"dropTarget"==b.outline.elementtype&&(l=" dropTarget "+b.outline.parameters.config.class_name+" "+b.outline.parameters.config.shape,b.outline.parameters.config.icon.enabled||(l+=" icon-hidden"),b.outline.parameters.config.showLabel||(l+=" text-hidden"),c+=l);"questionOption"==b.outline.elementtype&&b.outline.parameters.config.correct&&b.renderEnv.authoring&&(c+=" correct");
"label"==b.outline.elementtype&&(l="",b.outline.parameters.config.icon.enabled||(l+=" icon-hidden"),c+=l);"capture"==b.outline.elementtype&&(l="",b.outline.parameters.config.showSteps||(l+=" hide-steps"),c+=l);"timer"==b.outline.elementtype&&(l=["clearfix"],b.outline.parameters.config.timerStyle&&l.push(b.outline.parameters.config.timerStyle),b.outline.parameters.config.bgClass&&l.push(b.outline.parameters.config.bgClass),b.outline.parameters.config.timerSize&&l.push(b.outline.parameters.config.timerSize),
b.outline.parameters.config.timerVariant&&l.push(b.outline.parameters.config.timerVariant),c+=0<l.length?" "+l.join(" "):"");"imageMap"==b.outline.elementtype&&(l=["flex","clearfix"],b.outline.parameters.config.showLabels&&l.push("showLabels"),l.push("layout-"+b.outline.parameters.config.layout),c+=0<l.length?" "+l.join(" "):"");"matchingQuestion"==b.outline.elementtype&&(l=["matchingQuestion",b.outline.parameters.config.cardSize,b.outline.parameters.config.colour],c+=" "+l.join(" "));"sequencingQuestion"==
b.outline.elementtype&&(l=["sequencingQuestion",b.outline.parameters.config.cardSize],c+=" "+l.join(" "));return new Handlebars.SafeString(c)});Handlebars.registerHelper("element_renderContent",$.proxy(function(b,c){return new Handlebars.SafeString(this.renderContent(b.element,b))},this));Handlebars.registerHelper("image_showMaps",function(b,c){return b.export||b.single||b.full?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_ifAudioForEdit",function(b,c){return!b.export&&!b.full||
b.template?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_ifFlashForEdit",function(b,c){return!b.export&&!b.full||b.template?c.fn(this):c.inverse(this)});Handlebars.registerHelper("multimedia_ifRegisterSwfObject",function(b,c){return b.export||b.single||b.full?c.fn(this):c.inverse(this)});Handlebars.registerHelper("element_usesDefaultBackground",function(b,c){return"\x3e .dki-authoring-content-wrapper"==b.backgroundSelector||-1!=b.backgroundSelector.indexOf(", \x3e .dki-authoring-content-wrapper")||
-1!=b.backgroundSelector.indexOf("\x3e .dki-authoring-content-wrapper,")?c.fn(this):c.inverse(this)});Handlebars.registerHelper("group_generateArguments",$.proxy(function(b){return b.fn(this.generateGroupArguments(b.hash.outline,b.hash.scope))},this));Handlebars.registerHelper("group_classNotNumeric",function(b,c){b=b.split("-").pop();return isNaN(b)?c.fn(this):c.inverse(this)});Handlebars.registerHelper("group_hasBackground",function(b,c){return""===b.parameters.layout.layout_id&&""===b.parameters.layout.row_id?
c.fn(this):c.inverse(this)});Handlebars.registerHelper("BgClassName",function(b,c){c=b.class_name+" "+b.opacity_class_name+" "+b.animation;"transparent"==b.color&&""==b.color&&""===c&&(c="bg-transparent");return c});Handlebars.registerHelper("courseStyles",function(b,c){c="";for(var l=0;l<b.parameters.course_styles.length;l++)c+=b.parameters.course_styles[l]+" ";return" "+c+" "});Handlebars.registerHelper("page_forPreview",function(b,c){c='data-preview\x3d"false"';if(b.renderEnv.single||b.renderEnv.full||
b.renderEnv.template)c='data-preview\x3d"true"';return new Handlebars.SafeString(c)});Handlebars.registerHelper("page_BGFixed",function(b,c,l){return c||"fixed"!=b.parameters.background.attachment?l.inverse(this):l.fn(this)});Handlebars.registerHelper("sectionDecoration",$.proxy(function(b){var c=b.hash;"transparent"!=b.hash.background.color&&""!=b.hash.background.color&&(c.fill=this.state.utility.hexToRGB(b.hash.background.color,100-b.hash.background.transparency));return new Handlebars.SafeString(Handlebars.compile({"":"",
"angle-left":'\x3csvg class\x3d"section-decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 0 L100 100 L0 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',"angle-right":'\x3csvg class\x3d"section-decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L100 0 L100 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
"pointy-left":'\x3csvg class\x3d"decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" style\x3d"left:60px; position: absolute;" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"120px" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L50 0 L100 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',"pointy-mid":'\x3csvg class\x3d"decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" style\x3d"left:50%; margin-left: -60px; position: absolute;" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"120px" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L50 0 L100 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
"pointy-right":'\x3csvg class\x3d"decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" style\x3d"right: 60px; position: absolute;" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"120px" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L50 0 L100 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',"circle-left":'\x3csvg class\x3d"decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"60px" preserveAspectRatio\x3d"none" style\x3d"left:60px; position: absolute;" version\x3d"1.1" viewBox\x3d"0 0 100 50" width\x3d"120px" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3ccircle cx\x3d"50" cy\x3d"{{#if rotate}}0{{else}}50{{/if}}" r\x3d"35" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/circle\x3e\x3c/svg\x3e',
"circle-mid":'\x3csvg class\x3d"decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"60px" preserveAspectRatio\x3d"none" style\x3d"left:50%; margin-left: -60px; position: absolute;" version\x3d"1.1" viewBox\x3d"0 0 100 50" width\x3d"120px" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3ccircle cx\x3d"50" cy\x3d"{{#if rotate}}0{{else}}50{{/if}}" r\x3d"35" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/circle\x3e\x3c/svg\x3e',"circle-right":'\x3csvg class\x3d"decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"60px" preserveAspectRatio\x3d"none" style\x3d"right: 60px; position: absolute;" version\x3d"1.1" viewBox\x3d"0 0 100 50" width\x3d"120px" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3ccircle cx\x3d"50" cy\x3d"{{#if rotate}}0{{else}}50{{/if}}" r\x3d"35" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/circle\x3e\x3c/svg\x3e',
"round-out":'\x3csvg class\x3d"decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 C50 0 50 0 100 100 Z" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',"round-in":'\x3csvg class\x3d"decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 0 C50 100 50 100 100 0  L100 100 0 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
"triangle-out":'\x3csvg class\x3d"decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L50 0 L100 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',"triangle-in":'\x3csvg class\x3d"decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 0 L50 100 L100 0 L100 100 L0 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
"zig-zag":'\x3csvg class\x3d"decor hidden-xs hidden-sm" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L2 60 L4 100 L6 60 L8 100 L10 60 L12 100 L14 60 L16 100 L18 60 L20 100 L22 60 L24 100 L26 60 L28 100 L30 60 L32 100 L34 60 L36 100 L38 60 L40 100 L42 60 L44 100 L46 60 L48 100 L50 60 L52 100 L54 60 L56 100 L58 60 L60 100 L62 60 L64 100 L66 60 L68 100 L70 60 L72 100 L74 60 L76 100 L78 60 L80 100 L82 60 L84 100 L86 60 L88 100 L90 60 L92 100 L94 60 L96 100 L98 60 L100 100 Z" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e\x3csvg class\x3d"decor visible-xs visible-sm" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L5 60 L10 100 L5 60 L10 100 L15 60 L20 100 L25 60 L30 100 L35 60 L40 100 L45 60 L50 100 L55 60 L60 100 L65 60 L70 100 L75 60 L80 100 L85 60 L90 100 L95 60 L100 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
clouds:'\x3csvg class\x3d"decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M-5 100 Q 0 20 5 100 Z M0 100 Q 5 0 10 100 M5 100 Q 10 30 15 100 M10 100 Q 15 10 20 100 M15 100 Q 20 30 25 100 M20 100 Q 25 -10 30 100 M25 100 Q 30 10 35 100 M30 100 Q 35 30 40 100 M35 100 Q 40 10 45 100 M40 100 Q 45 50 50 100 M45 100 Q 50 20 55 100 M50 100 Q 55 40 60 100 M55 100 Q 60 60 65 100 M60 100 Q 65 50 70 100 M65 100 Q 70 20 75 100 M70 100 Q 75 45 80 100 M75 100 Q 80 30 85 100 M80 100 Q 85 20 90 100 M85 100 Q 90 50 95 100 M90 100 Q 95 25 100 100 M95 100 Q 100 15 105 100 Z" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
curtains:'\x3csvg class\x3d"decor hidden-xs hidden-sm" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 Q 2.5 40 5 100 Q 7.5 40 10 100 Q 12.5 40 15 100 Q 17.5 40 20 100 Q 22.5 40 25 100 Q 27.5 40 30 100 Q 32.5 40 35 100 Q 37.5 40 40 100 Q 42.5 40 45 100 Q 47.5 40 50 100 Q 52.5 40 55 100 Q 57.5 40 60 100 Q 62.5 40 65 100 Q 67.5 40 70 100 Q 72.5 40 75 100 Q 77.5 40 80 100 Q 82.5 40 85 100 Q 87.5 40 90 100 Q 92.5 40 95 100 Q 97.5 40 100 100 " stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e\x3csvg class\x3d"decor visible-xs visible-sm" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 Q 5 40 10 100  Q 15 40 20 100  Q 25 40 30 100  Q 35 40 40 100  Q 45 40 50 100  Q 55 40 60 100  Q 65 40 70 100  Q 75 40 80 100  Q 85 40 90 100  Q 95 40 100 100 " {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
"straight-line":'\x3csvg class\x3d"decor" focusable\x3d"false" tabindex\x3d"-1" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3crect {{#unless rotate}}transform\x3d"rotate(180 50 50)"{{/unless}} width\x3d"100%" height\x3d"50%" {{#if fill}}fill\x3d"{{fill}}"{{/if}} /\x3e\x3c/svg\x3e'}[b.hash.decoration])(c))},this))};
DKI.RenderService.prototype.sortGroupRowSections=function(b){for(var h=[],c=null,l=null,m=0;m<b.length;m++){var q=b[m],n=0<m?b[m-1]:null;if(""!=q.parameters.batch.id){if(0==m||n&&n.parameters.batch.id!=q.parameters.batch.id){args=DKI.applyIf({group:q},this.defaultArgs);var l=Handlebars.compile("{{\x3e rowOrSectionStyle}}")(args),n=Handlebars.compile("{{\x3e rowOrSectionClass}}")(args),r=Handlebars.compile("{{\x3e sectionStyle}}")(args),k=Handlebars.compile("{{\x3e sectionClass}}")(args);Handlebars.compile("{{\x3e rowClass}}")(args);
Handlebars.compile("{{\x3e rowStyle}}")(args);c={type:"row",items:[],firstGroup:q};(dkiUA||top.dkiUA).isIE()||(k+=" flex");l={type:"section",styleString:l+r,classString:n+" "+k,firstGroup:q,items:[]};args.hasMaxWidth=""!=l.firstGroup.parameters.layout.layout_config.max_width;args.max_width=l.firstGroup.parameters.layout.layout_config.max_width;args.align=l.firstGroup.parameters.layout.layout_config.align;c.styleString=Handlebars.compile("{{\x3e rowStyle}}")(args);c.classString=Handlebars.compile("{{\x3e rowClass}}")(args)}else n&&
n.parameters.batch.id==q.parameters.batch.id&&n.parameters.batch.row_index!=q.parameters.batch.row_index&&(l?l.items.push(c):h.push(c),c={type:"row",items:[],firstGroup:q,styleString:""},args=DKI.applyIf({group:q},this.defaultArgs),l?(args.hasMaxWidth=""!=l.firstGroup.parameters.layout.layout_config.max_width,args.max_width=l.firstGroup.parameters.layout.layout_config.max_width,args.align=l.firstGroup.parameters.layout.layout_config.align):c.styleString+=Handlebars.compile("{{\x3e rowOrSectionStyle}}")(args),
c.styleString+=Handlebars.compile("{{\x3e rowStyle}}")(args),c.classString=Handlebars.compile("{{\x3e rowClass}}")(args));c.items.push(q);m!==b.length-1&&(1!==b[m+1].parameters.batch.row_index&&""!==b[m+1].parameters.batch.row_index||1!==b[m+1].parameters.batch.group_index&&1!==b[m+1].parameters.batch.index)&&""!==b[m+1].parameters.batch.id||(l?(l.items.push(c),h.push(l)):h.push(c),l=c=null)}else h.push({items:q,type:"group"})}return h};
DKI.RenderService.prototype.getColour=function(b){0<=b.toLowerCase().search("designcolor_")&&(idx=parseInt(b.toLowerCase().replace("designcolor_",""),10)-1,b="#"+this.state.design.designColours[idx]);return b};
DKI.RenderService.prototype.getAssetUrl=function(b){var h=this.state.baseUrl+"content/authoringtooldb/";return b.poster?h=this.state.renderEnvironment.export?"assets/posters/"+b.id+".png":h+("posters/"+b.id+".png"):b.outline&&"mediastream"==b.outline.elementtype?b.outline.src:b.id&&b.folderId?(h=this.state.renderEnvironment.export?"assets/"+b.id:h+(b.folderId+"/"+b.id),""!=b.extension&&(h+="."+b.extension),h):""};DKI.RenderService.prototype.renderSectionDecoration=function(b){return Handlebars.compile("{{sectionDecoration decoration\x3dthis.decoration rotate\x3dthis.rotate  background\x3dthis.background}}")(b)};
DKI.RenderService.prototype.parseElementDataImagesInMeta=function(b){b.meta=b.meta.replace(/src=/g,"srctrick\x3d");var h=$("\x3cdiv /\x3e").html(b.meta),c=this;if(DKI.renderService.state.renderEnvironment.export){for(var l={},m=0;m<b.parameters.config.elements_assets.length;m++)l[b.parameters.config.elements_assets[m].uploadid]=b.parameters.config.elements_assets[m].extention;h.find("img:not([srctrick^\x3ddata])").each(function(){if($(this).attr("srctrick")&&""!=$(this).attr("srctrick")){var b=$(this).attr("srctrick").replace(/\//g,
"\\").split("\\").pop();0>b.indexOf(".")&&l[b]&&(b+="."+l[b]);$(this).attr("srctrick","assets/"+b)}})}else h.find("img:not([srctrick^\x3ddata])").each(function(){$(this).attr("srctrick")&&""!=$(this).attr("srctrick")&&$(this).attr("srctrick",c.state.baseUrl+"admin/editor2/AssetManager/asset.cfm/"+$(this).data("id"))});b=h.html();return b=b.replace(/srctrick=/g,"src\x3d")};DKI.outline={events:{pageSelected:"DKI.OUTLINE.PAGESELECTED",objectSelected:"DKI.OUTLINE.OBJECTSELECTED",moduleSelected:"DKI.OUTLINE.MODULESELECTED"}};
!function(){Handlebars.registerPartial("dki_course_outline.module",'\x3cli class\x3d"dki_course_outline-module {{#if parameters.hideFromOutline}}hide{{/if}}"\x3e{{#if @root.showModule}}\x3ca href\x3d"#" class\x3d"{{#if @root.config.forceSequential}}{{#if complete}}{{else}}disabled-element{{/if}}{{/if}} {{#if complete}}complete{{/if}}" data-loid\x3d"{{loid}}" tabindex\x3d"1"\x3e{{#if @root.config.showNumbering}}\x3cspan class\x3d"outline-numbering"\x3e{{math @index "+" 1}}\x3c/span\x3e{{/if}} {{{loname}}}\x3c/a\x3e{{/if}}\x3cul class\x3d"nav navmenu-nav"\x3e{{#each objects}}{{\x3e dki_course_outline.object object\x3dthis oIndex\x3d@index mIndex\x3d../mIndex}}{{/each}}\x3c/ul\x3e\x3c/li\x3e');
Handlebars.registerPartial("dki_course_outline.object",'\x3cli class\x3d"dki_course_outline-object"\x3e\x3ca href\x3d"#" class\x3d"{{#if @root.config.forceSequential}}{{#if complete}}{{else}}disabled-element{{/if}}{{/if}} {{#if complete}}complete{{/if}}" data-objectid\x3d"{{objectid}}" tabindex\x3d"1"\x3e{{#if @root.config.showNumbering}}\x3cspan class\x3d"outline-numbering"\x3e{{#if @root.showModule}}{{math mIndex "+" 1}}.{{/if}}{{math @index "+" 1}}\x3c/span\x3e{{/if}} {{{title}}}\x3c/a\x3e\x3cul class\x3d"nav navmenu-nav"\x3e{{#if @root.config.showPages}}{{#each subeos}}{{\x3e dki_course_outline.subeo subeo\x3dthis oIndex\x3d../oIndex mIndex\x3d../mIndex sIndex\x3d@index}}{{/each}}{{/if}}\x3c/ul\x3e\x3c/li\x3e');
Handlebars.registerPartial("dki_course_outline.subeo",'\x3cli class\x3d"dki_course_outline-subeo {{#if page.parameters.hideFromOutline}}hide{{/if}}"\x3e\x3ca href\x3d"#" class\x3d"{{#if @root.config.forceSequential}}{{#if complete}}{{else}}disabled-element{{/if}}{{/if}} {{#if complete}}complete{{/if}}" data-subeoid\x3d"{{subeoid}} " data-pageid\x3d"{{page_id}}" tabindex\x3d"1"\x3e\x3cspan class\x3d"dki_course_outline-subeo-title"\x3e{{#if @root.config.showNumbering}}\x3cspan class\x3d"outline-numbering"\x3e{{#if @root.showModule}}{{math mIndex "+" 1}}.{{/if}}{{math oIndex "+" 1}}.{{math @index "+" 1}}\x3c/span\x3e{{/if}} {{{page.title}}}\x3c/span\x3e\x3ci class\x3d"fa fa-check"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/li\x3e');
Handlebars.registerHelper("dki_course_outline",function(b){if("undefined"!=typeof dataStorage){var h=DKI.applyIf(b.hash,{showNumbering:playerBehaviour.enablePageNumbering,forceSequential:playerBehaviour.forceSequential,showPages:!0,className:"",showModule:1<dataStorage.courseStructure.modules.length}),c=function(b){"undefined"==typeof b&&(b=$(".dk-outline-wrapper"));playerBehaviour.enablePageNumbering&&($(".outline-numbering",b).empty(),$(".dki_course_outline-module:not(.hide):not(.moduleInvalidated)",
b).each(function(b){var c=b+1;h.showModule&&$(this).find(".outline-numbering").html(c);$(this).find(".dki_course_outline-object:not(.hide)").each(function(b){var l=h.showModule?c+"."+(b+1):b+1;$(this).find(".outline-numbering").html(l);$(this).find(".dki_course_outline-subeo:not(.hide)").each(function(b){b=l+"."+(b+1);$(this).find(".outline-numbering").html(b)})})}))};b=Handlebars.compile('\x3cul class\x3d"nav navmenu-nav dk-outline-wrapper {{config.className}}"\x3e{{#each structure.modules}}{{\x3e dki_course_outline.module module\x3dthis mIndex\x3d@index}}{{/each}}\x3c/ul\x3e')({strings:DKI.strings,
config:h,structure:dataStorage.courseStructure,showModule:h.showModule});b=$(b);playerBehaviour.forceSequential&&(b.find(".dki_course_outline-object \x3e a:eq(0)").removeClass("disabled-element"),b.find(".dki_course_outline-subeo \x3e a:eq(0)").removeClass("disabled-element"),b.find(".dki_course_outline-module \x3e a:eq(0)").removeClass("disabled-element"));c(b);b=b[0].outerHTML;$(document).on(settings.clickEvent,".dki_course_outline-subeo \x3e a",function(){$(this).hasClass("disabled-element")||
($(document).trigger(DKI.outline.events.pageSelected,[$(this).data("pageId")]),player.navigation.ignoreSkipToContentFocus=!0,contentApi.jumpToSubeo($(this).data("subeoid"),!1))});$(document).on(settings.clickEvent,".dki_course_outline-object \x3e a",function(){$(this).hasClass("disabled-element")||($(document).trigger(DKI.outline.events.objectSelected,[this]),contentApi.jumpToLearningObject($(this).data("objectid"),!1))});$(document).on(settings.clickEvent,".dki_course_outline-module \x3e a",function(){$(this).hasClass("disabled-element")||
($(document).trigger(DKI.outline.events.moduleSelected,[this]),contentApi.jumpToModule({moduleID:$(this).data("loid")}))});$(document).on(DKI.ContentPage.events.started,function(b,c){$(".dki_course_outline-subeo a.current, .dki_course_outline-object a.current").removeClass("current");dataStorage.currentPage&&$(".dki_course_outline-subeo a[data-pageid\x3d'"+dataStorage.currentPage.page_id+"']").addClass("current");$(".dki_course_outline-object a[data-objectid\x3d'"+contentApi.getObjectID()+"']").addClass("current")});
$(document).on(DKI.ContentPage.events.started,function(b,c){$(".dki_course_outline-subeo a.current, .dki_course_outline-object a.current").removeClass("current");dataStorage.currentPage&&$(".dki_course_outline-subeo a[data-pageid\x3d'"+dataStorage.currentPage.page_id+"']").addClass("current");$(".dki_course_outline-object a[data-objectid\x3d'"+contentApi.getObjectID()+"']").addClass("current")});$(dataStorage).on(DKI.DataStorage.events.pageCompleted,function(b,c){$(".dki_course_outline-subeo a[data-pageid\x3d'"+
c+"']").removeClass("disabled-element");$(".dki_course_outline-subeo a[data-pageid\x3d'"+c+"']").closest(".dki_course_outline-object").find("\x3ea").removeClass("disabled-element");$(".dki_course_outline-subeo a[data-pageid\x3d'"+c+"']").closest(".dki_course_outline-module").find("\x3ea").removeClass("disabled-element");$(".dki_course_outline-subeo a[data-pageid\x3d'"+c+"']").addClass("complete")});$(dataStorage).on(DKI.DataStorage.events.objectCompleted,function(b,c){$(".dki_course_outline-object a[data-objectid\x3d'"+
c+"']").addClass("complete")});$(dataStorage).on(DKI.DataStorage.events.moduleCompleted,function(b,c){$(".dki_course_outline-module a[data-loid\x3d'"+c+"']").addClass("complete")});$(player).on(player.events.bypassForceSequential,function(){$(".dki_course_outline-object .disabled-element, .dki_course_outline-subeo .disabled-element").removeClass("disabled-element")});$(document).on(DKI.DataStorage.events.moduleInvalidated,function(b,h){$(".dki_course_outline-module a[data-loid\x3d'"+h+"']").closest(".dki_course_outline-module").addClass("hide");
c()});$(document).on(DKI.DataStorage.events.moduleRevalidated,function(b,h){$(".dki_course_outline-module a[data-loid\x3d'"+h+"']").closest(".dki_course_outline-module").removeClass("hide");c()});return b}})}();
!function(b,h,c,l){function m(b,k){var h,l,m=[],p=0;b&&b.isDefaultPrevented()||(b.preventDefault(),k=b&&b.data?b.data.options:k||{},h=k.$target||c(b.currentTarget),l=h.attr("data-fancybox")||"",l?(m=k.selector?c(k.selector):b.data?b.data.items:[],m=m.length?m.filter('[data-fancybox\x3d"'+l+'"]'):c('[data-fancybox\x3d"'+l+'"]'),p=m.index(h),0>p&&(p=0)):m=[h],c.fancybox.open(m,k,p))}if((b.console=b.console||{info:function(b){}},c)&&!c.fn.fancybox){var q={loop:!1,gutter:50,keyboard:!0,arrows:!0,infobar:!0,
smallBtn:"auto",toolbar:"auto",buttons:["zoom","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'\x3ciframe id\x3d"fancybox-frame{rnd}" name\x3d"fancybox-frame{rnd}" class\x3d"fancybox-iframe" frameborder\x3d"0" vspace\x3d"0" hspace\x3d"0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency\x3d"true" src\x3d""\x3e\x3c/iframe\x3e',preload:!0,css:{},attr:{scrolling:"auto"}},defaultType:"image",animationEffect:"zoom",
animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'\x3cdiv class\x3d"fancybox-container" role\x3d"dialog" tabindex\x3d"-1"\x3e\x3cdiv class\x3d"fancybox-bg"\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-inner"\x3e\x3cdiv class\x3d"fancybox-infobar"\x3e\x3cspan data-fancybox-index\x3e\x3c/span\x3e\x26nbsp;/\x26nbsp;\x3cspan data-fancybox-count\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-toolbar"\x3e{{buttons}}\x3c/div\x3e\x3cdiv class\x3d"fancybox-navigation"\x3e{{arrows}}\x3c/div\x3e\x3cdiv class\x3d"fancybox-stage"\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-caption"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
spinnerTpl:'\x3cdiv class\x3d"fancybox-loading"\x3e\x3c/div\x3e',errorTpl:'\x3cdiv class\x3d"fancybox-error"\x3e\x3cp\x3e{{ERROR}}\x3c/p\x3e\x3c/div\x3e',btnTpl:{download:'\x3ca download data-fancybox-download class\x3d"fancybox-button fancybox-button--download" title\x3d"{{DOWNLOAD}}" href\x3d"javascript:;"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M13,16 L20,23 L27,16 M20,7 L20,23 M10,24 L10,28 L30,28 L30,24" /\x3e\x3c/svg\x3e\x3c/a\x3e',zoom:'\x3cbutton data-fancybox-zoom class\x3d"fancybox-button fancybox-button--zoom" title\x3d"{{ZOOM}}"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M18,17 m-8,0 a8,8 0 1,0 16,0 a8,8 0 1,0 -16,0 M24,22 L31,29" /\x3e\x3c/svg\x3e\x3c/button\x3e',
close:'\x3cbutton data-fancybox-close class\x3d"fancybox-button fancybox-button--close" title\x3d"{{CLOSE}}"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M10,10 L30,30 M30,10 L10,30" /\x3e\x3c/svg\x3e\x3c/button\x3e',smallBtn:'\x3cbutton data-fancybox-close class\x3d"fancybox-close-small" title\x3d"{{CLOSE}}"\x3e\x3csvg viewBox\x3d"0 0 32 32"\x3e\x3cpath d\x3d"M10,10 L22,22 M22,10 L10,22"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/button\x3e',arrowLeft:'\x3ca data-fancybox-prev class\x3d"fancybox-button fancybox-button--arrow_left" title\x3d"{{PREV}}" href\x3d"javascript:;"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M18,12 L10,20 L18,28 M10,20 L30,20"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/a\x3e',
arrowRight:'\x3ca data-fancybox-next class\x3d"fancybox-button fancybox-button--arrow_right" title\x3d"{{NEXT}}" href\x3d"javascript:;"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M10,20 L30,20 M22,12 L30,20 L22,28"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/a\x3e'},parentEl:"body",autoFocus:!1,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:4E3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},
wheel:"auto",onInit:c.noop,beforeLoad:c.noop,afterLoad:c.noop,beforeShow:c.noop,afterShow:c.noop,beforeClose:c.noop,afterClose:c.noop,onActivate:c.noop,onDeactivate:c.noop,clickContent:function(b,c){return"image"===b.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{idleTime:!1,clickContent:function(b,c){return"image"===b.type&&"toggleControls"},clickSlide:function(b,c){return"image"===b.type?"toggleControls":"close"},dblclickContent:function(b,
c){return"image"===b.type&&"zoom"},dblclickSlide:function(b,c){return"image"===b.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. \x3cbr/\x3e Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zur\u00fcck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. \x3cbr/\x3e Bitte versuchen Sie es sp\u00e4ter nochmal.",
PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Ma\u00dfstab"}}},n=c(b),r=c(h),k=0,p=function(){return b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame||function(c){return b.setTimeout(c,1E3/60)}}(),v=function(){var b,c=h.createElement("fakeelement"),k={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",
WebkitTransition:"webkitTransitionEnd"};for(b in k)if(c.style[b]!==l)return k[b];return"transitionend"}(),z=function(b){return b&&b.length&&b[0].offsetHeight},x=function(b,k){var h=c.extend(!0,{},b,k);return c.each(k,function(b,k){c.isArray(k)&&(h[b]=k)}),h},A=function(b,l,m){this.opts=x({index:m},c.fancybox.defaults);c.isPlainObject(l)&&(this.opts=x(this.opts,l));c.fancybox.isMobile&&(this.opts=x(this.opts,this.opts.mobile));this.id=this.opts.id||++k;this.currIndex=parseInt(this.opts.index,10)||
0;this.prevPos=this.prevIndex=null;this.currPos=0;this.firstRun=!0;this.group=[];this.slides={};this.addContent(b);this.group.length&&(this.$lastFocus=c(h.activeElement).trigger("blur"),this.init())};c.extend(A.prototype,{init:function(){var k,m,p,v=this,n=v.group[v.currIndex].opts,x=c.fancybox.scrollbarWidth;c.fancybox.getInstance()||!1===n.hideScrollbar||(c("body").addClass("fancybox-active"),!c.fancybox.isMobile&&h.body.scrollHeight>b.innerHeight&&(x===l&&(k=c('\x3cdiv style\x3d"width:100px;height:100px;overflow:scroll;" /\x3e').appendTo("body"),
x=c.fancybox.scrollbarWidth=k[0].offsetWidth-k[0].clientWidth,k.remove()),c("head").append('\x3cstyle id\x3d"fancybox-style-noscroll" type\x3d"text/css"\x3e.compensate-for-scrollbar { margin-right: '+x+"px; }\x3c/style\x3e"),c("body").addClass("compensate-for-scrollbar")));p="";c.each(n.buttons,function(b,c){p+=n.btnTpl[c]||""});m=c(v.translate(v,n.baseTpl.replace("{{buttons}}",p).replace("{{arrows}}",n.btnTpl.arrowLeft+n.btnTpl.arrowRight))).attr("id","fancybox-container-"+v.id).addClass("fancybox-is-hidden").addClass(n.baseClass).data("FancyBox",
v).appendTo(n.parentEl);v.$refs={container:m};"bg inner infobar toolbar stage caption navigation".split(" ").forEach(function(b){v.$refs[b]=m.find(".fancybox-"+b)});v.trigger("onInit");v.activate();v.jumpTo(v.currIndex)},translate:function(b,c){var k=b.opts.i18n[b.opts.lang];return c.replace(/\{\{(\w+)\}\}/g,function(b,c){c=k[c];return c===l?b:c})},addContent:function(b){var k,h=this;b=c.makeArray(b);c.each(b,function(b,k){var m,u,p,v;b={};p={};c.isPlainObject(k)?(b=k,p=k.opts||k):"object"===c.type(k)&&
c(k).length?(m=c(k),p=m.data()||{},p=c.extend(!0,{},p,p.options),p.$orig=m,b.src=h.opts.src||p.src||m.attr("href"),b.type||b.src||(b.type="inline",b.src=k)):b={type:"html",src:k+""};b.opts=c.extend(!0,{},h.opts,p);c.isArray(p.buttons)&&(b.opts.buttons=p.buttons);m=b.type||b.opts.type;p=b.src||"";!m&&p&&((u=p.match(/\.(mp4|mov|ogv)((\?|#).*)?$/i))?(m="video",b.opts.videoFormat||(b.opts.videoFormat="video/"+("ogv"===u[1]?"ogg":u[1]))):p.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?
m="image":p.match(/\.(pdf)((\?|#).*)?$/i)?m="iframe":"#"===p.charAt(0)&&(m="inline"));m?b.type=m:h.trigger("objectNeedsType",b);b.contentType||(b.contentType=-1<c.inArray(b.type,["html","inline","ajax"])?"html":b.type);b.index=h.group.length;"auto"==b.opts.smallBtn&&(b.opts.smallBtn=-1<c.inArray(b.type,["html","inline","ajax"]));"auto"===b.opts.toolbar&&(b.opts.toolbar=!b.opts.smallBtn);b.opts.$trigger&&b.index===h.opts.index&&(b.opts.$thumb=b.opts.$trigger.find("img:first"));b.opts.$thumb&&b.opts.$thumb.length||
!b.opts.$orig||(b.opts.$thumb=b.opts.$orig.find("img:first"));"function"===c.type(b.opts.caption)&&(b.opts.caption=b.opts.caption.apply(k,[h,b]));"function"===c.type(h.opts.caption)&&(b.opts.caption=h.opts.caption.apply(k,[h,b]));b.opts.caption instanceof c||(b.opts.caption=b.opts.caption===l?"":b.opts.caption+"");"ajax"===b.type&&(v=p.split(/\s+/,2),1<v.length&&(b.src=v.shift(),b.opts.filter=v.shift()));b.opts.modal&&(b.opts=c.extend(!0,b.opts,{infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,
fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1}));h.group.push(b)});Object.keys(h.slides).length&&(h.updateControls(),k=h.Thumbs,k&&k.isActive&&(k.create(),k.focus()))},addEvents:function(){var k=this;k.removeEvents();k.$refs.container.on("click.fb-close","[data-fancybox-close]",function(b){b.stopPropagation();b.preventDefault();k.close(b)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(b){b.stopPropagation();
b.preventDefault();k.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(b){b.stopPropagation();b.preventDefault();k.next()}).on("click.fb","[data-fancybox-zoom]",function(b){k[k.isScaledDown()?"scaleToActual":"scaleToFit"]()});n.on("orientationchange.fb resize.fb",function(b){b&&b.originalEvent&&"resize"===b.originalEvent.type?p(function(){k.update()}):(k.$refs.stage.hide(),setTimeout(function(){k.$refs.stage.show();k.update()},c.fancybox.isMobile?600:250))});r.on("focusin.fb",
function(b){var k=c.fancybox?c.fancybox.getInstance():null;k.isClosing||!k.current||!k.current.opts.trapFocus||c(b.target).hasClass("fancybox-container")||c(b.target).is(h)||k&&"fixed"!==c(b.target).css("position")&&!k.$refs.container.has(b.target).length&&(b.stopPropagation(),k.focus())});r.on("keydown.fb",function(b){var h=k.current,l=b.keyCode||b.which;if(h&&h.opts.keyboard&&!(b.ctrlKey||b.altKey||b.shiftKey||c(b.target).is("input")||c(b.target).is("textarea")))return 8===l||27===l?(b.preventDefault(),
void k.close(b)):37===l||38===l?(b.preventDefault(),void k.previous()):39===l||40===l?(b.preventDefault(),void k.next()):void k.trigger("afterKeydown",b,l)});k.group[k.currIndex].opts.idleTime&&(k.idleSecondsCounter=0,r.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(b){k.idleSecondsCounter=0;k.isIdle&&k.showControls();k.isIdle=!1}),k.idleInterval=b.setInterval(function(){k.idleSecondsCounter++;k.idleSecondsCounter>=
k.group[k.currIndex].opts.idleTime&&!k.isDragging&&(k.isIdle=!0,k.idleSecondsCounter=0,k.hideControls())},1E3))},removeEvents:function(){n.off("orientationchange.fb resize.fb");r.off("focusin.fb keydown.fb .fb-idle");this.$refs.container.off(".fb-close .fb-prev .fb-next");this.idleInterval&&(b.clearInterval(this.idleInterval),this.idleInterval=null)},previous:function(b){return this.jumpTo(this.currPos-1,b)},next:function(b){return this.jumpTo(this.currPos+1,b)},jumpTo:function(b,k){var h,m,p,v,n,
x,q,r=this,A=r.group.length;if(!(r.isDragging||r.isClosing||r.isAnimating&&r.firstRun)){if(b=parseInt(b,10),m=r.current?r.current.opts.loop:r.opts.loop,!m&&(0>b||b>=A))return!1;if(h=r.firstRun=!Object.keys(r.slides).length,!(2>A&&!h&&r.isDragging)){if(v=r.current,r.prevIndex=r.currIndex,r.prevPos=r.currPos,p=r.createSlide(b),1<A&&((m||0<p.index)&&r.createSlide(b-1),(m||p.index<A-1)&&r.createSlide(b+1)),r.current=p,r.currIndex=p.index,r.currPos=p.pos,r.trigger("beforeShow",h),r.updateControls(),x=
c.fancybox.getTranslate(p.$slide),p.isMoved=(0!==x.left||0!==x.top)&&!p.$slide.hasClass("fancybox-animated"),p.forcedDuration=l,c.isNumeric(k)?p.forcedDuration=k:k=p.opts[h?"animationDuration":"transitionDuration"],k=parseInt(k,10),h)return p.opts.animationEffect&&k&&r.$refs.container.css("transition-duration",k+"ms"),r.$refs.container.removeClass("fancybox-is-hidden"),z(r.$refs.container),r.$refs.container.addClass("fancybox-is-open"),z(r.$refs.container),p.$slide.addClass("fancybox-slide--previous"),
r.loadSlide(p),p.$slide.removeClass("fancybox-slide--previous").addClass("fancybox-slide--current"),void r.preload("image");c.each(r.slides,function(b,k){c.fancybox.stop(k.$slide)});p.$slide.removeClass("fancybox-slide--next fancybox-slide--previous").addClass("fancybox-slide--current");p.isMoved?(n=Math.round(p.$slide.width()),c.each(r.slides,function(b,h){b=h.pos-p.pos;c.fancybox.animate(h.$slide,{top:0,left:b*n+b*h.opts.gutter},k,function(){h.$slide.removeAttr("style").removeClass("fancybox-slide--next fancybox-slide--previous");
h.pos===r.currPos&&(p.isMoved=!1,r.complete())})})):r.$refs.stage.children().removeAttr("style");p.isLoaded?r.revealContent(p):r.loadSlide(p);r.preload("image");v.pos!==p.pos&&(q="fancybox-slide--"+(v.pos>p.pos?"next":"previous"),v.$slide.removeClass("fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous"),v.isComplete=!1,k&&(p.isMoved||p.opts.transitionEffect)&&(p.isMoved?v.$slide.addClass(q):(q="fancybox-animated "+q+" fancybox-fx-"+p.opts.transitionEffect,
c.fancybox.animate(v.$slide,q,k,function(){v.$slide.removeClass(q).removeAttr("style")}))))}}},createSlide:function(b){var k,h;return h=b%this.group.length,h=0>h?this.group.length+h:h,!this.slides[b]&&this.group[h]&&(k=c('\x3cdiv class\x3d"fancybox-slide"\x3e\x3c/div\x3e').appendTo(this.$refs.stage),this.slides[b]=c.extend(!0,{},this.group[h],{pos:b,$slide:k,isLoaded:!1}),this.updateSlide(this.slides[b])),this.slides[b]},scaleToActual:function(b,k,h){var m,p,v,n,x,q=this,z=q.current,r=z.$content,
A=c.fancybox.getTranslate(z.$slide).width,O=c.fancybox.getTranslate(z.$slide).height,J=z.width,aa=z.height;!q.isAnimating&&r&&"image"==z.type&&z.isLoaded&&!z.hasError&&(c.fancybox.stop(r),q.isAnimating=!0,b=b===l?.5*A:b,k=k===l?.5*O:k,m=c.fancybox.getTranslate(r),m.top-=c.fancybox.getTranslate(z.$slide).top,m.left-=c.fancybox.getTranslate(z.$slide).left,n=J/m.width,x=aa/m.height,p=.5*A-.5*J,v=.5*O-.5*aa,J>A&&(p=m.left*n-(b*n-b),0<p&&(p=0),p<A-J&&(p=A-J)),aa>O&&(v=m.top*x-(k*x-k),0<v&&(v=0),v<O-aa&&
(v=O-aa)),q.updateCursor(J,aa),c.fancybox.animate(r,{top:v,left:p,scaleX:n,scaleY:x},h||330,function(){q.isAnimating=!1}),q.SlideShow&&q.SlideShow.isActive&&q.SlideShow.stop())},scaleToFit:function(b){var k,h=this,l=h.current,m=l.$content;!h.isAnimating&&m&&"image"==l.type&&l.isLoaded&&!l.hasError&&(c.fancybox.stop(m),h.isAnimating=!0,k=h.getFitPos(l),h.updateCursor(k.width,k.height),c.fancybox.animate(m,{top:k.top,left:k.left,scaleX:k.width/m.width(),scaleY:k.height/m.height()},b||330,function(){h.isAnimating=
!1}))},getFitPos:function(b){var c,k,h,l,m,p=b.$content,v=b.width||b.opts.width,n=b.height||b.opts.height,x={};return!!(b.isLoaded&&p&&p.length)&&(l={top:parseInt(b.$slide.css("paddingTop"),10),right:parseInt(b.$slide.css("paddingRight"),10),bottom:parseInt(b.$slide.css("paddingBottom"),10),left:parseInt(b.$slide.css("paddingLeft"),10)},c=parseInt(this.$refs.stage.width(),10)-(l.left+l.right),k=parseInt(this.$refs.stage.height(),10)-(l.top+l.bottom),v&&n||(v=c,n=k),h=Math.min(1,c/v,k/n),v=Math.floor(h*
v),n=Math.floor(h*n),"image"===b.type?(x.top=Math.floor(.5*(k-n))+l.top,x.left=Math.floor(.5*(c-v))+l.left):"video"===b.contentType&&(m=b.opts.width&&b.opts.height?v/n:b.opts.ratio||16/9,n>v/m?n=v/m:v>n*m&&(v=n*m)),x.width=v,x.height=n,x)},update:function(){var b=this;c.each(b.slides,function(c,k){b.updateSlide(k)})},updateSlide:function(b,k){k=b&&b.$content;var h=b.width||b.opts.width,l=b.height||b.opts.height;k&&(h||l||"video"===b.contentType)&&!b.hasError&&(c.fancybox.stop(k),c.fancybox.setTranslate(k,
this.getFitPos(b)),b.pos===this.currPos&&(this.isAnimating=!1,this.updateCursor()));b.$slide.trigger("refresh");this.$refs.toolbar.toggleClass("compensate-for-scrollbar",b.$slide.get(0).scrollHeight>b.$slide.get(0).clientHeight);this.trigger("onUpdate",b)},centerSlide:function(b,k){var h,m;this.current&&(h=Math.round(b.$slide.width()),m=b.pos-this.current.pos,c.fancybox.animate(b.$slide,{top:0,left:m*h+m*b.opts.gutter,opacity:1},k===l?0:k,null,!1))},updateCursor:function(b,k){var h,l=this.current,
m=this.$refs.container.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut");l&&!this.isClosing&&(h=this.isZoomable(),m.toggleClass("fancybox-is-zoomable",h),c("[data-fancybox-zoom]").prop("disabled",!h),h&&("zoom"===l.opts.clickContent||c.isFunction(l.opts.clickContent)&&"zoom"===l.opts.clickContent(l))?this.isScaledDown(b,k)?m.addClass("fancybox-can-zoomIn"):l.opts.touch?m.addClass("fancybox-can-drag"):m.addClass("fancybox-can-zoomOut"):l.opts.touch&&"video"!==
l.contentType&&m.addClass("fancybox-can-drag"))},isZoomable:function(){var b,c=this.current;return!c||this.isClosing||"image"!==c.type||c.hasError||c.isLoaded&&(b=this.getFitPos(c),!(c.width>b.width||c.height>b.height))?!1:!0},isScaledDown:function(b,k){var h=!1,m=this.current,p=m.$content;return b!==l&&k!==l?h=b<m.width&&k<m.height:p&&(h=c.fancybox.getTranslate(p),h=h.width<m.width&&h.height<m.height),h},canPan:function(){var b,c=!1,k=this.current;return"image"===k.type&&(b=k.$content)&&!k.hasError&&
(c=this.getFitPos(k),c=1<Math.abs(b.width()-c.width)||1<Math.abs(b.height()-c.height)),c},loadSlide:function(b){var k,h,l,m=this;if(!b.isLoading&&!b.isLoaded){switch(b.isLoading=!0,m.trigger("beforeLoad",b),k=b.type,h=b.$slide,h.off("refresh").trigger("onReset").addClass(b.opts.slideClass),k){case "image":m.setImage(b);break;case "iframe":m.setIframe(b);break;case "html":m.setContent(b,b.src||b.content);break;case "video":m.setContent(b,'\x3cvideo class\x3d"fancybox-video" controls controlsList\x3d"nodownload"\x3e\x3csource src\x3d"'+
b.src+'" type\x3d"'+b.opts.videoFormat+"\"\x3eYour browser doesn't support HTML5 video\x3c/video");break;case "inline":c(b.src).length?m.setContent(b,c(b.src)):m.setError(b);break;case "ajax":m.showLoading(b);l=c.ajax(c.extend({},b.opts.ajax.settings,{url:b.src,success:function(c,k){"success"===k&&m.setContent(b,c)},error:function(c,k){c&&"abort"!==k&&m.setError(b)}}));h.one("onReset",function(){l.abort()});break;default:m.setError(b)}return!0}},setImage:function(k){var h,l,m,p,v=this,n=k.opts.srcset||
k.opts.image.srcset;if(k.timouts=setTimeout(function(){var b=k.$image;!k.isLoading||b&&b[0].complete||k.hasError||v.showLoading(k)},350),n){m=b.devicePixelRatio||1;p=b.innerWidth*m;l=n.split(",").map(function(b){var c={};return b.trim().split(/\s+/).forEach(function(b,k){var h=parseInt(b.substring(0,b.length-1),10);return 0===k?c.url=b:void(h&&(c.value=h,c.postfix=b[b.length-1]))}),c});l.sort(function(b,c){return b.value-c.value});for(var x=0;x<l.length;x++){var q=l[x];if("w"===q.postfix&&q.value>=
p||"x"===q.postfix&&q.value>=m){h=q;break}}!h&&l.length&&(h=l[l.length-1]);h&&(k.src=h.url,k.width&&k.height&&"w"==h.postfix&&(k.height=k.width/k.height*h.value,k.width=h.value),k.opts.srcset=n)}k.$content=c('\x3cdiv class\x3d"fancybox-content"\x3e\x3c/div\x3e').addClass("fancybox-is-hidden").appendTo(k.$slide.addClass("fancybox-slide--image"));h=k.opts.thumb||!(!k.opts.$thumb||!k.opts.$thumb.length)&&k.opts.$thumb.attr("src");!1!==k.opts.preload&&k.opts.width&&k.opts.height&&h&&(k.width=k.opts.width,
k.height=k.opts.height,k.$ghost=c("\x3cimg /\x3e").one("error",function(){c(this).remove();k.$ghost=null}).one("load",function(){v.afterLoad(k)}).addClass("fancybox-image").appendTo(k.$content).attr("src",h));v.setBigImage(k)},setBigImage:function(b){var k=this,h=c("\x3cimg /\x3e");b.$image=h.one("error",function(){k.setError(b)}).one("load",function(){var c;b.$ghost||(k.resolveImageSlideSize(b,this.naturalWidth,this.naturalHeight),k.afterLoad(b));b.timouts&&(clearTimeout(b.timouts),b.timouts=null);
k.isClosing||(b.opts.srcset&&(c=b.opts.sizes,c&&"auto"!==c||(c=(1<b.width/b.height&&1<n.width()/n.height()?"100":Math.round(b.width/b.height*100))+"vw"),h.attr("sizes",c).attr("srcset",b.opts.srcset)),b.$ghost&&setTimeout(function(){b.$ghost&&!k.isClosing&&b.$ghost.hide()},Math.min(300,Math.max(1E3,b.height/1600))),k.hideLoading(b))}).addClass("fancybox-image").attr("src",b.src).appendTo(b.$content);(h[0].complete||"complete"==h[0].readyState)&&h[0].naturalWidth&&h[0].naturalHeight?h.trigger("load"):
h[0].error&&h.trigger("error")},resolveImageSlideSize:function(b,c,k){var h=parseInt(b.opts.width,10),l=parseInt(b.opts.height,10);b.width=c;b.height=k;0<h&&(b.width=h,b.height=Math.floor(h*k/c));0<l&&(b.width=Math.floor(l*c/k),b.height=l)},setIframe:function(b){var k,h=this,m=b.opts.iframe,p=b.$slide;b.$content=c('\x3cdiv class\x3d"fancybox-content'+(m.preload?" fancybox-is-hidden":"")+'"\x3e\x3c/div\x3e').css(m.css).appendTo(p);p.addClass("fancybox-slide--"+b.contentType);b.$iframe=k=c(m.tpl.replace(/\{rnd\}/g,
(new Date).getTime())).attr(m.attr).appendTo(b.$content);m.preload?(h.showLoading(b),k.on("load.fb error.fb",function(c){this.isReady=1;b.$slide.trigger("refresh");h.afterLoad(b)}),p.on("refresh.fb",function(){var c,h,p=b.$content,v=m.css.width,n=m.css.height;if(1===k[0].isReady){try{c=k.contents(),h=c.find("body")}catch(x){}h&&h.length&&h.children().length&&(p.css({width:"",height:""}),v===l&&(v=Math.ceil(Math.max(h[0].clientWidth,h.outerWidth(!0)))),v&&p.width(v),n===l&&(n=Math.ceil(Math.max(h[0].clientHeight,
h.outerHeight(!0)))),n&&p.height(n));p.removeClass("fancybox-is-hidden")}})):this.afterLoad(b);k.attr("src",b.src);p.one("onReset",function(){try{c(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(k){}c(this).off("refresh.fb").empty();b.isLoaded=!1})},setContent:function(b,k){this.isClosing||(this.hideLoading(b),b.$content&&c.fancybox.stop(b.$content),b.$slide.empty(),k&&k.hasOwnProperty&&k instanceof c&&k.parent().length?(k.parent().parent(".fancybox-slide--inline").trigger("onReset"),
b.$placeholder=c("\x3cdiv\x3e").hide().insertAfter(k),k.css("display","inline-block")):b.hasError||("string"===c.type(k)&&(k=c("\x3cdiv\x3e").append(c.trim(k)).contents(),3===k[0].nodeType&&(k=c("\x3cdiv\x3e").html(k))),b.opts.filter&&(k=c("\x3cdiv\x3e").html(k).find(b.opts.filter))),b.$slide.one("onReset",function(){c(this).find("video,audio").trigger("pause");b.$placeholder&&(b.$placeholder.after(k.hide()).remove(),b.$placeholder=null);b.$smallBtn&&(b.$smallBtn.remove(),b.$smallBtn=null);b.hasError||
(c(this).empty(),b.isLoaded=!1)}),c(k).appendTo(b.$slide),c(k).is("video,audio")&&(c(k).addClass("fancybox-video"),c(k).wrap("\x3cdiv\x3e\x3c/div\x3e"),b.contentType="video",b.opts.width=b.opts.width||c(k).attr("width"),b.opts.height=b.opts.height||c(k).attr("height")),b.$content=b.$slide.children().filter("div,form,main,video,audio").first().addClass("fancybox-content"),b.$slide.addClass("fancybox-slide--"+b.contentType),this.afterLoad(b))},setError:function(b){b.hasError=!0;b.$slide.trigger("onReset").removeClass("fancybox-slide--"+
b.contentType).addClass("fancybox-slide--error");b.contentType="html";this.setContent(b,this.translate(b,b.opts.errorTpl));b.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(b){(b=b||this.current)&&!b.$spinner&&(b.$spinner=c(this.translate(this,this.opts.spinnerTpl)).appendTo(b.$slide))},hideLoading:function(b){(b=b||this.current)&&b.$spinner&&(b.$spinner.remove(),delete b.$spinner)},afterLoad:function(b){this.isClosing||(b.isLoading=!1,b.isLoaded=!0,this.trigger("afterLoad",b),this.hideLoading(b),
b.pos===this.currPos&&this.updateCursor(),!b.opts.smallBtn||b.$smallBtn&&b.$smallBtn.length||(b.$smallBtn=c(this.translate(b,b.opts.btnTpl.smallBtn)).prependTo(b.$content)),b.opts.protect&&b.$content&&!b.hasError&&(b.$content.on("contextmenu.fb",function(b){return 2==b.button&&b.preventDefault(),!0}),"image"===b.type&&c('\x3cdiv class\x3d"fancybox-spaceball"\x3e\x3c/div\x3e').appendTo(b.$content)),this.revealContent(b))},revealContent:function(b){var k,h,m,p,v=this,n=b.$slide,x=!1,q=!1;return k=b.opts[v.firstRun?
"animationEffect":"transitionEffect"],m=b.opts[v.firstRun?"animationDuration":"transitionDuration"],m=parseInt(b.forcedDuration===l?m:b.forcedDuration,10),b.pos===v.currPos&&(b.isComplete?k=!1:v.isAnimating=!0),!b.isMoved&&b.pos===v.currPos&&m||(k=!1),"zoom"===k&&(b.pos===v.currPos&&m&&"image"===b.type&&!b.hasError&&(q=v.getThumbPos(b))?x=v.getFitPos(b):k="fade"),"zoom"===k?(x.scaleX=x.width/q.width,x.scaleY=x.height/q.height,p=b.opts.zoomOpacity,"auto"==p&&(p=.1<Math.abs(b.width/b.height-q.width/
q.height)),p&&(q.opacity=.1,x.opacity=1),c.fancybox.setTranslate(b.$content.removeClass("fancybox-is-hidden"),q),z(b.$content),void c.fancybox.animate(b.$content,x,m,function(){v.isAnimating=!1;v.complete()})):(v.updateSlide(b),k?(c.fancybox.stop(n),h="fancybox-animated fancybox-slide--"+(b.pos>=v.prevPos?"next":"previous")+" fancybox-fx-"+k,n.removeAttr("style").removeClass("fancybox-slide--current fancybox-slide--next fancybox-slide--previous").addClass(h),b.$content.removeClass("fancybox-is-hidden"),
z(n),void c.fancybox.animate(n,"fancybox-slide--current",m,function(c){n.removeClass(h).removeAttr("style");b.pos===v.currPos&&v.complete()},!0)):(z(n),b.$content.removeClass("fancybox-is-hidden"),void(b.pos===v.currPos&&v.complete())))},getThumbPos:function(k){var l,m=!1,p=(k=k.opts.$thumb)&&k.length&&k[0].ownerDocument===h?k.offset():0,v=function(k){var h;k=k[0];for(var l=k.getBoundingClientRect(),m=[];null!==k.parentElement;)"hidden"!==c(k.parentElement).css("overflow")&&"auto"!==c(k.parentElement).css("overflow")||
m.push(k.parentElement.getBoundingClientRect()),k=k.parentElement;return h=m.every(function(b){var c=Math.min(l.bottom,b.bottom)-Math.max(l.top,b.top);return 0<Math.min(l.right,b.right)-Math.max(l.left,b.left)&&0<c}),h&&0<l.bottom&&0<l.right&&l.left<c(b).width()&&l.top<c(b).height()};return p&&v(k)&&(l=this.$refs.stage.offset(),m={top:p.top-l.top+parseFloat(k.css("border-top-width")||0),left:p.left-l.left+parseFloat(k.css("border-left-width")||0),width:k.width(),height:k.height(),scaleX:1,scaleY:1}),
m},complete:function(){var b=this,k=b.current,l={};!k.isMoved&&k.isLoaded&&(k.isComplete||(k.isComplete=!0,k.$slide.siblings().trigger("onReset"),b.preload("inline"),z(k.$slide),k.$slide.addClass("fancybox-slide--complete"),c.each(b.slides,function(k,h){h.pos>=b.currPos-1&&h.pos<=b.currPos+1?l[h.pos]=h:h&&(c.fancybox.stop(h.$slide),h.$slide.off().remove())}),b.slides=l),b.isAnimating=!1,b.updateCursor(),b.trigger("afterShow"),k.$slide.find("video,audio").filter(":visible:first").trigger("play"),(c(h.activeElement).is("[disabled]")||
k.opts.autoFocus&&"image"!=k.type&&"iframe"!==k.type)&&b.focus())},preload:function(b){var c=this.slides[this.currPos+1],k=this.slides[this.currPos-1];c&&c.type===b&&this.loadSlide(c);k&&k.type===b&&this.loadSlide(k)},focus:function(){var b,c=this.current;this.isClosing||c&&c.isComplete&&c.$content&&(b=c.$content.find("input[autofocus]:enabled:visible:first"),b.length||(b=c.$content.find("button,:input,[tabindex],a").filter(":enabled:visible:first")),b=b&&b.length?b:c.$content,b.trigger("focus"))},
activate:function(){var b=this;c(".fancybox-container").each(function(){var k=c(this).data("FancyBox");k&&k.id!==b.id&&!k.isClosing&&(k.trigger("onDeactivate"),k.removeEvents(),k.isVisible=!1)});b.isVisible=!0;(b.current||b.isIdle)&&(b.update(),b.updateControls());b.trigger("onActivate");b.addEvents()},close:function(b,k){var h,l,m,n,x,q,r,A=this,H=A.current,P=function(){A.cleanUp(b)};return!A.isClosing&&(A.isClosing=!0,!1===A.trigger("beforeClose",b)?(A.isClosing=!1,p(function(){A.update()}),!1):
(A.removeEvents(),H.timouts&&clearTimeout(H.timouts),m=H.$content,h=H.opts.animationEffect,l=c.isNumeric(k)?k:h?H.opts.animationDuration:0,H.$slide.off(v).removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),H.$slide.siblings().trigger("onReset").remove(),l&&A.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing"),A.hideLoading(H),A.hideControls(),A.updateCursor(),"zoom"!==h||!0!==b&&m&&l&&"image"===H.type&&!H.hasError&&(r=
A.getThumbPos(H))||(h="fade"),"zoom"===h?(c.fancybox.stop(m),n=c.fancybox.getTranslate(m),q={top:n.top,left:n.left,scaleX:n.width/r.width,scaleY:n.height/r.height,width:r.width,height:r.height},x=H.opts.zoomOpacity,"auto"==x&&(x=.1<Math.abs(H.width/H.height-r.width/r.height)),x&&(r.opacity=0),c.fancybox.setTranslate(m,q),z(m),c.fancybox.animate(m,r,l,P),!0):(h&&l?!0===b?setTimeout(P,l):c.fancybox.animate(H.$slide.removeClass("fancybox-slide--current"),"fancybox-animated fancybox-slide--previous fancybox-fx-"+
h,l,P):P(),!0)))},cleanUp:function(b){var k=c("body");this.current.$slide.trigger("onReset");this.$refs.container.empty().remove();this.trigger("afterClose",b);this.$lastFocus&&this.current.opts.backFocus&&this.$lastFocus.trigger("focus");this.current=null;(b=c.fancybox.getInstance())?b.activate():(k.removeClass("fancybox-active compensate-for-scrollbar"),c("#fancybox-style-noscroll").remove())},trigger:function(b,k){var h,l=Array.prototype.slice.call(arguments,1),m=k&&k.opts?k:this.current;return m?
l.unshift(m):m=this,l.unshift(this),c.isFunction(m.opts[b])&&(h=m.opts[b].apply(m,l)),!1===h?h:void("afterClose"!==b&&this.$refs?this.$refs.container.trigger(b+".fb",l):r.trigger(b+".fb",l))},updateControls:function(b){b=this.current;var c=b.index,k=b.opts.caption,h=this.$refs.container,l=this.$refs.caption;b.$slide.trigger("refresh");this.$caption=k&&k.length?l.html(k):null;this.isHiddenControls||this.isIdle||this.showControls();h.find("[data-fancybox-count]").html(this.group.length);h.find("[data-fancybox-index]").html(c+
1);h.find("[data-fancybox-prev]").toggleClass("disabled",!b.opts.loop&&0>=c);h.find("[data-fancybox-next]").toggleClass("disabled",!b.opts.loop&&c>=this.group.length-1);"image"===b.type?h.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",b.opts.image.src||b.src).show():b.opts.toolbar&&h.find("[data-fancybox-download],[data-fancybox-zoom]").hide()},hideControls:function(){this.isHiddenControls=!0;this.$refs.container.removeClass("fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav")},
showControls:function(){var b=this.current?this.current.opts:this.opts,c=this.$refs.container;this.isHiddenControls=!1;this.idleSecondsCounter=0;c.toggleClass("fancybox-show-toolbar",!(!b.toolbar||!b.buttons)).toggleClass("fancybox-show-infobar",!!(b.infobar&&1<this.group.length)).toggleClass("fancybox-show-nav",!!(b.arrows&&1<this.group.length)).toggleClass("fancybox-is-modal",!!b.modal);this.$caption?c.addClass("fancybox-show-caption "):c.removeClass("fancybox-show-caption")},toggleControls:function(){this.isHiddenControls?
this.showControls():this.hideControls()}});c.fancybox={version:"3.3.5",defaults:q,getInstance:function(b){var k=c('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),h=Array.prototype.slice.call(arguments,1);return k instanceof A&&("string"===c.type(b)?k[b].apply(k,h):"function"===c.type(b)&&b.apply(k,h),k)},open:function(b,c,k){return new A(b,c,k)},close:function(b){var c=this.getInstance();c&&(c.close(),!0===b&&this.close())},destroy:function(){this.close(!0);r.add("body").off("click.fb-start",
"**")},isMobile:h.createTouch!==l&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:function(){var c=h.createElement("div");return b.getComputedStyle&&b.getComputedStyle(c)&&b.getComputedStyle(c).getPropertyValue("transform")&&!(h.documentMode&&11>h.documentMode)}(),getTranslate:function(b){var c;return!(!b||!b.length)&&(c=b[0].getBoundingClientRect(),{top:c.top||0,left:c.left||0,width:c.width,height:c.height,opacity:parseFloat(b.css("opacity"))})},
setTranslate:function(b,c){var k="",h={};if(b&&c)return c.left===l&&c.top===l||(k=(c.left===l?b.position().left:c.left)+"px, "+(c.top===l?b.position().top:c.top)+"px",k=this.use3d?"translate3d("+k+", 0px)":"translate("+k+")"),c.scaleX!==l&&c.scaleY!==l&&(k=(k.length?k+" ":"")+"scale("+c.scaleX+", "+c.scaleY+")"),k.length&&(h.transform=k),c.opacity!==l&&(h.opacity=c.opacity),c.width!==l&&(h.width=c.width),c.height!==l&&(h.height=c.height),b.css(h)},animate:function(b,k,h,m,p){var n=!1;c.isFunction(h)&&
(m=h,h=null);c.isPlainObject(k)||b.removeAttr("style");c.fancybox.stop(b);b.on(v,function(h){(!h||!h.originalEvent||b.is(h.originalEvent.target)&&"z-index"!=h.originalEvent.propertyName)&&(c.fancybox.stop(b),n&&c.fancybox.setTranslate(b,n),c.isPlainObject(k)?!1===p&&b.removeAttr("style"):!0!==p&&b.removeClass(k),c.isFunction(m)&&m(h))});c.isNumeric(h)&&b.css("transition-duration",h+"ms");c.isPlainObject(k)?(k.scaleX!==l&&k.scaleY!==l&&(n=c.extend({},k,{width:b.width()*k.scaleX,height:b.height()*k.scaleY,
scaleX:1,scaleY:1}),delete k.width,delete k.height,b.parent().hasClass("fancybox-slide--image")&&b.parent().addClass("fancybox-is-scaling")),c.fancybox.setTranslate(b,k)):b.addClass(k);b.data("timer",setTimeout(function(){b.trigger("transitionend")},h+16))},stop:function(b){b&&b.length&&(clearTimeout(b.data("timer")),b.off("transitionend").css("transition-duration",""),b.parent().removeClass("fancybox-is-scaling"))}};c.fn.fancybox=function(b){var k;return b=b||{},k=b.selector||!1,k?c("body").off("click.fb-start",
k).on("click.fb-start",k,{options:b},m):this.off("click.fb-start").on("click.fb-start",{items:this,options:b},m),this};r.on("click.fb-start","[data-fancybox]",m);r.on("click.fb-start","[data-trigger]",function(b){m(b,{$target:c('[data-fancybox\x3d"'+c(b.currentTarget).attr("data-trigger")+'"]').eq(c(b.currentTarget).attr("data-index")||0),$trigger:c(this)})})}}(window,document,window.jQuery||jQuery);
(function(b){var h=function(c,h,q){if(c)return q=q||"","object"===b.type(q)&&(q=b.param(q,!0)),b.each(h,function(b,h){c=c.replace("$"+b,h||"")}),q.length&&(c+=(0<c.indexOf("?")?"\x26":"?")+q),c},c={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",
thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size\x3dl"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",
url:function(b){return"//maps.google."+b[2]+"/?ll\x3d"+(b[9]?b[9]+"\x26z\x3d"+Math.floor(b[10])+(b[12]?b[12].replace(/^\//,"\x26"):""):b[12]+"").replace(/\?/,"\x26")+"\x26output\x3d"+(b[12]&&0<b[12].indexOf("layer\x3dc")?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(b){return"//maps.google."+b[2]+"/maps?q\x3d"+b[5].replace("query\x3d","q\x3d").replace("api\x3d1","")+"\x26output\x3dembed"}}};b(document).on("objectNeedsType.fb",
function(l,m,q){var n,r,k,p,v,z,x=q.src||"",A=!1;l=b.extend(!0,{},c,q.opts.media);b.each(l,function(c,l){if(r=x.match(l.matcher)){if(A=l.type,z=c,v={},l.paramPlace&&r[l.paramPlace]){p=r[l.paramPlace];"?"==p[0]&&(p=p.substring(1));p=p.split("\x26");for(var m=0;m<p.length;++m){var y=p[m].split("\x3d",2);2==y.length&&(v[y[0]]=decodeURIComponent(y[1].replace(/\+/g," ")))}}return k=b.extend(!0,{},l.params,q.opts[c],v),x="function"===b.type(l.url)?l.url.call(this,r,k,q):h(l.url,r,k),n="function"===b.type(l.thumb)?
l.thumb.call(this,r,k,q):h(l.thumb,r),"youtube"===c?x=x.replace(/&t=((\d+)m)?(\d+)s/,function(b,c,k,h){return"\x26start\x3d"+((k?60*parseInt(k,10):0)+parseInt(h,10))}):"vimeo"===c&&(x=x.replace("\x26%23","#")),!1}});A?(q.opts.thumb||q.opts.$thumb&&q.opts.$thumb.length||(q.opts.thumb=n),"iframe"===A&&(q.opts=b.extend(!0,q.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),b.extend(q,{type:A,src:x,origSrc:q.src,contentSource:z,contentType:"image"===A?"image":"gmap_place"==z||"gmap_search"==z?"map":
"video"})):x&&(q.type=q.opts.defaultType)})})(window.jQuery||jQuery);
(function(b,h,c){var l=function(){return b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame||function(c){return b.setTimeout(c,1E3/60)}}(),m=function(){return b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.mozCancelAnimationFrame||b.oCancelAnimationFrame||function(c){b.clearTimeout(c)}}(),q=function(c){var k=[];c=c.originalEvent||c||b.e;c=c.touches&&c.touches.length?c.touches:c.changedTouches&&c.changedTouches.length?c.changedTouches:
[c];for(var h in c)c[h].pageX?k.push({x:c[h].pageX,y:c[h].pageY}):c[h].clientX&&k.push({x:c[h].clientX,y:c[h].clientY});return k},n=function(b,c,k){return c&&b?"x"===k?b.x-c.x:"y"===k?b.y-c.y:Math.sqrt(Math.pow(b.x-c.x,2)+Math.pow(b.y-c.y,2)):0},r=function(b){if(b.is('a,area,button,[role\x3d"button"],input,label,select,summary,textarea,video,audio')||c.isFunction(b.get(0).onclick)||b.data("selectable"))return!0;var k=0;b=b[0].attributes;for(var h=b.length;k<h;k++)if("data-fancybox-"===b[k].nodeName.substr(0,
14))return!0;return!1},k=function(c){for(var k;;){k=c.get(0);var h=b.getComputedStyle(k)["overflow-y"],l=b.getComputedStyle(k)["overflow-x"],l=("scroll"===l||"auto"===l)&&k.scrollWidth>k.clientWidth;if(k=("scroll"===h||"auto"===h)&&k.scrollHeight>k.clientHeight||l)break;if(c=c.parent(),!c.length||c.hasClass("fancybox-stage")||c.is("body"))break}return k},p=function(b){this.instance=b;this.$bg=b.$refs.bg;this.$stage=b.$refs.stage;this.$container=b.$refs.container;this.destroy();this.$container.on("touchstart.fb.touch mousedown.fb.touch",
c.proxy(this,"ontouchstart"))};p.prototype.destroy=function(){this.$container.off(".fb.touch")};p.prototype.ontouchstart=function(l){var m=c(l.target),p=this.instance,A=p.current,u=A.$content,C="touchstart"==l.type;if(C&&this.$container.off("mousedown.fb.touch"),!(l.originalEvent&&2==l.originalEvent.button||!m.length||r(m)||r(m.parent())||!m.is("img")&&l.originalEvent.clientX>m[0].clientWidth+m.offset().left)){if(!A||p.isAnimating||p.isClosing)return l.stopPropagation(),void l.preventDefault();if(this.realPoints=
this.startPoints=q(l),this.startPoints.length){if(l.stopPropagation(),this.startEvent=l,this.canTap=!0,this.$target=m,this.$content=u,this.opts=A.opts.touch,this.isPanning=!1,this.isSwiping=!1,this.isZooming=!1,this.isScrolling=!1,this.startTime=(new Date).getTime(),this.distanceX=this.distanceY=this.distance=0,this.canvasWidth=Math.round(A.$slide[0].clientWidth),this.canvasHeight=Math.round(A.$slide[0].clientHeight),this.contentLastPos=null,this.contentStartPos=c.fancybox.getTranslate(this.$content)||
{top:0,left:0},this.sliderStartPos=this.sliderLastPos||c.fancybox.getTranslate(A.$slide),this.stagePos=c.fancybox.getTranslate(p.$refs.stage),this.sliderStartPos.top-=this.stagePos.top,this.sliderStartPos.left-=this.stagePos.left,this.contentStartPos.top-=this.stagePos.top,this.contentStartPos.left-=this.stagePos.left,c(h).off(".fb.touch").on(C?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",c.proxy(this,"ontouchend")).on(C?"touchmove.fb.touch":"mousemove.fb.touch",
c.proxy(this,"ontouchmove")),c.fancybox.isMobile&&h.addEventListener("scroll",this.onscroll,!0),!this.opts&&!p.canPan()||!m.is(this.$stage)&&!this.$stage.find(m).length)return void(m.is(".fancybox-image")&&l.preventDefault());c.fancybox.isMobile&&(k(m)||k(m.parent()))||l.preventDefault();(1===this.startPoints.length||A.hasError)&&(this.instance.canPan()?(c.fancybox.stop(this.$content),this.$content.css("transition-duration",""),this.isPanning=!0):this.isSwiping=!0,this.$container.addClass("fancybox-controls--isGrabbing"));
2===this.startPoints.length&&"image"===A.type&&(A.isLoaded||A.$ghost)&&(this.canTap=!1,this.isSwiping=!1,this.isPanning=!1,this.isZooming=!0,c.fancybox.stop(this.$content),this.$content.css("transition-duration",""),this.centerPointStartX=.5*(this.startPoints[0].x+this.startPoints[1].x)-c(b).scrollLeft(),this.centerPointStartY=.5*(this.startPoints[0].y+this.startPoints[1].y)-c(b).scrollTop(),this.percentageOfImageAtPinchPointX=(this.centerPointStartX-this.contentStartPos.left)/this.contentStartPos.width,
this.percentageOfImageAtPinchPointY=(this.centerPointStartY-this.contentStartPos.top)/this.contentStartPos.height,this.startDistanceBetweenFingers=n(this.startPoints[0],this.startPoints[1]))}}};p.prototype.onscroll=function(b){this.isScrolling=!0;h.removeEventListener("scroll",this.onscroll,!0)};p.prototype.ontouchmove=function(b){var k=c(b.target);return void 0!==b.originalEvent.buttons&&0===b.originalEvent.buttons?void this.ontouchend(b):this.isScrolling||!k.is(this.$stage)&&!this.$stage.find(k).length?
void(this.canTap=!1):(this.newPoints=q(b),void((this.opts||this.instance.canPan())&&this.newPoints.length&&this.newPoints.length&&(this.isSwiping&&!0===this.isSwiping||b.preventDefault(),this.distanceX=n(this.newPoints[0],this.startPoints[0],"x"),this.distanceY=n(this.newPoints[0],this.startPoints[0],"y"),this.distance=n(this.newPoints[0],this.startPoints[0]),0<this.distance&&(this.isSwiping?this.onSwipe(b):this.isPanning?this.onPan():this.isZooming&&this.onZoom()))))};p.prototype.onSwipe=function(h){var p,
n=this;h=n.isSwiping;var q=n.sliderStartPos.left||0;if(!0!==h)"x"==h&&(0<n.distanceX&&(2>n.instance.group.length||0===n.instance.current.index&&!n.instance.current.opts.loop)?q+=Math.pow(n.distanceX,.8):0>n.distanceX&&(2>n.instance.group.length||n.instance.current.index===n.instance.group.length-1&&!n.instance.current.opts.loop)?q-=Math.pow(-n.distanceX,.8):q+=n.distanceX),n.sliderLastPos={top:"x"==h?0:n.sliderStartPos.top+n.distanceY,left:q},n.requestId&&(m(n.requestId),n.requestId=null),n.requestId=
l(function(){n.sliderLastPos&&(c.each(n.instance.slides,function(b,k){b=k.pos-n.instance.currPos;c.fancybox.setTranslate(k.$slide,{top:n.sliderLastPos.top,left:n.sliderLastPos.left+b*n.canvasWidth+b*k.opts.gutter})}),n.$container.addClass("fancybox-is-sliding"))});else if(10<Math.abs(n.distance)){if(n.canTap=!1,2>n.instance.group.length&&n.opts.vertical?n.isSwiping="y":n.instance.isDragging||!1===n.opts.vertical||"auto"===n.opts.vertical&&800<c(b).width()?n.isSwiping="x":(p=Math.abs(180*Math.atan2(n.distanceY,
n.distanceX)/Math.PI),n.isSwiping=45<p&&135>p?"y":"x"),n.canTap=!1,"y"===n.isSwiping&&c.fancybox.isMobile&&(k(n.$target)||k(n.$target.parent())))return void(n.isScrolling=!0);n.instance.isDragging=n.isSwiping;n.startPoints=n.newPoints;c.each(n.instance.slides,function(b,k){c.fancybox.stop(k.$slide);k.$slide.css("transition-duration","");k.inTransition=!1;k.pos===n.instance.current.pos&&(n.sliderStartPos.left=c.fancybox.getTranslate(k.$slide).left-c.fancybox.getTranslate(n.instance.$refs.stage).left)});
n.instance.SlideShow&&n.instance.SlideShow.isActive&&n.instance.SlideShow.stop()}};p.prototype.onPan=function(){var b=this;return n(b.newPoints[0],b.realPoints[0])<(c.fancybox.isMobile?10:5)?void(b.startPoints=b.newPoints):(b.canTap=!1,b.contentLastPos=b.limitMovement(),b.requestId&&(m(b.requestId),b.requestId=null),void(b.requestId=l(function(){c.fancybox.setTranslate(b.$content,b.contentLastPos)})))};p.prototype.limitMovement=function(){var b,c,k,h,l,m,p=this.canvasWidth,n=this.canvasHeight,q=this.distanceX,
r=this.distanceY,D=this.contentStartPos,G=D.left,I=D.top,K=D.width,D=D.height;return l=K>p?G+q:G,m=I+r,b=Math.max(0,.5*p-.5*K),c=Math.max(0,.5*n-.5*D),k=Math.min(p-K,.5*p-.5*K),h=Math.min(n-D,.5*n-.5*D),0<q&&l>b&&(l=b-1+Math.pow(-b+G+q,.8)||0),0>q&&l<k&&(l=k+1-Math.pow(k-G-q,.8)||0),0<r&&m>c&&(m=c-1+Math.pow(-c+I+r,.8)||0),0>r&&m<h&&(m=h+1-Math.pow(h-I-r,.8)||0),{top:m,left:l}};p.prototype.limitPosition=function(b,c,k,h){var l=this.canvasWidth,m=this.canvasHeight;return k>l?(b=0<b?0:b,b=b<l-k?l-k:
b):b=Math.max(0,l/2-k/2),h>m?(c=0<c?0:c,c=c<m-h?m-h:c):c=Math.max(0,m/2-h/2),{top:c,left:b}};p.prototype.onZoom=function(){var k=this,h=k.contentStartPos,p=h.width,q=h.height,u=h.left,r=h.top,B=n(k.newPoints[0],k.newPoints[1])/k.startDistanceBetweenFingers,h=Math.floor(p*B),y=Math.floor(q*B),p=(p-h)*k.percentageOfImageAtPinchPointX,q=(q-y)*k.percentageOfImageAtPinchPointY,E=(k.newPoints[0].x+k.newPoints[1].x)/2-c(b).scrollLeft(),F=(k.newPoints[0].y+k.newPoints[1].y)/2-c(b).scrollTop(),u={top:r+(q+
(F-k.centerPointStartY)),left:u+(p+(E-k.centerPointStartX)),scaleX:B,scaleY:B};k.canTap=!1;k.newWidth=h;k.newHeight=y;k.contentLastPos=u;k.requestId&&(m(k.requestId),k.requestId=null);k.requestId=l(function(){c.fancybox.setTranslate(k.$content,k.contentLastPos)})};p.prototype.ontouchend=function(b){var k=Math.max((new Date).getTime()-this.startTime,1),l=this.isSwiping,p=this.isPanning,n=this.isZooming,r=this.isScrolling;return this.endPoints=q(b),this.$container.removeClass("fancybox-controls--isGrabbing"),
c(h).off(".fb.touch"),h.removeEventListener("scroll",this.onscroll,!0),this.requestId&&(m(this.requestId),this.requestId=null),this.isSwiping=!1,this.isPanning=!1,this.isZooming=!1,this.isScrolling=!1,this.instance.isDragging=!1,this.canTap?this.onTap(b):(this.speed=366,this.velocityX=this.distanceX/k*.5,this.velocityY=this.distanceY/k*.5,this.speedX=Math.max(.5*this.speed,Math.min(1.5*this.speed,1/Math.abs(this.velocityX)*this.speed)),void(p?this.endPanning():n?this.endZooming():this.endSwiping(l,
r)))};p.prototype.endSwiping=function(b,k){var h=!1,l=this.instance.group.length;this.sliderLastPos=null;"y"==b&&!k&&50<Math.abs(this.distanceY)?(c.fancybox.animate(this.instance.current.$slide,{top:this.sliderStartPos.top+this.distanceY+150*this.velocityY,opacity:0},200),h=this.instance.close(!0,200)):"x"==b&&50<this.distanceX&&1<l?h=this.instance.previous(this.speedX):"x"==b&&-50>this.distanceX&&1<l&&(h=this.instance.next(this.speedX));!1!==h||"x"!=b&&"y"!=b||(k||2>l?this.instance.centerSlide(this.instance.current,
150):this.instance.jumpTo(this.instance.current.index));this.$container.removeClass("fancybox-is-sliding")};p.prototype.endPanning=function(){var b,k,h;this.contentLastPos&&(!1===this.opts.momentum?(b=this.contentLastPos.left,k=this.contentLastPos.top):(b=this.contentLastPos.left+this.velocityX*this.speed,k=this.contentLastPos.top+this.velocityY*this.speed),h=this.limitPosition(b,k,this.contentStartPos.width,this.contentStartPos.height),h.width=this.contentStartPos.width,h.height=this.contentStartPos.height,
c.fancybox.animate(this.$content,h,330))};p.prototype.endZooming=function(){var b,k,h,l,m=this.instance.current,p=this.newWidth,n=this.newHeight;this.contentLastPos&&(b=this.contentLastPos.left,k=this.contentLastPos.top,l={top:k,left:b,width:p,height:n,scaleX:1,scaleY:1},c.fancybox.setTranslate(this.$content,l),p<this.canvasWidth&&n<this.canvasHeight?this.instance.scaleToFit(150):p>m.width||n>m.height?this.instance.scaleToActual(this.centerPointStartX,this.centerPointStartY,150):(h=this.limitPosition(b,
k,p,n),c.fancybox.setTranslate(this.$content,c.fancybox.getTranslate(this.$content)),c.fancybox.animate(this.$content,h,150)))};p.prototype.onTap=function(k){var h,l=this,m=c(k.target),p=l.instance,n=p.current,r=k&&q(k)||l.startPoints,y=r[0]?r[0].x-c(b).scrollLeft()-l.stagePos.left:0,E=r[0]?r[0].y-c(b).scrollTop()-l.stagePos.top:0,F=function(b){b=n.opts[b];if(c.isFunction(b)&&(b=b.apply(p,[n,k])),b)switch(b){case "close":p.close(l.startEvent);break;case "toggleControls":p.toggleControls(!0);break;
case "next":p.next();break;case "nextOrClose":1<p.group.length?p.next():p.close(l.startEvent);break;case "zoom":"image"==n.type&&(n.isLoaded||n.$ghost)&&(p.canPan()?p.scaleToFit():p.isScaledDown()?p.scaleToActual(y,E):2>p.group.length&&p.close(l.startEvent))}};if(!(k.originalEvent&&2==k.originalEvent.button||!m.is("img")&&y>m[0].clientWidth+m.offset().left)){if(m.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))h="Outside";else if(m.is(".fancybox-slide"))h="Slide";else{if(!p.current.$content||
!p.current.$content.find(m).addBack().filter(m).length)return;h="Content"}if(l.tapped){if(clearTimeout(l.tapped),l.tapped=null,50<Math.abs(y-l.tapX)||50<Math.abs(E-l.tapY))return this;F("dblclick"+h)}else l.tapX=y,l.tapY=E,n.opts["dblclick"+h]&&n.opts["dblclick"+h]!==n.opts["click"+h]?l.tapped=setTimeout(function(){l.tapped=null;F("click"+h)},500):F("click"+h);return this}};c(h).on("onActivate.fb",function(b,c){c&&!c.Guestures&&(c.Guestures=new p(c))})})(window,document,window.jQuery||jQuery);
(function(b,h){h.extend(!0,h.fancybox.defaults,{btnTpl:{slideShow:'\x3cbutton data-fancybox-play class\x3d"fancybox-button fancybox-button--play" title\x3d"{{PLAY_START}}"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M13,12 L27,20 L13,27 Z" /\x3e\x3cpath d\x3d"M15,10 v19 M23,10 v19" /\x3e\x3c/svg\x3e\x3c/button\x3e'},slideShow:{autoStart:!1,speed:3E3}});var c=function(b){this.instance=b;this.init()};h.extend(c.prototype,{timer:null,isActive:!1,$button:null,init:function(){var b=this;b.$button=
b.instance.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){b.toggle()});(2>b.instance.group.length||!b.instance.group[b.instance.currIndex].opts.slideShow)&&b.$button.hide()},set:function(b){var c=this;c.instance&&c.instance.current&&(!0===b||c.instance.current.opts.loop||c.instance.currIndex<c.instance.group.length-1)?c.timer=setTimeout(function(){c.isActive&&c.instance.jumpTo((c.instance.currIndex+1)%c.instance.group.length)},c.instance.current.opts.slideShow.speed):(c.stop(),c.instance.idleSecondsCounter=
0,c.instance.showControls())},clear:function(){clearTimeout(this.timer);this.timer=null},start:function(){var b=this.instance.current;b&&(this.isActive=!0,this.$button.attr("title",b.opts.i18n[b.opts.lang].PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),this.set(!0))},stop:function(){var b=this.instance.current;this.clear();this.$button.attr("title",b.opts.i18n[b.opts.lang].PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play");this.isActive=
!1},toggle:function(){this.isActive?this.stop():this.start()}});h(b).on({"onInit.fb":function(b,h){h&&!h.SlideShow&&(h.SlideShow=new c(h))},"beforeShow.fb":function(b,c,h,n){b=c&&c.SlideShow;n?b&&h.opts.slideShow.autoStart&&b.start():b&&b.isActive&&b.clear()},"afterShow.fb":function(b,c,h){(b=c&&c.SlideShow)&&b.isActive&&b.set()},"afterKeydown.fb":function(c,m,q,n,r){c=m&&m.SlideShow;!c||!q.opts.slideShow||80!==r&&32!==r||h(b.activeElement).is("button,a,input")||(n.preventDefault(),c.toggle())},"beforeClose.fb onDeactivate.fb":function(b,
c){(b=c&&c.SlideShow)&&b.stop()}});h(b).on("visibilitychange",function(){var c=h.fancybox.getInstance();(c=c&&c.SlideShow)&&c.isActive&&(b.hidden?c.clear():c.set())})})(document,window.jQuery||jQuery);
(function(b,h){var c=function(){for(var c=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),
"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],h={},l=0;l<c.length;l++){var r=c[l];if(r&&r[1]in b){for(l=0;l<r.length;l++)h[c[0][l]]=r[l];return h}}return!1}();if(!c)return void(h&&h.fancybox&&(h.fancybox.defaults.btnTpl.fullScreen=!1));var l={request:function(h){h=h||b.documentElement;h[c.requestFullscreen](h.ALLOW_KEYBOARD_INPUT)},exit:function(){b[c.exitFullscreen]()},toggle:function(c){c=c||b.documentElement;this.isFullscreen()?
this.exit():this.request(c)},isFullscreen:function(){return!!b[c.fullscreenElement]},enabled:function(){return!!b[c.fullscreenEnabled]}};h.extend(!0,h.fancybox.defaults,{btnTpl:{fullScreen:'\x3cbutton data-fancybox-fullscreen class\x3d"fancybox-button fancybox-button--fullscreen" title\x3d"{{FULL_SCREEN}}"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M9,12 v16 h22 v-16 h-22 v8" /\x3e\x3c/svg\x3e\x3c/button\x3e'},fullScreen:{autoStart:!1}});h(b).on({"onInit.fb":function(b,c){var h;c&&c.group[c.currIndex].opts.fullScreen?
(h=c.$refs.container,h.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(b){b.stopPropagation();b.preventDefault();l.toggle()}),c.opts.fullScreen&&!0===c.opts.fullScreen.autoStart&&l.request(),c.FullScreen=l):c&&c.$refs.toolbar.find("[data-fancybox-fullscreen]").hide()},"afterKeydown.fb":function(b,c,h,l,k){c&&c.FullScreen&&70===k&&(l.preventDefault(),c.FullScreen.toggle())},"beforeClose.fb":function(b,c){c&&c.FullScreen&&c.$refs.container.hasClass("fancybox-is-fullscreen")&&l.exit()}});
h(b).on(c.fullscreenchange,function(){var b=l.isFullscreen(),c=h.fancybox.getInstance();c&&(c.current&&"image"===c.current.type&&c.isAnimating&&(c.current.$content.css("transition","none"),c.isAnimating=!1,c.update(!0,!0,0)),c.trigger("onFullscreenChange",b),c.$refs.container.toggleClass("fancybox-is-fullscreen",b))})})(document,window.jQuery||jQuery);
(function(b,h){h.fancybox.defaults=h.extend(!0,{btnTpl:{thumbs:'\x3cbutton data-fancybox-thumbs class\x3d"fancybox-button fancybox-button--thumbs" title\x3d"{{THUMBS}}"\x3e\x3csvg viewBox\x3d"0 0 120 120"\x3e\x3cpath d\x3d"M30,30 h14 v14 h-14 Z M50,30 h14 v14 h-14 Z M70,30 h14 v14 h-14 Z M30,50 h14 v14 h-14 Z M50,50 h14 v14 h-14 Z M70,50 h14 v14 h-14 Z M30,70 h14 v14 h-14 Z M50,70 h14 v14 h-14 Z M70,70 h14 v14 h-14 Z" /\x3e\x3c/svg\x3e\x3c/button\x3e'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",
axis:"y"}},h.fancybox.defaults);var c=function(b){this.init(b)};h.extend(c.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(b){var c,h,n=this;n.instance=b;b.Thumbs=n;n.opts=b.group[b.currIndex].opts.thumbs;c=b.group[0];c=c.opts.thumb||!(!c.opts.$thumb||!c.opts.$thumb.length)&&c.opts.$thumb.attr("src");1<b.group.length&&(h=b.group[1],h=h.opts.thumb||!(!h.opts.$thumb||!h.opts.$thumb.length)&&h.opts.$thumb.attr("src"));n.$button=b.$refs.toolbar.find("[data-fancybox-thumbs]");
n.opts&&c&&h&&c&&h?(n.$button.show().on("click",function(){n.toggle()}),n.isActive=!0):n.$button.hide()},create:function(){var b,c=this.instance,q=this.opts.parentEl,n=[];this.$grid||(this.$grid=h('\x3cdiv class\x3d"fancybox-thumbs fancybox-thumbs-'+this.opts.axis+'"\x3e\x3c/div\x3e').appendTo(c.$refs.container.find(q).addBack().filter(q)),this.$grid.on("click","li",function(){c.jumpTo(h(this).attr("data-index"))}));this.$list||(this.$list=h("\x3cul\x3e").appendTo(this.$grid));h.each(c.group,function(c,
k){(b=k.opts.thumb||(k.opts.$thumb?k.opts.$thumb.attr("src"):null))||"image"!==k.type||(b=k.src);n.push('\x3cli data-index\x3d"'+c+'" tabindex\x3d"0" class\x3d"fancybox-thumbs-loading"'+(b&&b.length?' style\x3d"background-image:url('+b+')" /\x3e':"")+"\x3e\x3c/li\x3e")});this.$list[0].innerHTML=n.join("");"x"===this.opts.axis&&this.$list.width(parseInt(this.$grid.css("padding-right"),10)+c.group.length*this.$list.children().eq(0).outerWidth(!0))},focus:function(b){var c,h,n=this.$list,r=this.$grid;
this.instance.current&&(c=n.children().removeClass("fancybox-thumbs-active").filter('[data-index\x3d"'+this.instance.current.index+'"]').addClass("fancybox-thumbs-active"),h=c.position(),"y"===this.opts.axis&&(0>h.top||h.top>n.height()-c.outerHeight())?n.stop().animate({scrollTop:n.scrollTop()+h.top},b):"x"===this.opts.axis&&(h.left<r.scrollLeft()||h.left>r.scrollLeft()+(r.width()-c.outerWidth()))&&n.parent().stop().animate({scrollLeft:h.left},b))},update:function(){this.instance.$refs.container.toggleClass("fancybox-show-thumbs",
this.isVisible);this.isVisible?(this.$grid||this.create(),this.instance.trigger("onThumbsShow"),this.focus(0)):this.$grid&&this.instance.trigger("onThumbsHide");this.instance.update()},hide:function(){this.isVisible=!1;this.update()},show:function(){this.isVisible=!0;this.update()},toggle:function(){this.isVisible=!this.isVisible;this.update()}});h(b).on({"onInit.fb":function(b,h){var q;h&&!h.Thumbs&&(q=new c(h),q.isActive&&!0===q.opts.autoStart&&q.show())},"beforeShow.fb":function(b,c,h,n){(b=c&&
c.Thumbs)&&b.isVisible&&b.focus(n?0:250)},"afterKeydown.fb":function(b,c,h,n,r){(b=c&&c.Thumbs)&&b.isActive&&71===r&&(n.preventDefault(),b.toggle())},"beforeClose.fb":function(b,c){(b=c&&c.Thumbs)&&b.isVisible&&!1!==b.opts.hideOnClose&&b.$grid.hide()}})})(document,window.jQuery||jQuery);
(function(b,h){function c(b){var c={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;","/":"\x26#x2F;","`":"\x26#x60;","\x3d":"\x26#x3D;"};return String(b).replace(/[&<>"'`=\/]/g,function(b){return c[b]})}h.extend(!0,h.fancybox.defaults,{btnTpl:{share:'\x3cbutton data-fancybox-share class\x3d"fancybox-button fancybox-button--share" title\x3d"{{SHARE}}"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M6,30 C8,18 19,16 23,16 L23,16 L23,10 L33,20 L23,29 L23,24 C19,24 8,27 6,30 Z"\x3e\x3c/svg\x3e\x3c/button\x3e'},
share:{url:function(b,c){return!b.currentHash&&"inline"!==c.type&&"html"!==c.type&&(c.origSrc||c.src)||window.location},tpl:'\x3cdiv class\x3d"fancybox-share"\x3e\x3ch1\x3e{{SHARE}}\x3c/h1\x3e\x3cp\x3e\x3ca class\x3d"fancybox-share__button fancybox-share__button--fb" href\x3d"https://www.facebook.com/sharer/sharer.php?u\x3d{{url}}"\x3e\x3csvg viewBox\x3d"0 0 512 512" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /\x3e\x3c/svg\x3e\x3cspan\x3eFacebook\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"fancybox-share__button fancybox-share__button--tw" href\x3d"https://twitter.com/intent/tweet?url\x3d{{url}}\x26text\x3d{{descr}}"\x3e\x3csvg viewBox\x3d"0 0 512 512" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /\x3e\x3c/svg\x3e\x3cspan\x3eTwitter\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"fancybox-share__button fancybox-share__button--pt" href\x3d"https://www.pinterest.com/pin/create/button/?url\x3d{{url}}\x26description\x3d{{descr}}\x26media\x3d{{media}}"\x3e\x3csvg viewBox\x3d"0 0 512 512" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill\x3d"#fff"/\x3e\x3c/svg\x3e\x3cspan\x3ePinterest\x3c/span\x3e\x3c/a\x3e\x3c/p\x3e\x3cp\x3e\x3cinput class\x3d"fancybox-share__input" type\x3d"text" value\x3d"{{url_raw}}" /\x3e\x3c/p\x3e\x3c/div\x3e'}});
h(b).on("click","[data-fancybox-share]",function(){var b,m,q=h.fancybox.getInstance(),n=q.current||null;n&&("function"===h.type(n.opts.share.url)&&(b=n.opts.share.url.apply(n,[q,n])),m=n.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===n.type?encodeURIComponent(n.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(b)).replace(/\{\{url_raw\}\}/g,c(b)).replace(/\{\{descr\}\}/g,q.$caption?encodeURIComponent(q.$caption.text()):""),h.fancybox.open({src:q.translate(q,m),type:"html",opts:{animationEffect:!1,
afterLoad:function(b,c){q.$refs.container.one("beforeClose.fb",function(){b.close(null,0)});c.$content.find(".fancybox-share__links a").click(function(){return window.open(this.href,"Share","width\x3d550, height\x3d450"),!1})}}}))})})(document,window.jQuery||jQuery);
(function(b,h,c){function l(){var b=h.location.hash.substr(1),c=b.split("-"),k=1<c.length&&/^\+?\d+$/.test(c[c.length-1])?parseInt(c.pop(-1),10)||1:1,c=c.join("-");return{hash:b,index:1>k?1:k,gallery:c}}function m(b){""!==b.gallery&&c("[data-fancybox\x3d'"+c.escapeSelector(b.gallery)+"']").eq(b.index-1).trigger("click.fb-start")}function q(b){var c,k;return!!b&&(c=b.current?b.current.opts:b.opts,k=c.hash||(c.$orig?c.$orig.data("fancybox"):""),""!==k&&k)}c.escapeSelector||(c.escapeSelector=function(b){return(b+
"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(b,c){return c?"\x00"===b?"\ufffd":b.slice(0,-1)+"\\"+b.charCodeAt(b.length-1).toString(16)+" ":"\\"+b})});c(function(){!1!==c.fancybox.defaults.hash&&(c(b).on({"onInit.fb":function(b,c){var k,h;!1!==c.group[c.currIndex].opts.hash&&(k=l(),h=q(c),h&&k.gallery&&h==k.gallery&&(c.currIndex=k.index-1))},"beforeShow.fb":function(c,l,k,m){var v;k&&!1!==k.opts.hash&&(v=q(l),v&&(l.currentHash=v+(1<l.group.length?"-"+(k.index+1):""),h.location.hash!==
"#"+l.currentHash&&(l.origHash||(l.origHash=h.location.hash),l.hashTimer&&clearTimeout(l.hashTimer),l.hashTimer=setTimeout(function(){"replaceState"in h.history?(h.history[m?"pushState":"replaceState"]({},b.title,h.location.pathname+h.location.search+"#"+l.currentHash),m&&(l.hasCreatedHistory=!0)):h.location.hash=l.currentHash;l.hashTimer=null},300))))},"beforeClose.fb":function(c,l,k){!1!==k.opts.hash&&(q(l),l.currentHash&&l.hasCreatedHistory?h.history.back():l.currentHash&&("replaceState"in h.history?
h.history.replaceState({},b.title,h.location.pathname+h.location.search+(l.origHash||"")):h.location.hash=l.origHash),l.currentHash=null,clearTimeout(l.hashTimer))}}),c(h).on("hashchange.fb",function(){var b,h=l();c.each(c(".fancybox-container").get().reverse(),function(k,h){k=c(h).data("FancyBox");if(k.currentHash)return b=k,!1});b?!b.currentHash||b.currentHash===h.gallery+"-"+h.index||1===h.index&&b.currentHash==h.gallery||(b.currentHash=null,b.close()):""!==h.gallery&&m(h)}),setTimeout(function(){c.fancybox.getInstance()||
m(l())},50))})})(document,window,window.jQuery||jQuery);
(function(b,h){var c=(new Date).getTime();h(b).on({"onInit.fb":function(b,h,q){h.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(b){var l=h.current,k=(new Date).getTime();2>h.group.length||!1===l.opts.wheel||"auto"===l.opts.wheel&&"image"!==l.type||(b.preventDefault(),b.stopPropagation(),l.$slide.hasClass("fancybox-animated")||(b=b.originalEvent||b,250>k-c||(c=k,h[0>(-b.deltaY||-b.deltaX||b.wheelDelta||-b.detail)?"next":"previous"]())))})}})})(document,window.jQuery||
jQuery);
!function(b,h){"function"==typeof define&&define.amd?define(["jquery"],function(b){return h(b)}):"object"==typeof exports?module.exports=h(require("jquery")):h(jQuery)}(this,function(b){function h(b){this.$container;this.constraints=null;this.__$tooltip;this.__init(b)}function c(c,h){var l=!0;return b.each(c,function(b,m){return void 0===h[b]||c[b]!==h[b]?(l=!1,!1):void 0}),l}function l(c){var h=c.attr("id");return(h=h?n.window.document.getElementById(h):null)?h===c[0]:b.contains(n.window.document.body,c[0])}
var m={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,
tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},q="undefined"!=typeof window?window:null,n={hasTouchCapability:!(!q||!("ontouchstart"in q||q.DocumentTouch&&q.document instanceof q.DocumentTouch||q.navigator.maxTouchPoints)),hasTransitions:function(){if(!q)return!1;var b=(q.document.body||q.document.documentElement).style,c="transition",h=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof b[c])return!0;for(var c=c.charAt(0).toUpperCase()+
c.substr(1),l=0;l<h.length;l++)if("string"==typeof b[h[l]+c])return!0;return!1}(),IE:!1,semVer:"4.2.5",window:q},r=function(){this.__$emitterPrivate=b({});this.__$emitterPublic=b({});this.__instancesLatestArr=[];this.__plugins={};this._env=n};r.prototype={__bridge:function(c,h,l){if(!h[l]){var m=function(){};m.prototype=c;var n=new m;n.__init&&n.__init(h);b.each(c,function(b,c){0!=b.indexOf("__")&&(h[b]||(h[b]=function(){return n[b].apply(n,Array.prototype.slice.apply(arguments))},h[b].bridged=n))});
h[l]=n}return this},__setWindow:function(b){return n.window=b,this},_getRuler:function(b){return new h(b)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(c){if("string"==
typeof c){var h=null;return 0<c.indexOf(".")?h=this.__plugins[c]:b.each(this.__plugins,function(b,l){return l.name.substring(l.name.length-c.length-1)=="."+c?(h=l,!1):void 0}),h}if(0>c.name.indexOf("."))throw Error("Plugins must be namespaced");return this.__plugins[c.name]=c,c.core&&this.__bridge(c.core,this,c.name),this},_trigger:function(){var b=Array.prototype.slice.apply(arguments);return"string"==typeof b[0]&&(b[0]={type:b[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,b),
this.__$emitterPublic.trigger.apply(this.__$emitterPublic,b),this},instances:function(c){var h=[];return b(c||".tooltipstered").each(function(){var c=b(this),k=c.data("tooltipster-ns");k&&b.each(k,function(b,k){h.push(c.data(k))})}),h},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),
this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(c){return b((c?c+" ":"")+".tooltipstered").toArray()},setDefaults:function(c){return b.extend(m,c),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}};b.tooltipster=new r;b.Tooltipster=function(c,h){this.__callbacks={close:[],open:[]};this.__closingTime;this.__Content;
this.__contentBcr;this.__destroyed=!1;this.__$emitterPrivate=b({});this.__$emitterPublic=b({});this.__enabled=!0;this.__garbageCollector;this.__Geometry;this.__lastPosition;this.__namespace="tooltipster-"+Math.round(1E6*Math.random());this.__options;this.__$originParents;this.__pointerIsOverOrigin=!1;this.__previousThemes=[];this.__state="closed";this.__timeouts={close:[],open:null};this.__touchEvents=[];this.__tracker=null;this._$origin;this._$tooltip;this.__init(c,h)};b.Tooltipster.prototype={__init:function(c,
h){var l=this;if(l._$origin=b(c),l.__options=b.extend(!0,{},m,h),l.__optionsFormat(),!n.IE||n.IE>=l.__options.IEmin){c=null;if(void 0===l._$origin.data("tooltipster-initialTitle")&&(c=l._$origin.attr("title"),void 0===c&&(c=null),l._$origin.data("tooltipster-initialTitle",c)),null!==l.__options.content)l.__contentSet(l.__options.content);else{var q;(h=l._$origin.attr("data-tooltip-content"))&&(q=b(h));q&&q[0]?l.__contentSet(q.first()):l.__contentSet(c)}l._$origin.removeAttr("title").addClass("tooltipstered");
l.__prepareOrigin();l.__prepareGC();b.each(l.__options.plugins,function(b,c){l._plug(c)});n.hasTouchCapability&&b(n.window.document.body).on("touchmove."+l.__namespace+"-triggerOpen",function(b){l._touchRecordEvent(b)});l._on("created",function(){l.__prepareTooltip()})._on("repositioned",function(b){l.__lastPosition=b.position})}else l.__options.disabled=!0},__contentInsert:function(){var b=this._$tooltip.find(".tooltipster-content"),c=this.__Content;return this._trigger({type:"format",content:this.__Content,
format:function(b){c=b}}),this.__options.functionFormat&&(c=this.__options.functionFormat.call(this,this,{origin:this._$origin[0]},this.__Content)),"string"!=typeof c||this.__options.contentAsHTML?b.empty().append(c):b.text(c),this},__contentSet:function(c){return c instanceof b&&this.__options.contentCloning&&(c=c.clone(!0)),this.__Content=c,this._trigger({type:"updated",content:c}),this},__destroyError:function(){throw Error("This tooltip has been destroyed and cannot execute your method call.");
},__geometry:function(){var c=this._$origin,h=this._$origin.is("area");if(h)var l=this._$origin.parent().attr("name"),c=b('img[usemap\x3d"#'+l+'"]');var m=c[0].getBoundingClientRect(),x=b(n.window.document),q=b(n.window),l=c,u={available:{document:null,window:null},document:{size:{height:x.height(),width:x.width()}},window:{scroll:{left:n.window.scrollX||n.window.document.documentElement.scrollLeft,top:n.window.scrollY||n.window.document.documentElement.scrollTop},size:{height:q.height(),width:q.width()}},
origin:{fixedLineage:!1,offset:{},size:{height:m.bottom-m.top,width:m.right-m.left},usemapImage:h?c[0]:null,windowOffset:{bottom:m.bottom,left:m.left,right:m.right,top:m.top}}};if(h){var h=this._$origin.attr("shape"),r=this._$origin.attr("coords");if(r&&(r=r.split(","),b.map(r,function(b,c){r[c]=parseInt(b)})),"default"!=h)switch(h){case "circle":h=r[0];c=r[1];m=r[2];u.origin.size.height=2*m;u.origin.size.width=u.origin.size.height;u.origin.windowOffset.left+=h-m;u.origin.windowOffset.top+=c-m;break;
case "rect":h=r[0];c=r[1];m=r[2];u.origin.size.height=r[3]-c;u.origin.size.width=m-h;u.origin.windowOffset.left+=h;u.origin.windowOffset.top+=c;break;case "poly":for(var x=m=c=h=0,q="even",B=0;B<r.length;B++){var y=r[B];"even"==q?(y>m&&(m=y,0===B&&(h=m)),h>y&&(h=y),q="odd"):(y>x&&(x=y,1==B&&(c=x)),c>y&&(c=y),q="even")}u.origin.size.height=x-c;u.origin.size.width=m-h;u.origin.windowOffset.left+=h;u.origin.windowOffset.top+=c}}this._trigger({type:"geometry",edit:function(b){u.origin.size.height=b.height;
u.origin.windowOffset.left=b.left;u.origin.windowOffset.top=b.top;u.origin.size.width=b.width},geometry:{height:u.origin.size.height,left:u.origin.windowOffset.left,top:u.origin.windowOffset.top,width:u.origin.size.width}});u.origin.windowOffset.right=u.origin.windowOffset.left+u.origin.size.width;u.origin.windowOffset.bottom=u.origin.windowOffset.top+u.origin.size.height;u.origin.offset.left=u.origin.windowOffset.left+u.window.scroll.left;u.origin.offset.top=u.origin.windowOffset.top+u.window.scroll.top;
u.origin.offset.bottom=u.origin.offset.top+u.origin.size.height;u.origin.offset.right=u.origin.offset.left+u.origin.size.width;u.available.document={bottom:{height:u.document.size.height-u.origin.offset.bottom,width:u.document.size.width},left:{height:u.document.size.height,width:u.origin.offset.left},right:{height:u.document.size.height,width:u.document.size.width-u.origin.offset.right},top:{height:u.origin.offset.top,width:u.document.size.width}};for(u.available.window={bottom:{height:Math.max(u.window.size.height-
Math.max(u.origin.windowOffset.bottom,0),0),width:u.window.size.width},left:{height:u.window.size.height,width:Math.max(u.origin.windowOffset.left,0)},right:{height:u.window.size.height,width:Math.max(u.window.size.width-Math.max(u.origin.windowOffset.right,0),0)},top:{height:Math.max(u.origin.windowOffset.top,0),width:u.window.size.width}};"html"!=l[0].tagName.toLowerCase();){if("fixed"==l.css("position")){u.origin.fixedLineage=!0;break}l=l.parent()}return u},__optionsFormat:function(){return"number"==
typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),null===this.__options.parent?this.__options.parent=
b(n.window.document.body):"string"==typeof this.__options.parent&&(this.__options.parent=b(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var c=this;return c.__options.selfDestruction?
c.__garbageCollector=setInterval(function(){var h=(new Date).getTime();c.__touchEvents=b.grep(c.__touchEvents,function(b,c){return 6E4<h-b.time});l(c._$origin)||c.close(function(){c.destroy()})},2E4):clearInterval(c.__garbageCollector),c},__prepareOrigin:function(){var b=this;if(b._$origin.off("."+b.__namespace+"-triggerOpen"),n.hasTouchCapability&&b._$origin.on("touchstart."+b.__namespace+"-triggerOpen touchend."+b.__namespace+"-triggerOpen touchcancel."+b.__namespace+"-triggerOpen",function(c){b._touchRecordEvent(c)}),
b.__options.triggerOpen.click||b.__options.triggerOpen.tap&&n.hasTouchCapability){var c="";b.__options.triggerOpen.click&&(c+="click."+b.__namespace+"-triggerOpen ");b.__options.triggerOpen.tap&&n.hasTouchCapability&&(c+="touchend."+b.__namespace+"-triggerOpen");b._$origin.on(c,function(c){b._touchIsMeaningfulEvent(c)&&b._open(c)})}if(b.__options.triggerOpen.mouseenter||b.__options.triggerOpen.touchstart&&n.hasTouchCapability)c="",b.__options.triggerOpen.mouseenter&&(c+="mouseenter."+b.__namespace+
"-triggerOpen "),b.__options.triggerOpen.touchstart&&n.hasTouchCapability&&(c+="touchstart."+b.__namespace+"-triggerOpen"),b._$origin.on(c,function(c){!b._touchIsTouchEvent(c)&&b._touchIsEmulatedEvent(c)||(b.__pointerIsOverOrigin=!0,b._openShortly(c))});if(b.__options.triggerClose.mouseleave||b.__options.triggerClose.touchleave&&n.hasTouchCapability)c="",b.__options.triggerClose.mouseleave&&(c+="mouseleave."+b.__namespace+"-triggerOpen "),b.__options.triggerClose.touchleave&&n.hasTouchCapability&&
(c+="touchend."+b.__namespace+"-triggerOpen touchcancel."+b.__namespace+"-triggerOpen"),b._$origin.on(c,function(c){b._touchIsMeaningfulEvent(c)&&(b.__pointerIsOverOrigin=!1)});return b},__prepareTooltip:function(){var c=this,h=c.__options.interactive?"auto":"";return c._$tooltip.attr("id",c.__namespace).css({"pointer-events":h,zIndex:c.__options.zIndex}),b.each(c.__previousThemes,function(b,h){c._$tooltip.removeClass(h)}),b.each(c.__options.theme,function(b,h){c._$tooltip.addClass(h)}),c.__previousThemes=
b.merge([],c.__options.theme),c},__scrollHandler:function(c){if(this.__options.triggerClose.scroll)this._close(c);else if(l(this._$origin)&&l(this._$tooltip)){var h=null;if(c.target===n.window.document)this.__Geometry.origin.fixedLineage||this.__options.repositionOnScroll&&this.reposition(c);else{var h=this.__geometry(),m=!1;("fixed"!=this._$origin.css("position")&&this.__$originParents.each(function(c,k){c=b(k);var l=c.css("overflow-x"),n=c.css("overflow-y");if("visible"!=l||"visible"!=n)if(k=k.getBoundingClientRect(),
"visible"!=l&&(h.origin.windowOffset.left<k.left||h.origin.windowOffset.right>k.right)||"visible"!=n&&(h.origin.windowOffset.top<k.top||h.origin.windowOffset.bottom>k.bottom))return m=!0,!1;return"fixed"==c.css("position")?!1:void 0}),m)?this._$tooltip.css("visibility","hidden"):(this._$tooltip.css("visibility","visible"),this.__options.repositionOnScroll)?this.reposition(c):this._$tooltip.css({left:this.__lastPosition.coord.left+(h.origin.offset.left-this.__Geometry.origin.offset.left),top:this.__lastPosition.coord.top+
(h.origin.offset.top-this.__Geometry.origin.offset.top)})}this._trigger({type:"scroll",event:c,geo:h})}return this},__stateSet:function(b){return this.__state=b,this._trigger({type:"state",state:b}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,b.each(this.__timeouts.close,function(b,c){clearTimeout(c)}),this.__timeouts.close=[],this},__trackerStart:function(){var b=this,h=b._$tooltip.find(".tooltipster-content");return b.__options.trackTooltip&&
(b.__contentBcr=h[0].getBoundingClientRect()),b.__tracker=setInterval(function(){if(l(b._$origin)&&l(b._$tooltip)){if(b.__options.trackOrigin){var m=b.__geometry(),n=!1;c(m.origin.size,b.__Geometry.origin.size)&&(b.__Geometry.origin.fixedLineage?c(m.origin.windowOffset,b.__Geometry.origin.windowOffset)&&(n=!0):c(m.origin.offset,b.__Geometry.origin.offset)&&(n=!0));n||(b.__options.triggerClose.mouseleave?b._close():b.reposition())}b.__options.trackTooltip&&(m=h[0].getBoundingClientRect(),m.height===
b.__contentBcr.height&&m.width===b.__contentBcr.width||(b.reposition(),b.__contentBcr=m))}else b._close()},b.__options.trackerInterval),b},_close:function(c,h,l){var m=this,x=!0;if(m._trigger({type:"close",event:c,stop:function(){x=!1}}),x||l){h&&m.__callbacks.close.push(h);m.__callbacks.open=[];m.__timeoutsClear();var q=function(){b.each(m.__callbacks.close,function(b,h){h.call(m,m,{event:c,origin:m._$origin[0]})});m.__callbacks.close=[]};if("closed"!=m.__state){if(h=!0,l=(new Date).getTime()+m.__options.animationDuration[1],
"disappearing"==m.__state&&l>m.__closingTime&&0<m.__options.animationDuration[1]&&(h=!1),h)m.__closingTime=l,"disappearing"!=m.__state&&m.__stateSet("disappearing"),h=function(){clearInterval(m.__tracker);m._trigger({type:"closing",event:c});m._$tooltip.off("."+m.__namespace+"-triggerClose").removeClass("tooltipster-dying");b(n.window).off("."+m.__namespace+"-triggerClose");m.__$originParents.each(function(c,k){b(k).off("scroll."+m.__namespace+"-triggerClose")});m.__$originParents=null;b(n.window.document.body).off("."+
m.__namespace+"-triggerClose");m._$origin.off("."+m.__namespace+"-triggerClose");m._off("dismissable");m.__stateSet("closed");m._trigger({type:"after",event:c});m.__options.functionAfter&&m.__options.functionAfter.call(m,m,{event:c,origin:m._$origin[0]});q()},n.hasTransitions?(m._$tooltip.css({"-moz-animation-duration":m.__options.animationDuration[1]+"ms","-ms-animation-duration":m.__options.animationDuration[1]+"ms","-o-animation-duration":m.__options.animationDuration[1]+"ms","-webkit-animation-duration":m.__options.animationDuration[1]+
"ms","animation-duration":m.__options.animationDuration[1]+"ms","transition-duration":m.__options.animationDuration[1]+"ms"}),m._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),0<m.__options.animationDuration[1]&&m._$tooltip.delay(m.__options.animationDuration[1]),m._$tooltip.queue(h)):m._$tooltip.stop().fadeOut(m.__options.animationDuration[1],h)}else q()}return m},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),
this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(c,h){var m=this;if(!m.__destroying&&l(m._$origin)&&m.__enabled){var q=!0;if("closed"==m.__state&&(m._trigger({type:"before",event:c,stop:function(){q=!1}}),q&&m.__options.functionBefore&&(q=m.__options.functionBefore.call(m,m,{event:c,
origin:m._$origin[0]}))),!1!==q&&null!==m.__Content){h&&m.__callbacks.open.push(h);m.__callbacks.close=[];m.__timeoutsClear();var x=function(){"stable"!=m.__state&&m.__stateSet("stable");b.each(m.__callbacks.open,function(b,c){c.call(m,m,{origin:m._$origin[0],tooltip:m._$tooltip[0]})});m.__callbacks.open=[]};if("closed"!==m.__state)h=0,"disappearing"===m.__state?(m.__stateSet("appearing"),n.hasTransitions?(m._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),0<m.__options.animationDuration[0]&&
m._$tooltip.delay(m.__options.animationDuration[0]),m._$tooltip.queue(x)):m._$tooltip.stop().fadeIn(x)):"stable"==m.__state&&x();else{if(m.__stateSet("appearing"),h=m.__options.animationDuration[0],m.__contentInsert(),m.reposition(c,!0),n.hasTransitions?(m._$tooltip.addClass("tooltipster-"+m.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":m.__options.animationDuration[0]+"ms","-ms-animation-duration":m.__options.animationDuration[0]+"ms","-o-animation-duration":m.__options.animationDuration[0]+
"ms","-webkit-animation-duration":m.__options.animationDuration[0]+"ms","animation-duration":m.__options.animationDuration[0]+"ms","transition-duration":m.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=m.__state&&(m._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),0<m.__options.animationDuration[0]&&m._$tooltip.delay(m.__options.animationDuration[0]),m._$tooltip.queue(x))},0)):m._$tooltip.css("display","none").fadeIn(m.__options.animationDuration[0],
x),m.__trackerStart(),b(n.window).on("resize."+m.__namespace+"-triggerClose",function(c){var k=b(document.activeElement);(k.is("input")||k.is("textarea"))&&b.contains(m._$tooltip[0],k[0])||m.reposition(c)}).on("scroll."+m.__namespace+"-triggerClose",function(b){m.__scrollHandler(b)}),m.__$originParents=m._$origin.parents(),m.__$originParents.each(function(c,k){b(k).on("scroll."+m.__namespace+"-triggerClose",function(b){m.__scrollHandler(b)})}),m.__options.triggerClose.mouseleave||m.__options.triggerClose.touchleave&&
n.hasTouchCapability){m._on("dismissable",function(b){b.dismissable?b.delay?(C=setTimeout(function(){m._close(b.event)},b.delay),m.__timeouts.close.push(C)):m._close(b):clearTimeout(C)});c=m._$origin;var r="",u="",C=null;m.__options.interactive&&(c=c.add(m._$tooltip));m.__options.triggerClose.mouseleave&&(r+="mouseenter."+m.__namespace+"-triggerClose ",u+="mouseleave."+m.__namespace+"-triggerClose ");m.__options.triggerClose.touchleave&&n.hasTouchCapability&&(r+="touchstart."+m.__namespace+"-triggerClose",
u+="touchend."+m.__namespace+"-triggerClose touchcancel."+m.__namespace+"-triggerClose");c.on(u,function(b){!m._touchIsTouchEvent(b)&&m._touchIsEmulatedEvent(b)||m._trigger({delay:("mouseleave"==b.type?m.__options.delay:m.__options.delayTouch)[1],dismissable:!0,event:b,type:"dismissable"})}).on(r,function(b){!m._touchIsTouchEvent(b)&&m._touchIsEmulatedEvent(b)||m._trigger({dismissable:!1,event:b,type:"dismissable"})})}m.__options.triggerClose.originClick&&m._$origin.on("click."+m.__namespace+"-triggerClose",
function(b){m._touchIsTouchEvent(b)||m._touchIsEmulatedEvent(b)||m._close(b)});(m.__options.triggerClose.click||m.__options.triggerClose.tap&&n.hasTouchCapability)&&setTimeout(function(){if("closed"!=m.__state){var c="",k=b(n.window.document.body);m.__options.triggerClose.click&&(c+="click."+m.__namespace+"-triggerClose ");m.__options.triggerClose.tap&&n.hasTouchCapability&&(c+="touchend."+m.__namespace+"-triggerClose");k.on(c,function(c){m._touchIsMeaningfulEvent(c)&&(m._touchRecordEvent(c),m.__options.interactive&&
b.contains(m._$tooltip[0],c.target)||m._close(c))});m.__options.triggerClose.tap&&n.hasTouchCapability&&k.on("touchstart."+m.__namespace+"-triggerClose",function(b){m._touchRecordEvent(b)})}},0);m._trigger("ready");m.__options.functionReady&&m.__options.functionReady.call(m,m,{origin:m._$origin[0],tooltip:m._$tooltip[0]})}0<m.__options.timer&&(C=setTimeout(function(){m._close()},m.__options.timer+h),m.__timeouts.close.push(C))}}return m},_openShortly:function(b){var c=this,h=!0;if("stable"!=c.__state&&
"appearing"!=c.__state&&!c.__timeouts.open&&(c._trigger({type:"start",event:b,stop:function(){h=!1}}),h)){var l=0==b.type.indexOf("touch")?c.__options.delayTouch:c.__options.delay;l[0]?c.__timeouts.open=setTimeout(function(){c.__timeouts.open=null;c.__pointerIsOverOrigin&&c._touchIsMeaningfulEvent(b)?(c._trigger("startend"),c._open(b)):c._trigger("startcancel")},l[0]):(c._trigger("startend"),c._open(b))}return c},_optionsExtract:function(c,h){var l=this,m=b.extend(!0,{},h),n=l.__options[c];return n||
(n={},b.each(h,function(b,c){c=l.__options[b];void 0!==c&&(n[b]=c)})),b.each(m,function(c,k){void 0!==n[c]&&("object"!=typeof k||k instanceof Array||null==k||"object"!=typeof n[c]||n[c]instanceof Array||null==n[c]?m[c]=n[c]:b.extend(m[c],n[c]))}),m},_plug:function(c){var h=b.tooltipster._plugin(c);if(!h)throw Error('The "'+c+'" plugin is not defined');return h.instance&&b.tooltipster.__bridge(h.instance,this,h.name),this},_touchIsEmulatedEvent:function(b){for(var c=!1,h=(new Date).getTime(),l=this.__touchEvents.length-
1;0<=l;l--){var m=this.__touchEvents[l];if(!(500>h-m.time))break;m.target===b.target&&(c=!0)}return c},_touchIsMeaningfulEvent:function(b){return this._touchIsTouchEvent(b)&&!this._touchSwiped(b.target)||!this._touchIsTouchEvent(b)&&!this._touchIsEmulatedEvent(b)},_touchIsTouchEvent:function(b){return 0==b.type.indexOf("touch")},_touchRecordEvent:function(b){return this._touchIsTouchEvent(b)&&(b.time=(new Date).getTime(),this.__touchEvents.push(b)),this},_touchSwiped:function(b){for(var c=!1,h=this.__touchEvents.length-
1;0<=h;h--){var l=this.__touchEvents[h];if("touchmove"==l.type){c=!0;break}if("touchstart"==l.type&&b===l.target)break}return c},_trigger:function(){var c=Array.prototype.slice.apply(arguments);return"string"==typeof c[0]&&(c[0]={type:c[0]}),c[0].instance=this,c[0].origin=this._$origin?this._$origin[0]:null,c[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,c),b.tooltipster._trigger.apply(b.tooltipster,c),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,
c),this},_unplug:function(c){var h=this;if(h[c]){var l=b.tooltipster._plugin(c);l.instance&&b.each(l.instance,function(b,l){h[b]&&h[b].bridged===h[c]&&delete h[b]});h[c].__destroy&&h[c].__destroy();delete h[c]}return h},close:function(b){return this.__destroyed?this.__destroyError():this._close(null,b),this},content:function(b){var c=this;if(void 0===b)return c.__Content;if(c.__destroyed)c.__destroyError();else if(c.__contentSet(b),null!==c.__Content){if("closed"!==c.__state&&(c.__contentInsert(),
c.reposition(),c.__options.updateAnimation))if(n.hasTransitions){var h=c.__options.updateAnimation;c._$tooltip.addClass("tooltipster-update-"+h);setTimeout(function(){"closed"!=c.__state&&c._$tooltip.removeClass("tooltipster-update-"+h)},1E3)}else c._$tooltip.fadeTo(200,.5,function(){"closed"!=c.__state&&c._$tooltip.fadeTo(200,1)})}else c._close();return c},destroy:function(){var c=this;if(c.__destroyed)c.__destroyError();else{"closed"!=c.__state?c.option("animationDuration",0)._close(null,null,!0):
c.__timeoutsClear();c._trigger("destroy");c.__destroyed=!0;c._$origin.removeData(c.__namespace).off("."+c.__namespace+"-triggerOpen");b(n.window.document.body).off("."+c.__namespace+"-triggerOpen");var h=c._$origin.data("tooltipster-ns");h&&(1===h.length?(h=null,"previous"==c.__options.restoration?h=c._$origin.data("tooltipster-initialTitle"):"current"==c.__options.restoration&&(h="string"==typeof c.__Content?c.__Content:b("\x3cdiv\x3e\x3c/div\x3e").append(c.__Content).html()),h&&c._$origin.attr("title",
h),c._$origin.removeClass("tooltipstered"),c._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")):(h=b.grep(h,function(b,h){return b!==c.__namespace}),c._$origin.data("tooltipster-ns",h)));c._trigger("destroyed");c._off();c.off();c.__Content=null;c.__$emitterPrivate=null;c.__$emitterPublic=null;c.__options.parent=null;c._$origin=null;c._$tooltip=null;b.tooltipster.__instancesLatestArr=b.grep(b.tooltipster.__instancesLatestArr,function(b,h){return c!==b});clearInterval(c.__garbageCollector)}return c},
disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){return this.__destroyed?void this.__destroyError():this._$origin[0]},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(b){return this.close(b)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),
this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(b){return this.__destroyed?this.__destroyError():this._open(null,b),this},option:function(c,h){return void 0===h?this.__options[c]:(this.__destroyed?this.__destroyError():
(this.__options[c]=h,this.__optionsFormat(),0<=b.inArray(c,["trigger","triggerClose","triggerOpen"])&&this.__prepareOrigin(),"selfDestruction"===c&&this.__prepareGC()),this)},reposition:function(b,c){return this.__destroyed?this.__destroyError():"closed"!=this.__state&&l(this._$origin)&&(c||l(this._$tooltip))&&(c||this._$tooltip.detach(),this.__Geometry=this.__geometry(),this._trigger({type:"reposition",event:b,helper:{geo:this.__Geometry}})),this},show:function(b){return this.open(b)},status:function(){return{destroyed:this.__destroyed,
enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}};b.fn.tooltipster=function(){var c=Array.prototype.slice.apply(arguments);if(0===this.length)return this;if("string"==typeof c[0]){var h="#*$~\x26";return this.each(function(){var l=b(this).data("tooltipster-ns"),l=l?b(this).data(l[0]):null;if(!l)throw Error("You called Tooltipster's \""+
c[0]+'" method on an uninitialized element');if("function"!=typeof l[c[0]])throw Error('Unknown method "'+c[0]+'"');var m=l[c[0]](c[1],c[2]);return m!==l||"instance"===c[0]?(h=m,!1):void 0}),"#*$~\x26"!==h?h:this}b.tooltipster.__instancesLatestArr=[];var l=c[0]&&void 0!==c[0].multiple,n=l&&c[0].multiple||!l&&m.multiple;return this.each(function(){var h=!1,l=b(this),m=l.data("tooltipster-ns"),p=null;m?n&&(h=!0):h=!0;h&&(p=new b.Tooltipster(this,c[0]),m||(m=[]),m.push(p.__namespace),l.data("tooltipster-ns",
m),l.data(p.__namespace,p),p.__options.functionInit&&p.__options.functionInit.call(p,p,{origin:this}),p._trigger("init"));b.tooltipster.__instancesLatestArr.push(p)}),this};h.prototype={__init:function(c){this.__$tooltip=c;this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto");this.$container=b('\x3cdiv class\x3d"tooltipster-ruler"\x3e\x3c/div\x3e').append(this.__$tooltip).appendTo(n.window.document.body)},__forceRedraw:function(){var b=
this.__$tooltip.parent();this.__$tooltip.detach();this.__$tooltip.appendTo(b)},constrain:function(b,c){return this.constraints={width:b,height:c},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:b}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""});this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();
var b=this.__$tooltip[0].getBoundingClientRect(),c={size:{height:b.height||b.bottom-b.top,width:b.width||b.right-b.left}};if(this.constraints){var h=this.__$tooltip.find(".tooltipster-content"),l=this.__$tooltip.outerHeight(),m=h[0].getBoundingClientRect(),b=b.width<=this.constraints.width&&m.width>=h[0].scrollWidth-1;c.fits=l<=this.constraints.height&&b}return n.IE&&11>=n.IE&&c.size.width!==n.window.document.documentElement.clientWidth&&(c.size.width=Math.ceil(c.size.width)+1),c}};r=navigator.userAgent.toLowerCase();
-1!=r.indexOf("msie")?n.IE=parseInt(r.split("msie")[1]):-1!==r.toLowerCase().indexOf("trident")&&-1!==r.indexOf(" rv:11")?n.IE=11:-1!=r.toLowerCase().indexOf("edge/")&&(n.IE=parseInt(r.toLowerCase().split("edge/")[1]));return b.tooltipster._plugin({name:"tooltipster.sideTip",instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(b){var c=this;c.__instance=b;c.__namespace=
"tooltipster-sideTip-"+Math.round(1E6*Math.random());c.__previousState="closed";c.__options;c.__optionsFormat();c.__instance._on("state."+c.__namespace,function(b){"closed"==b.state?c.__close():"appearing"==b.state&&"closed"==c.__previousState&&c.__create();c.__previousState=b.state});c.__instance._on("options."+c.__namespace,function(){c.__optionsFormat()});c.__instance._on("reposition."+c.__namespace,function(b){c.__reposition(b.event,b.helper)})},__close:function(){this.__instance.content()instanceof
b&&this.__instance.content().detach();this.__instance._$tooltip.remove();this.__instance._$tooltip=null},__create:function(){var c=b('\x3cdiv class\x3d"tooltipster-base tooltipster-sidetip"\x3e\x3cdiv class\x3d"tooltipster-box"\x3e\x3cdiv class\x3d"tooltipster-content"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"tooltipster-arrow"\x3e\x3cdiv class\x3d"tooltipster-arrow-uncropped"\x3e\x3cdiv class\x3d"tooltipster-arrow-border"\x3e\x3c/div\x3e\x3cdiv class\x3d"tooltipster-arrow-background"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
this.__options.arrow||c.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide();this.__options.minWidth&&c.css("min-width",this.__options.minWidth+"px");this.__options.maxWidth&&c.css("max-width",this.__options.maxWidth+"px");this.__instance._$tooltip=c;this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){if(this.__options=this.__instance._optionsExtract("tooltipster.sideTip",this.__defaults()),this.__options.position&&
(this.__options.side=this.__options.position),"object"!=typeof this.__options.distance&&(this.__options.distance=[this.__options.distance]),4>this.__options.distance.length&&(void 0===this.__options.distance[1]&&(this.__options.distance[1]=this.__options.distance[0]),void 0===this.__options.distance[2]&&(this.__options.distance[2]=this.__options.distance[0]),void 0===this.__options.distance[3]&&(this.__options.distance[3]=this.__options.distance[1]),this.__options.distance={top:this.__options.distance[0],
right:this.__options.distance[1],bottom:this.__options.distance[2],left:this.__options.distance[3]}),"string"==typeof this.__options.side)this.__options.side=[this.__options.side,{top:"bottom",right:"left",bottom:"top",left:"right"}[this.__options.side]],"left"==this.__options.side[0]||"right"==this.__options.side[0]?this.__options.side.push("top","bottom"):this.__options.side.push("right","left");6===b.tooltipster._env.IE&&!0!==this.__options.arrow&&(this.__options.arrow=!1)},__reposition:function(c,
h){var l,m=this,n=m.__targetFind(h),q=[];m.__instance._$tooltip.detach();var u=m.__instance._$tooltip.clone(),r=b.tooltipster._getRuler(u),B=!1,y=m.__instance.option("animation");switch(y&&u.removeClass("tooltipster-"+y),b.each(["window","document"],function(l,v){var y=null;if(m.__instance._trigger({container:v,helper:h,satisfied:B,takeTest:function(b){y=b},results:q,type:"positionTest"}),1==y||0!=y&&0==B&&("window"!=v||m.__options.viewportAware))for(l=0;l<m.__options.side.length;l++){var E={horizontal:0,
vertical:0},F=m.__options.side[l];"top"==F||"bottom"==F?E.vertical=m.__options.distance[F]:E.horizontal=m.__options.distance[F];m.__sideChange(u,F);b.each(["natural","constrained"],function(b,l){if(y=null,m.__instance._trigger({container:v,event:c,helper:h,mode:l,results:q,satisfied:B,side:F,takeTest:function(b){y=b},type:"positionTest"}),1==y||0!=y&&0==B){b={container:v,distance:E,fits:null,mode:l,outerSize:null,side:F,size:null,target:n[F],whole:null};var u=("natural"==l?r.free():r.constrain(h.geo.available[v][F].width-
E.horizontal,h.geo.available[v][F].height-E.vertical)).measure();if(b.size=u.size,b.outerSize={height:u.size.height+E.vertical,width:u.size.width+E.horizontal},"natural"==l?h.geo.available[v][F].width>=b.outerSize.width&&h.geo.available[v][F].height>=b.outerSize.height?b.fits=!0:b.fits=!1:b.fits=u.fits,"window"==v&&(b.fits?"top"==F||"bottom"==F?b.whole=h.geo.origin.windowOffset.right>=m.__options.minIntersection&&h.geo.window.size.width-h.geo.origin.windowOffset.left>=m.__options.minIntersection:
b.whole=h.geo.origin.windowOffset.bottom>=m.__options.minIntersection&&h.geo.window.size.height-h.geo.origin.windowOffset.top>=m.__options.minIntersection:b.whole=!1),q.push(b),b.whole)B=!0;else if("natural"==b.mode&&(b.fits||b.size.width<=h.geo.available[v][F].width))return!1}})}}),m.__instance._trigger({edit:function(b){q=b},event:c,helper:h,results:q,type:"positionTested"}),q.sort(function(b,c){if(b.whole&&!c.whole)return-1;if(!b.whole&&c.whole)return 1;if(b.whole&&c.whole){var k=m.__options.side.indexOf(b.side);
c=m.__options.side.indexOf(c.side);return c>k?-1:k>c?1:"natural"==b.mode?-1:1}return b.fits&&!c.fits?-1:!b.fits&&c.fits?1:b.fits&&c.fits?(k=m.__options.side.indexOf(b.side),c=m.__options.side.indexOf(c.side),c>k?-1:k>c?1:"natural"==b.mode?-1:1):"document"==b.container&&"bottom"==b.side&&"natural"==b.mode?-1:1}),l=q[0],l.coord={},l.side){case "left":case "right":l.coord.top=Math.floor(l.target-l.size.height/2);break;case "bottom":case "top":l.coord.left=Math.floor(l.target-l.size.width/2)}switch(l.side){case "left":l.coord.left=
h.geo.origin.windowOffset.left-l.outerSize.width;break;case "right":l.coord.left=h.geo.origin.windowOffset.right+l.distance.horizontal;break;case "top":l.coord.top=h.geo.origin.windowOffset.top-l.outerSize.height;break;case "bottom":l.coord.top=h.geo.origin.windowOffset.bottom+l.distance.vertical}"window"==l.container?"top"==l.side||"bottom"==l.side?0>l.coord.left?0<=h.geo.origin.windowOffset.right-this.__options.minIntersection?l.coord.left=0:l.coord.left=h.geo.origin.windowOffset.right-this.__options.minIntersection-
1:l.coord.left>h.geo.window.size.width-l.size.width&&(h.geo.origin.windowOffset.left+this.__options.minIntersection<=h.geo.window.size.width?l.coord.left=h.geo.window.size.width-l.size.width:l.coord.left=h.geo.origin.windowOffset.left+this.__options.minIntersection+1-l.size.width):0>l.coord.top?0<=h.geo.origin.windowOffset.bottom-this.__options.minIntersection?l.coord.top=0:l.coord.top=h.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:l.coord.top>h.geo.window.size.height-l.size.height&&
(h.geo.origin.windowOffset.top+this.__options.minIntersection<=h.geo.window.size.height?l.coord.top=h.geo.window.size.height-l.size.height:l.coord.top=h.geo.origin.windowOffset.top+this.__options.minIntersection+1-l.size.height):(l.coord.left>h.geo.window.size.width-l.size.width&&(l.coord.left=h.geo.window.size.width-l.size.width),0>l.coord.left&&(l.coord.left=0));m.__sideChange(u,l.side);h.tooltipClone=u[0];h.tooltipParent=m.__instance.option("parent").parent[0];h.mode=l.mode;h.whole=l.whole;h.origin=
m.__instance._$origin[0];h.tooltip=m.__instance._$tooltip[0];delete l.container;delete l.fits;delete l.mode;delete l.outerSize;delete l.whole;l.distance=l.distance.horizontal||l.distance.vertical;y=b.extend(!0,{},l);(m.__instance._trigger({edit:function(b){l=b},event:c,helper:h,position:y,type:"position"}),m.__options.functionPosition)&&(y=m.__options.functionPosition.call(m,m.__instance,h,y))&&(l=y);r.destroy();var E,F;"top"==l.side||"bottom"==l.side?(E={prop:"left",val:l.target-l.coord.left},F=
l.size.width-this.__options.minIntersection):(E={prop:"top",val:l.target-l.coord.top},F=l.size.height-this.__options.minIntersection);E.val<this.__options.minIntersection?E.val=this.__options.minIntersection:E.val>F&&(E.val=F);F=h.geo.origin.fixedLineage?h.geo.origin.windowOffset:{left:h.geo.origin.windowOffset.left+h.geo.window.scroll.left,top:h.geo.origin.windowOffset.top+h.geo.window.scroll.top};l.coord={left:F.left+(l.coord.left-h.geo.origin.windowOffset.left),top:F.top+(l.coord.top-h.geo.origin.windowOffset.top)};
m.__sideChange(m.__instance._$tooltip,l.side);h.geo.origin.fixedLineage?m.__instance._$tooltip.css("position","fixed"):m.__instance._$tooltip.css("position","");m.__instance._$tooltip.css({left:l.coord.left,top:l.coord.top,height:l.size.height,width:l.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(E.prop,E.val);m.__instance._$tooltip.appendTo(m.__instance.option("parent"));m.__instance._trigger({type:"repositioned",event:c,position:l})},__sideChange:function(b,c){b.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+
c)},__targetFind:function(b){var c={},h=this.__instance._$origin[0].getClientRects();1<h.length&&1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),h=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1));2>h.length?(c.top=Math.floor(b.geo.origin.windowOffset.left+b.geo.origin.size.width/2),c.bottom=c.top,c.left=Math.floor(b.geo.origin.windowOffset.top+b.geo.origin.size.height/2),c.right=c.left):(b=h[0],c.top=Math.floor(b.left+
(b.right-b.left)/2),b=2<h.length?h[Math.ceil(h.length/2)-1]:h[0],c.right=Math.floor(b.top+(b.bottom-b.top)/2),b=h[h.length-1],c.bottom=Math.floor(b.left+(b.right-b.left)/2),b=2<h.length?h[Math.ceil((h.length+1)/2)-1]:h[h.length-1],c.left=Math.floor(b.top+(b.bottom-b.top)/2));return c}}}),b});
!function(b){var h=function(){var b,c=document.createElement("fakeelement"),h={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(b in h)if(void 0!==c.style[b])return h[b]},c=function(c,h,q){this.setting={axis:"y",reverse:!1,trigger:"click",speed:500,forceHeight:!1,forceWidth:!1,autoSize:!0,front:".front",back:".back"};this.setting=b.extend(this.setting,h);"string"!=typeof h.axis||"x"!==h.axis.toLowerCase()&&"y"!==h.axis.toLowerCase()||
(this.setting.axis=h.axis.toLowerCase());"boolean"==typeof h.reverse&&(this.setting.reverse=h.reverse);"string"==typeof h.trigger&&(this.setting.trigger=h.trigger.toLowerCase());var n=parseInt(h.speed);isNaN(n)||(this.setting.speed=n);"boolean"==typeof h.forceHeight&&(this.setting.forceHeight=h.forceHeight);"boolean"==typeof h.forceWidth&&(this.setting.forceWidth=h.forceWidth);"boolean"==typeof h.autoSize&&(this.setting.autoSize=h.autoSize);("string"==typeof h.front||h.front instanceof b)&&(this.setting.front=
h.front);("string"==typeof h.back||h.back instanceof b)&&(this.setting.back=h.back);this.element=c;this.frontElement=this.getFrontElement();this.backElement=this.getBackElement();this.isFlipped=!1;this.init(q)};b.extend(c.prototype,{flipDone:function(b){var c=this;c.element.one(h(),function(){c.element.trigger("flip:done");"function"==typeof b&&b.call(c.element)})},flip:function(b){if(!this.isFlipped){this.isFlipped=!0;var c="rotate"+this.setting.axis;this.frontElement.css({transform:c+(this.setting.reverse?
"(-180deg)":"(180deg)"),"z-index":"0"});this.backElement.css({transform:c+"(0deg)","z-index":"1"});this.flipDone(b)}},unflip:function(b){if(this.isFlipped){this.isFlipped=!1;var c="rotate"+this.setting.axis;this.frontElement.css({transform:c+"(0deg)","z-index":"1"});this.backElement.css({transform:c+(this.setting.reverse?"(180deg)":"(-180deg)"),"z-index":"0"});this.flipDone(b)}},getFrontElement:function(){return this.setting.front instanceof b?this.setting.front:this.element.find(this.setting.front)},
getBackElement:function(){return this.setting.back instanceof b?this.setting.back:this.element.find(this.setting.back)},init:function(b){var c=this,h=c.frontElement.add(c.backElement),n="rotate"+c.setting.axis,r={perspective:2*c.element["outer"+("rotatex"===n?"Height":"Width")](),position:"relative"},n={transform:n+"("+(c.setting.reverse?"180deg":"-180deg")+")","z-index":"0",position:"relative"},k={"backface-visibility":"hidden","transform-style":"preserve-3d",position:"absolute","z-index":"1"};c.setting.forceHeight?
h.outerHeight(c.element.height()):c.setting.autoSize&&(k.height="100%");c.setting.forceWidth?h.outerWidth(c.element.width()):c.setting.autoSize&&(k.width="100%");(window.chrome||window.Intl&&Intl.v8BreakIterator)&&"CSS"in window&&(r["-webkit-transform-style"]="preserve-3d");h.css(k).find("*").css({"backface-visibility":"hidden"});c.element.css(r);c.backElement.css(n);setTimeout(function(){h.css({transition:"all "+(c.setting.speed/1E3||.5)+"s ease-out"});"function"==typeof b&&b.call(c.element)},20);
c.attachEvents()},clickHandler:function(c){c||(c=window.event);this.element.find(b(c.target).closest('button, a, input[type\x3d"submit"]')).length||(this.isFlipped?this.unflip():this.flip())},hoverHandler:function(){var c=this;c.element.off("mouseleave.flip");c.flip();setTimeout(function(){c.element.on("mouseleave.flip",b.proxy(c.unflip,c));c.element.is(":hover")||c.unflip()},c.setting.speed+150)},attachEvents:function(){"click"===this.setting.trigger?this.element.on(b.fn.tap?"tap.flip":"click.flip",
b.proxy(this.clickHandler,this)):"hover"===this.setting.trigger&&(this.element.on("mouseenter.flip",b.proxy(this.hoverHandler,this)),this.element.on("mouseleave.flip",b.proxy(this.unflip,this)))},flipChanged:function(b){this.element.trigger("flip:change");"function"==typeof b&&b.call(this.element)},changeSettings:function(b,c){var h=this,n=!1;if(void 0!==b.axis&&h.setting.axis!==b.axis.toLowerCase()&&(h.setting.axis=b.axis.toLowerCase(),n=!0),void 0!==b.reverse&&h.setting.reverse!==b.reverse&&(h.setting.reverse=
b.reverse,n=!0),n){var r=h.frontElement.add(h.backElement),k=r.css(["transition-property","transition-timing-function","transition-duration","transition-delay"]);r.css({transition:"none"});b="rotate"+h.setting.axis;h.isFlipped?h.frontElement.css({transform:b+(h.setting.reverse?"(-180deg)":"(180deg)"),"z-index":"0"}):h.backElement.css({transform:b+(h.setting.reverse?"(180deg)":"(-180deg)"),"z-index":"0"});setTimeout(function(){r.css(k);h.flipChanged(c)},0)}else h.flipChanged(c)}});b.fn.flip=function(h,
m){return"function"==typeof h&&(m=h),"string"==typeof h||"boolean"==typeof h?this.each(function(){var c=b(this).data("flip-model");"toggle"===h&&(h=!c.isFlipped);h?c.flip(m):c.unflip(m)}):this.each(function(){if(b(this).data("flip-model")){var q=b(this).data("flip-model");!h||void 0===h.axis&&void 0===h.reverse||q.changeSettings(h,m)}else b(this).data("flip-model",new c(b(this),h||{},m))}),this}}(jQuery);
!function(b){b.fn.captionjs=function(h){var c=b.extend({class_name:"captionjs",schema:!0,mode:"default",debug_mode:!1,force_dimensions:!0,is_responsive:!1,inherit_styles:!1},h||{}),l=function(b,c,h,l){h.jquery&&l.jquery&&(h.css(b,l.css(b)),l.css(b,c))};return this.each(function(){var h,q,n=b(this);h=n.data("caption")?n.data("caption"):n.attr("alt");var r=n.wrap('\x3cfigure class\x3d"'+c.class_name+" "+c.mode+'"/\x3e').after("\x3cfigcaption/\x3e").parent(),k=n.next("figcaption").html(h);n.data("link")?
k.wrapInner('\x3ca href\x3d"'+n.data("link")+'"/\x3e').children("a").css("padding","0").css("margin","0"):null;if(""===h&&k.remove(),c.force_dimensions){var p=r.clone().css({position:"absolute",left:"-9999px"}).appendTo("body");h=b("img",p).outerWidth();q=b("figcaption",p).css("width",h).css("clear","both").outerHeight();p.remove()}else h=n.outerWidth(),q=k.outerHeight();c.is_responsive&&(h="100%",n.width(h));c.inherit_styles&&("inline"==n.css("display")?r.css("display","inline-block"):l("display",
"block",r,n),"static"==n.css("position")?r.css("position","relative"):l("position","relative",r,n),l("clear","both",r,n),l("float","none",r,n),l("margin","0",r,n),n.css("padding","0"),l("left","auto",r,n),l("right","auto",r,n),l("top","auto",r,n),l("bottom","auto",r,n),l("z-index",n.css("z-index"),r,n));r.width(h);c.schema&&(r.attr({itemscope:"itemscope",itemtype:"http://schema.org/Photograph"}),k.attr("itemprop","name"),n.attr("itemprop","image"));"stacked"===c.mode&&k.css({"margin-bottom":"0",bottom:"0"});
"animated"===c.mode&&k.css({"margin-bottom":"0",bottom:-q});"hide"===c.mode&&k.css({"margin-bottom":q,bottom:-q})})}}(jQuery,window);
!function(b){"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():window.noUiSlider=b()}(function(){function b(b){return b.filter(function(b){return this[b]?!1:this[b]=!0},{})}function h(b){var c=b.getBoundingClientRect();b=b.ownerDocument.documentElement;var k=r();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(k.x=0),{top:c.top+k.y-b.clientTop,left:c.left+k.x-b.clientLeft}}function c(b){return"number"==typeof b&&!isNaN(b)&&isFinite(b)}function l(b,
c,k){q(b,c);setTimeout(function(){n(b,c)},k)}function m(b){return Array.isArray(b)?b:[b]}function q(b,c){b.classList?b.classList.add(c):b.className+=" "+c}function n(b,c){b.classList?b.classList.remove(c):b.className=b.className.replace(new RegExp("(^|\\b)"+c.split(" ").join("|")+"(\\b|$)","gi")," ")}function r(){var b=void 0!==window.pageXOffset,c="CSS1Compat"===(document.compatMode||"");return{x:b?window.pageXOffset:c?document.documentElement.scrollLeft:document.body.scrollLeft,y:b?window.pageYOffset:
c?document.documentElement.scrollTop:document.body.scrollTop}}function k(b){b.stopPropagation()}function p(b){return function(c){return b+c}}function v(b,c){return 100*c/(b[1]-b[0])}function z(b,c){for(var k=1;b>=c[k];)k+=1;return k}function x(b,k,h){var l;if("number"==typeof k&&(k=[k]),"[object Array]"!==Object.prototype.toString.call(k))throw Error("noUiSlider: 'range' contains invalid value.");if(l="min"===b?0:"max"===b?100:parseFloat(b),!c(l)||!c(k[0]))throw Error("noUiSlider: 'range' value isn't numeric.");
h.xPct.push(l);h.xVal.push(k[0]);l?h.xSteps.push(isNaN(k[1])?!1:k[1]):isNaN(k[1])||(h.xSteps[0]=k[1])}function A(b,c,k){return c?void(k.xSteps[b]=v([k.xVal[b],k.xVal[b+1]],c)/(100/(k.xPct[b+1]-k.xPct[b]))):!0}function u(b,c,k,h){this.xPct=[];this.xVal=[];this.xSteps=[h||!1];this.xNumSteps=[!1];this.snap=c;this.direction=k;var l;c=[];for(l in b)b.hasOwnProperty(l)&&c.push([b[l],l]);c.length&&"object"==typeof c[0][0]?c.sort(function(b,c){return b[0][0]-c[0][0]}):c.sort(function(b,c){return b[0]-c[0]});
for(l=0;l<c.length;l++)x(c[l][1],c[l][0],this);this.xNumSteps=this.xSteps.slice(0);for(l=0;l<this.xNumSteps.length;l++)A(l,this.xNumSteps[l],this)}function C(b,k){if(!c(k))throw Error("noUiSlider: 'step' is not numeric.");b.singleStep=k}function B(b,c){if("object"!=typeof c||Array.isArray(c))throw Error("noUiSlider: 'range' is not an object.");if(void 0===c.min||void 0===c.max)throw Error("noUiSlider: Missing 'min' or 'max' in 'range'.");if(c.min===c.max)throw Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.");
b.spectrum=new u(c,b.snap,b.dir,b.singleStep)}function y(b,c){if(c=m(c),!Array.isArray(c)||!c.length||2<c.length)throw Error("noUiSlider: 'start' option is incorrect.");b.handles=c.length;b.start=c}function E(b,c){if(b.snap=c,"boolean"!=typeof c)throw Error("noUiSlider: 'snap' option must be a boolean.");}function F(b,c){if(b.animate=c,"boolean"!=typeof c)throw Error("noUiSlider: 'animate' option must be a boolean.");}function D(b,c){if("lower"===c&&1===b.handles)b.connect=1;else if("upper"===c&&
1===b.handles)b.connect=2;else if(!0===c&&2===b.handles)b.connect=3;else{if(!1!==c)throw Error("noUiSlider: 'connect' option doesn't match handle count.");b.connect=0}}function G(b,c){switch(c){case "horizontal":b.ort=0;break;case "vertical":b.ort=1;break;default:throw Error("noUiSlider: 'orientation' option is invalid.");}}function I(b,k){if(!c(k))throw Error("noUiSlider: 'margin' option must be numeric.");if(b.margin=b.spectrum.getMargin(k),!b.margin)throw Error("noUiSlider: 'margin' option is only supported on linear sliders.");
}function K(b,k){if(!c(k))throw Error("noUiSlider: 'limit' option must be numeric.");if(b.limit=b.spectrum.getMargin(k),!b.limit)throw Error("noUiSlider: 'limit' option is only supported on linear sliders.");}function H(b,c){switch(c){case "ltr":b.dir=0;break;case "rtl":b.dir=1;b.connect=[0,2,1,3][b.connect];break;default:throw Error("noUiSlider: 'direction' option was not recognized.");}}function P(b,c){if("string"!=typeof c)throw Error("noUiSlider: 'behaviour' must be a string containing options.");
var k=0<=c.indexOf("tap"),h=0<=c.indexOf("drag"),l=0<=c.indexOf("fixed"),m=0<=c.indexOf("snap");c=0<=c.indexOf("hover");if(h&&!b.connect)throw Error("noUiSlider: 'drag' behaviour must be used with 'connect': true.");b.events={tap:k||m,drag:h,fixed:l,snap:m,hover:c}}function O(b,c){if(!1!==c)if(!0===c)for(b.tooltips=[],c=0;c<b.handles;c++)b.tooltips.push(!0);else{if(b.tooltips=m(c),b.tooltips.length!==b.handles)throw Error("noUiSlider: must pass a formatter for all handles.");b.tooltips.forEach(function(b){if("boolean"!=
typeof b&&("object"!=typeof b||"function"!=typeof b.to))throw Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.");})}}function J(b,c){if(b.format=c,"function"==typeof c.to&&"function"==typeof c.from)return!0;throw Error("noUiSlider: 'format' requires 'to' and 'from' methods.");}function aa(b,c){if(void 0!==c&&"string"!=typeof c)throw Error("noUiSlider: 'cssPrefix' must be a string.");b.cssPrefix=c}function ga(b){var c,k={margin:0,limit:0,animate:!0,format:N};c={step:{r:!1,t:C},
start:{r:!0,t:y},connect:{r:!0,t:D},direction:{r:!0,t:H},snap:{r:!1,t:E},animate:{r:!1,t:F},range:{r:!0,t:B},orientation:{r:!1,t:G},margin:{r:!1,t:I},limit:{r:!1,t:K},behaviour:{r:!0,t:P},format:{r:!1,t:J},tooltips:{r:!1,t:O},cssPrefix:{r:!1,t:aa}};var h={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"};return Object.keys(c).forEach(function(l){if(void 0===b[l]&&void 0===h[l]){if(c[l].r)throw Error("noUiSlider: '"+l+"' is required.");return!0}c[l].t(k,void 0===b[l]?h[l]:b[l])}),
k.pips=b.pips,k.style=k.ort?"top":"left",k}function W(c,u){function v(b,c){var k=document.createElement("div"),h=document.createElement("div"),l=["-lower","-upper"];return b&&l.reverse(),q(h,da[3]),q(h,da[3]+l[c]),q(k,da[2]),k.appendChild(h),k}function x(b,c){if(!u.tooltips[c])return!1;c=document.createElement("div");return c.className=da[18],b.firstChild.appendChild(c)}function y(){u.dir&&u.tooltips.reverse();var b=N.map(x);u.dir&&(b.reverse(),u.tooltips.reverse());V("update",function(c,k,h){b[k]&&
(b[k].innerHTML=!0===u.tooltips[k]?c[k]:u.tooltips[k].to(h[k]))})}function z(b,c,k){if("range"===b||"steps"===b)return L.xVal;if("count"===b){var h=100/(c-1),l=0;for(c=[];100>=(b=l++*h);)c.push(b);b="positions"}return"positions"===b?c.map(function(b){return L.fromStepping(k?L.getStep(b):b)}):"values"===b?k?c.map(function(b){return L.fromStepping(L.getStep(L.toStepping(b)))}):c:void 0}function A(c,k,h){var l=L.direction,m={},p=L.xVal[0],n=L.xVal[L.xVal.length-1],u=!1,v=!1,x=0;return L.direction=0,
h=b(h.slice().sort(function(b,c){return b-c})),h[0]!==p&&(h.unshift(p),u=!0),h[h.length-1]!==n&&(h.push(n),v=!0),h.forEach(function(b,l){var p,n,q,y,z,r,A=h[l+1];if("steps"===k&&(p=L.xNumSteps[l]),p||(p=A-b),!1!==b&&void 0!==A)for(;A>=b;b=(b+p).toFixed(7)/1){q=L.toStepping(b);n=q-x;z=n/c;z=Math.round(z);r=n/z;for(n=1;z>=n;n+=1)y=x+n*r,m[y.toFixed(5)]=["x",0];z=-1<h.indexOf(b)?1:"steps"===k?2:0;!l&&u&&(z=0);b===A&&v||(m[q.toFixed(5)]=[b,z]);x=q}}),L.direction=l,m}function B(b,c,k){function h(b,c,k){return'class\x3d"'+
c+" "+c+"-"+l+" "+c+["-normal","-large","-sub"][k[1]]+'" style\x3d"'+u.style+": "+b+'%"'}var l=["horizontal","vertical"][u.ort],m=document.createElement("div");return q(m,da[20]),q(m,da[20]+"-"+l),Object.keys(b).forEach(function(l){var p=l;l=b[l];L.direction&&(p=100-p);l[1]=l[1]&&c?c(l[0],l[1]):l[1];m.innerHTML+="\x3cdiv "+h(p,da[21],l)+"\x3e\x3c/div\x3e";l[1]&&(m.innerHTML+="\x3cdiv "+h(p,da[22],l)+"\x3e"+k.to(l[0])+"\x3c/div\x3e")}),m}function C(b){var c=b.mode,k=b.density||1,h=b.filter||!1,l=z(c,
b.values||!1,b.stepped||!1),c=A(k,c,l);return na.appendChild(B(c,h,b.format||{to:Math.round}))}function E(){return W["offset"+["Width","Height"][u.ort]]}function D(b,c,k){void 0!==c&&1!==u.handles&&(c=Math.abs(c-u.dir));Object.keys(oa).forEach(function(h){var l=h.split(".")[0];b===l&&oa[h].forEach(function(b){b.call(aa,m(Y()),c,m(F(Array.prototype.slice.call(qa))),k||!1)})})}function F(b){return 1===b.length?b[0]:u.dir?b.reverse():b}function G(b,c,k,h){var l=function(c){var l;if(na.hasAttribute("disabled"))l=
!1;else{var m=na,p=da[14];m.classList?m.classList.contains(p):(new RegExp("(^| )"+p+"( |$)","gi")).test(m.className);l=c;m=h.pageOffset;l.preventDefault();var n,v,x=0===l.type.indexOf("touch"),q=0===l.type.indexOf("mouse"),p=0===l.type.indexOf("pointer");l=(c=(0===l.type.indexOf("MSPointer")&&(p=!0),x&&(n=l.changedTouches[0].pageX,v=l.changedTouches[0].pageY),m=m||r(),(q||p)&&(n=l.clientX+m.x,v=l.clientY+m.y),l.pageOffset=m,l.points=[n,v],l.cursor=q||p,l),b===U.start&&void 0!==c.buttons&&1<c.buttons?
!1:h.hover&&c.buttons?!1:(c.calcPoint=c.points[u.ort],void k(c,h)))}return l},m=[];return b.split(" ").forEach(function(b){c.addEventListener(b,l,!1);m.push([b,l])}),m}function H(b,c){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===b.buttons&&0!==c.buttonsProperty)return I(b,c);var k,h=c.handles||N,l;l=100*(b.calcPoint-c.start)/c.baseSize;b=h[0]===N[0]?0:1;var m=c.positions,p=l+m[0],m=l+m[1];if(k=1<h.length?(0>p&&(m+=Math.abs(p)),100<m&&(p-=m-100),[Math.max(Math.min(p,100),0),Math.max(Math.min(m,
100),0)]):[p,m],l=J(h[0],k[b],1===h.length),1<h.length){if(J(h[1],k[b?0:1],!1)||l)for(k=0;k<c.handles.length;k++)D("slide",k)}else l&&D("slide",b)}function I(b,c){var k=W.querySelector("."+da[15]),h=c.handles[0]===N[0]?0:1;null!==k&&n(k,da[15]);b.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener));var l=document.documentElement;l.noUiListeners.forEach(function(b){l.removeEventListener(b[0],b[1])});n(na,da[12]);D("set",h);D("change",h);
void 0!==c.handleNumber&&D("end",c.handleNumber)}function K(b,c){"mouseout"===b.type&&"HTML"===b.target.nodeName&&null===b.relatedTarget&&I(b,c)}function P(b,c){var k=document.documentElement;if(1===c.handles.length&&(q(c.handles[0].children[0],da[15]),c.handles[0].hasAttribute("disabled")))return!1;b.preventDefault();b.stopPropagation();var h=G(U.move,k,H,{start:b.calcPoint,baseSize:E(),pageOffset:b.pageOffset,handles:c.handles,handleNumber:c.handleNumber,buttonsProperty:b.buttons,positions:[Z[0],
Z[N.length-1]]}),l=G(U.end,k,I,{handles:c.handles,handleNumber:c.handleNumber}),m=G("mouseout",k,K,{handles:c.handles,handleNumber:c.handleNumber});if(k.noUiListeners=h.concat(l,m),b.cursor)document.body.style.cursor=getComputedStyle(b.target).cursor,1<N.length&&q(na,da[12]),b=function(){return!1},document.body.noUiListener=b,document.body.addEventListener("selectstart",b,!1);void 0!==c.handleNumber&&D("start",c.handleNumber)}function O(b){var c,k,m=b.calcPoint,p=0;return b.stopPropagation(),N.forEach(function(b){p+=
h(b)[u.style]}),c=p/2>m||1===N.length?0:1,m-=h(W)[u.style],k=100*m/E(),u.events.snap||l(na,da[14],300),N[c].hasAttribute("disabled")?!1:(J(N[c],k),D("slide",c,!0),D("set",c,!0),D("change",c,!0),void(u.events.snap&&P(b,{handles:[N[c]]})))}function w(b){b=b.calcPoint-h(W)[u.style];b=L.getStep(100*b/E());var c=L.fromStepping(b);Object.keys(oa).forEach(function(b){"hover"===b.split(".")[0]&&oa[b].forEach(function(b){b.call(aa,c)})})}function J(b,c,k){var h=b!==N[0]?1:0,l=Z[0]+u.margin,m=Z[1]-u.margin,
p=Z[0]+u.limit,v=Z[1]-u.limit;return 1<N.length&&(c=h?Math.max(c,l):Math.min(c,m)),!1!==k&&u.limit&&1<N.length&&(c=h?Math.min(c,p):Math.max(c,v)),c=L.getStep(c),c=Math.max(Math.min(parseFloat(c.toFixed(7)),100),0),c===Z[h]?!1:(window.requestAnimationFrame?window.requestAnimationFrame(function(){b.style[u.style]=c+"%"}):b.style[u.style]=c+"%",b.previousSibling||(n(b,da[17]),50<c&&q(b,da[17])),Z[h]=c,qa[h]=L.fromStepping(c),D("update",h),!0)}function va(b){var c;b=m(b);u.dir&&1<u.handles&&b.reverse();
u.animate&&-1!==Z[0]&&l(na,da[14],300);c=1<N.length?3:1;1===b.length&&(c=1);var k,h,p;u.limit&&(c+=1);for(k=0;c>k;k+=1)h=k%2,p=b[h],null!==p&&!1!==p&&("number"==typeof p&&(p=String(p)),p=u.format.from(p),(!1===p||isNaN(p)||!1===J(N[h],L.toStepping(p),k===3-u.dir))&&D("update",h));for(b=0;b<N.length;b++)D("set",b)}function Y(){var b,c=[];for(b=0;b<u.handles;b+=1)c[b]=u.format.to(qa[b]);return F(c)}function V(b,c){oa[b]=oa[b]||[];oa[b].push(c);"update"===b.split(".")[0]&&N.forEach(function(b,c){D("update",
c)})}var W,N,aa,na=c,Z=[-1,-1],L=u.spectrum,qa=[],oa={},da="target base origin handle horizontal vertical background connect ltr rtl draggable  state-drag  state-tap active  stacking tooltip  pips marker value".split(" ").map(p(u.cssPrefix||R));if(na.noUiSlider)throw Error("Slider was already initialized.");return W=function(b,c,k){q(k,da[0]);q(k,da[8+b]);q(k,da[4+c]);b=document.createElement("div");return q(b,da[1]),k.appendChild(b),b}(u.dir,u.ort,na),N=function(b,c,k){var h,l=[];for(h=0;b>h;h+=
1)l.push(k.appendChild(v(c,h)));return l}(u.handles,u.dir,W),function(b,c,k){switch(b){case 1:q(c,da[7]);q(k[0],da[6]);break;case 3:q(k[1],da[6]);case 2:q(k[0],da[7]);case 0:q(c,da[6])}}(u.connect,na,N),u.pips&&C(u.pips),u.tooltips&&y(),aa={destroy:function(){da.forEach(function(b){b&&n(na,b)});na.innerHTML="";delete na.noUiSlider},steps:function(){var b=Z.map(function(b,c){var k=L.getApplicableStep(b),h=String(k[2]).split("."),l=100===b?null:k[2];c=Number((qa[c]-k[2]).toFixed(1<h.length?h[1].length:
0));return[0===b?null:c>=k[1]?k[2]:k[0]||!1,l]});return F(b)},on:V,off:function(b){var c=b.split(".")[0],k=b.substring(c.length);Object.keys(oa).forEach(function(b){var h=b.split(".")[0],l=b.substring(h.length);c&&c!==h||k&&k!==l||delete oa[b]})},get:Y,set:va,updateOptions:function(b){var c;c=Y();var k=ga({start:[0,0],margin:b.margin,limit:b.limit,step:b.step,range:b.range,animate:b.animate,snap:void 0===b.snap?u.snap:b.snap});["margin","limit","step","range","animate"].forEach(function(c){void 0!==
b[c]&&(u[c]=b[c])});L=k.spectrum;Z=[-1,-1];va(c);for(c=0;c<N.length;c++)D("update",c)}},function(b){var c,h;if(!b.fixed)for(c=0;c<N.length;c+=1)G(U.start,N[c].children[0],P,{handles:[N[c]],handleNumber:c});if(b.tap&&G(U.start,W,O,{handles:N}),b.hover)for(G(U.move,W,w,{hover:!0}),c=0;c<N.length;c+=1)["mousemove MSPointerMove pointermove"].forEach(function(b){N[c].children[0].addEventListener(b,k,!1)});b.drag&&(h=[W.querySelector("."+da[7])],q(h[0],da[10]),b.fixed&&h.push(N[h[0]===N[0]?1:0].children[0]),
h.forEach(function(b){G(U.start,b,P,{handles:N})}))}(u.events),aa}var U=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},R="noUi-";u.prototype.getMargin=function(b){return 2===this.xPct.length?v(this.xVal,b):!1};u.prototype.toStepping=function(b){var c;var k=this.xVal,h=this.xPct;c=
b;if(c>=k.slice(-1)[0])c=100;else{var l,m,p=z(c,k);l=k[p-1];m=k[p];k=h[p-1];h=h[p];l=[l,m];c=v(l,0>l[0]?c+Math.abs(l[0]):c-l[0]);c=k+c/(100/(h-k))}return b=c,this.direction&&(b=100-b),b};u.prototype.fromStepping=function(b){this.direction&&(b=100-b);var c;var k=this.xVal;c=this.xPct;if(100<=b)c=k.slice(-1)[0];else{var h,l,m=z(b,c);h=k[m-1];l=k[m];k=c[m-1];h=[h,l];c=100/(c[m]-k)*(b-k)*(h[1]-h[0])/100+h[0]}b=Math.pow(10,7);return Number((Math.round(c*b)/b).toFixed(7))};u.prototype.getStep=function(b){this.direction&&
(b=100-b);var c;c=this.xPct;var k=this.xSteps,h=this.snap,l=b;if(100===l)c=l;else{var m,p,n=z(l,c);h?c=(m=c[n-1],p=c[n],l-m>(p-m)/2?p:m):k[n-1]?(m=k[n-1],c=c[n-1]+Math.round((l-c[n-1])/m)*m):c=l}return b=c,this.direction&&(b=100-b),b};u.prototype.getApplicableStep=function(b){var c=z(b,this.xPct);b=100===b?2:1;return[this.xNumSteps[c-2],this.xVal[c-b],this.xNumSteps[c-b]]};u.prototype.convert=function(b){return this.getStep(this.toStepping(b))};var N={to:function(b){return void 0!==b&&b.toFixed(2)},
from:Number};return{create:function(b,c){if(!b.nodeName)throw Error("noUiSlider.create requires a single element.");c=ga(c,b);var k=W(b,c);return k.set(c.start),b.noUiSlider=k,k}}});
jQuery(document).ready(function(b){function h(c,h){c.each(function(){b(this).offset().top<=b(window).scrollTop()+b(window).height()*h&&b(this).find(".cd-timeline-img").hasClass("is-hidden")&&b(this).find(".cd-timeline-img, .cd-timeline-content").removeClass("is-hidden").addClass("bounce-in")})}var c=b(".cd-timeline-block");(function(c,h){c.each(function(){b(this).offset().top>b(window).scrollTop()+b(window).height()*h&&b(this).find(".cd-timeline-img, .cd-timeline-content").addClass("is-hidden")})})(c,
.8);b(window).on("scroll",function(){window.requestAnimationFrame?window.requestAnimationFrame(function(){h(c,.8)}):setTimeout(function(){h(c,.8)},100)})});
(function(){for(var b=0,h=["ms","moz","webkit","o"],c=0;c<h.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[h[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[h[c]+"CancelAnimationFrame"]||window[h[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(c,h){var q=(new Date).getTime(),n=Math.max(0,16-(q-b));h=window.setTimeout(function(){c(q+n)},n);b=q+n;return h});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(b){clearTimeout(b)})})();
DKI.uri=DKI.apply({},{ComplexValueError:function(){var b=function(b){this.value=b;this.name="ComplexValueError";this.message="Could not encode complex value"};DKI.apply(b.prototype,{toString:function(){return[name,": ",message," ",value].join("")}});return b}(),encode:function(b){var h=[];DKI.iterate(b,function(b,h){if(DKI.isString(h))this.output.push(encodeURIComponent(b)+"\x3d"+encodeURIComponent(h));else if(DKI.isDate(h))this.output.push(encodeURIComponent(b)+"\x3d"+encodeURIComponent(h.toString()));
else if(DKI.isPrimitive(h))this.output.push(encodeURIComponent(b)+"\x3d"+h.toString());else throw new DKI.uri.ComplexValueError(h);},{output:h});return h.join("\x26")},decode:function(b){var h={};b=b.split("\x26");var c=b.length,l,m;for(l=0;l<c;l+=1)/=/.test(b[l])&&(m=b[l].split("\x3d"),h[m[0]]=m[1]);return h},decodeCurrentLocation:function(){return this.decode(window.location.search.replace(/^\?/,""))}});"undefined"==typeof DKI&&(DKI={});DKI.func||(DKI.func={});
DKI.func.debounce=function(b,h,c){var l,m=function(){var m=this,n=Array.prototype.slice.call(arguments);l?clearTimeout(l):c&&b.apply(m,n);l=setTimeout(function(){c||b.apply(m,n);l=null},h)};m.clear=function(){l&&clearTimeout(l)};return m};DKI.func.bind=function(b,h){return b.prototype.bind?b.bind(h):function(){b.apply(h,Array.prototype.slice.call(arguments))}};
DKI.func.Queue=function(){var b={},h={buildQueue:function(c){var h=b[c.name];h?c.id&&!~h.ids.indexOf(c.id)&&h.ids.push(c.id):b[c.name]={ids:c.id?[c.id]:[],callback:c.callback?c.callback:function(){}}},dequeue:function(c){var l=b[c.name];if(l){var m=l.ids.indexOf(c.id);~m&&l.ids.splice(m,1);h.checkQueue(c.name)}},checkQueue:function(c){var h=b[c];h&&0==h.ids.length&&(h.callback(),delete b[c])},deleteQueue:function(c){return b[c]?(delete b[c],!0):!1}};return{queue:function(b){h.buildQueue(b)},dequeue:function(b){h.dequeue(b)},
getQueue:function(){return b},deleteQueue:function(b){return h.deleteQueue(b)}}};
DKI.func.imageLoader=function(b,h,c){c=c||function(){};b.css("opacity",0);var l=b.is("img")?b[0]:new Image,m=function(){b.addClass("imgLoadTransition");c({height:l.height,width:l.width});setTimeout(function(){b.removeClass("imgLoadTransition").css("opacity","")},500)};l.complete&&0!==l.naturalHeight?m():(l.onload=function(){b.is("img")||($(l).remove(),b.css({"background-image":"url('"+h+"')"}));requestAnimationFrame(function(){requestAnimationFrame(m)})},l.src=h)};
DKI.func.scrollWith=function(b,h,c){return function(){var l=null,m=DKI.applyIf(c,{offsetBottom:0,offsetTop:0,onWinResize:function(){}}),q={onScroll:function(){var c=-(h.offset().top-$(window).scrollTop()),l=h.offset().top-$(window).scrollTop()+h.outerHeight()-(b.outerHeight()+m.offsetBottom);0<l&&0>c?b.css("top",0):0<l&&0<c?b.css("top",c+m.offsetTop):b.css("top",$(window).scrollTop()-(h.offset().top+m.offsetTop)+l)},onWinResize:DKI.func.debounce(function(){m.onWinResize(m);q.onScroll()},30,!1)};return{start:function(){l||
(l=$(document).on("scroll",q.onScroll),$(window).on("resize",q.onWinResize),jQuery.inArray(h.css("position"),-1==["absolute","relative","fixed"])&&h.css("position","relative"),jQuery.inArray(b.css("position"),-1==["absolute","relative","fixed"])&&b.css("position","relative"))},stop:function(c){$(document).off("scroll",q.onScroll);$(window).off("resize",q.onWinResize);l=null;c&&b.css("top",0)}}}()};
DKI.courseStore=function(){var b=null,h={course:"course",module:"module",object:"object",page:"page",question:"question"},c=function(){return{complete:!1,completeCnt:0,nodeType:h.course,id:null,key:null,parentId:null,pageNote:null,transcript:null,childKeys:[],name:""}},l={},m=function(){return l[b]},q=function(b){return void 0===l[b]?null:l[b]};return{load:function(n){var r=n.testonly,k=h.course+n.courseid,p,v,z;l[k]=DKI.applyIf(DKI.apply({nodeType:h.course,key:k,parentId:k},n),new c);delete l[k].modules;
b=k;var x=function(b,c){if("placeholder"!=b.elementtype){if(""==b.title){if("htm"==b.elementtype||"table"==b.elementtype||"tab"==b.elementtype)b.title=b.meta;""==b.title&&(b.title="Untitled "+b.elementtype+" Element")}$(document).trigger(this.events.elementRegistered,[b,c]);for(var k=0;k<b.elements.length;k++)x.call(this,b.elements[k],c)}},A=function(b){for(var c=0;c<b.groups.length;c++){var k=b.groups[c];$(document).trigger(this.events.groupRegistered,[k]);for(var h=0;h<k.elements.length;h++)x.call(this,
k.elements[h],!0)}};for(p=0;p<n.modules.length;p++){var u=n.modules[p],C=h.module+u.loid;l[C]=DKI.applyIf(DKI.apply({nodeType:h.module,key:C,parentId:k,questionKeys:[]},u),new c);delete l[C].objects;l[k].childKeys.push(C);$(document).trigger(this.events.moduleRegistered,[u]);for(v=0;v<u.objects.length;v++){var B=u.objects[v],y=B.subeos,E=h.object+B.objectid;l[E]=DKI.applyIf(DKI.apply({nodeType:h.object,key:E,parentId:C},B),new c);delete l[E].pages;l[C].childKeys.push(E);$(document).trigger(this.events.loRegistered,
[B]);for(z=0;z<y.length;z++){var F=y[z],D=h.page+F.page.pageid;l[D]=DKI.applyIf(DKI.apply({nodeType:h.page,key:D,parentId:E,moduleKey:C},F),new c);l[E].childKeys.push(D);$(document).trigger(this.events.pageRegistered,[F.page]);for(D=0;D<F.page.groups.length;D++){var G=F.page.groups[D];$(document).trigger(this.events.groupRegistered,[G]);for(var I=0;I<G.elements.length;I++){var K=G.elements[I];x.call(this,K,F.subeoid?!1:!0)}}}if(0<B.subeos.length||r)for(z=0;z<B.questions.length;z++)y=B.questions[z],
D=h.question+y.id,l[D]=DKI.applyIf(DKI.apply({nodeType:h.question,key:D,parentId:E,pageId:y.pageid,transcript:""},y),new c),$(document).trigger(this.events.questionRegistered,[D]),l[C].questionKeys.push(D),l[E].childKeys.push(D);for(z=0;z<B.questions.length;z++)for(y=B.questions[z],D=h.question+y.id,D=0;D<y.page.groups.length;D++)for(G=y.page.groups[D],$(document).trigger(this.events.groupRegistered,[G]),I=0;I<G.elements.length;I++){K=G.elements[I];E=y.subeoid?!1:!0;if(""==K.title){if("htm"==K.elementtype||
"table"==K.elementtype)K.title=K.meta;""==K.title&&(K.title="Untitled "+K.elementtype+" Element")}$(document).trigger(this.events.elementRegistered,[K,E])}}}n.header_primary_page&&A.call(this,n.header_primary_page);n.footer_primary_page&&A.call(this,n.footer_primary_page);n.header_secondary_page&&A.call(this,n.header_secondary_page);n.footer_secondary_page&&A.call(this,n.footer_secondary_page);n.module_summary_page&&A.call(this,n.module_summary_page);n.course_summary_page&&A.call(this,n.course_summary_page);
n.certificate_page&&A.call(this,n.certificate_page);for(p=0;p<n.resourcePages.length;p++)A.call(this,n.resourcePages[p]);$(document).trigger(this.events.courseRegistered,[n]);$(player.dataStorage).on(DKI.DataStorage.events.pageCompleted,function(b,c){q(h.page+c).complete=!0});$(player.dataStorage).on(DKI.DataStorage.events.objectCompleted,function(b,c){q(h.object+c).complete=!0});$(player.dataStorage).on(DKI.DataStorage.events.moduleCompleted,function(b,c){q(h.module+c).complete=!0});$(player.dataStorage).on(DKI.DataStorage.events.courseCompleted,
function(b){m().complete=!0});return!0},NodeType:h,get:q,set:function(b){l[b.key]=b;return l[b.key]},course:{get:m,set:function(c){l[b]=c;return null}},module:{all:function(){var c=[],h;for(h in l[b].childKeys)c.push(l[l[b].childKeys[h]]);return c},get:function(b){return l[b].nodeType==h.module?l[b]:null},set:function(b){l[b.key]=b;return null}},object:{all:function(){var c=[],h;for(h in l[b].childKeys)for(var k in l[l[b].childKeys[h]].childKeys)c.push(l[l[l[b].childKeys[h]].childKeys[k]]);return c},
get:function(b){return(b=l[b])&&b.nodeType==h.object?b:null},getForPage:function(c){for(var h in l[b].childKeys){var k=l[l[b].childKeys[h]],m;for(m in k.childKeys){var v=l[k.childKeys[m]],q;for(q in v.childKeys)if(v.childKeys[q]==c)return v}}return null},set:function(b){l[b.key]=b;return null}},page:{all:function(){var c=[],h;for(h in l[b].childKeys){var k=l[l[b].childKeys[h]],m;for(m in k.childKeys){var v=l[k.childKeys[m]],q;for(q in v.childKeys)c.push(l[v.childKeys[q]])}}return c},get:function(b){return l[b].nodeType==
h.page?l[b]:null},set:function(b){l[b.key]=b;return null}},store:l,events:{courseRegistered:"courseRegistered",moduleRegistered:"moduleRegistered",loRegistered:"loRegistered",pageRegistered:"pageRegistered",elementRegistered:"elementRegistered",groupRegistered:"groupRegistered",questionRegistered:"questionRegistered"}}}();DKI||(DKI={});
DKI.ContentPage=function(){var b,h=$("#contentFrame");h.css("overflow-y");var c=/http:\/\/|https:\/\//i.test(window.location.href),l=function(){var k=!1,m=!1,n=!1,z=function(b,c,k,h){var l=[];h.data("bookmarks")&&(l=JSON.parse(unescape(h.data("bookmarks"))));var m="play";void 0!=DKI.strings.runtime.media_play&&(m=DKI.strings.runtime.media_play);var p='\x3cdiv id\x3d"'+b+'_container" class\x3d"jp-video" dir\x3d"ltr"\x3e\x3cdiv class\x3d"jp-type-single"\x3e\x3cdiv id\x3d"'+b+'_player" class\x3d"jp-video-player"\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-video-play" tabindex\x3d\'-1\'\x3e\x3ca class\x3d"jp-video-play-icon" title\x3d"'+
m+'"\x3e\x3c/a\x3e\x3c/div\x3e';k&&(p+='\x3cdiv class\x3d"playHeadBlocker"\x3e\x3c/div\x3e');p+='\x3cdiv class\x3d"jp-gui"\x3e';c||(p+='\x3cdiv class\x3d"jp-interface"\x3e\x3cdiv class\x3d"jp-progress"\x3e\x3cdiv class\x3d"jp-seek-bar"\x3e\x3cdiv class\x3d"jp-play-bar"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-controls-holder"\x3e\x3cdiv class\x3d"jp-controls '+(h.data("allowfullscreen")?"allowFs":"")+'"\x3e\x3cspan style\x3d\'width:0;height:0;\'\x3e\x3ca tabindex\x3d\'-1\' class\x3d"" role\x3d"button"\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-play" role\x3d"button"\x3eplay\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-pause" role\x3d"button"\x3epause\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-mute" role\x3d"button"\x3emute\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-unmute" role\x3d"button"\x3eunmute\x3c/a\x3e\x3c/span\x3e',
""!=h.data("transcript")&&(p+='\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-transcript" role\x3d"button"\x3etranscript\x3c/a\x3e\x3c/span\x3e'),p+='\x3cspan class\x3d"jp-time" tabindex\x3d\'1\' \x3e\x3cdiv class\x3d"jp-current-time"\x3e\x3c/div\x3e\x3cdiv\x3e/\x3c/div\x3e\x3cdiv class\x3d"jp-duration"\x3e\x3c/div\x3e\x3c/span\x3e\x3cspan class\x3d"jp-cc"\x3e\x3ca tabindex\x3d\'1\' role\x3d"button" aria-label\x3d\'closed caption\'\x3e\x3ci class\x3d"fa fa-cc"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e',
0<l.length&&(p+='\x3cspan class\x3d"jp-bm"\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-bookmark" role\x3d"button"\x3ebookmarks\x3c/a\x3e\x3c/span\x3e'),h.data("allowFullScreen")&&(p+='\x3cspan class\x3d"jp-fs"\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-full-screen" role\x3d"button"\x3efull screen\x3c/a\x3e\x3c/span\x3e\x3cspan class\x3d"jp-fs"\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-restore-screen" role\x3d"button"\x3erestore\x3c/a\x3e\x3c/span\x3e'),p+='\x3c/div\x3e\x3cdiv class\x3d"jp-volume-bar"\x3e\x3cdiv class\x3d"jp-volume-bar-value"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
0<l.length&&(p+='\x3cdiv class\x3d"bookmark-wrapper"\x3e',p+='\x3ci class\x3d"bookmark-close fa fa-times" tabindex\x3d"1" aria-label\x3d"'+DKI.strings.runtime.buttonLabelClose+'"\x3e\x3c/i\x3e',$.each(l,function(){p+='\x3cdiv tabindex\x3d"1" class\x3d"bookmark-item" data-time\x3d"'+this.time+'"\x3e'+this.label+"\x3c/div\x3e"}),p+="\x3c/div\x3e"),p+="\x3c/div\x3e");return p+="\x3c/div\x3e"},x=function(b,c,k,h){b='\x3cdiv id\x3d"'+b+'" class\x3d"jp-'+c;k&&(b+=" hideControls");b+='" dir\x3d"ltr"\x3e\x3cdiv class\x3d"jp-type-single"\x3e\x3cdiv class\x3d"jp-gui jp-interface"\x3e\x3cdiv class\x3d"jp-controls-holder"\x3e\x3cdiv class\x3d"jp-progress"\x3e\x3cdiv class\x3d"jp-seek-bar"\x3e\x3cdiv class\x3d"jp-play-bar"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-controls"\x3e\x3cspan style\x3d\'width:0;height:0;\'\x3e\x3ca tabindex\x3d\'-1\' class\x3d"" role\x3d"button"\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-play" role\x3d"button"\x3eplay\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-pause" role\x3d"button"\x3epause\x3c/a\x3e\x3c/span\x3e';
"basic"!==c&&(b+='\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-mute" role\x3d"button"\x3emute\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-unmute" role\x3d"button"\x3eunmute\x3c/a\x3e\x3c/span\x3e',""!=h.data("transcript")&&(b+='\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-transcript" role\x3d"button"\x3etranscript\x3c/a\x3e\x3c/span\x3e'),b+='\x3cspan class\x3d"jp-time jp-fs" tabindex\x3d\'1\'\x3e\x3cdiv class\x3d"jp-current-time"\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-time-slash"\x3e/\x3c/div\x3e\x3cdiv class\x3d"jp-duration"\x3e\x3c/div\x3e\x3c/span\x3e');
return b+'\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-no-solution"\x3e\x3cspan\x3eThe media element failed to load.\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'},r=function(b){b.mediaCount===b.readyMediaCount&&b.fireReady()},u=function(c,h,m){$(h.pageContainer).css("top","0");c.each(function(){var c=$(this).data("extension").toLowerCase(),p=h.getClaroElementById($(this).closest(".dki-authoring-element, .dki-authoring-element-element").data("id")),u={},z,B=$(this).closest(".dki-authoring-element, .dki-authoring-element-element"),
C=!$(this).data("controls"),P=$(this).data("autoplay");z=$(this).data("playerskin")?"basic":"audio";var O=B.data("renderhidden"),J=function(b){var c=$(this);if(b.jPlayer.flash.used)$(h.pageContainer).on(DKI.ContentPage.events.reset,function(b){c.on($.jPlayer.event.flashreset,function(b){c.jPlayer("pause",0);h.isMuted&&c.jPlayer("mute");c.trigger($.jPlayer.event.ready);c.unbind(b)})});c.jPlayer("setMedia",u);var k=this.parentNode;$(".jp-seek-bar, .jp-play-bar",k).on("mousedown",function(b){c.jPlayer("pause");
$(".jp-gui",k).addClass("forceShow");$(".jp-seek-bar, .jp-controls-holder, .jp-play-bar",k).on("mousemove",function(b){var h=$(".jp-seek-bar",k).offset().left,l=$(".jp-seek-bar",k).outerWidth();b.clientX+h<=l+2*h&&($(".jp-play-bar",k).css("width",(b.clientX-h)/(l/100)+"%"),c.jPlayer("playHead",(b.clientX-h)/(l/100)))});$(".jp-seek-bar, .jp-controls-holder, .jp-play-bar",k).on("mouseup",function(b){c.jPlayer("play");$(this).off("mouseup");$(".jp-seek-bar, .jp-controls-holder, .jp-play-bar",k).off("mousemove");
setTimeout(function(){$(".jp-gui",k).removeClass("forceShow")},700)})});$(".jp-transcript",k).on(h.settings.clickEvent,function(){contentApi.showPopup({html:p.asset_transcript,modal:!1,autoFocus:!0,returnFocus:this,popupType:{type:"pop",mod:"noModal",modal:!1},title:playerStrings.transcriptLabel})});h.isMuted&&c.jPlayer("mute");h.readyMediaCount+=1;r(h);c.unbind(b)};"mp4"==c.toLowerCase()?c="m4a":"ogg"==c.toLowerCase()&&(c="oga");u[c]=l.resolveMediaURL(h,$(this).data("src"));k||n?(z=x(this.id+"_controls",
z,C,B),$(this).after(z),$(this).jPlayer({swfPath:settings.swfPath,cssSelectorAncestor:"#"+this.id+"_controls",ready:J,supplied:c,loop:!1,solution:m,preload:"auto",autohide:{restored:"true"===$(this).data("controls")?!0:!1},muted:b.getAudioStatus()?!1:!0,volume:1,size:{width:0,height:0}}),$(this).data("renderhidden",O)):(c=$(".dki-media-link",this),c.parent().hasClass("dki-audio-basic")&&(c.parent().removeClass("dki-audio-basic"),c.addClass("dki-audio-basic")),h.readyMediaCount+=1,r(h));h.mediaPlayers[this.id]=
$(this);q.registerMediaPlayer($(this),B,h);(1==p.narration&&""!=p.parent_element_id&&$(this).isInViewport()||P&&($(this).isInViewport()||1==p.narration))&&h.autoPlayMedia.push($(this));B.data("mediaPlayer",$(this));$(".dki-element-anchor",B).attr("aria-label");C||B.data("transcript")});$(h.pageContainer).css("top","")},C=function(k,u,x){var C;C=m||n&&c?function(c,k,m){c=$(this).closest(".dki-authoring-element, .dki-authoring-element-element");var p=u.getClaroElementById($(this).closest(".dki-authoring-element, .dki-authoring-element-element").data("id")),
n=$(this).data("extension").toLowerCase(),v=$(this).closest(".dki-video-content-element"),x={},B=!$(this).data("controls"),C=p.parameters.config.hidePlayHead;k=$(this).data("autoplay");var E=c.data("renderhidden"),F=$(this).data("allowfullscreen");"mediastream"==c.data("elementtype")&&(0==$(this).data("src").indexOf("rtmp")?n="rtmpv":(n=$(this).data("src").split("."),n=n[n.length-1]));""!=$(this).data("vimeo-id")&&settings.useStreamingVideo&&$(this).data("src",$(this).data("vimeo-src"));if("mp4"==
n.toLowerCase()||"mov"==n.toLowerCase())n="m4v";x[n]=l.resolveMediaURL(u,$(this).data("src"));$(this).data("poster")&&(x.poster=$(this).data("poster"));C=z(this.id,B,C,c);$(this).html(C);C=$("#"+this.id+"_player",this);F||$(this).addClass("no-fullscreen");var U={height:"100%"};dkiUA.ie&&(U.height=h.css("height"));$(this).data("allowupscale")||$(this).css({"max-height":$(this).data("height")+"px","max-width":$(this).data("width")+"px"});m={media:x,options:{swfPath:settings.swfPath,cssSelectorAncestor:"#"+
this.id+"_container",ready:function(b){var c=$(this);F||($(this).data().jPlayer.status.noFullScreen=!0);if(b.jPlayer.flash.used)$(u.pageContainer).on(DKI.ContentPage.events.reset,function(b){c.on($.jPlayer.event.flashreset,function(b){c.jPlayer("pause",0);u.isMuted&&c.jPlayer("mute");c.trigger($.jPlayer.event.ready);c.unbind(b)})});v.on("mouseleave",function(b){$(this).find(".bookmark-wrapper").fadeOut()});v.on(u.settings.clickEvent,".bookmark-item",function(){c.jPlayer("play",$(this).data("time")/
1E3)});$(this).find("video").attr("webkit-playsinline","");$(this).find("video").attr("playsinline","");B&&$(this).find("video")[0].removeAttribute("controls");$(this).bind($.jPlayer.event.pause,function(b){$(".jp-video-play",this.parentNode).css("display","")});$(this).bind($.jPlayer.event.play,function(b){$(".jp-video-play",this.parentNode).css("display","none")});(!dkiUA.iOS||B||14>dkiUA.iOSVersion)&&$(this).bind($.jPlayer.event.click,function(b){b.jPlayer.status.paused?$(this).jPlayer("play"):
$(this).jPlayer("pause")});var k=this.parentNode;$(".jp-seek-bar, .jp-play-bar",k).on("mousedown",function(b){c.jPlayer("pause");$(".jp-gui",k).addClass("forceShow");$(".jp-seek-bar, .jp-controls-holder, .jp-play-bar",k).on("mousemove",function(b){var h=$(".jp-seek-bar",k).offset().left,l=$(".jp-seek-bar",k).outerWidth();b.clientX+h<=l+2*h&&($(".jp-play-bar",k).css("width",(b.clientX-h)/(l/100)+"%"),c.jPlayer("playHead",(b.clientX-h)/(l/100)))});$(".jp-seek-bar, .jp-controls-holder, .jp-play-bar",
k).on("mouseup",function(b){c.jPlayer("play");$(this).off("mouseup");$(".jp-seek-bar, .jp-controls-holder, .jp-play-bar",k).off("mousemove");setTimeout(function(){$(".jp-gui",k).removeClass("forceShow")},700)})});$(".jp-transcript",k).on(u.settings.clickEvent,function(){contentApi.showPopup({html:p.asset_transcript,modal:!1,autoFocus:!0,returnFocus:this,popupType:{type:"pop",mod:"noModal",modal:!1},title:playerStrings.transcriptLabel})});$(".jp-cc",k).on(u.settings.clickEvent,function(){c.closest(".jp-video").toggleClass("showCC")});
$(".jp-bm",k).on(u.settings.clickEvent,function(){var b=c.closest(".jp-video").find(".bookmark-wrapper");b.is(":visible")?(b.fadeOut(),$(".jp-bm .jp-bookmark",k).get(0).focus()):b.fadeIn().find(".bookmark-item").get(0).focus()});$(".bookmark-close",k).on(u.settings.clickEvent,function(){c.closest(".jp-video").find(".bookmark-wrapper").fadeOut();$(".jp-bm .jp-bookmark",k).get(0).focus()});u.isMuted&&c.jPlayer("mute");u.readyMediaCount+=1;r(u);$(this).unbind(b);$(this).parent().append($(this).closest(".dki-authoring-content-wrapper").find(".dki-authoring-element-elements-wrapper").first().css("z-index",
2147483647).detach())},resize:function(b){b=$(this);b.closest(".jp-video").fullScreen(b.jPlayer("option","fullScreen"));b.closest(".dki-element-content").find(".subClass");b.jPlayer("option","fullScreen")?(b.closest(".dki-element-content").css("max-width","").css("max-height",""),$(this).closest(".dki-authoring-content-wrapper").find(".dki-authoring-element-element.dki-marker-element ").css("display","none")):(b.closest(".dki-element-content").data("allowupscale")||(b.closest(".dki-element-content").css("max-width",
b.closest(".dki-element-content").data("assetWidth")),b.closest(".dki-element-content").css("max-height",b.closest(".dki-element-content").data("assetHeight"))),$(this).closest(".dki-authoring-content-wrapper").find(".dki-authoring-element-element.dki-marker-element ").css("display","block"));dkiUA.isIE()&&($("html")[b.jPlayer("option","fullScreen")?"addClass":"removeClass"]("video-fullScreen"),b.closest(".dki-authoring-element")[b.jPlayer("option","fullScreen")?"addClass":"removeClass"]("video-fullScreen-element"));
u.scaleElementChildren(u.getClaroElementById(b.closest(".dki-authoring-element").data("id")))},supplied:n,loop:!1,solution:m,preload:"auto",backgroundColor:"transparent",wmode:"transparent",nativeVideoControls:settings.nativeVideoControls,size:{width:"100%",height:"100%"},sizeFull:U,autohide:{restored:!1,full:!1},muted:b.getAudioStatus()&&!c.data("disableAudio")?!1:!0,volume:c.data("disableAudio")?0:1,noFullScreen:{}}};var R;"undefined"!==typeof dataStorage&&(R=dataStorage.store.assets[p.upload_id]);
(R&&R.closed_caption&&"vtt"===R.closed_caption.type.toLowerCase()||window.player.isSinglePage&&p.closed_caption_details&&"vtt"===p.closed_caption_details.type.toLowerCase())&&dkiUA.iOS&&(m.media.track=[{src:(window.player.isSinglePage?l.resolveSubURL(u,{id:p.asset_src,closed_caption:p.closed_caption_details}):l.resolveSubURL(u,R)).replace(".txt",".vtt"),srclang:settings.course.courseLanguage,kind:"captions",def:p.parameters.config.closedCaptionOn}]);m=Popcorn.jplayer(C[0],m);if((R&&R.closed_caption||
window.player.isSinglePage&&p.closed_caption_details)&&!dkiUA.iOS){R=window.player.isSinglePage?l.resolveSubURL(u,{id:p.asset_src,closed_caption:p.closed_caption_details}):l.resolveSubURL(u,R);var x="parse"+p.closed_caption.toUpperCase(),N=C.closest(".jp-video");if(m[x]&&(m[x](R),dkiUA.mobile)){var T=null;N.addClass("controls");uiTimeout=function(b){b="undefined"===typeof b?2500:b;T&&window.clearTimeout(T);T=setTimeout(function(){N.removeClass("controls")},b)};N.on("click",function(){$(this).addClass("controls");
uiTimeout(0)});C.bind($.jPlayer.event.pause,function(b){N.addClass("controls");window.clearTimeout(T)});C.bind($.jPlayer.event.play,function(b){uiTimeout(350)})}N.addClass("cc");p.parameters.config.closedCaptionOn&&N.addClass("showCC")}C.data("renderhidden",E);C.data("disableAudio",c.data("disableAudio"));(E=C.data("jPlayer"))&&E.status&&E.status.nativeVideoControls&&!B&&$(".jp-video-play",this).detach();u.mediaPlayers[this.id]=C;q.registerMediaPlayer(C,c,u);k&&$(this).isInViewport()&&u.autoPlayMedia.push(C);
C.bind($.jPlayer.event.ended,function(b){$(".jp-restore-screen",$(this).parents(".dki-authoring-element")).click()});c.data("mediaPlayer",C);$(".dki-element-anchor",c).attr("aria-label");B||(c.data("transcript"),c.data("allowfullscreen"))}:function(){var b=$(".dki-media-link",this);b.prop("href",$(this).data("src"));u.readyMediaCount+=1;r(u);return b};k.each(function(b,c){C.call(this,b,c,x)})},k=function(){var b=document.createElement("audio");return dkiUA.blackberry&&7>dkiUA.blackberryVersion||dkiUA.android&&
4>dkiUA.androidVersion&&!c||dkiUA.webOS?!1:b.canPlayType&&""!=b.canPlayType("audio/mpeg")?!0:!1}(),m=function(){var b=document.createElement("video");return dkiUA.blackberry&&7>dkiUA.blackberryVersion||dkiUA.android&&4>dkiUA.androidVersion&&!c?!1:b.canPlayType&&""!=b.canPlayType("video/mp4")?!0:!1}(),n=swfobject.hasFlashPlayerVersion("10.1.0");return{handleMedia:function(b){var c=$(".dki-video-content-element",b.pageContainer),k=$(".dki-audio-element .dki-element-content",b.pageContainer),h="html, flash";
dkiUA.isIE()&&11>dkiUA.ieVersion&&(h="flash");b.mediaCount=c.length+k.length;b.readyMediaCount=0;C(c,b,h);u(k,b,h);0===b.mediaCount&&b.fireReady()},resolveMediaURL:function(b,c){var k=/^rtmp:\/\/|^\//;/^https?:\/\/|^\//.test(c)||k.test(c)||(c=b.rootURL+c);return c},resolveSubURL:function(b,c){b=DKI.renderService.state.baseUrl;b+=DKI.renderService.state.renderEnvironment.export?"assets/captions/":"/content/authoringtooldb/captions/";b+=c.id;c.closed_caption.culture_code&&"default"!=c.closed_caption.culture_code&&
(b+="_"+c.closed_caption.culture_code);return b+".txt"},play:function(b,c,k){var h;"string"===typeof b&&(b=c.mediaPlayers[b]);h=function(h){c.started&&("undefined"!==typeof k?b.jPlayer("play",k):b.jPlayer("play"),b.unbind(h))};b.hasClass("dki-videoplaylist")?($(b).VideoPlaylist("selectFirst"),$(b).on("play",h)):("undefined"!==typeof k?b.jPlayer("play",k):b.jPlayer("play"),$(b).bind($.jPlayer.event.ready,h),$(b).bind($.jPlayer.event.flashreset,h))},pause:function(b,c){"string"===typeof b&&(b=c.mediaPlayers[b]);
b.jPlayer("pause")},canAutoplay:function(){return dkiUA.iOS||dkiUA.android||dkiUA.chrome?!1:!0},handleVideo:C,handleAudio:u}}(),m={setAudio:function(b,c){c.isMuted=!b;var h;if(!0===b)for(h in c.mediaPlayers)c.mediaPlayers[h].jPlayer("unmute");else for(h in c.mediaPlayers)c.mediaPlayers[h].jPlayer("mute")},pauseAll:function(b){var c;b.autoPaused=[];for(c in b.mediaPlayers){var h=c.replace("content_","");1==$("#"+h+"_wrapper").data("dontpause")||this.isPaused(b.mediaPlayers[c])||(b.mediaPlayers[c].jPlayer("pause"),
b.autoPaused.push(c))}},resumeAll:function(b){var c;b.autoPaused||(b.autoPaused=[]);for(var h=0;h<b.autoPaused.length;h+=1)c=b.autoPaused[h],b.mediaPlayers[c].jPlayer("play");b.autoPaused=[]},startAutoPlay:function(b){for(var c=b.autoPlayMedia.length,h=!1,m=0;m<c;m+=1)if(!b.autoPlayMedia[m].data("renderhidden")&&$(b.autoPlayMedia[m]).isInViewport()&&b.autoPlayMedia[m].closest(".dki-authoring-element").is(":visible")||1==b.autoPlayMedia[m].data("narration"))if(!h||b.autoPlayMedia[m].data("disableAudio"))l.play(b.autoPlayMedia[m],
b),b.autoPlayMedia[m].data("disableAudio")||(h=!0)},stopAll:function(b){var c;b=b.mediaPlayers;for(c in b)b[c].data(),b.hasOwnProperty(c)&&(b[c].jPlayer("option","fullScreen",!1),b[c].data().jPlayer.status.paused||b[c].jPlayer("pause",0))},isPaused:function(b){return b.data().jPlayer.status.paused}},q={init:function(b,c,h){c.actions=b;$(c.pageContainer).undelegate();this.clearPageTimeouts(c);this.initElementsViewedActions(c);var l=this,m=$(".dki-authoring-element",c.pageContainer),n=dkiUA.android||
dkiUA.iOS?"click":h;$(c.pageContainer).delegate(".dki-authoring-element label","click",function(b){b.stopPropagation();if($(this).closest(".dki-authoring-element").hasClass("dki-radioGroup-element"))return!1});$(c.pageContainer).delegate(".dki-element-content, .dki-element-anchor:not(.dki-btn-element\x3e.dki-element-anchor), .dki-radioGroup-element label, .dki-image-element figcaption, .svgMask",n,function(b,k){"undefined"==typeof k&&(k={});var m=null;if(k.fromDataSet)return!1;if("LABEL"==this.nodeName.toUpperCase()){if($(this).data("ignoreClick")){$(this).data("ignoreClick",
!1);return}m=$(this).find(".dki-authoring-element,.dki-authoring-element-element")}else{var m=$(this).closest(".dki-authoring-element,.dki-authoring-element-element"),u=m.closest("label");u&&(u.data("ignoreClick",!0),setTimeout(function(){u.data("ignoreClick",!1)},1))}var x=$(this).closest(".dki-slider-element");if(x.length){if(x.data("ignoreClick"))return;x.data("ignoreClick",!0);setTimeout(function(){x.data("ignoreClick",!1)},1)}l.onMouseEvent.call(l,"click",m,c);"zoomRegion"===$(this).data("type")&&
11>dkiUA.ieVersion&&dkiUA.isIE()&&($(this).hide().find("*").hide(),m=$(document.elementFromPoint(b.clientX,b.clientY)).closest(".dki-authoring-element"),$(this).show().find("*").show(),m[0]&&m.trigger(h));b=$(this).closest(".dki-authoring-element-element").parent().closest(".stackable_element");var q=b.find("\x3e.dki-authoring-content-wrapper\x3e.dki-element-content");b.length&&0==q.find(this).length&&!q.is(this)&&q.trigger(n,{originalTarget:m});if(dkiUA.iOS&&(m.hasClass("dki-marker-element")||k.originalTarget&&
k.originalTarget.hasClass("dki-marker-element")))return!1});$(c.pageContainer).delegate(".dki-slider-element .dki-element-content","tap",function(b){$(this).trigger("click")});$(c.pageContainer).delegate(".dki-authoring-element a.dki-text-action-link",h,function(b){l.onTextActionLinkEvent.call(l,"click",this,c)});$(c.pageContainer).delegate(".dki-element-content, .dki-element-anchor","contextmenu",function(b){b=$(this).closest(".dki-authoring-element,.dki-authoring-element-element");if(0<l.onMouseEvent.call(l,
"rightClick",b,c).length)return!1});$(c.pageContainer).delegate(".dki-authoring-element a.dki-text-action-link","contextmenu",function(b){if(0<l.onTextActionLinkEvent.call(l,"rightClick",this,c).length)return!1});$(c.pageContainer).delegate(".dki-tabset-element .tabbable li\x3ea:not(.disabled), .dki-tabset-element .tabbable .panel-heading:not(.disabled) .panel-title\x3ea","click",function(b){if(b.target==this)$(this).find(".dki-element-content").trigger("click");else{l.onContentChangedEvent.call(l,
this,c);var k=c.getClaroElementById($(this).closest(".dki-authoring-element").data("id"));b=$(this).closest(".tabbable");var h=$(this).data("idx"),m=h+"_"+k.id,u=$("#"+("tabContent_"+h+"_"+k.id));setTimeout(function(){$(".dki-contentCarousel-element",u).each(function(){$(this).find(".flickity").flickity("resize")});c.reCalculateMediaControls()},250);k.parameters.config.sequential&&(m="tabContent_"+(h+1)+"_"+k.id,k=b.find("a[href\x3d'#"+m+"']"),b=b.find("a[href\x3d'#collapse-"+m+"']"),k.attr("data-toggle",
"tab").removeClass("disabled"),b.attr("data-toggle","collapse").closest(".panel-heading").removeClass("disabled"))}});$(c.pageContainer).on(settings.clickEvent,".dki-btn-element .dki-element-content.toggleable",function(b){$(this).toggleClass("active")});$(c.pageContainer).on(settings.clickEvent,".dki-btn-element .dki-element-content.stay-toggled",function(b){$(this).addClass("active")});$(c.pageContainer).delegate(".dki-contentCarousel-element .side-control",settings.clickEvent,function(b){b=$(this).siblings(".owl-carousel");
var c=$(this).hasClass("prev")?"prev":"next",k=b.data("owl.carousel");$(this).hasClass("topBottom")?(k.settings.animateIn="prev"==c?b.data("animate-in").replace("Up","Down").replace("Right","Left"):b.data("animate-in").replace("Down","Up").replace("Left","Right"),k.settings.animateOut="prev"==c?b.data("animate-out").replace("Up","Down").replace("Right","Left"):b.data("animate-out").replace("Down","Up").replace("Left","Right")):(k.settings.animateIn="prev"==c?b.data("animate-in").replace("Right","Left").replace("Up",
"Down"):b.data("animate-in").replace("Left","Right").replace("Down","Up"),k.settings.animateOut="prev"==c?b.data("animate-out").replace("Right","Left").replace("Up","Down"):b.data("animate-out").replace("Left","Right").replace("Down","Up"));b.trigger(c+".owl.carousel");return!1});var u=function(b){l.onMouseEvent.call(l,b.type,this,c)},q=function(b){var k=$(this).closest(".dki-authoring-element,.dki-authoring-element-element");l.onMouseEvent.call(l,b.type,k,c)};$(c.pageContainer).delegate(".dki-element-content, .dki-element-anchor",
"dblclick",q);$(c.pageContainer).delegate(".dki-element-content","mouseenter",q);$(c.pageContainer).delegate(".dki-element-content","mouseleave",q);m.on(DKI.ContentPage.events.elementDragStarted,u);m.on(DKI.ContentPage.events.elementDragStopped,u);m.on(DKI.ContentPage.events.elementDragDropped,u);m.on(DKI.ContentPage.events.elementDragReverted,u);m.on(DKI.ContentPage.events.elementDropDropped,u);m.on(DKI.ContentPage.events.elementDropOut,u);m.on(DKI.ContentPage.events.elementDropOver,u);m.on(DKI.ContentPage.events.shown,
function(){l.onDisplayEvent.call(l,"show",this,c)});m.on(DKI.ContentPage.events.hidden,function(){l.onDisplayEvent.call(l,"hide",this,c)});m=function(b){l.onTextActionLinkEvent.call(l,b.type,this,c)};$(c.pageContainer).delegate(".dki-authoring-element a.dki-text-action-link","dblclick",m);$(c.pageContainer).delegate(".dki-authoring-element a.dki-text-action-link","mouseenter",m);$(c.pageContainer).delegate(".dki-authoring-element a.dki-text-action-link","mouseleave",m);$(c.pageContainer).delegate(".dki-authoring-element",
"click",function(){$(document).trigger(DKI.ContentPage.events.rootElementClicked,{element:c.getClaroElementById($(this).data("id")),pageInstance:c})});this.setupDragDrop(c);this.setupLinkedElements(b,c.pageContainer,h);this.setupRollovers(c.pageContainer);c.mediaTimeUpdates={};this.checkBreakPointThreshold("breakpoint",c);this.checkDeviceAdaptation("device",c);return this},initElementsViewedActions:function(b){var c=this;b.queue.queue({name:"elementsViewed",callback:$.proxy(function(){c.onPageEvent("contentViewed",
b)},this)});var h=$(".dki-authoring-element:not(.dki-placeholder-element)",b.pageContainer);h.each(function(){b.queue.queue({name:"elementsViewed",id:$(this).data("id")})});h.on("contentViewed",function(){$(this).is(":visible")&&b.queue.dequeue({name:"elementsViewed",id:$(this).data("id")})})},registerElementViewed:function(b,c){(!settings.elementTypeConfig[$(b).data("elementtype")].navigateSubContent||"image"==$(b).data("elementtype")&&0==$(b).find(".dki-marker-element").length)&&$(b).trigger("contentViewed");
!$(b).data("viewed")&&$(b).is(":visible")&&($(b).data("viewed",!0),"placeholder"!=$(this).data("elementtype")&&$(document).trigger(DKI.ContentPage.events.elementContentViewed,{element:c.getClaroElementById($(b).data("id")),pageInstance:c}))},start:function(b){for(var c=this,h={},l=0;l<b.actions.length;l++)if(b.actions[l].pageId&&"time"==b.actions[l].trigger&&this.startPageTimer(b.actions[l],b),"variableSet"==b.actions[l].trigger){var m=b.actions[l].parameters.trigger.variable.name;if(m&&!h[m]){var n=
contentApi.getData(m);h[m]={name:m,oldValue:n,newValue:n}}}for(var u in h)c.onDataSetEvent.call(c,{name:h[u].name,oldValue:h[u].oldValue,newValue:h[u].newValue},b);var q=function(h,l){c.onDataSetEvent.call(c,l,b)};$(document).on(contentApi.events.dataSet,q);$(b.pageContainer).on(DKI.ContentPage.events.reset,function(){$(document).off(contentApi.events.dataSet,q)});$(".dki-inline-variable",b.pageContainer).each(function(){var b=$(this);!player.isSinglePage&&dataStorage.getContentVariableMeta(b.data("variable-id"))&&
dataStorage.getContentVariableMeta(b.data("variable-id")).isRadio?b.html(dataStorage.getContentVariableMeta(b.data("variable-id")).text):b.html(contentApi.getData(b.data("variable-id")))});$.each(b.actions,function(){var h=this;"listShowNext"==h.type&&($.each(h.targetElements,function(){$("#"+this+"_wrapper").addClass("isShowNextTarget").removeClass("hiddenUntilInView hiddenOnLoad hidden")}),c.actionHandlers.listReset(h,b));"setVariable"==h.type&&h.parameters.fireOnce||(h.firedOnce=!1);if("scrolled_to_top"==
h.trigger||"scrolled_mid"==h.trigger||"inview"==h.trigger){var l="100%";"scrolled_to_top"==h.trigger?l=$("#contentFrame").offset().top:"scrolled_mid"==h.trigger&&(l="50%");setTimeout(function(){if(h.pageId){var m=c.actionHandlers.getTargetSelector(h);b.wayPoints=b.wayPoints.concat($(m,b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(l){c.onScrollEvent.call(c,this,l,b,h.trigger)},offset:l})))}else b.wayPoints=h.textLinkId?b.wayPoints.concat($("#"+h.elementId+"_wrapper .dki-text-action-link[data-textlinkid\x3d'"+
h.textLinkId+"']",b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(l){c.onTextLinkScrollEvent.call(c,this,l,b,h.trigger)},offset:l}))):b.wayPoints.concat($("#"+h.elementId+"_wrapper",b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(l){c.onElementScrollEvent.call(c,this,l,b,h.trigger)},offset:l})))},250)}else if("custom_scroll"==h.trigger){c.setReverseAction(h,b);var m=c.actionHandlers.getTargetSelector(h);b.wayPoints=b.wayPoints.concat($(m,
b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(l){"down"==l?($(m).velocity("finish"),"entrance"==h.type?$(m).addClass("hiddenUntilInView"):$(m).removeClass("hiddenUntilInView"),window.requestAnimationFrame(function(){c.actionHandlers[h.type](h,b)})):($(m).velocity("finish"),"entrance"==h.reverseAction.type?$(m).addClass("hiddenUntilInView"):$(m).removeClass("hiddenUntilInView"),window.requestAnimationFrame(function(){c.actionHandlers[h.reverseAction.type](h.reverseAction,
b)}))},offset:function(){return Waypoint.viewportHeight()*(h.parameters.offset/100)-$(m).height()/2}})))}});h=$(".dki-authoring-element:not(.dki-placeholder-element)",b.pageContainer);settings.responsive||h.each(function(){$(this).is(":visible")&&c.registerElementViewed(this,b)});this.setupWaypoints(b)},setupWaypoints:DKI.func.debounce(function(b){b.wayPoints=b.wayPoints.concat($(".dki-element-content[data-autoplay\x3d'true']:not([data-narration\x3d'1'])",b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,
{handler:function(c){if($(b.pageContainer).hasClass("current")&&b.started){var h=b.mediaPlayers[this.element.id];"down"==c?h.jPlayer("pause"):h.closest(".dki-authoring-element").is(":visible")&&h.jPlayer("play")}},offset:function(){return $(this.element).height()>$(window).height()-$("#contentFrame").offset().top?$(window).height()-$(this.element).height()-$("#contentFrame").offset().top-10:$("#contentFrame").offset().top}})));b.wayPoints=b.wayPoints.concat($(".dki-element-content[data-autoplay\x3d'true']:not([data-narration\x3d'1'])",
b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(c){if($(b.pageContainer).hasClass("current")&&b.started){var h=b.mediaPlayers[this.element.id];"down"==c?h.closest(".dki-authoring-element").is(":visible")&&h.jPlayer("play"):h.jPlayer("pause")}},offset:"bottom-in-view"})));b.wayPoints=b.wayPoints.concat($(".navigatesSubContent",b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(c){var h=$(this.element);$(b.pageContainer).hasClass("current")&&
b.started&&!h.hasClass("scrolled-in-once")&&this.context.didScroll&&("down"==c&&h.find("[data-narration\x3d1]:first:visible .dki-element-content").jPlayer("play",0),h.addClass("scrolled-in-once"))},offset:"bottom-in-view"})));b.wayPoints=b.wayPoints.concat($(".dki-sticky-group",b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(c){if($(b.pageContainer).hasClass("current")&&"down"==c){var h=this,l=$(h.element);h.disable();l.css({position:"fixed",left:l.offset().left,
top:$("#contentFrame").offset().top,width:l.outerWidth(!0)});l.parent().waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(b){"up"==b&&(l.css({position:"",left:"",top:"",width:""}),setTimeout(function(){h.enable()},5),this.destroy())},offset:$("#contentFrame").offset().top}))}},offset:$("#contentFrame").offset().top})));b.wayPoints=b.wayPoints.concat($(".dki-authoring-section.dki-bg-attach-fixed .dki-authoring-section-background",b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,
{handler:function(c){$(b.pageContainer).hasClass("current")&&$(this.element).parent().toggleClass("top-in-view")},offset:"100%"})));b.wayPoints=b.wayPoints.concat($(".dki-authoring-section",b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(c){if($(b.pageContainer).hasClass("current")){var h=$(this.element);h.toggleClass("bottom-in-view");$(".dki-sticky-group",this.element).each(function(){var b=$(this);if("down"==c){var k=b.position().left-b.parent().css("margin-left").split("px")[0]-
b.parent().position().left,l=h.height()-$(window).height();b.css({position:"absolute",top:l,left:k})}else b.css({position:"fixed",left:b.offset().left,top:$("#contentFrame").offset().top,width:b.outerWidth(!0)})});$(".dki-authoring-element",h).each(function(){b.actionAPI.registerElementViewed(this,b)});"down"==c&&$(document).trigger(DKI.ContentPage.events.sectionBottomInView,$(".dki-authoring-group",h).first().data("id"))}},offset:function(){return this.context.innerHeight()-this.adapter.outerHeight()+
10}})))},100),setupDragDrop:function(b){$(".dki-authoring-element[data-is-draggable\x3dtrue][data-isquestionelement\x3dfalse]",b.pageContainer).each(function(){var c=$(this),h=!1;c.data("draggable-constrain-x")?h="x":c.data("draggable-constrain-y")&&(h="y");h={revert:function(b){settings.responsive?$(this).data("draggable").originalPosition={top:0,left:0}:$(this).data("draggable").originalPosition={top:$(this).data("y"),left:$(this).data("x")};if(b)$(this).trigger(DKI.ContentPage.events.elementDragDropped);
else if($(this).data("draggable-revert"))return $(this).data("reverted",!0),$(this).trigger(DKI.ContentPage.events.elementDragReverted),!0},start:function(b,c){$(this).parent().css("position","static");$(this).data("reverted",!1);$(this).data("initialPageYOffset",document.documentElement.scrollTop);$(this).trigger(DKI.ContentPage.events.elementDragStarted);$(document).trigger(DKI.Events.TestQuestion.dragStarted)},drag:function(b,c){b=$(this).data("initialPageYOffset");c.position.top+=b;DKI.utility.dragFix(c)},
stop:function(b,c){$(this).data("draggable-bring-to-front")&&($(this).data("reverted")?$(this).css("z-index",$(this).data("elementno")):$(this).css("z-index",1E5));$(this).trigger(DKI.ContentPage.events.elementDragStopped);$(document).trigger(DKI.Events.TestQuestion.dragStopped)},disabled:!1,containment:b.pageContainer,scroll:settings.responsive,axis:h};c.data("draggable-bring-to-front")&&(h.zIndex=1E5,h.stack=".dkiContentFrame.current .dki-authoring-element[data-is-droppable\x3dtrue][data-isquestionelement\x3dfalse],  .fancybox-content .dki-authoring-element[data-is-droppable\x3dtrue][data-isquestionelement\x3dfalse]");
c.draggable(h)});$(".dki-authoring-element[data-is-droppable\x3dtrue][data-isquestionelement\x3dfalse]",b.pageContainer).droppable({accept:".dkiContentFrame.current .dki-authoring-element[data-is-draggable\x3dtrue][data-isquestionelement\x3dfalse], .fancybox-content .dki-authoring-element[data-is-draggable\x3dtrue][data-isquestionelement\x3dfalse]",tolerance:"pointer",drop:function(b,c){if($(this).data("droppable-snap-to-center")){b=$(this).position();var k=settings.scale;!settings.responsive&&c.helper.closest(".fancybox-container").length&&
(k*=settings.claroLightboxScaling);b.top/=k;b.left/=k;k=b.top+$(this).height()/2-c.draggable.height()/2;b=b.left+$(this).width()/2-c.draggable.width()/2;if(settings.responsive){b=$(this).offset();b.left+=$(this).width()/2;b.top+=$(this).height()/2;var h=c.draggable.offset();h.left+=c.draggable.width()/2;h.top+=c.draggable.height()/2;k=c.position.top+(b.top-h.top);b=c.position.left+(b.left-h.left)}c.draggable.animate({top:k+"px",left:b+"px"},125);position={top:k,left:b}}$(this).trigger(DKI.ContentPage.events.elementDropDropped)},
out:function(b,c){$(this).trigger(DKI.ContentPage.events.elementDropOut)},over:function(b,c){$(this).trigger(DKI.ContentPage.events.elementDropOver)},disabled:!1})},registerMediaPlayer:function(b,c,h){var m=this;$(b).bind($.jPlayer.event.play,function(b){var c=this.id.replace("content_","").replace("_player","");if(1!=$("#"+c+"_wrapper").data("disableAudio"))for(var k in h.mediaPlayers){var l=k.replace("content_","");l!=c&&(1==$("#"+l+"_wrapper").data("dontpause")||"video"==$("#"+l+"_wrapper").data("type")&&
1==$("#"+l+"_wrapper").data("disableAudio")||h.mediaPlayers[k].jPlayer("pause"))}$("#content_"+c,h.pageContainer).find(".jp-video-play").removeClass("hidden");$("#content_"+c,h.pageContainer).find(".playHeadBlocker").remove();$(this).parent().find(".jp-controls .jp-pause")[0]&&$(this).parent().find(".jp-controls .jp-pause")[0].focus({preventScroll:!0});m.onMediaPlay(c,h);k=$(this).data("loopingPlay");b=1E3*b.jPlayer.status.currentTime;600>b?($(document).trigger(DKI.ContentPage.events.media.started,
[{pageContext:h,elementId:c,looping:k}]),m.onMediaStart(c,h),m.undoMediaActions.call(m,c,-2E3,h)):($(document).trigger(DKI.ContentPage.events.media.played,[{pageContext:h,elementId:c,looping:k}]),m.undoMediaActions.call(m,c,b,h));$(this).data("loopingPlay",!1)});$(b).bind($.jPlayer.event.pause,function(b){var c=this.id.replace("content_","").replace("_player","");$(this).parent().find(".jp-controls .jp-play")[0]&&$(this).parent().find(".jp-controls .jp-play")[0].focus({preventScroll:!0});b.jPlayer.status.ended||
$(document).trigger(DKI.ContentPage.events.media.paused,[{pageContext:h,elementId:c}]);m.onMediaPause(c,h)});$(b).bind($.jPlayer.event.ended,function(b){b=$(this).data("replayCount")||0;var c=this.id.replace("content_","").replace("_player","");$(document).trigger(DKI.ContentPage.events.media.ended,[{pageContext:h,elementId:c,replayCount:b}]);m.onMediaEnd(c,h);$(this).data("replayCount",b+1);$($(this).closest(".dki-authoring-element")).data("loop")&&($(this).data("loopingPlay",!0),l.play($(this),
h))});$(b).bind($.jPlayer.event.volumechange,function(b){var c=this.id.replace("content_","").replace("_player","");b.jPlayer.options.muted?($(this).parent().find(".jp-controls .jp-unmute")[0].focus({preventScroll:!0}),m.onMediaVolumeChange(c,"mute",h)):($(this).parent().find(".jp-controls .jp-mute")[0]&&$(this).parent().find(".jp-controls .jp-mute")[0].focus({preventScroll:!0}),m.onMediaVolumeChange(c,"unmute",h))});$(b).bind($.jPlayer.event.timeupdate,function(b){var c=this.id.replace("content_",
"").replace("_player","");h.mediaTimeUpdates[c]||(h.mediaTimeUpdates[c]=0);b=1E3*b.jPlayer.status.currentTime;h.mediaTimeUpdates[c]=b;0<b&&(m.undoMediaActions(c,b,h),m.onTimeUpdate(b,c,h))});$(".dki-element-anchor",c).on("keypress",function(h){var l=b.data().jPlayer,m=l.status,l=l.options;32==h.which||13==h.which?m.paused?b.jPlayer("play"):b.jPlayer("pause"):102==h.which&&c.data("allowfullscreen")?$(".jp-full-screen",c).click():27==h.which&&c.data("allowfullscreen")?$(".jp-restore-screen",c).click():
116==h.which&&""!=c.data("transcript")?contentApi.showPopup({html:c.data("transcript"),returnFocus:b.find(".jp-transcript"),modal:!1,autoFocus:!0,title:playerStrings.transcriptLabel}):109==h.which?l.muted?b.jPlayer("unmute"):b.jPlayer("mute"):61==h.which||43==h.which?b.jPlayer("volume",l.volume+.1):45!=h.which&&95!=h.which||b.jPlayer("volume",l.volume-.1)})},undoMediaActions:function(b,c,h){b=this.getActionsForMediaUndo(b,c,h);for(c=0;c<b.length;c++)this.actionHandlers.undoAction(b[c],h)},reset:function(b){this.clearPageTimeouts(b);
for(var c=0;c<b.actions.length;c++)"setVariable"==b.actions[c].type&&b.actions[c].parameters.fireOnce||(b.actions[c].firedOnce=!1),"breakpoint"==b.actions[c].trigger&&(b.actions[c].hitBreakpoint=!1),"swapContent"==b.actions[c].type&&this.actionHandlers.undoAction(b.actions[c],b);b.mediaTimeUpdates={};this.initElementsViewedActions(b)},startPageTimer:function(b,c){var h=this;c.pageTimeouts.push(setTimeout(function(){h.actionConditionsMet(b)&&(h.actionHandlers[b.type](b,c),$(document).trigger(DKI.ContentPage.events.actionFired,
[{pageContext:c,action:b}]))},b.time))},clearPageTimeouts:function(b){if(b.pageTimeouts)for(var c=0;c<b.pageTimeouts.length;c++)clearTimeout(b.pageTimeouts[c]);b.pageTimeouts=[]},setReverseAction:function(b,c){var h=this,l=DKI.clone(b);switch(b.type){case "show":l.type="hide";break;case "hide":l.type="show";break;case "entrance":l.type="exit";break;case "exit":l.type="entrance";break;case "applyEffect":var m=b.parameters,n="moveBy"==m.effect||"moveTo"==m.effect?"left":"width",u="moveBy"==m.effect||
"moveTo"==m.effect?"top":"height";if("moveBy"==m.effect||"resizeBy"==m.effect)l.parameters.effectOptions.to[n]=m.effectOptions.to[n].replace(/(\+|\-)/g,function(b){return"+"==b?"-":"+"}),l.parameters.effectOptions.to[u]=m.effectOptions.to[u].replace(/(\+|\-)/g,function(b){return"+"==b?"-":"+"});else if("moveTo"==m.effect||"resizeTo"==m.effect){for(var q=[],r=0;r<b.targetElements.length;r++){var y=DKI.clone(l),E="moveTo"==m.effect?"x":"width",F="moveTo"==m.effect?"y":"height";y.parameters.effectOptions.to[n]=
$("#"+b.targetElements[r]+"_wrapper").data(E);y.parameters.effectOptions.to[u]=$("#"+b.targetElements[r]+"_wrapper").data(F);settings.responsive&&"resizeTo"==m.effect&&(E=$("#"+b.targetElements[r]+"_wrapper"),F=100*(E.outerWidth(!0)/E.parent().width()),y.parameters.effectOptions.to[n]=0<E.length&&""!=E[0].style.width?F:"",y.parameters.effectOptions.to[u]="");q.push(y)}for(r=0;r<b.targetGroups.length;r++)y=DKI.clone(l),E="moveTo"==m.effect?"x":"width",F="moveTo"==m.effect?"y":"height",y.parameters.effectOptions.to[n]=
$("#group_"+b.targetGroups[r]).data(E),y.parameters.effectOptions.to[u]=$("#group_"+b.targetGroups[r]).data(F),settings.responsive&&"resizeTo"==m.effect&&(y.parameters.effectOptions.to[n]="",y.parameters.effectOptions.to[u]=""),q.push(y);l=q}else if("fadeTo"==m.effect){q=[];for(r=0;r<b.targetElements.length;r++)y=DKI.clone(l),y.parameters.effectOptions.to.opacity=$("#"+b.targetElements[r]+"_wrapper").css("opacity"),q.push(y);l=q}else if("rotate"==m.effect){q=[];for(r=0;r<b.targetElements.length;r++)y=
DKI.clone(l),y.parameters.effectOptions.to.degrees=$("#"+b.targetElements[r]+"_wrapper").css("rotate"),y.parameters.effectOptions.duration=0,q.push(y);l=q}else if("scaleTo"==m.effect){q=[];for(r=0;r<b.targetElements.length;r++)y=DKI.clone(l),m=$("#"+b.targetElements[r]+"_wrapper").css("scale"),$.isArray(m)?(y.parameters.effectOptions.to.w=100*m[0],y.parameters.effectOptions.to.h=100*m[1]):(y.parameters.effectOptions.to.w=100*m,y.parameters.effectOptions.to.h=100*m),y.parameters.effectOptions.duration=
0,q.push(y);l=q}else if("zoomTo"==m.effect){q=[];for(r=0;r<b.targetElements.length;r++)y=DKI.clone(l),m=$("#"+b.targetElements[r]+"_wrapper .dki-element-content").css("scale"),$.isArray(m)?(y.parameters.effectOptions.to.w=100*m[0],y.parameters.effectOptions.to.h=100*m[1]):(y.parameters.effectOptions.to.w=100*m,y.parameters.effectOptions.to.h=100*m),y.parameters.effectOptions.duration=0,q.push(y);l=q}else if("panTo"==m.effect){q=[];for(r=0;r<b.targetElements.length;r++)y=DKI.clone(l),y.parameters.effectOptions.to.x=
$("#"+b.targetElements[r]+"_wrapper .dki-element-content").css("x"),y.parameters.effectOptions.to.y=$("#"+b.targetElements[r]+"_wrapper .dki-element-content").css("y"),y.parameters.effectOptions.duration=0,q.push(y);l=q}else if("panAndZoom"==m.effect){q=[];for(r=0;r<b.targetElements.length;r++)y=DKI.clone(l),y.parameters.effectOptions.to.x=$("#"+b.targetElements[r]+"_wrapper .dki-element-content").css("x"),y.parameters.effectOptions.to.y=$("#"+b.targetElements[r]+"_wrapper .dki-element-content").css("y"),
m=$("#"+b.targetElements[r]+"_wrapper .dki-element-content").css("scale"),$.isArray(m)?(y.parameters.effectOptions.to.w=100*m[0],y.parameters.effectOptions.to.h=100*m[1]):(y.parameters.effectOptions.to.w=100*m,y.parameters.effectOptions.to.h=100*m),y.parameters.effectOptions.duration=0,q.push(y);l=q}else"applyCSS"==m.effect&&(l=function(){var l=h.actionHandlers.getTargetSelector(b," .dki-element-content"," .dki-authoring-element .dki-element-content");$(l,c.pageContainer).each(function(){var c=$(this);
c.attr("style",c.data("pre-action-style-"+b.id))})});break;case "swapContent":q=$("#content_"+b.targetElements[0]);if(l.target_assets)l.target_assets[0].fullAssetUrl=q.attr("src");else if(l.parameters.swapContent)l.parameters.swapContent=q.html();else if(l.parameters.swapClass)switch(q.closest(".dki-authoring-element, .dki-authoring-element-element").data("elementtype")){case "panel":q=q.find(".panel").attr("class").match(/panel\-([^\s])+/);l.parameters.swapClass=q[0];break;case "speechBubble":pos=
q.attr("class").match(/(top|bottom|left|right|top\-left|top\-right|bottom\-left|bottom\-right)(\s|$)/),shape=q.attr("class").match(/(triangle|thought)(\s|$)/),remCls=pos[0]?[pos[0].trim()]:[],shape[0]?remCls.push(shape[0].trim()):!1,l.parameters.swapClass=remCls.join(" ")}break;case "api":switch(b.parameters.method){case "audioButtonOn":l.parameters.method="audioButtonOff";break;case "audioButtonOff":l.parameters.method="audioButtonOn";break;case "hideForward":l.parameters.method="showForward";break;
case "hideBack":l.parameters.method="showBack";break;case "hideBoth":l.parameters.method="showBoth";break;case "showForward":l.parameters.method="hideForward";break;case "showBack":l.parameters.method="hideBack";break;case "showBoth":l.parameters.method="hideBoth";break;case "enableMenuButton":l.parameters.method="disableMenuButton";break;case "disableMenuButton":l.parameters.method="enableMenuButton"}break;case "listShowNext":l.type="listHideCurrent"}"custom_scroll"==b.trigger&&b.parameters.effectOptions&&
b.parameters.effectOptions.direction&&("up"==b.parameters.effectOptions.direction?l.parameters.effectOptions.direction="down":"down"==b.parameters.effectOptions.direction?l.parameters.effectOptions.direction="up":"left"==b.parameters.effectOptions.direction?l.parameters.effectOptions.direction="right":"right"==b.parameters.effectOptions.direction&&(l.parameters.effectOptions.direction="left"));b.reverseAction=l},checkBreakPointThreshold:function(b,c){b=this.getActionsForPageEvent(b,c,!0);for(var h=
0;h<b.length;h++)if(c.started||-1!=$.inArray(b[h].type,["show","hide","toggle","applyEffect","swapContent"])){var l=window.innerWidth;if(b[h].hitBreakpoint&&l>b[h].parameters.breakpoint){if(DKI.isArray(b[h].reverseAction))for(l=0;l<b[h].reverseAction.length;l++)this.actionHandlers[b[h].reverseAction[l].type](b[h].reverseAction[l],c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:b[h].reverseAction}]);else DKI.isFunction(b[h].reverseAction)?b[h].reverseAction():(this.actionHandlers[b[h].reverseAction.type](b[h].reverseAction,
c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:b[h].reverseAction}]));b[h].hitBreakpoint=!1}else l<=b[h].parameters.breakpoint&&!b[h].hitBreakpoint&&(b[h].reverseAction||this.setReverseAction(b[h],c),this.actionHandlers[b[h].type](b[h],c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:b[h]}]),b[h].hitBreakpoint=!0)}c.started&&($(".dki-iframe-element:visible, .dki-videoembed-element:visible, .dki-html-element:visible",c.pageContainer).each(function(){var b=
$(this).find("iframe");if("about:blank"==b.attr("src")){var c=b.data("src");b.attr("src",c)}}),$(".dki-iframe-element:not(:visible), .dki-videoembed-element:not(:visible), .dki-html-element:not(:visible)").each(function(){var b=$(this).find("iframe");if("about:blank"!=b.attr("src")){var c=b.attr("src");b.attr("data-src")||b.attr("data-src",c);b.attr("src","about:blank")}}))},checkDeviceAdaptation:function(b,c){var h=dkiUA.getUAProperties();b=this.getActionsForPageEvent(b,c,!0);for(var l=["platform",
"os","browser"],m=0;m<b.length;m++){var n=!1;if(b[m].parameters.devices){for(var u=b[m].parameters.devices,q=0;q<l.length&&(u=u[h[l[q]]],!(n=DKI.isObject(u)?u.enabled:u)&&"undefined"!=typeof u);q++);n&&(b[m].reverseAction||this.setReverseAction(b[m],c),this.actionHandlers[b[m].type](b[m],c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:b[m]}]))}}},onPageEvent:function(b,c){b=this.getActionsForPageEvent(b,c);for(var h=0;h<b.length;h++)b[h].reverseAction||this.setReverseAction(b[h],
c),this.actionHandlers[b[h].type](b[h],c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:b[h]}]);return b},onElementScrollEvent:function(b,c,h,l){if(h.started){b=this.getActionsForEvent(l,$(b.element).data("id"),h);for(c=0;c<b.length;c++)b[c].firedOnce?this.actionHandlers.undoAction(b[c],h):(this.actionHandlers[b[c].type](b[c],h),b[c].firedOnce=!0);return b}},onScrollEvent:function(b,c,h,l){if(h.started){b=this.getActionsForPageEvent(l,h,!1,$(b.element).data("id"));
for(c=0;c<b.length;c++)b[c].firedOnce?this.actionHandlers.undoAction(b[c],h):(this.actionHandlers[b[c].type](b[c],h),b[c].firedOnce=!0);return b}},onTextLinkScrollEvent:function(b,c,h,l){if(h.started){b=this.getTextLinkActionsForEvent(l,$(b.element),h);for(c=0;c<b.length;c++)b[c].firedOnce?this.actionHandlers.undoAction(b[c],h):(this.actionHandlers[b[c].type](b[c],h),b[c].firedOnce=!0);return b}},onElementQuestionSubmittedEvent:function(b,c,h){b=$(b);c=this.getActionsForEvent(c,b.data("id"),h);for(b=
0;b<c.length;b++)this.actionHandlers[c[b].type](c[b],h),$(document).trigger("actionFired",[{pageContext:h,action:c[b]}]),c[b].firedOnce=!0},undoElementQuestionSubmittedActions:function(b,c,h){b=$(b);c=this.getActionsForEvent(c,b.data("id"),h);for(b=0;b<c.length;b++)c[b].firedOnce&&this.actionHandlers.undoAction(c[b],h)},onElementCaptureAssessmentSubmittedEvent:function(b,c,h){b=$(b);c=this.getActionsForEvent(c,b.data("id"),h);for(b=0;b<c.length;b++)this.actionHandlers[c[b].type](c[b],h),$(document).trigger("actionFired",
[{pageContext:h,action:c[b]}]),c[b].firedOnce=!0},onContentChangedEvent:function(b,c){var h=$(b),l=h.data("id"),m=h.hasClass(".dki-authoring-element")?h:h.closest(".dki-authoring-element"),n=!1,u=!1;b=[];var q=h.data("automaticSet");if(h.hasClass("dki-audio-element")||h.hasClass("dki-video-element"))m=h;switch(m.data("type")){case "tabset":h.attr("data-viewed",!0);m.find(".accordion-toggle[data-id\x3d"+h.data("id")+"]").attr("data-viewed",!0);n=m.data("tabsVisited")?m.data("tabsVisited"):[];0<=$.inArray(l,
n)?n:n.push(l);m.data("tabsVisited",n);n=m.data("currentTab")!=l;u=m.data("tabsVisited").length===m.data("tabCount");n&&(m.data("currentTab",l),$("#content_"+m.data("id")).hasClass("accordionPanel")||setTimeout(function(){m.find("[data-narration\x3d'1'] .dki-element-content").jPlayer("stop");m.find(".active [data-narration\x3d'1'] .dki-element-content").jPlayer("play",0)},5));break;case "scenario":n=!0;h.data("ended")&&(u=!0);break;case "categoryCards":n=!0;h.data("completed")&&(u=!0);break;case "flipCard":h.find(".face.active").attr("data-viewed",
!0);n=!0;0==h.find(".face:not([data-viewed\x3d'true'])").length&&(h.attr("data-viewed",!0),u=!0,m.find("[data-narration\x3d'1'] .dki-element-content").jPlayer("stop"),m.find(".active [data-narration\x3d'1'] .dki-element-content").jPlayer("play",0));break;case "contentCarousel":h.attr("data-viewed",!0);n=!0;0==h.closest(".dki-element-content").find(".dki-panel-element:not([data-viewed\x3d'true'])").length&&(u=!0);$(c.pageContainer).hasClass("current")&&m.isInViewport()&&(l=m.find(".is-selected [data-narration\x3d'1'] .dki-element-content"),
!l.length||l.data().jPlayer.status.paused)&&(m.find("[data-narration\x3d'1'] .dki-element-content").jPlayer("stop"),l.jPlayer("play",0));break;case "timeline":h.find(".cd-timeline-block .cd-timeline-img.bounce-in").attr("data-viewed",!0);n=!0;0==h.find(".cd-timeline-block .cd-timeline-img:not([data-viewed\x3d'true'])").length&&(u=!0);break;case "radioGroup":h.find(".dki-element-content label.active").attr("data-viewed",!0);n=!0;0==h.find(".dki-element-content label:not([data-viewed\x3d'true'])").length&&
(u=!0);break;case "capture":var l=h.find("img.capture-image").length,r=h.data("slidesViewed"),n=!0;l<=r.length&&(u=!0);break;case "flashCardSet":n=!0;0==h.find(".dki-element-content .card:not([data-answered\x3d'true'])").length&&(u=!0);break;case "videoPlaylist":n=!0;h.find(".menu li.active").attr("data-viewed",!0);0==h.find(".menu li:not([data-viewed\x3d'true'])").length&&(u=!0);break;case "input":case "textbox":case "selection":case "slider":case "toggle":case "flipCardSet":n=!0;0==h.find(".face:not(.seen)").length&&
(u=!0);break;case "image":h.attr("data-viewed",!0);n=!0;0==m.find(".dki-marker-element:not([data-viewed\x3d'true'])").length&&(u=!0);break;case "video":h.attr("data-viewed",!0);n=!0;0==m.find(".dki-marker-element:not([data-viewed\x3d'true'])").length&&m.data("ended")&&(u=!0);break;case "matchCardSet":n=!0,l=c.getClaroElementById(l),h.data("flipState").success.length==l.elements.length&&(u=!0)}n&&(b=b.concat(this.getActionsForEvent("contentChanged",m.data("id"),c)),$(document).trigger(DKI.ContentPage.events.elementContentChanged,
{element:c.getClaroElementById(m.data("id")),pageInstance:c,setAutomatically:q}),q&&h.data("automaticSet",!1));u&&!m.data("allViewed")&&(m.data("allViewed",!0),b=b.concat(this.getActionsForEvent("allContentViewed",m.data("id"),c)),$(document).trigger(DKI.ContentPage.events.elementAllContentViewed,{element:c.getClaroElementById(m.data("id")),pageInstance:c,setAutomatically:q}),q&&h.data("automaticSet",!1),h.trigger("contentViewed"));for(h=0;h<b.length;h++)this.actionHandlers[b[h].type](b[h],c),$(document).trigger("actionFired",
[{pageContext:c,action:b[h]}])},onTextActionLinkEvent:function(b,c,h){b=this.getTextLinkActionsForEvent(b,c,h);for(c=0;c<b.length;c++)b[c].reverseAction||this.setReverseAction(b[c],h),this.actionHandlers[b[c].type](b[c],h),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:h,action:b[c]}]);return b},onMouseEvent:function(b,c,h){b=this.getActionsForEvent(b,$(c).data("id"),h);for(c=0;c<b.length;c++)b[c].reverseAction||this.setReverseAction(b[c],h),this.actionHandlers[b[c].type](b[c],
h),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:h,action:b[c]}]);return b},onDisplayEvent:function(b,c,h){b=this.getActionsForEvent(b,$(c).data("id"),h);for(c=0;c<b.length;c++)b[c].reverseAction||this.setReverseAction(b[c],h),this.actionHandlers[b[c].type](b[c],h),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:h,action:b[c]}])},onTimeUpdate:function(b,c,h,l){b=this.getActionForMediaEvent("time",c,h,b);for(c=0;c<b.length;c++)b[c].reverseAction||this.setReverseAction(b[c],
h),this.actionHandlers[b[c].type](b[c],h),b[c].firedOnce=!0,$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:h,action:b[c]}])},onTimerTimeUpdate:function(b,c,h){b=this.getActionsForTimerTimeEvent("timer_time",c,h,b);for(c=0;c<b.length;c++){b[c].reverseAction||this.setReverseAction(b[c],h);var l=DKI.clone(b[c]);l.time=0;this.actionHandlers[b[c].type](l,h);b[c].firedOnce=!0;$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:h,action:b[c]}])}},onMediaStart:function(b,
c,h){b=this.getActionForMediaEvent(h||"start",b,c);for(h=0;h<b.length;h++)b[h].reverseAction||this.setReverseAction(b[h],c),this.actionHandlers[b[h].type](b[h],c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:b[h]}])},onMediaEnd:function(b,c,h){h=this.getActionForMediaEvent(h||"end",b,c);for(var l=0;l<h.length;l++)h[l].reverseAction||this.setReverseAction(h[l],c),this.actionHandlers[h[l].type](h[l],c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,
action:h[l]}]);c.mediaTimeUpdates[b]=0;$("#"+b+"_wrapper").attr("data-ended",!0);this.onContentChangedEvent.call(this,$("#"+b+"_wrapper"),c)},onMediaPlay:function(b,c,h){b=this.getActionForMediaEvent(h||"play",b,c);for(h=0;h<b.length;h++)b[h].reverseAction||this.setReverseAction(b[h],c),this.actionHandlers[b[h].type](b[h],c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:b[h]}])},onMediaPause:function(b,c,h){if(c.started)for(b=this.getActionForMediaEvent(h||"pause",
b,c),h=0;h<b.length;h++)b[h].reverseAction||this.setReverseAction(b[h],c),this.actionHandlers[b[h].type](b[h],c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:b[h]}])},onMediaVolumeChange:function(b,c,h){b=this.getActionForMediaEvent(c,b,h);for(c=0;c<b.length;c++)b[c].reverseAction||this.setReverseAction(b[c],h),this.actionHandlers[b[c].type](b[c],h),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:h,action:b[c]}])},onDataSetEvent:function(b,c){var h=
this.getActionsForPageEvent("variableSet",c,!0);setVariableText(b.name,b.newValue,c);var l=$(".dki-radialGauge-element .radial[data-variable-name\x3d'"+b.name+"'], .dki-radialGauge-element .radial[data-current\x3d'"+b.name+"']",c.pageContainer);if(l[0]){var m=l.closest(".dki-radialGauge-element");m.find(".radial").RadialGauge("setRotation",b.newValue,function(b,h){(b=c.getClaroElementById(m.data("id")))&&!isNaN(parseInt(b.parameters.config.current,10))&&(b.parameters.config.current=h.state.current)})}l=
$(".dki-selection-element .dki-element-content[data-variable-id\x3d'"+b.name+"']",c.pageContainer).find("li\x3ea[data-val\x3d'"+b.newValue+"']");l[0]&&l.trigger("click",{fromDataSet:!0});l=$(".dki-radioGroup-element .dki-element-content[data-variable-id\x3d'"+b.name+"']",c.pageContainer).find("label[data-index\x3d'"+b.newValue+"']");l[0]&&l.trigger("click",{fromDataSet:!0});l=$(".dki-toggle-element .dki-element-content[data-variable-id\x3d'"+b.name+"']",c.pageContainer).find("input");l[0]&&l.prop("checked",
b.newValue);$(".dki-slider-element .noUi-target.slider[data-variable-id\x3d'"+b.name+"']",c.pageContainer).each(function(){$(this).data("automaticSet",!0);this.noUiSlider.set(b.newValue)});$(".dki-tileCard-element .tileCard[data-variable-name\x3d'"+b.name+"']",c.pageContainer).each(function(){var c=$(this).closest(".dki-tileCard-element"),h=c.find(".tileCard").data("visitedIcon"),c=c.find(".dki-icon-element i"),l=c.data("class");b.newValue?c.addClass(h).removeClass(l):c.addClass(l).removeClass(h)});
$(".dki-timer-element .dki-element-content[data-variable-id\x3d'"+b.name+"']",c.pageContainer).each(function(){var c=$(this).closest(".dki-timer-element"),h=c.data("timer");h&&0<=b.newValue&&b.newValue!=h.getCurrentTime()&&(h.setTime(b.newValue/1E3),h.timer.count=b.newValue/1E3,h="MinuteCounter",36E5<=b.newValue&&(h="HourCounter"),c.data("timer").loadClockFace(h,null,!0))});b.name=="likedislike_"+contentApi.getData("sys.currentpage.id",!0)&&($(".dki-likedislike-element .dki-element-content i",c.pageContainer).disable(),
"like"==b.newValue?$(".dki-likedislike-element .dki-element-content .fa-thumbs-up",c.pageContainer).addClass("toggled"):"dislike"==b.newValue&&$(".dki-likedislike-element .dki-element-content .fa-thumbs-down",c.pageContainer).addClass("toggled"));$(".dki-progress-element .progress[data-variable-name\x3d'"+b.name+"']",c.pageContainer).each(function(){var h=b.newValue,l=$(this).closest(".dki-progress-element"),m=c.getClaroElementById(l.data("id"));l.find(".progress-bar").css(m.parameters.config.dim,
h+"%");l.find(".progress-bar-display, .sr-only").html(Math.floor(h)+"%")});$(".dki-progress-element .progress[data-max\x3d'"+b.name+"'], .dki-progress-element .progress[data-current\x3d'"+b.name+"'],.dki-radialGauge-element .radial[data-max\x3d'"+b.name+"'],.dki-radialGauge-element .radial[data-current\x3d'"+b.name+"']",c.pageContainer).each(function(){var b=$(this).data("max"),h=$(this).data("current"),k=$(this).closest(".dki-progress-element, .dki-radialGauge-element"),l=c.getClaroElementById(k.data("id")),
b=isNaN(parseInt(b,10))?contentApi.getData(b):parseInt(b,10),h=isNaN(parseInt(h,10))?contentApi.getData(h):parseInt(h,10),b=h/b*100;"radialGauge"==k.data("type")?$(this).RadialGauge("setRotation",b,function(b,c){isNaN(parseInt(l.parameters.config.current,10))||(l.parameters.config.current=c.state.current)}):(k.find(".progress-bar").css(l.parameters.config.dim,b+"%"),k.find(".progress-bar-display, .sr-only").html(Math.floor(b)+"%"))});$(".dki-capture-element .capture[data-variable-name\x3d'"+b.name+
"']",c.pageContainer).each(function(){if(b.cfg&&b.cfg.source&&b.cfg.source.attr("id")==$(this).closest(".dki-capture-element").attr("id"))return!1;$(this).closest(".dki-capture-element").capture("goToOverallStep",[b.newValue])});for(l=0;l<h.length;l++)if(h[l].parameters.trigger.variable.name==b.name){var n=h[l].parameters.trigger.variable.value,u=$("\x3cdiv/\x3e").html(n);u.find(".dki-inline-variable-name").each(function(){$(this).html($(this).parent().data("variable-id")).prepend("{{").append("}}")});
var u=u.text(),q=u.toString().indexOf("{{"),r=u.toString().indexOf("}}"),y=0,E=/([^\\]["])+/g;-1!=q||E.test(u.toString())||(u='"'+u+'"');for("string"==typeof n?E.test(n)||(n='"'+n+'"'):"boolean"==typeof n&&(u='"true"'==u);-1<q&&-1<r&&500>y;)n=u.substr(q+2,r-(q+2)),u=u.replace("{{"+n+"}}","contentApi.getData('"+n+"')"),q=u.indexOf("{{"),r=u.indexOf("}}"),y++;1==(new Function("data","return data.newValue "+(h[l].parameters.trigger.variable.condition||"\x3d\x3d")+" "+u+";"))(b)&&(h[l].reverseAction||
this.setReverseAction(h[l],c),this.actionHandlers[h[l].type](h[l],c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:h[l]}]))}},getActionsForEvent:function(b,c,h){for(var l=[],m=0;m<h.actions.length;m++){var n=h.actions[m];n.trigger.toLowerCase()!=b.toLowerCase()||n.elementId!=c||n.textLinkId||this.actionConditionsMet(h.actions[m])&&l.push(h.actions[m])}return l},getTextLinkActionsForEvent:function(b,c,h){var l=[],m=$(c).data("textlinkid");c=$(c).closest(".dki-authoring-element,.dki-authoring-element-element").data("id");
for(var n=0;n<h.actions.length;n++){var u=h.actions[n];u.elementId==c&&u.textLinkId==m&&u.trigger.toLowerCase()==b.toLowerCase()&&this.actionConditionsMet(h.actions[n])&&l.push(h.actions[n])}return l},getActionForMediaEvent:function(b,c,h,l,m){m=[];for(var n=0;n<h.actions.length;n++)h.actions[n].trigger==b&&h.actions[n].elementId==c&&!h.actions[n].firedOnce&&this.actionConditionsMet(h.actions[n])&&(l?h.actions[n].time<=l+250&&m.push(h.actions[n]):m.push(h.actions[n]));return m},getActionsForTimerTimeEvent:function(b,
c,h,l){for(var m=[],n=0;n<h.actions.length;n++)h.actions[n].trigger!=b||h.actions[n].elementId!=c||h.actions[n].firedOnce||this.actionConditionsMet(h.actions[n])&&1E3*Math.round(h.actions[n].time/1E3)===l&&m.push(h.actions[n]);return m},getActionsForPageEvent:function(b,c,h,l){for(var m=[],n=0;n<c.actions.length;n++){var u=!1;l&&($.each(c.actions[n].targetElements,function(){if(this.toString()==l.toString())return u=!0,!1}),u||$.each(c.actions[n].targetGroups,function(){if(this.toString()==l.toString())return u=
!0,!1}));c.actions[n].trigger.toLowerCase()!=b.toLowerCase()||!h&&c.actions[n].firedOnce&&c.actions[n].parameters.fireOnce||l&&!u||this.actionConditionsMet(c.actions[n])&&m.push(c.actions[n])}return m},getActionsForMediaUndo:function(b,c,h){for(var l=[],m=h.actions.length-1;0<=m;m--)h.actions[m].elementId==b&&h.actions[m].firedOnce&&h.actions[m].time>c+250&&"time"==h.actions[m].trigger.toLowerCase()&&this.actionConditionsMet(h.actions[m])&&l.push(h.actions[m]);return l},actionConditionsMet:function(b){var c=
!0;if("undefined"!==typeof b.parameters&&"undefined"!==typeof b.parameters.conditions&&""!=b.parameters.conditions){b=b.parameters.conditions;b=$("\x3cdiv/\x3e").html(b);b.find(".dki-inline-variable-name").each(function(){$(this).html($(this).parent().data("variable-id")).prepend("{{").append("}}")});b=b.text();for(var h=b.indexOf("{{"),l=b.indexOf("}}"),c=0;-1<h&&-1<l&&500>c;)h=b.substr(h+2,l-(h+2)),b=b.replace("{{"+h+"}}","contentApi.getData('"+h+"')"),h=b.indexOf("{{"),l=b.indexOf("}}"),c++;c=
eval(b)}return c},setupLinkedElements:function(c,h,l){for(var m=0;m<c.length;m++){c[m].elementId&&!c[m].textLinkId&&$("#"+c[m].elementId+"_wrapper:not(.dki-hotspot-element) .dki-element-content",h).css({cursor:"pointer"});for(var n=0;n<c[m].targetElements.length;n++)$("#"+c[m].targetElements[n]+"_wrapper",h).addClass("dki-event-target")}$("[data-actiontype\x3dpagelink]",h).each(function(){$(this).css({cursor:"pointer"});$(this).on(l,function(){if(b){var c=this;setTimeout(function(){b.jumpToSubeo($(c).data("actiontargets"))},
10)}})});$("[data-actiontype\x3dimagemap]",h).each(function(){var b=$(this).data("id");if(b=document.getElementById(b+"_imagemap"))for(var c=0;c<b.childNodes.length;c++)processHrefTarget($(b.childNodes[c]).data("hreftarget"),$(b.childNodes[c]).data("hidetargetonload"))})},setupRollovers:function(b){function c(l,m){var n=$("#content_"+l+"_rollover",b),p=$("#content_"+l,b),q="position top bottom left right width height".split(" "),r=function(){$("#"+l+"_wrapper",b).css("min-height","");$("#"+l+"_wrapper",
b).data("rolledover","false");settings.responsive&&$.effects.restore(p,q)},z=null,F=$("#"+l+"_wrapper",b).data("meta"),F=F.split(";");2<=F.length&&(z=F[1]);z&&""!==z&&"true"==$("#"+l+"_wrapper",b).data("rolledover")&&($.effects.save(p,q),p.css({top:n.css("top"),left:n.css("left"),width:n.width(),height:n.height()}),"none"!==z?m?($(".dki-image-root-reflected",$("#"+l+"_wrapper")).show(z,{},1E3,r),$(".dki-image-rollover-reflected",$("#"+l+"_wrapper")).hide(z,{},1E3,r)):(p.velocity("stop"),$("#content_"+
l+"_rollover",b).velocity("stop"),$("#content_"+l,b).velocity(h(z,!0),{duration:1E3,complete:function(){$(this).css("position","static");r()}}),$("#content_"+l+"_rollover",b).velocity(h(z,!1),{duration:1E3,display:null,complete:function(){$(this).hide().css("position","static");r()}})):(p.velocity("stop"),m?($(".dki-image-root-reflected",$("#"+l+"_wrapper")).show(),$(".dki-image-rollover-reflected",$("#"+l+"_wrapper")).hide()):($("#content_"+l,b).show(),$("#content_"+l,b).css("transform","translateX(0px)"),
$("#content_"+l,b).css("opacity","1"),$("#content_"+l+"_rollover",b).hide()),r()))}var h=function(b,c){var h;c?(c="Left","flip"==b&&(c="X"),h="In"):(c="Right","flip"==b&&(c="Y"),h="Out");c={fade:"transition.fade"+h,drop:"transition.slide"+c+"Big"+h,slide:"transition.slide"+c+h,bounce:"transition.bounce"+c+h,fly:"transition.bounce"+c+h,roll:"transition.perspective"+c+h,flip:"transition.flip"+("Left"==c||"Right"==c?"X":"Y")+h,zoom:"transition.expand"+h};return b=c[b]||c.fade},l=function(b,c){var h=
c.position().left;c=c.position().top;b.css({left:h+"px",top:c+"px"})};$(".dki-image-element .dki-element-content.hasRollover",b).on("mouseenter",function(){var c=$(this).closest(".dki-image-element"),m=c.data("id");if(c.data("rolloverassetid")&&(!c.data("rolledover")||"false"==c.data("rolledover"))){var n=null,p=c.data("meta"),p=p.split(";");1<=p.length&&(n=p[0]);var p=$("#"+m+"_wrapper",b).data("rolledover"),q=$(this).hasClass("cssFX-slctr-Reflect");$(".dki-image-root-reflected",$("#"+m+"_wrapper")).attr("data-id",
m);$(".dki-image-rollover-reflected",$("#"+m+"_wrapper")).attr("data-id",m);c.css("min-height",c.height()+"px");!n||"none"===n||p&&"false"!==p?p&&"false"!==p||($("#content_"+m,b).parent().css("position","initial"),q?($("#content_"+m+"_rollover",b).parent().show(),$("#content_"+m,b).parent().hide()):($("#content_"+m+"_rollover",b).css({width:$("#content_"+m,b).width()+"px",height:$("#content_"+m,b).height()+"px"}),l($("#content_"+m+"_rollover",b),$("#content_"+m,b)),$("#content_"+m+"_rollover",b).css({position:"static",
opacity:1}).show(),$("#content_"+m,b).hide()),$("#"+m+"_wrapper",b).data("rolledover","true")):($("#content_"+m+"_rollover",b).css({position:"static",width:$("#content_"+m,b).width()+"px",height:$("#content_"+m,b).height()+"px"}),q?($(".dki-image-rollover-reflected",$("#"+m+"_wrapper")).show(n,{},1E3,function(){settings.responsive&&$("#content_"+m+"_rollover",b).css("position","static")}),$(".dki-image-root-reflected",$("#"+m+"_wrapper")).hide(n,{},1E3)):(l($("#content_"+m+"_rollover",b),$("#content_"+
m,b)),$("#content_"+m+"_rollover",b).velocity(h(n,!0),{duration:1E3,complete:function(){$(this).css("position","static")}}),$("#content_"+m,b).velocity(h(n,!1),{duration:1E3,display:null,complete:function(){$(this).hide().css("position","static")}})),$("#"+m+"_wrapper",b).data("rolledover","true"))}});$(".dki-image-rollover-reflected",b).mouseout(function(){c($(this).closest(".dki-image-element").data("id"),!0)});$(".dki-image-rollover",b).mouseout(function(){c($(this).closest(".dki-image-element").data("id"),
!1)})},actionHandlers:{entrance:function(b,c){this.show.apply(this,arguments)},exit:function(b,c){this.hide.apply(this,arguments)},show:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);h={type:"show",effect:b.parameters.effect,targetElements:b.targetElements,targetGroups:b.targetGroups,delay:h,action:b};b.parameters.effectOptions&&(h.effectOptions=b.parameters.effectOptions);this.doDisplayAction(h,c)},hide:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);h={type:"hide",effect:b.parameters.effect,
targetElements:b.targetElements,targetGroups:b.targetGroups,delay:h,action:b};b.parameters.effectOptions&&(h.effectOptions=b.parameters.effectOptions);this.doDisplayAction(h,c)},toggle:function(b,c){var h=[],l=[];if(b.targetElements)for(var m=0;m<b.targetElements.length;m++)"none"===$("#"+b.targetElements[m]+"_wrapper").css("display")||"hidden"===$("#"+b.targetElements[m]+"_wrapper").css("visibility")||$("#"+b.targetElements[m]+"_wrapper").hasClass("hiding")?(h.push(b.targetElements[m]),c.queue.dequeue({name:"elementsViewed",
id:b.targetElements[m]})):l.push(b.targetElements[m]);var n=[],u=[];if(b.targetGroups)for(m=0;m<b.targetGroups.length;m++)"none"===$("#group_"+b.targetGroups[m]).css("display")||"hidden"===$("#group_"+b.targetGroups[m]).css("visibility")?n.push(b.targetGroups[m]):u.push(b.targetGroups[m]);m=0;"time"!=b.trigger&&(m=b.time);h={type:"show",effect:b.parameters.showEffect,targetElements:h,targetGroups:n,delay:m,action:b};b.parameters.showEffectOptions&&(h.effectOptions=b.parameters.showEffectOptions);
l={type:"hide",effect:b.parameters.hideEffect,targetElements:l,targetGroups:u,delay:m,action:b};b.parameters.hideEffectOptions&&(l.effectOptions=b.parameters.hideEffectOptions);this.doDisplayAction(h,c);this.doDisplayAction(l,c)},doDisplayAction:function(b,c){var h=this.getTargetSelector(b,"[data-type!\x3d'zoomRegion']:not(.dki-list-element)"),m=$(this.getTargetSelector(b,".dki-list-element:not(.isShowNextTarget)",".dontincludegroups"),c.pageContainer),n=this.getTargetSelector(b,"[data-type\x3d'zoomRegion']",
" .dki-zoomRegion-element"),q=this.getTargetSelector({targetGroups:b.targetGroups}),u=this.getTargetSelector(this.getTargetsToHide(b.action,c)),r=$(h,c.pageContainer),B=$(q,c.pageContainer);b.action.undo||(b.action.undo={});"toggle"==b.action.type&&"show"==b.type?b.action.undo.showTargetSelector=h:"toggle"==b.action.type&&"hide"==b.type&&(b.action.undo.hideTargetSelector=h);b.action.undo.targetsToHideSelector=u;var y=function(){var h=$(this),m="show"===b.type?DKI.ContentPage.events.shown:DKI.ContentPage.events.hidden;
"show"===b.type&&h.each(function(){$(this).hasClass("dki-authoring-element")&&c.actionAPI.registerElementViewed(this,c)});if(h.hasClass("dki-authoring-group"))settings.responsive||h.css({width:"",height:""}),h=$(".dki-authoring-element",this),"show"==b.type&&(h=h.filter(":visible")),h.each(y);else{var n="content_"+h.data("id"),u=$("#"+n),q=c.getClaroElementById(h.data("id"));h.trigger(m,this);if("show"===b.type)settings.responsive&&(c.setMinHeight(),c.reCalculateMediaControls()),h.each(function(){var b=
$(this),h="content_"+b.data("id"),k=$("#"+h),m=c.getClaroElementById(b.data("id"));k.data("autoplay")&&"flash"!=b.data("type")&&l.play(h,c);"marker"==b.data("type")?"custom"==m.parameters.config.trigger&&""!=m.meta&&k.tooltipster("open"):"textbox"==b.data("type")||"freeFormOption"==b.data("type")?""!=m.parameters.config.variable_name&&k.val(contentApi.getData(m.parameters.config.variable_name)):"scenario"==b.data("type")&&(b.find(".dki-element-content").Scenario("sceneWindowResize"),b.find(".dki-element-content").Scenario("start"));
if(m.elements){for(b=0;b<m.elements.length;b++)h=m.elements[b],"marker"==h.elementtype&&"custom"==h.parameters.config.trigger&&""!=h.meta&&$("#content_"+h.id).tooltipster("open");if(settings.responsive){var n=function(b){var h=$("#"+b.id+"_wrapper",c.pageContainer);c.setLabelWrapperPosition(h);c.scaleElementChildren(b);h.find(".dki-authoring-element-element").css("visibility","")},u=function(b){settings.elementTypeConfig[b.elementtype].hasStackableElementElements?n(b):b.elements&&$.each(b.elements,
function(){u(this)})};u(m)}}}),settings.elementTypeConfig[h.data("type")].navigateSubContent&&h.find(".dki-audio-element[data-narration\x3d1]:visible .dki-element-content").jPlayer("play",0);else if("hide"==b.type){settings.responsive&&setTimeout(player.resetContentHeight,10);$(this).css({opacity:""});$("iframe",this).each(function(){$(this).attr("data-src")||$(this).attr("data-src",this.src);this.src="about:blank"});h.data("multimedia")&&"flash"!=h.data("type")&&l.pause(n,c);"marker"==h.data("type")&&
"custom"==q.parameters.config.trigger&&""!=q.meta&&u.tooltipster("close");h.each(function(){"scenario"==$(this).data("type")&&$(this).find(".dki-element-content").Scenario("stop")});if(q.elements)for(m=0;m<q.elements.length;m++)n=q.elements[m],"marker"==n.elementtype&&"custom"==n.parameters.config.trigger&&""!=n.meta&&$("#content_"+n.id).tooltipster("close");settings.elementTypeConfig[h.data("type")].navigateSubContent&&h.find(".dki-audio-element[data-narration\x3d1] .dki-element-content").jPlayer("stop",
0)}}};""!==h?(q=function(){DKI.applyIf(b,{effectOptions:{duration:1E3,direction:""}},!0);var l=b.effectOptions.duration,q=function(b){b.trigger("match.resizeImmediate").find(".dki-matchCardSet-element").trigger("match.resizeImmediate");b.find(".radial").RadialGauge("resize")},A=b.type;b.type="hide";$(u).addClass("hidden").each(function(){y.call(this)});b.type=A;"show"==b.type&&c.started&&$("iframe",h).each(function(){this.src=$(this).attr("data-src")});"hide"==b.type&&settings.responsive&&c.setMinHeight();
"show"!=b.type||settings.responsive||r.each(function(){var b=$(this).find("#content_"+$(this).data("id")),h=function(b,c,h){h=$(b).find("#content_"+$(b).data("id"));$(b).css({visibility:"hidden",display:"block"});c-=h.find(".panel \x3e.panel-heading").first().outerHeight()+h.find(".panel \x3e.panel-footer").first().outerHeight()+2;h.find(".panel-body").first().css({height:c});$(b).css({visibility:"",display:""})};if("panel"==$(this).data("type"))h(this,$(this).data("height"),b);else if("contentCarousel"==
$(this).data("type")){var k=$(this).css({visibility:"hidden",display:"block"}).height()-b.find("\x3e .flickity \x3e .flickity-page.dots").height();$(this).css({visibility:"",display:""});b.find("\x3e .flickity \x3e .flickity-viewport \x3e .flickity-slider \x3e .dki-panel-element").each(function(){h(this,k)})}else"flashCardSet"==$(this).data("type")?(k=$(this).css({visibility:"hidden",display:"block"}).height()-b.find("\x3e .flickity-carousel \x3e .flickity-page-dots").height(),$(this).find(".flickity-carousel").data("resize")(),
$(this).css({visibility:"",display:""}),b.find("\x3e .flickity-carousel \x3e .flickity-viewport, \x3e .flickity-carousel \x3e .flickity-viewport \x3e .flickity-slider \x3e .flashCardCont \x3e .card").each(function(){$(this).height(k)})):"flipCard"==$(this).data("type")?(k=$(this).data("height"),$(this).css({visibility:"",display:""}),b.find("\x3e .contentContainer").each(function(){h(this,k)})):"tabset"==$(this).data("type")&&"horizontal"==c.getClaroElementById($(this).data("id")).parameters.config.orientatil&&
(k=$(this).data("height")-b.find("\x3e .tabbable \x3e .nav").height(),b.find("\x3e.tabbable \x3e .tab-content").css("height",k+"px"))});if(""==b.effect||"none"==b.effect)"show"==b.type?(r.add(m).removeClass("hiddenUntilInView").removeClass("hiddenOnLoad").removeClass("hidden"),q(r),r.each(y),c.resizeCarousels(r.find(".flip, .flickity")),c.resizeSvgs(),c.resizeSection(r.closest(".dki-authoring-section")),c.resizeDropTargets(),c.resizeTabs(),r.find("img.dki-element-content").maskImage({preserveAspectRatio:settings.responsive?
!1:"none"})):"exit"==b.action.type&&"custom_scroll"==b.action.trigger?r.addClass("hiddenUntilInView").each(y):r.add(m).addClass("hidden").each(y);else if(b.effect.match("text_","i"))b.effectOptions&&(r.removeClass("hiddenUntilInView").removeClass("hiddenOnLoad").removeClass("hidden"),r.find(".dki-element-content").textillate(b.effectOptions));else{if("blind"==b.effect||"clip"==b.effect||"fold"==b.effect)b.effect="fade";var G=b.effectOptions.direction?DKI.capitalizeString(b.effectOptions.direction):
"",A="In";"show"==b.type?"Left"==G?G="Right":"Right"==G&&(G="Left"):A="Out";var I={fade:"transition.fade"+A,drop:"transition.slide"+G+"Big"+A,slide:"transition.slide"+G+A,bounce:"transition.bounce"+G+A,fly:"transition.bounce"+G+A,roll:"transition.perspective"+G+A,flip:"transition.flip"+("Left"==G||"Right"==G?"X":"Y")+A,zoom2:"transition.expand"+A,swoop:"transition.swoop"+A,whirl:"transition.whirl"+A,shrink:"transition.shrink"+A,expand:"transition.expand"+A},K=$([]);m.each(function(){jQuery.merge(K,
$(this).find("ul.dki-element-content li"))});var H=function(){$(this).removeClass("showing");$(this).css({opacity:""});$.each($(this),function(){y.call($(this))})},A=function(){$(this).removeClass("hiding");"exit"==b.action.type&&"custom_scroll"==b.action.trigger?$(this).addClass("hiddenUntilInView"):$(this).addClass("hidden");$(this).css({opacity:""});$.each($(this),function(){y.call($(this))})};if("show"==b.type){settings.responsive&&r.each(function(){"image"!=$(this).data("type")&&"video"!=$(this).data("type")||
$(this).find(".dki-authoring-element-element").css("visibility","hidden")});if(I[b.effect])G=r.filter(".hiddenUntilInView, .hiddenOnLoad, .hidden, .hiding"),G.filter(".hiding").length&&(G.filter(".hiding").velocity("stop"),A.call(G)),function(c){c.addClass("showing");c.removeClass("hiddenUntilInView").removeClass("hiddenOnLoad").removeClass("hidden");q(c);c.velocity(I[b.effect],{duration:l,display:null,complete:H})}(G),r.find("img.dki-element-content").maskImage(),r.filter(".dki-image-element").add(r.find(".dki-image-element")).each(function(){$(this).data("resizeMap")&&
$(this).data("resizeMap")()}),m.filter(".hiddenUntilInView, .hiddenOnLoad, .hidden").removeClass("hiddenUntilInView").removeClass("hiddenOnLoad").removeClass("hidden"),K.velocity(I[b.effect],{duration:l,stagger:.5*l,display:null,complete:function(){$(this).css({opacity:""});y.call($(this).closest(".dki-authoring-element")[0])}});else{var P=b.effectOptions?DKI.clone(b.effectOptions):{};"oldSlide"==b.effect&&(b.effect="slide",""!=G&&("left"==b.effectOptions.direction?P.direction="right":"right"==b.effectOptions.direction?
P.direction="left":"up"==b.effectOptions.direction?P.direction="down":"down"==b.effectOptions.direction&&(P.direction="up")));settings.responsive||B.css({width:"100%",height:"100%"});r.filter(".hiddenUntilInView, .hiddenOnLoad, .hidden").css("display","none").removeClass("hiddenUntilInView").removeClass("hiddenOnLoad").removeClass("hidden").each(function(){q($(this));$(this).show(b.effect,P,y)});m.filter(".hiddenUntilInView, .hiddenOnLoad, .hidden").removeClass("hiddenUntilInView").removeClass("hiddenOnLoad").removeClass("hidden").effect(b.effect,
P,y)}c.resizeCarousels(r.find(".flip, .flickity"));c.resizeSection(r.closest(".dki-authoring-section"));settings.responsive&&$(h).closest(".dki-authoring-row.synchronize-heights").each(function(){synchonizeRowHeight($(this))})}else I[b.effect]?(G=r.filter(":not(.hiding):not(.hidden)"),G.addClass("hiding"),G.filter(".showing").length&&(G.filter(".showing").velocity("stop"),H.call(G)),G.velocity(I[b.effect],{duration:l,display:null,complete:A}),K.velocity(I[b.effect],{duration:l,stagger:.5*l,display:null,
complete:function(){"exit"==b.action.type&&"custom_scroll"==b.action.trigger?$(this).addClass("hiddenUntilInView"):$(this).addClass("hidden");y.call($(this).closest(".dki-authoring-element")[0])}})):(P=b.effectOptions?DKI.clone(b.effectOptions):{},"oldSlide"==b.effect&&(b.effect="slide"),settings.responsive||B.css({width:"100%",height:"100%"}),r.hide(b.effect,P,function(){"exit"==b.action.type&&"custom_scroll"==b.action.trigger?$(this).addClass("hiddenUntilInView"):$(this).addClass("hidden");$(this).css("display",
"");$.each($(this),function(){y.call($(this))})}),m.hide(b.effect,P,function(){"exit"==b.action.type&&"custom_scroll"==b.action.trigger?$(this).addClass("hiddenUntilInView"):$(this).addClass("hidden");$(this).css("display","");$.each($(this),function(){y.call($(this))})}))}0<$(n,c.pageContainer).length&&("show"==b.type?$(n,c.pageContainer).show().each(function(){var b=this;contentApi.zoomToElement($(this).data("id"),c,l,function(){y.call(b)})}):contentApi.zoomOut(c,l,function(){$(n,c.pageContainer).hide().each(function(){y.call(this)})}));
r.trigger("shown")},0==b.delay&&player.settings.forSnapshot?(b.effectOptions.duration=0,q()):c.pageTimeouts.push(setTimeout(q,b.delay))):""!==u&&($(u).hide(),b.action.undo.targetsToHideSelector=u)},applyEffect:function(c,h){var l=this,m=0,n;"time"!=c.trigger&&(m=c.time);n=this.getTargetSelector(c,""," .dki-authoring-element");if(""!==n){if("moveTo"==c.parameters.effect||"moveBy"==c.parameters.effect){c.undo={targets:{}};for(var q=0;q<c.targetElements.length;q++)c.undo.targets[c.targetElements[q]]=
{left:$("#"+c.targetElements[q]+"_wrapper",h.pageContainer).css("left").split("px")[0],top:$("#"+c.targetElements[q]+"_wrapper",h.pageContainer).css("top").split("px")[0]}}else if("resizeTo"==c.parameters.effect||"resizeBy"==c.parameters.effect)for(c.undo={targets:{}},q=0;q<c.targetElements.length;q++)c.undo.targets[c.targetElements[q]]={width:0<$("#"+c.targetElements[q]+"_wrapper",h.pageContainer).css("width").length?$("#"+c.targetElements[q]+"_wrapper",h.pageContainer).css("width").split("px")[0]:
0,height:0<$("#"+c.targetElements[q]+"_wrapper",h.pageContainer).css("width").length?$("#"+c.targetElements[q]+"_wrapper",h.pageContainer).css("height").split("px")[0]:0};q=function(){var m=void 0!=c.parameters.effectOptions.duration?c.parameters.effectOptions.duration:1E3,q=function(c){try{return $(c).is("span")?b.getData($(c).data("variable-id"),!0):c}catch(h){return c}};c.parameters&&c.parameters.effect&&"pulsate"==c.parameters.effect&&(c.parameters.effect="pulse");if(c.parameters&&c.parameters.effectOptions)if("moveTo"==
c.parameters.effect||"moveBy"==c.parameters.effect){var m=l.getTargetSelector({targetElements:c.targetElements}),r=DKI.clone(c.parameters.effectOptions);r.to.left=q(r.to.left);r.to.top=q(r.to.top);$(m).effect(c.parameters.effect,r,function(){"zoomRegion"==$(this).data("type")&&contentApi.zoomToElement($(this).data("id"))});for(m=0;m<c.targetGroups.length;m++){r=$("#group_"+c.targetGroups[m]).find(".dki-authoring-element");if("moveTo"==c.parameters.effect){for(var y=parseInt(r[0].style.top),z=parseInt(r[0].style.left),
A=1;A<r.length;A++)var D=$(r[A]).position(),y=Math.min(y,D.top),z=Math.min(z,D.left);y={top:"+\x3d"+(q(c.parameters.effectOptions.to.top)-y),left:"+\x3d"+(q(c.parameters.effectOptions.to.left)-z)}}else y={top:q(c.parameters.effectOptions.to.top),left:q(c.parameters.effectOptions.to.left)};$(r).effect("moveBy",{to:y})}}else if("resizeTo"==c.parameters.effect)$(n).effect(c.parameters.effect,c.parameters.effectOptions);else if("fadeTo"==c.parameters.effect)m=DKI.clone(c.parameters.effectOptions),m.to.opacity=
q(c.parameters.effectOptions.to.opacity)/100,$(n).find(".dki-authoring-content-wrapper").effect(c.parameters.effect,m);else if("rotate"==c.parameters.effect){var G={rotateZ:q(c.parameters.effectOptions.to.degrees)};$(n).velocity(G,{duration:m})}else"scaleTo"==c.parameters.effect?(G={scaleX:q(c.parameters.effectOptions.to.w)/100,scaleY:q(c.parameters.effectOptions.to.h)/100},$(n).velocity(G,{duration:m})):"panTo"==c.parameters.effect?(G={translateX:q(c.parameters.effectOptions.to.x),translateY:q(c.parameters.effectOptions.to.y)},
$(n).css("overflow","hidden"),$(".dki-element-content",n).velocity(G,{duration:m})):"zoomTo"==c.parameters.effect?(G={scaleX:q(c.parameters.effectOptions.to.w)/100,scaleY:q(c.parameters.effectOptions.to.h)/100},$(n).css("overflow","hidden"),$(".dki-element-content",n).velocity(G,{duration:m})):"panAndZoom"==c.parameters.effect?(G={translateX:q(c.parameters.effectOptions.to.x),translateY:q(c.parameters.effectOptions.to.y),scaleX:q(c.parameters.effectOptions.to.w)/100,scaleY:q(c.parameters.effectOptions.to.h)/
100},$(n).css("overflow","hidden"),$(".dki-element-content",n).velocity(G,{duration:m})):"flip"==c.parameters.effect?(G={rotateX:"360deg"},$(n).velocity(G,{duration:m})):"applyCSS"==c.parameters.effect?(G={},q=c.parameters.effectOptions.to.css.split(";"),$.each(q,function(){var b=this.split(":");b[0]&&b[1]&&(G[$.trim(b[0])]=$.trim(b[1]))}),n=l.getTargetSelector(c," .dki-element-content"," .dki-authoring-element .dki-element-content"),$(n,h.pageContainer).each(function(){var b=$(this);b.data("pre-action-style-"+
c.id,b.attr("style"))}),q=$(n,h.pageContainer),q.animate(G,{duration:m})):(q=$(n,h.pageContainer),q.velocity("callout."+c.parameters.effect,{duration:m}));else q=$(n,h.pageContainer),q.velocity("callout."+c.parameters.effect,{duration:m})};"time"==c.trigger&&0==c.time&&player.settings.forSnapshot?(c.parameters.effectOptions.duration=0,q()):h.pageTimeouts.push(setTimeout(q,m))}},http:function(c,h){if(-1<c.parameters.url.indexOf("mailto:"))window.open(c.parameters.url);else if(c.parameters.target&&
"modal"===c.parameters.target)b.openModal(c.parameters.url);else{if(c.parameters.target&&"window"===c.parameters.target){if(playerBehaviour.removeWebLinks)return!1;c=window.open(c.parameters.url,"_blank","location\x3d0,width\x3d"+$(window).width()+",height\x3d"+$(window).height())}else c=window.open(c.parameters.url);c.focus()}},asset:function(c,h){c.parameters&&c.parameters.target&&"modal"===c.parameters.target?b.openModal(settings.assetURL+c.target_assets[0].filename):window.open(settings.assetURL+
c.target_assets[0].filename,"_blank","location\x3d0,width\x3d"+$(window).width()+",height\x3d"+$(window).height())},showPopup:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);var l=window.pageYOffset,m=function(){contentApi.showPopup({title:b.parameters.popup.title,html:b.parameters.popup.content,effect:b.parameters.effect,style:b.parameters.popup.style,autoFocus:!0,popupType:b.parameters.popup.type,zIndex:c.getZIndex(),returnFocus:function(){var b=null;$("body").hasClass("show-focus-outlines")&&
(b=document.activeElement);return b}(),id:b.id,domStyles:dkiUA.iOS&&dkiUA.safari?"position:absolute; top:"+l+"px":""})};"undefined"!=typeof scormInterface&&dkiUA.iOS&&dkiUA.safari?scormInterface.process("getPageYOffset",[],function(b){0==l&&(l=b);c.pageTimeouts.push(setTimeout(m,h))}):c.pageTimeouts.push(setTimeout(m,h))},lightBox:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);b.target_assets&&0<b.target_assets.length&&c.pageTimeouts.push(setTimeout(function(){var c=[];$.each(b.target_assets,
function(){c.push($("\x3cimg/\x3e",{attr:{src:settings.assetURL+this.filename}}))});if(c[0]){c[0].on("load",function(){var b=!0;$.fancybox.open(c,{animationEffect:!1,padding:0,smallBtn:!1,buttons:["close"],margin:[20,60,20,60],scrolling:dkiUA.isIE()?"visible":"auto",lang:"en",i18n:{en:{CLOSE:DKI.strings.runtime.buttonLabelClose,NEXT:DKI.strings.runtime.buttonLabelNext,PREV:DKI.strings.index.previousButtonLabel}},baseTpl:'\x3cdiv class\x3d"fancybox-container" tabindex\x3d"-1"\x3e\x3cdiv class\x3d"fancybox-bg"\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-inner"\x3e\x3cdiv class\x3d"fancybox-infobar"\x3e\x3cspan data-fancybox-index\x3e\x3c/span\x3e\x26nbsp;/\x26nbsp;\x3cspan data-fancybox-count\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-toolbar"\x3e{{buttons}}\x3c/div\x3e\x3cdiv class\x3d"fancybox-navigation"\x3e{{arrows}}\x3c/div\x3e\x3cdiv class\x3d"fancybox-stage"\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-caption"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
btnTpl:{close:'\x3cbutton tabindex\x3d"1" aria-label\x3d"{{CLOSE}}" data-fancybox-close class\x3d"fancybox-button fancybox-button--close" title\x3d"{{CLOSE}}" style\x3d"opacity:1 !important;"\x3e\x3csvg tabindex\x3d"-1" aria-hidden\x3d"true" viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M10,10 L30,30 M30,10 L10,30" /\x3e\x3c/svg\x3e\x3c/button\x3e',arrowLeft:'\x3cbutton tabindex\x3d"1" type\x3d"button" aria-label\x3d"{{PREV}}" data-fancybox-prev class\x3d"fancybox-button fancybox-button--arrow_left" title\x3d"{{PREV}}" href\x3d"javascript:;"\x3e\x3csvg tabindex\x3d"-1" aria-hidden\x3d"true" viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M18,12 L10,20 L18,28 M10,20 L30,20"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/button\x3e',
arrowRight:'\x3cbutton tabindex\x3d"1" type\x3d"button" aria-label\x3d"{{NEXT}}" data-fancybox-next class\x3d"fancybox-button fancybox-button--arrow_right" title\x3d"{{NEXT}}" href\x3d"javascript:;"\x3e\x3csvg tabindex\x3d"-1" aria-hidden\x3d"true" viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M10,20 L30,20 M22,12 L30,20 L22,28"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/button\x3e'},afterLoad:function(b,c){DKI.enforceFocus(this.$slide.closest(".fancybox-inner"));this.$slide.closest(".fancybox-inner").find(".fancybox-infobar").attr("aria-hidden",
!0);this.$slide.closest(".fancybox-container").attr("aria-label","Popup")},afterShow:function(c){if(b){var h=c.current.$slide.closest(".fancybox-inner");h.find("*[tabindex\x3d'1']").first()[0].focus();b=!1}h=c.current.$slide.closest(".fancybox-inner");h.find(".fancybox-button").attr("tabindex",1).filter(".disabled").attr("tabindex",-1)},beforeShow:function(b,h,k){for(b=0;b<c.length;b++)settings.responsive||c[b].css("max-width","100%"),c[b].width(c[b].outerWidth(!0)||"")}})});var h=$("\x3cdiv/\x3e",
{style:{position:"absolute",top:"-10000px",left:"-10000px",visibility:"hidden"}}).append(c[0]);$("body").append(h)}},h))},lightBoxOld:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);var m=this.getTargetSelector(b);""!==m&&c.pageTimeouts.push(setTimeout(function(){var b=[];$(m).each(function(h,k){h=$(k);k=h.clone();for(var l=k.find("*"),m=0;m<l.length;m++){var n=$(l[m]);n.prop("id",n.prop("id")+"_lightbox")}k.prop("id",k.prop("id")+"_lightbox");l={"min-width":"150px","max-width":$(c.pageContainer).outerWidth(!0)-
30+"px",position:"static",display:"inline-block",visibility:"visible",height:"",width:"",cursor:"",opacity:""};k.css(l);k.find("map, .dki-image-rollover").detach();$.each(k.find("img"),function(b){$(this).css({position:"static",opacity:"",display:"inline-block"});$(this).attr("usemap")&&$(this).attr("usemap","")});$.each(k.find("iframe"),function(b){"about:blank"==$(this).attr("src")&&$(this).data("src")&&$(this).attr("src",$(this).data("src"))});k.attr("id","");h.data("isrichtext")&&(l["overflow-y"]=
"auto");b.push(k)});$.fancybox.open(b,{openEffect:"none",closeEffect:"none",nextEffect:"none",prevEffect:"none",padding:0,margin:[20,60,20,60],scrolling:dkiUA.isIE()?"visible":"auto",afterLoad:function(b,c){c.$content.is("iframe")&&c.$content.attr("src",c.$content.data("src"));c=b.slides[b.prevIndex];b.currIndex!=b.prevIndex&&c&&c.$content.is("iframe")&&c.$content.attr("src","about:blank")},afterShow:function(b,h){h.$content.hasClass("dki-video-element")?l.handleVideo(h.$content.find(".dki-video-content-element"),
c):h.$content.hasClass("dki-audio-element")&&(b=h.$content.find("div[data-elementType\x3d'audio']"),h.$content.css("height","100%"),b.siblings(".jp-audio, .jp-basic").detach(),l.handleAudio(b,c))},beforeShow:function(){for(var c=0;c<b.length;c++)settings.responsive&&b[c].data("isrichtext")?b[c].css("width","100%"):b[c].width(b[c].outerWidth(!0)||"")}})},h))},api:function(c,h){var l=0;"time"!=c.trigger&&(l=c.time);var m=function(){var l=c.parameters.methodConfig?DKI.clone(c.parameters.methodConfig):
{};l.pageInstance=h;"jumpToElement"==c.parameters.method&&c.targetElements[0]?l.elementId=c.targetElements[0]:"jumpToPage"==c.parameters.method&&c.targetPages[0]&&(l.pageID=c.targetPages[0],l.markComplete=!0,"undefined"!=typeof c.parameters.markComplete&&(l.markComplete=c.parameters.markComplete));b[c.parameters.method](l)};0==l?m():h.pageTimeouts.push(setTimeout(m,l))},sendXAPIStatement:function(c,h){var l=0,m={response:{process:function(c){if(dataStorage){var h=dataStorage.getContentVariableMeta(c);
return(h?h.text:b.getData(c,!0))+""}return null}},success:{process:function(c){return b.getData(c,!0)}},score:{process:function(c){return b.getData(c,!0)}}};"time"!=c.trigger&&(l=c.time);var n=DKI.clone(c.parameters.statement);c=function(){n.result&&($.each(n.result,function(b,c){var h=n.result;$(c).is("span")?(c=$(c).data("variable-id"),c=m[b].process(c)):c=isNaN(c)?c.match(/^(true|false)$/i)?"true"===c:c:parseFloat(c,10);h[b]=c}),"undefined"==typeof n.result.score||DKI.utility.isObject(n.result.score)||
(n.result.score={scaled:n.result.score/100}));b.sendXAPIStatement(n)};0==l?c():h.pageTimeouts.push(setTimeout(c,l))},setVariable:function(c,h){if((c.parameters.fireOnce||c.parameters.fireOncePerPage)&&c.firedOnce)return null;var l=0;"time"!=c.trigger&&(l=c.time);c.firedOnce=!0;for(var m=0;m<h.actions.length;m++)h.actions[m].id==c.id&&(h.actions[m].firedOnce=!0);if("undefined"!=typeof dataStorage&&dataStorage.currentPage)for(m=0;m<dataStorage.currentPage.page.actions.length;m++)dataStorage.currentPage.page.actions[m].id==
c.id&&(dataStorage.currentPage.page.actions[m].firedOnce=!0);h.pageTimeouts.push(setTimeout(function(){var h=c.parameters.variable,l=h.name,m=h.value,m=$("\x3cdiv/\x3e").html(m.toString());m.find(".dki-inline-variable-name").each(function(){var b="contentApi.getData('"+$(this).parent().data("variable-id")+"')";$(this).html(b).prepend("{{").append("}}")});m.find(".dki-inline-function-name").each(function(){$(this).prepend("{{").append("}}")});var m=m.text(),n=m.toString().indexOf("{{"),p=m.toString().indexOf("}}"),
q=0,v=/([^\\]["])+/g;for(-1!=n||"string"!=h.type||v.test(m.toString())||(m='"'+m+'"');-1<n&&-1<p&&500>q;)n=m.substr(n+2,p-(n+2)),m=m.replace("{{"+n+"}}",n),n=m.indexOf("{{"),p=m.indexOf("}}"),q++;m="number"==h.type?(new Function("contentAPI"," var oldValue \x3d contentAPI.getData('"+h.name+"'); if(!oldValue){ oldValue \x3d 0; } return oldValue "+h.operator+" "+m+";"))(b):eval(m);b.setData(l,m)},l))},playMedia:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);c.pageTimeouts.push(setTimeout(function(){for(var h=
0;h<b.targetElements.length;h++){var l=c.mediaPlayers["content_"+b.targetElements[h]],m=b.parameters;l?(m&&"undefined"!==typeof m.startTime?l.jPlayer("play",m.startTime/1E3):l.jPlayer("play"),b.parameters&&"undefined"!==typeof m.endTime&&(b.firedOnce=!0,$(l).bind($.jPlayer.event.timeupdate,function(c){b.firedOnce&&1E3*c.jPlayer.status.currentTime>b.parameters.endTime&&(l.jPlayer("pause"),b.firedOnce=!1)}))):(m=c.getClaroElementById(b.targetElements[h]),"timer"==m.elementtype&&(m=$("#"+m.elementid+
"_wrapper",c.pageContainer),m[0]&&m.data("timer")&&(m.data("timer").running||m.data("timer").start())))}},h))},replayMedia:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);c.pageTimeouts.push(setTimeout(function(){for(var h=0;h<b.targetElements.length;h++){var m=c.mediaPlayers["content_"+b.targetElements[h]];m?l.play(m,c,0):(m=c.getClaroElementById(b.targetElements[h]),"timer"==m.elementtype&&(m=$("#"+m.elementid+"_wrapper",c.pageContainer),m[0]&&m.data("timer")&&m.data("timer").restart()))}},
h))},pauseMedia:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);c.pageTimeouts.push(setTimeout(function(){for(var h=0;h<b.targetElements.length;h++){var l=c.mediaPlayers["content_"+b.targetElements[h]];l?(l.jPlayer("pause"),b.parameters&&b.parameters.hidePlayHead&&$("#content_"+b.targetElements[h],c.pageContainer).find(".jp-video-play").addClass("hidden").after($('\x3cdiv class\x3d"playHeadBlocker proxy"\x3e\x3c/div\x3e'))):(l=c.getClaroElementById(b.targetElements[h]),"timer"==l.elementtype&&
(l=$("#"+l.elementid+"_wrapper",c.pageContainer),l[0]&&l.data("timer")&&l.data("timer").running&&l.data("timer").stop()))}},h))},toggleMedia:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);c.pageTimeouts.push(setTimeout(function(){for(var h=0;h<b.targetElements.length;h++){var l=c.mediaPlayers["content_"+b.targetElements[h]];l?l.data().jPlayer.status.paused?l.jPlayer("play"):l.jPlayer("pause"):(l=c.getClaroElementById(b.targetElements[h]),"timer"==l.elementtype&&(l=$("#"+l.elementid+"_wrapper",
c.pageContainer),l[0]&&l.data("timer")&&l.data("timer").toggle()))}},h))},showCC:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);c.pageTimeouts.push(setTimeout(function(){for(var h=0;h<b.targetElements.length;h++)c.mediaPlayers["content_"+b.targetElements[h]].closest(".jp-video").addClass("showCC")},h))},hideCC:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);c.pageTimeouts.push(setTimeout(function(){for(var h=0;h<b.targetElements.length;h++)c.mediaPlayers["content_"+b.targetElements[h]].closest(".jp-video").removeClass("showCC")},
h))},toggleCC:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);c.pageTimeouts.push(setTimeout(function(){for(var h=0;h<b.targetElements.length;h++)c.mediaPlayers["content_"+b.targetElements[h]].closest(".jp-video").toggleClass("showCC")},h))},lightboxPage:function(b,c){var h=document.activeElement,l=0;"time"!=b.trigger&&(l=b.time);c.pageTimeouts.push(setTimeout(function(){player.showPage(b.targetPages[0],h)},l))},undoAction:function(b,c){var h=this;if("show"==b.type||"hide"==b.type||"entrance"==
b.type||"exit"==b.type){var l=this.getTargetSelector(b);"show"==b.type||"entrance"==b.type?$(l,c.pageContainer).addClass("hidden"):$(l,c.pageContainer).removeClass("hidden");$(b.undo.targetsToHideSelector,c.pageContainer).removeClass("hidden")}else if("toggle"==b.type)$(b.undo.showTargetSelector,c.pageContainer).addClass("hidden"),$(b.undo.hideTargetSelector,c.pageContainer).removeClass("hidden"),$(b.undo.targetsToHideSelector,c.pageContainer).removeClass("hidden");else if("applyEffect"==b.type)if("moveTo"==
b.parameters.effect||"moveBy"==b.parameters.effect)$.each(b.undo.targets,function(h){$("#"+h+"_wrapper",c.pageContainer).effect(b.parameters.effect,{duration:0,to:{left:this.left,top:this.top}})});else if("resizeTo"==b.parameters.effect||"resizeBy"==b.parameters.effect)$.each(b.undo.targets,function(h){$("#"+h+"_wrapper",c.pageContainer).effect(b.parameters.effect,{duration:0,to:{width:this.width,height:this.height}})});else if(b.reverseAction)if($.isArray(b.reverseAction))$.each(b.reverseAction,
function(b){h[this.type](this,c)});else h[b.reverseAction.type](b.reverseAction,c);"swapContent"==b.type&&b.originalContent&&(l=$("#content_"+b.targetElements[0],c.pageContainer),b.target_assets?(l.attr("src",b.originalContent),l.attr("data-src",b.originalContent),l.maskImage({preserveAspectRatio:settings.responsive?!1:"none"})):b.parameters.swapClass?(l=element.find(".panel"),cls=l.attr("class").match(/panel\-([^\s])+/),l.removeClass(cls[0]).addClass(b.originalContent)):l.html(b.originalContent));
b.firedOnce=!1},listEffect:function(b,c,h){},listShowNext:function(b,c){var h=$("#content_"+b.targetElements[0]);c.getClaroElementById(b.targetElements[0]);var h=h.find("li:not(.shown)").first(),l=b.parameters;if(""==l.effect||"none"==l.effect)h.addClass("shown"),l.effectOptions.duration=600;else{var m=l.effectOptions.direction?DKI.capitalizeString(l.effectOptions.direction):"";directions={Right:["Right","Left"],Left:["Left","Right"],Up:["Up","Down"],Down:["Down","Up"]};l.alternate&&m&&(m=directions[m][h.index()%
2]);var m="transition."+l.effect+m+"In",n={duration:l.effectOptions.duration,display:null};h.addClass("shown").velocity(m,n)}l.animateAll&&h[0]&&setTimeout(function(){q.actionHandlers.listShowNext(b,c)},.75*l.effectOptions.duration)},listReset:function(b,c){$("#"+b.targetElements[0]+"_wrapper").find("ul li.shown").removeClass("shown").velocity("stop")},capture:function(b,c){$.each(b.targetElements,function(h,l){if("switch"==b.parameters.method){if(h=c.getClaroElementById(l)){var m=b.parameters.switch.split("_");
h.parameters.config.type=m[0];h.parameters.config.mode=m[1];m=DKI.renderService.renderContent(h,{page:c.page});""!=m&&(l=$("#"+l+"_wrapper",c.pageContainer),l.capture("destroy"),l.data("cap",""),l.find(".dki-element-content").replaceWith(m),c.processElement(h),l.capture("setWaypoints"),c.resize())}}else $("#"+l+"_wrapper").capture(b.parameters.method)})},getTargetSelector:function(b,c,h){void 0==c&&(c="");void 0==h&&(h="");var l="";if(b.targetElements)for(var m=0;m<b.targetElements.length;m++)l+=
"#"+b.targetElements[m]+"_wrapper"+c+",";if(b.targetGroups)for(m=0;m<b.targetGroups.length;m++)l="applyEffect"==b.type?l+("#group_"+b.targetGroups[m]+h+c+","):l+("#group_"+b.targetGroups[m]+h+",");""!==l&&(l=l.substring(0,l.length-1));return l},getTargetsToHide:function(b,c){var h={targetElements:[],targetGroups:[]};if(b.parameters&&b.parameters.hideOthers){for(var l=0;l<c.actions.length;l++)if(("show"===c.actions[l].type||"toggle"===c.actions[l].type)&&c.actions[l].id!==b.id&&!c.actions[l].pageId){for(var m=
0;m<c.actions[l].targetElements.length;m++)if(1!=$("#"+c.actions[l].targetElements[m]+"_wrapper").data("donthide")){for(var n=!1,u=0;u<b.targetElements.length;u++)b.targetElements[u]==c.actions[l].targetElements[m]&&(n=!0);!n&&$("#"+c.actions[l].targetElements[m]+"_wrapper",c.pageContainer).is(":visible")&&h.targetElements.push(c.actions[l].targetElements[m])}for(m=0;m<c.actions[l].targetGroups.length;m++){n=!1;for(u=0;u<b.targetGroups.length;u++)b.targetGroups[u]==c.actions[l].targetGroups[m]&&(n=
!0);!n&&$("#group_"+c.actions[l].targetGroups[m],c.pageContainer).is(":visible")&&h.targetGroups.push(c.actions[l].targetGroups[m])}}$(".dki-imagemap-target",c.pageContainer).each(function(){if(1!=$(this).data("donthide")){for(var c=!1,l=0;l<b.targetElements.length;l++)b.targetElements[l]==$(this).data("id")&&(c=!0);!c&&$(this).is(":visible")&&h.targetElements.push($(this).data("id"))}})}return h},swapContent:function(b,c){var h=this,l=0;"time"!=b.trigger&&(l=b.time);var m=function(){h.performSwap(b,
c)};0==l?m():c.pageTimeouts.push(setTimeout(m,l))},performSwap:function(b,c){var h=$("#content_"+b.targetElements[0]),l=function(){var c=0;b.target_assets&&!b.parameters.swapContent?c=1:b.parameters.swapClass&&(c=2);switch(c){case 0:c=b.parameters.swapContent;c=$("\x3cdiv\x3e").html(c);c.find(".dki-inline-variable").each(function(){var b=$(this);b.text(contentApi.getData(b.data("variable-id")))});c=c.html();b.originalContent||(b.originalContent=h.html());h.html(c);h.attr("data-meta",c);break;case 1:c=
b.target_assets[0].fullAssetUrl?b.target_assets[0].fullAssetUrl:settings.assetURL+b.target_assets[0].filename;b.originalContent||(b.originalContent=h.attr("src"));h.attr("src",c);h.attr("data-src",c);h.maskImage({preserveAspectRatio:settings.responsive?!1:"none"});break;case 2:var l=h.closest(".dki-authoring-element, .dki-authoring-element-element").data("elementtype"),c=b.parameters.swapClass;switch(l){case "panel":panel=h.find(".panel");cls=panel.attr("class").match(/panel\-([^\s])+/);panel.removeClass(cls[0]).addClass(c);
break;case "speechBubble":var m=h.attr("class").match(/(top|bottom|left|right|top\-left|top\-right|bottom\-left|bottom\-right)(\s|$)/),l=h.attr("class").match(/(triangle|thought)(\s|$)/),m=m[0]?[m[0].trim()]:[];l[0]?m.push(l[0].trim()):!1;h.removeClass(m.join(" ")).addClass(c)}}};b.parameters.effect&&""!=b.parameters.effect?("drop"==b.parameters.effect&&(b.parameters.effectOptions.direction="down"),h.hide("oldSlide"===b.parameters.effect?"slide":b.parameters.effect,b.parameters.effectOptions,function(){l();
h.show("oldSlide"===b.parameters.effect?"slide":b.parameters.effect,b.parameters.effectOptions)})):l()}}},n={init:function(b){},loadShapes:function(b){var c=this;$(".dki-shape-element",b.pageContainer).each(function(){var h=this.style.display;$(this).css({opacity:0,display:"block"});c.renderShapes(this,b);$(this).css({opacity:$(this).data("opacity"),display:h})})},loadHtmlShapes:function(b){$(".dki-shape-element",b.pageContainer).each(this.renderShapeHtml)},renderShapeHtml:function(){var b=$(this),
c=b.data("shapetype");if("rect"==c||"hline"==c||"vline"==c||"circle"==c||"ellipse"==c){var h=b.data("id"),l="";""!=b.data("title")&&(l="title\x3d'"+b.data("title")+"'");var m="solid";"."==b.data("bordertype")?m="dotted":"-"==b.data("bordertype")&&(m="dashed");var n="";if("rect"==c){var c=b.data("width")-2*parseInt(b.data("linethickness")),u=b.data("height")-2*parseInt(b.data("linethickness")),n=n+("width:"+c+"px;")+("height:"+u+"px;")+("border:"+b.data("linethickness")+"px "+m+" "+b.data("linecolour")+
";"),n=n+("background-color:"+b.data("fillcolour")+";");1==b.data("roundedcorners")&&(n+="-moz-border-radius: 15px; -webkit-border-radius: 15px;\tborder-radius: 15px;")}else if("hline"==c)n+="height:"+b.data("linethickness")+"px;",n+="width:"+b.data("width")+"px;",n+="border-top:"+b.data("linethickness")+"px "+m+" "+b.data("linecolour")+";";else if("vline"==c)n+="width:"+b.data("linethickness")+"px;",n+="height:"+b.data("height")+"px;",n+="border-left:"+b.data("linethickness")+"px "+m+" "+b.data("linecolour")+
";";else if("circle"==c||"ellipse"==c)c=b.data("width")-2*parseInt(b.data("linethickness")),u=b.data("height")-2*parseInt(b.data("linethickness")),n=n+("width:"+c+"px;")+("height:"+u+"px;")+("background-color:"+b.data("fillcolour")+";"),n+="border:"+b.data("linethickness")+"px "+m+" "+b.data("linecolour")+";",m=b.data("width")>b.data("height")?parseInt(b.data("width"))/2+"px":parseInt(b.data("height"))/2+"px",n+="-moz-border-radius: "+m+"; -webkit-border-radius:"+m+";border-radius: "+m+";";c=m="";
1==b.data("rollover")&&(m=m+" onmouseover\x3d'"+('this.style.backgroundColor \x3d "'+b.data("rollovercolour")+'";'),m+='this.style.borderColor \x3d "'+b.data("strokerollover")+'";',m+="' ",c=c+" onmouseout\x3d'"+('this.style.backgroundColor \x3d "'+b.data("fillcolour")+'";'),c+='this.style.borderColor \x3d "'+b.data("linecolour")+'";',c+="' ");$("#"+h+"_content_wrapper").append("\x3cdiv class\x3d'dki-element-overlay'\x3e\x3c/div\x3e\x3cdiv "+l+" id\x3d'content_"+h+"' class\x3d'"+b.data("cssclass")+
"' style\x3d'"+n+"' "+m+c+"\x3e\x3c/div\x3e")}},renderShapes:function(b,c){$(b).data("sourceHtml")?$(b).html($(b).data("sourceHtml")):$(b).data("sourceHtml",$(b).html());var h="null"===b.getAttribute("data-fillcolour")?null:b.getAttribute("data-fillcolour"),l="null"===b.getAttribute("data-fillgradient")?null:b.getAttribute("data-fillgradient"),m,n,u=1,q=1,r=b.getAttribute("data-lineColour");n=null==b.getAttribute("data-rollovercolour")||"none"==b.getAttribute("data-rollovercolour")?b.getAttribute("data-fillcolour"):
b.getAttribute("data-rollovercolour");var y=null==b.getAttribute("data-rollovergradient")||"null"==b.getAttribute("data-rollovergradient")?b.getAttribute("data-fillgradient"):b.getAttribute("data-rollovergradient"),E=null==b.getAttribute("data-strokerollover")||"none"==b.getAttribute("data-strokerollover")?b.getAttribute("data-linecolour"):b.getAttribute("data-strokerollover"),F={},D=b.getAttribute("data-linethickness"),G=parseInt(b.getAttribute("data-width"))-D,I=parseInt(b.getAttribute("data-height"))-
D,K=b.getAttribute("data-shapeType").split(":");c=$("#content_"+b.getAttribute("data-id"),c.pageContainer)[0];c=Raphael(c,0,0,"100%","100%");c.canvas.style.height=b.getAttribute("data-height")+"px";c.canvas.style.width=b.getAttribute("data-width")+"px";c.canvas.style.filter="inherit";c.canvas.style.display="block";c.width=b.getAttribute("data-height");c.height=b.getAttribute("data-width");c.canvas.id="content_"+b.getAttribute("data-id");if("transparent"===l||null===h)l=h,u=0;"1"==b.getAttribute("data-filltype")?
h=b.getAttribute("data-colourAngle")+"-"+b.getAttribute("data-fillcolour")+"-"+l+":"+b.getAttribute("data-stopPoint"):"2"==b.getAttribute("data-filltype")&&(h="r("+b.getAttribute("data-radialx")+","+b.getAttribute("data-radialy")+")"+b.getAttribute("data-fillcolour")+":"+b.getAttribute("data-stopPoint")+"-"+l);h="transparent"==h?"":h;if("transparent"===y||null===n)y=n,q=0;"0"==b.getAttribute("data-filltype")?m=n:"1"==b.getAttribute("data-filltype")?m=b.getAttribute("data-colourAngle")+"-"+n+":"+b.getAttribute("data-stopPoint")+
"-"+y:"2"==b.getAttribute("data-filltype")&&(m="r("+b.getAttribute("data-radialx")+","+b.getAttribute("data-radialy")+")"+n+":"+b.getAttribute("data-stopPoint")+"-"+y);m="transparent"==m?"":m;r="transparent"==b.getAttribute("data-lineColour")?"":b.getAttribute("data-lineColour");l={fill:h,stroke:r,"stroke-width":D,"stroke-dasharray":b.getAttribute("data-borderType"),"fill-opacity":u};dkiUA.ie&&8>=dkiUA.ieVersion&&(l.opacity=b.getAttribute("data-opacity")/100);switch(K[0]){case "rect":l.r="true"==
b.getAttribute("data-roundedCorners")?15:0;F=c.rect(D/2,D/2,G,I);break;case "circle":F=c.circle(I/2+D/2,I/2+D/2,I/2);break;case "ellipse":F=c.ellipse(G/2+D/2,I/2+D/2,G/2,I/2);break;case "vline":G=parseInt(D);F=c.path("M"+G/2+",0 L"+G/2+","+(I+G));break;case "hline":I=parseInt(D),F=c.path("M0,"+I/2+" L"+(G+I)+","+I/2)}F.attr(l);F.node.style.filter="inherit";"true"==b.getAttribute("data-rollover")&&($(b).mouseover(function(b){F.attr({fill:m,stroke:E,"fill-opacity":q})}),$(b).mouseout(function(b){F.attr({fill:h,
stroke:r,"fill-opacity":u})}))},canRenderShapes:function(){return dkiUA.android?2.3<dkiUA.androidVersion:dkiUA.blackberry?6<dkiUA.blackberryVersion:dkiUA.webOS?!1:!0}},r=function(c){var h=this;this.mediaPlayers={};this.autoPlayMedia=[];this.wayPoints=[];this.actions=c.actions;this.page=c.page;this.rootURL=c.player.rootURL;this.settings=c.player.settings;this.readyMediaCount=this.mediaCount=0;this.readyFired=!1;this.objectTags=[];this.started=!1;this.startTime=0;this.isMuted=!c.player.audio;this.queue=
new DKI.func.Queue;this.elements={};this.getClaroElementById=function(b){for(var c=function(b,h){if(b.elements)for(var k=0;k<b.elements.length;k++){if(b.elements[k].id==h)return b.elements[k];if(b.elements[k].elements&&(ret=c(b.elements[k],h)))return ret}return null},k=0;k<h.page.groups.length;k++)if(ret=c(h.page.groups[k],b))return ret};this.getGroupById=function(b){for(var c=0;c<h.page.groups.length;c++)if(h.page.groups[c].id==b)return h.page.groups[c]};this.pageContainer="string"==typeof c.containerEl?
document.getElementById(c.containerEl):c.containerEl;this.renderPage();b||(b=c.contentAPI);l.handleMedia(this);n.init(this);this.actionAPI=q.init(DKI.clone(c.actions),this,this.settings.clickEvent);this.processElement=function(c,h){var k=this,l=$("#"+c.id+"_wrapper",k.pageContainer),m=l[0],n=l.find(".dki-authoring-content-wrapper").first(),p=$("#content_"+l.data("id"),m),q=l.find(".dki-element-anchor:first"),r=q.data("tabindex"),v=l.find("i.dki-element-content");h=h||function(){};var x=function(b,
c,k){b.data("start_class",b.attr("class"));b.data("start_style",b.attr("style"));b.data("elementLoaded",!0);b.trigger("elementLoaded");c.data("start_class",c.attr("class"));c.data("start_style",c.attr("style"));k.data("start_class",k.attr("class"));k.data("start_style",k.attr("style"));"multipleChoiceQuestion"==b.data("type")&&k.find(".dki-element-content").each(function(){$(this).data("start_class",$(this).attr("class"))});h(b)};l.data("elementLoaded",!1);$("iframe",m).each(function(){$(m).attr("data-src")||
$(m).attr("data-src",m.src);m.src="about:blank"});var z=function(b){var c=$(b).closest(".dki-authoring-row.synchronize-heights"),h=$(b).closest(".dki-contentCarousel-element"),k=$(b).find(".dki-tabset-element .dki-element-content \x3e .tabbable");if(0!=c.length||0!=h.length||0!=k.length)var l=0,m=setInterval(function(){l++;try{synchonizeRowHeight(c),h.each(function(){var b=$(this).find(".flickity");b&&b.flickity("resize")}),k.each(function(){$(this).data("dki.responsiveTabs").checkResize()})}catch(b){}24<=
l&&clearInterval(m)},15)};l.data("accessibility-tabable")&&($("object.dki-element-content, iframe.dki-element-content, textarea.dki-element-content, map area, .dki-element-content iframe:first, .dki-element-content object:first, img.dki-element-content",m).each(function(){this.tabIndex=-1}),l.hasClass("dki-table-element")||l.hasClass("dki-htm-element"))&&(p.attr("tabindex",-1),$("table, a, .dki-glossary-link, .dki-citation-link sup.refSup",p).attr("tabindex",-1));if("html"==l.data("type")&&p.hasClass("adaptive")){var A=
function(){try{var b=p[0].contentDocument,c=$(b.getElementsByTagName("html")),h=$(b.getElementsByTagName("body")),k=h.height()/h.width()*100,l=c.height()/c.width()*100;n.css("padding-bottom",(k>l?k:l)+"%")}catch(m){}};p.on("load",function(){"about:blank"==this.src?l.data("resizeInterval")&&(clearInterval(l.data("resizeInterval")),l.data("resizeInterval",null)):l.data("resizeInterval",setInterval(A,100))})}"table"==l.data("type")&&c.parameters.config.sort.enabled&&requirejs(["tablesort"],function(){l.find("table").tablesorter()});
"btn"==l.data("type")&&("custom"==c.parameters.config.class_name?(p.on("mouseenter",function(){p.css({color:c.parameters.config.colors.hover.foreground,"border-color":c.parameters.config.colors.hover.border,"background-color":c.parameters.config.colors.hover.background})}),p.on("mouseleave",function(){p.css({color:c.parameters.config.colors.default.foreground,"border-color":c.parameters.config.colors.default.border,"background-color":c.parameters.config.colors.default.background})})):"advanced"==
c.parameters.config.class_name&&(p.on("mouseenter",function(){""!=c.parameters.config.hoverCSS&&p.attr("style",c.parameters.config.hoverCSS)}),p.on("mouseleave",function(){p.attr("style",c.parameters.config.backgroundCSS)})));"shape"==l.data("type")&&("custom"==c.parameters.config.class_name?(p.on("mouseenter",function(){var b={};c.parameters.config.colors.hover.border&&(b.stroke=c.parameters.config.colors.hover.border);c.parameters.config.colors.hover.background&&(b.fill=c.parameters.config.colors.hover.background);
p.find(".shape \x3e svg \x3e *").css(b)}),p.on("mouseleave",function(){p.find(".shape \x3e svg \x3e *").css({stroke:c.parameters.config.colors.default.border,fill:c.parameters.config.colors.default.background})})):"advanced"==c.parameters.config.class_name&&(p.on("mouseenter",function(){""!=c.parameters.config.hoverCSS&&p.find(".custom-shape-fill").attr("style",c.parameters.config.hoverCSS)}),p.on("mouseleave",function(){p.find(".custom-shape-fill").attr("style",c.parameters.config.backgroundCSS)})));
if("multipleChoiceQuestion"==l.data("type")||"trueFalseQuestion"==l.data("type")||"multiplePulldownQuestion"==l.data("type")||"fillInTheBlanksQuestion"==l.data("type")||"clickTheWordQuestion"==l.data("type")||"dragTheWordQuestion"==l.data("type"))return requirejs(["questionElement"],function(){var b=function(b,h){$(document).trigger(DKI.ContentPage.events.questionElementSubmitted,{element:c,status:b,result:h,type:l.data("type")});k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,l,"INLINE_QUESTION_"+
b,k)};p.QuestionElement({outline:c,accessible:c.parameters.accessibility.tabable,clickEvent:settings.clickEvent,contentPage:k,feedback:c.parameters.config.useProjectDefault?settings.course.parameters.questionFeedback:c.parameters.config.feedback,responsive:settings.course.responsive,passingMark:100,strings:{correct:DKI.strings.doc["Feedback all correct"],incorrect:DKI.strings.doc["Feedback all incorrect"],partial:DKI.strings.doc["Feedback partial"],tstchoicesLabel1:DKI.strings.runtime.tstchoicesLabel1,
tstchoicesLabel2:DKI.strings.runtime.tstchoicesLabel2,showResult:DKI.strings.doc["Test answer header"],showGiven:DKI.strings.doc["Feedback table submission"],confirmQuestionNoSelection:DKI.strings.runtime.confirmQuestionNoSelection,submit:DKI.strings.runtime.buttonLabelSubmit}}).on(QuestionElementEvents.attempted,function(c,h){b("ATTEMPT",h)}).on(QuestionElementEvents.submitted,function(c,h){b("SUBMITTED",h)}).on(QuestionElementEvents.correct,function(c,h){b("CORRECT",h)}).on(QuestionElementEvents.partiallyCorrect,
function(c,h){b("PARTIALLY_CORRECT",h)}).on(QuestionElementEvents.attemptPartiallyCorrect,function(c,h){b("ATTEMPT_PARTIALLY_CORRECT",h)}).on(QuestionElementEvents.incorrect,function(c,h){b("INCORRECT",h)}).on(QuestionElementEvents.attemptIncorrect,function(c,h){b("ATTEMPT_INCORRECT",h)}).on(QuestionElementEvents.retry,function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,l,"INLINE_QUESTION_RETRIED",k)});x(l,n,p)}),!1;if("tabset"==l.data("type")){var J=c.elements.length;"accordion"===
c.parameters.config.orientation&&(c.parameters.config.collapseDisplayed=["lg","md","sm","xs"]);l.find("#content_"+l.data("id")+".dki-element-content \x3e .tabbable").ResponsiveTabs(c.parameters.config).on("shown.bs.tab",function(b){if(b.target){var c=$($(b.target).attr("href")).find(".dki-authoring-element-element:not(.dki-placeholder-element)").first();(b=c[0]?c.find("*[tabindex\x3d'1']").first()[0]:$(b.target).find("*[tabindex\x3d'1']").first()[0])&&$("body").hasClass("show-focus-outlines")&&b.focus()}});
l.on("click","ul.nav \x3e li.active \x3e a",function(){$(this).trigger("shown.bs.tab")});l.find("#content_"+l.data("id")+".dki-element-content \x3e .tabbable").on("shown.bs.tab",function(){$(this).find("\x3e .tab-content \x3e .tab-pane img.dki-element-content").maskImage({preserveAspectRatio:settings.responsive?!1:"none"});$.each(k.getClaroElementById($(this).find("\x3e ul \x3e li.active").data("id")).elements,function(){k.setLabelWrapperPosition($("#"+this.id+"_wrapper"));k.scaleElementChildren(this)})});
l.data("tabCount",J);l.data("tabsVisited",[]);0<J&&!c.parameters.config.startUnopened&&(J=l.find(".tabbable li\x3ea[data-id\x3d'"+c.elements[0].id+"']").data("automaticSet",!0),l.data("currentTab",c.elements[0].id),k.actionAPI.onContentChangedEvent.call(k.actionAPI,J,k));var aa=l.find(".nav").height(),J=c.parameters.config.verticalMaxHeight;settings.responsive?$(".tab-pane[data-for\x3d"+l.data("id")+"]",l).each(function(){var b=$(this).css("width","100%");b.height()>aa&&(aa=b.height());$(this).css("width",
"")}):"horizontal"!=c.parameters.config.orientation&&"horizontal-bottom"!=c.parameters.config.orientation||l.find("#content_"+l.data("id")+" \x3e.tabbable \x3e .tab-content").css("height",c.height-aa+"px");c.parameters.config.normalizeHeight&&(("vertical"==c.parameters.config.orientation||"vertical-right"==c.parameters.config.orientation)&&""!=J&&aa>DKI.getViewPortHeight(J)?(l.addClass("verticalMax"),l.find(".tab-content \x3e .tab-pane").addClass("dki-vpMinHeight-"+J),l.find(".tab-content \x3e .tab-pane").addClass("dki-vpMaxHeight-"+
J)):(l.removeClass("verticalMax"),l.find(".tab-content").css("min-height",aa)));c.parameters.config.sequential&&(J="[data-idx\x3d'0']",c.parameters.config.startUnopened||(J+=",[data-idx\x3d'1']"),l.find("a[data-for\x3d"+l.data("id")+"]:not("+J+")").each(function(){$(this).attr("data-toggle","");$(this).hasClass("accordion-toggle")?$(this).closest(".panel-heading").addClass("disabled"):$(this).addClass("disabled")}));l.on("shown.bs.tab",function(b){$(this).find($(b.target).attr("href")+".tab-pane").find("iframe").each(function(){$(this).attr("src",
$(this).data("src"))})});l.on("hide.bs.tab",function(b){$(this).find($(b.target).attr("href")+".tab-pane").find("iframe").each(function(){$(this).data("src",$(this).attr("src"));$(this).attr("src","")})});l.delegate(".panel-collapse","hide.bs.collapse",function(b){$(this).closest(".panel").removeClass("expanded");$(this).find("iframe").each(function(){$(this).data("src",$(this).attr("src"));$(this).attr("src","")});$(this).find(".dki-audio-element[data-narration\x3d1] .dki-element-content").jPlayer("stop");
z(this);b.stopPropagation()});l.delegate(".panel-collapse","show.bs.collapse",function(b){$(this).closest(".panel").addClass("expanded");$(this).find("iframe").each(function(){$(this).attr("src",$(this).data("src"))});$(this).find(".dki-audio-element[data-narration\x3d1] .dki-element-content").jPlayer("play",0);z(this);setTimeout(function(){k.reCalculateMediaControls()},360);b.stopPropagation()})}else if("image"==l.data("type")){p.data("assetwidth");l.data("original_src",p.data("src"));""!=c.parameters.config.caption.text&&
(J={mode:c.parameters.config.caption.mode},settings.responsive&&(J.is_responsive=!0),p.data("caption",c.parameters.config.caption.text),p.captionjs(J),l.find("figure").css("width","100%").css("height","100%"));var ga=function(){var b=c.parameters.config.filters,h=p.data("assetwidth"),l=p.data("src"),m="",n={};if(0!=b.brightness||0!=b.contrast){var q={};0!=b.brightness&&(q.brightness=b.brightness);0!=b.contrast&&(q.contrast=b.contrast);m="brightness";n=q}0!=b.grayscale&&(m="desaturate",n={average:!0});
0!=b.invert&&(m="invert");if(0!=b.saturation||0!=b.hueRotate||0!=b.lightness)q={},0!=b.saturation&&(q.saturation=b.saturation),0!=b.hueRotate&&(q.hue=b.hueRotate),0!=b.lightness&&(q.lightness=b.lightness),m="hsl",n=q;0!=b.sepia&&(m="sepia");0!=b.blur&&(m="sepia",n={amount:b.blur});b.flipH&&(m="fliph");b.flipV&&(m="flipv");0!=b.sharpness&&(m="sharpen",n={amount:b.sharpness});0!=b.mosaic&&(m="mosaic",n={blockSize:b.mosaic});b.solarize&&(m="solarize");0!=b.posterize&&(m="posterize",n={levels:b.posterize});
if(0!=b.glow.amount||0!=b.glow.radius)m="glow",n=b.glow;if(0!=b.noise.amount||0!=b.noise.strength||b.noise.mono)m="noise",n=b.noise;p.data("mask",c.parameters.config.svg_mask);p.data("assetWidth",h);p.data("src",l);m&&requirejs(["pixastic"],function(){p=$(Pixastic.process(p[0],m,n))});p.is("img")||k.queue.dequeue({name:"loadFinished",id:p.attr("id")})};p.on("load",function(){ga();k.scaleElementChildren(c)});p[0].complete&&ga();J=l.find("map");J.length&&J.find("area").each(function(){$(this).data("coords",
this.coords)});""!=c.parameters.config.svg_mask.type&&(p.addClass("masked"),p.data("mask",c.parameters.config.svg_mask))}else if("panel"==l.data("type"))l.on("show.bs.collapse",function(b){p.find("\x3e.panel").addClass("expanded");z(this);setTimeout(function(){k.reCalculateMediaControls()},360);b.stopPropagation()}),l.on("hide.bs.collapse",function(b){p.find("\x3e.panel").removeClass("expanded");z(this);b.stopPropagation()}),settings.responsive||n.find(".panel-body").css({height:n.height()-(n.find(".panel \x3e.panel-heading").first().outerHeight()+
n.find(".panel \x3e.panel-footer").first().outerHeight()+2)});else{if("contentCarousel"==l.data("type"))return requireFns.getFlickity(function(){var b=DKI.clone(c.parameters.config),h=b.responsive.cfg;h&&($.each(h,function(b){h[settings.flowBreakpoints[b].from]=this;delete h[b]}),b.responsive=h);b=DKI.apply(b,c.parameters.config.navigation.cfg);flickConfig={prevNextButtons:b.navigation&&"none"!=b.navigation.type,cellAlign:b.center?"center":"left",adaptiveHeight:!1,pageDots:b.dots,wrapAround:b.loop,
autoPlay:b.autoplay,setGallerySize:settings.responsive||c.parent_element_id};$("html").hasClass("rtl")&&(flickConfig.rightToLeft=!0);flickConfig.autoPlay&&(l.find(".flickity").addClass("flickity_autoPlay"),flickConfig.autoPlay=!1);l.find(".flickity").flickity(flickConfig).attr("tabindex","-1");$(l.find(".flickity").data("flickity").selectedCell.element).attr("data-viewed",!0);l.find(".flickity").on("select.flickity",function(b){$(this).find(" \x3e ol .dot.is-selected").attr("data-visited",!0);l.find(".flickity-slider \x3e .dki-panel-element \x3e .dki-authoring-content-wrapper \x3e .dki-element-content").attr("aria-selected",
!1);k.actionAPI.onContentChangedEvent.call(k.actionAPI,$(this).data("flickity").selectedCell.element,k);$($(this).data("flickity").selectedCell.element).find("\x3e .dki-authoring-content-wrapper \x3e .dki-element-content").attr("aria-selected",!0)});l.find(".flickity-slider \x3e .dki-panel-element").each(function(b){$(this).data("flickity-index",b)});l.find(".flickity-slider \x3e .dki-panel-element").on("keydown",function(c){if(9==c.keyCode){var h=$(this).data("flickity-index");c.shiftKey?h--:h++;
l.find(".flickity").flickity("select",h,b.loop,!0)}});l.find(".flickity").on("dragStart.flickity",function(b){$(document).trigger(DKI.ContentPage.events.elementSwipeStart)});l.find(".flickity").on("dragEnd.flickity",function(b){$(document).trigger(DKI.ContentPage.events.elementSwipeEnd)});l.find(".flickity *[tabindex]").attr("tabindex","-1").data("tabindex","-1");l.find(".flickity .dki-authoring-element, .flickity .dki-authoring-element-element").data("accessibility-tabable",!1);l.find(".flickity .dki-panel-element .dki-authoring-element .dki-element-content, .flickity .dki-panel-element .dki-authoring-element-element .dki-element-content, .flickity .dki-authoring-element-element .dki-element-anchor").data("tabindex",
"-1").attr({tabindex:"-1",focusable:!1});l.find(".flickity-prev-next-button").attr("tabindex","-1").removeAttr("aria-label");l.find(".flickity-prev-next-button svg").attr({tabindex:"-1",focusable:!1});l.find(".flickity-viewport").attr({role:"table"});l.find(".flickity-slider").attr({role:"row"});l.find(".flickity-slider \x3e .dki-panel-element \x3e .dki-authoring-content-wrapper \x3e .dki-element-content").attr({tabindex:"1","accessibility-tabable":!0,"aria-role":"cell"});l.find("\x3e .dki-authoring-content-wrapper \x3e .dki-element-content").attr("aria-busy",
!1);x(l,n,p)}),!1;if("flipCard"==l.data("type")){var W=c.parameters.config,J=!1;l.hasClass("hiddenOnLoad")&&(J=!0,l.removeClass("hiddenOnLoad"));var U=function(b){b=$(this).find(".face:not(.active)");$(this).find(".face.active").find(".dki-video-element, .dki-audio-element").each(function(){var b=k.mediaPlayers["content_"+$(this).data("id")];b&&b.jPlayer("pause")});$(this).find(".face").removeClass("active");b.addClass("active");k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k)};if(dkiUA.edge){var R=
l.find(".face");R.css({"z-index":"1",height:"100%",width:"100%"});R.filter(".front").addClass("active").css({visibility:"visible",position:"relative"});R.filter(".back").css({visibility:"hidden",position:"absolute"});R.on("click",function(){var b=l.find(".face:not(.active)"),c=l.find(".face.active");b.css({visibility:"visible",position:"relative"}).attr("tabindex",1);c.css({visibility:"hidden",position:"absolute"}).attr("tabindex",-1);U.call(l)})}else l.find(".flip").flip({trigger:l.data("fliptrigger")||
"click"});J&&l.addClass("hiddenOnLoad");l.find(".front.face").attr("data-viewed",!0);l.find(".flip").on("flip:done",U)}else if("flipCardSet"==l.data("type"))l.find(".flip").flip({trigger:c.parameters.config.trigger}),l.find(".flip").on("flip:done",function(b){b=$(this).find(".face:not(.seen)");b.addClass("seen");b=$(this).find(".face:not(.active)");$(this).find(".face").removeClass("active");b.addClass("active");k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k)});else{if("flashCardSet"==l.data("type"))return requireFns.getFlickity(function(){var b=
{cellAlign:"center",adaptiveHeight:!1,imagesLoaded:!0,pageDots:c.parameters.config.showDots,prevNextButtons:c.parameters.config.prevNextButtons},h=p.find(".flickity-carousel");h.flickity(b).attr("tabindex",-1);h.find(".flickity-prev-next-button").attr("tabindex",-1).attr("aria-hidden",!0);var m=h.data("flickity");h.data("resize",function(){m.slides.forEach(function(b){$(b.cells[0].element).find(".card").css("height","auto")});var b=Math.max.apply(Math,m.slides.map(function(b){return $(b.cells[0].element).height()}));
m.slides.forEach(function(c){$(c.cells[0].element).find(".card").css("height",b)});h.flickity("resize")});h.on("select.flickity",function(b){b=m.selectedCell.element;$(this).find(".flashCardCont[tabindex\x3d'1']").attr("tabindex",-1).find("*[tabindex]").attr("tabindex",-1);$(b).attr("tabindex","1").find("*[tabindex]").attr("tabindex","1")});h.on("settle.flickity",function(){var b=m.selectedCell.element;b&&b.focus()});h.on("dragStart.flickity",function(b){$(document).trigger(DKI.ContentPage.events.elementSwipeStart)});
h.on("dragEnd.flickity",function(b){$(document).trigger(DKI.ContentPage.events.elementSwipeEnd)});h.on("keydown",function(b){if(37==b.which||39==b.which)return $(this).flickity(37==b.which?"previous":"next"),!1});l.data("reset",$.proxy(function(){this.find(".flashCardCont").attr("data-visited",!1).attr("data-viewed",!1);this.find(".dki-element-content").removeClass("finalScore").find(".flickity-carousel").flickity("select",0,!1,!0);this.find(".flickity-carousel").off("select.flickity.one");this.find(".flickity-page-dots .dot").attr("data-visited",
"false");this.find(".card").each(function(){$(this).removeClass("correct incorrect").attr("data-answered",!1).find(".imgOverlay .fa").removeClass("fa-times fa-check");$(this).find(".resultText").html("");$(this).find(".btn").removeClass("disabled next").html("Submit");$(this).find("input").val("").attr("readonly",!1);$(this).data("score",null)})},l));h.find(".card").each(function(b,n){var q=function(b){return(c.parameters.config.caseSensitive?b:b.toLowerCase()).split("/,")},r=function(b,h){b=c.parameters.config.caseSensitive?
b:b.toLowerCase();return{correct:-1<$.inArray(b,h),answers:h}},v=c.elements[b],x=this;$(this).on(settings.clickEvent,".btn",function(){var b=this,n=function(){$(b).addClass("disabled").removeClass("next").html(DKI.strings.runtime.buttonLabelSubmit)};if(!$(b).hasClass("disabled")){if($(b).hasClass("next"))h.flickity("next");else{var z=$(b).siblings("input").first().val().trim(),w=r(z,q(v.txt));$(x).attr("data-answered",!0);h.find(".flickity-page-dots .is-selected").attr("data-visited","true");k.actionAPI.onContentChangedEvent.call(k.actionAPI,
l,k);c.parameters.config.showCardFeedback&&($(x).find(".resultText").html(w.answers.join(", ")),$(x).removeClass("correct incorrect").addClass(w.correct?"correct":"incorrect").find(".imgOverlay .fa").removeClass("fa-times fa-check").addClass("fa-"+(w.correct?"check":"times")));$(x).data("score",w);$(x).attr("data-givenAnswer",z);$(x).find(".resultText").html(w.answers.join(", "));$(b).addClass("next").html(DKI.strings.index.nextButtonLabel);$(b).siblings("input").attr("readonly",!0);h.one("select.flickity.one",
n);$(document).trigger(DKI.ContentPage.events.flashCardSubmitted,{outline:v,score:w.correct?1:0,response:c.parameters.config.caseSensitive?z:z.toLowerCase(),correctResponse:q(v.txt)})}m.cells.length-1==m.selectedIndex&&(h.off("select.flickity.one"),n());z=p.find(".card");if(0==z.filter(":not([data-answered\x3d'true'])").length&&c.parameters.config.showFinalFeedback){var w=z.length,A=0,C="",E=Handlebars.compile("\x3cdiv class\x3d'cardScore {{#if correct}}correct{{else}}incorrect{{/if}}'\x3e\x3cdiv tabindex\x3d'1' aria-label\x3d'{{el.title}}'class\x3d'cardInfo flex'\x3e\x3cdiv tabindex\x3d'1'class\x3d'fa fa-{{#if correct}}check{{else}}times{{/if}}' aria-label\x3d'{{#if correct}}{{pass}}{{else}}{{fail}}{{/if}}'\x3e\x3c/div\x3e\x3cdiv class\x3d'scoreItemImg' style\x3d\"background-image: url('{{getAssetUrl id\x3del.upload_id folderId\x3del.asset_uploadfolderid extension\x3del.asset_extension}}')\"\x3e\x3c/div\x3e\x3cdiv class\x3d'flex flexCol inline'\x3e\x3cdiv tabindex\x3d'1'\x3e{{{el.meta}}}\x3c/div\x3e{{#if givenAnswer}}\x3cdiv tabindex\x3d'1' class\x3d'answered'\x3e{{givenAnswer}}\x3c/div\x3e{{/if}}\x3c/div\x3e\x3c/div\x3e{{#unless correct}}\x3cdiv tabindex\x3d'1'style\x3d'padding-left:38px'\x3e{{correctString}} {{correctAnswers}}\x3c/div\x3e{{/unless}}\x3c/div\x3e"),
n=Handlebars.compile("\x3cdiv class\x3d'flashCard_feedback'\x3e\x3cdiv class\x3d'feedback_container flex flexCol'\x3e\x3cdiv tabindex\x3d'1' class\x3d'feedback_header'\x3e\x3cdiv class\x3d'flex totalScore'\x3e\x3cdiv class\x3d'flashcard_score'\x3e{{score}}%\x3c/div\x3e\x3cdiv class\x3d'flaschard_description flexAuto'\x3e{{description}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'feedback_cards flexAuto'\x3e{{{cards}}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");z.each(function(b,h){b=c.elements[b];
$(this).data("score").correct&&(A+=1);C+=E({correctAnswers:b.txt.split("/,").join(", "),el:b,correct:$(this).data("score").correct,givenAnswer:$(this).data("givenAnswer"),correctString:DKI.strings.doc["Correct choice label"],fail:DKI.strings.runtime.failText,pass:DKI.strings.runtime.passText})});A=Math.round(A/w*100);z="Feedback all correct";0==A?z="Feedback all incorrect":100!==A&&(z="Feedback partial");DKI.PopupPanel.show({modal:!0,style:"flash_card_feedback",title:v.title,html:n({outline:v,score:A,
cards:C,description:DKI.strings.doc[z]}),popupType:{type:"pop",mod:""},onHide:function(){var b=l.find(".flashCardCont.is-selected");b[0]&&b[0].focus()}});$(".popup.flash_card_feedback").addClass("finalScore")}}});$(this).find("input").on("keydown",function(b){13==b.which&&$(this).siblings(".btn").first().trigger("click");b.stopPropagation()})});h.data("resize")();x(l,n,p)}),!1;if("matchCardSet"==l.data("type")){l.on("match.reset",function(){l.data("flipState",{elFlipped:!1,flipTries:0,score:0,success:[]});
l.find(".flipSet").removeClass("locked").find(".flip.flipped").flip(!1).removeClass("flipped matched")});var N=function(b,c,h){tpl=Handlebars.compile("{{#unless content}}\x3cdiv class\x3d'matchCard'\x3e\x3c/div\x3e{{else}}\x3cdiv tabindex\x3d'1'\x3e{{{content}}}\x3c/div\x3e{{/unless}}\x3cdiv class\x3d'match_description'\x3e{{{description}}}\x3c/div\x3e");p=c.find(".back\x3e *");isImage=p.hasClass("setImage");DKI.PopupPanel.show({modal:!0,style:"match_feedback",title:b.txt||"placeholder",html:tpl({description:b.meta||
"Placeholder",content:isImage?"":p.html()}),popupType:{type:"pop",mod:""},onHide:function(){var b=c.siblings(void 0==h.score?":not(.matched)":"").first();b[0]&&b.find(".face[tabindex\x3d1]")[0].focus()}});b=$(".popup.match_feedback");b.find(".matchCard").append(p.clone());b.find("h1")[0].focus()};l.on("match.resizeImmediate",function(){var b=$(this).find(".cardsContainer"),c=b.find(".flip"),h=b.parent().width(),k=c[0]?$(c[0]).outerWidth(!0):0;if(k){var l=c.toArray().reduce(function(b,l,m){return 0==
c.length%(m+1)&&k*(m+1)<h?m+1:b},1),m=1,n=1,p=[],u=[];c.each(function(b,c){m>l&&(p.push(u),u=[],m=1,n+=1);dkiUA.isIE()&&$(this).css({"-ms-grid-column":m.toString(),"-ms-grid-row":n.toString()});$(this).uniqueId();u.push($(this));m+=1});p.push(u);for(var q="",r=0;r<l;r++)q+="auto ";b.css({"grid-template-columns":q.trim(),"-ms-grid-columns":q.trim()});$(this).data("flipState").layout=p}});l.on("match.resize",DKI.func.debounce(function(){l.trigger("match.resizeImmediate")},50,!1));l.trigger("match.reset");
l.on("keyup",function(b){if(37==b.which||38==b.which||39==b.which||40==b.which){var c=l.find(".face:focus")[0]?l.find(".face:focus"):l.find(".flip.active, .flip.flipped").first().find(".face[tabindex\x3d'1']");if(c[0]){var h=l.data("flipState").layout;switch(b.which){case 37:var k="col",m=-1;break;case 39:k="col";m=1;break;case 38:k="row";m=-1;break;case 40:k="row",m=1}var n=function(b){T=[];if("col"==b)for(var c in h)T=T.concat(h[c]);else for(var k in h[0])for(var l=0;l<h.length;l++)T.push(h[l][k]);
l=0;return $(T).map(function(){this.data("index",l);l+=1;return this.toArray()})};b=function(b,c,h){var k;c=n(c);var l=h=h.data("index");do k=l+b,l=0>k?c.length-1:k==c.length?0:k,k=$(c[l]).hasClass("matched")||$(c[l]).hasClass("flipped")?!1:$(c[l]);while(l!=h&&!k);return k}(m,k,c.parent());b[0]&&b.find(".face[tabindex\x3d'1']")[0].focus()}else c[0].focus();return!1}});var T=l.find(".flip");T.on("click",function(b){var h=l.data("flipState");if($(this).hasClass("flipped")||$(this).parent().hasClass("locked"))return b.stopImmediatePropagation(),
!1;b=k.getClaroElementById($(this).data("id"));$(this).find(".face.back span")[b.elements[0].upload_id?"addClass":"removeClass"]("hidden");$(this).addClass("flipped");if(h.elFlipped){$(this).parent().addClass("locked");var m=l.find(".flipped[data-id\x3d'"+h.elFlipped+"']").add(this);h.flipTries+=1;if($(this).data("id")!=h.elFlipped)$(this).one("flip:done",function(){setTimeout($.proxy(function(){m.flip(!1).removeClass("flipped");$(this).parent().removeClass("locked");$(this).one("flip:done",function(){$(this).find(".front")[0].focus()})},
this),500)});else{h.success.push(h.elFlipped);$(this).one("flip:done",function(){m.addClass("matched");k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k)});$(this).parent().removeClass("locked");var n=null;$.each(c.elements,function(){if(this.id===h.elFlipped)return n=this,!1});n&&n.txt&&c.parameters.config.showFeedback&&N(n,$(this),h)}h.success.length==c.elements.length&&(h.score=c.elements.length/h.flipTries*100);h.elFlipped=!1}else h.elFlipped=$(this).data("id")});T.flip({trigger:"click"}).on("flip:done",
function(){if(!l.data("fromFirstVisibleFlip")){var b=k.getClaroElementById($(this).data("id")),c=b.elements[0].upload_id?b.elements[0].asset_title:b.elements[0].meta,h=this,m=$(this).find(".face").attr({tabindex:"-1","aria-hidden":"true"}).filter($(this).hasClass("flipped")?".back":".front");m.attr({tabindex:"1","aria-hidden":"false"});m.hasClass("back")&&setTimeout(function(){$(h).find(".face.back span").html(c);m[0].focus()},10)}})}else if("tileCard"==l.data("type"))l.on(settings.clickEvent,function(){""!=
c.parameters.config.variable_name&&contentApi.setData(c.parameters.config.variable_name,!0)});else if("slider"==l.data("type")){W=DKI.clone(c.parameters.config.noUISlider);W.behaviour=c.parameters.config.snap?"tap":"none";""!=c.parameters.config.pipsJSON?W.pips=JSON.parse(c.parameters.config.pipsJSON):!1;var M=l.find(".slider")[0],ea=l.find(".sliderLabel");W.pips&&(W.pips.filter=function(b,c){return 1!=c&&b%W.step?0:1});if(playerBehaviour.enableSwiping)l.on("pointerup pointerdown",function(b){b.stopPropagation()});
!player.isSinglePage&&dataStorage.getContentVariable(c.parameters.config.variable_name)&&(W.start=dataStorage.getContentVariable(c.parameters.config.variable_name));noUiSlider.create(M,W);W.disabled&&l.find(".slider")[0].setAttribute("disabled",!0);$(M).on("keyup",function(b){var h=parseFloat(this.noUiSlider.get()),k=c.parameters.config.noUISlider.step;switch(b.keyCode){case 39:h="ltr"==c.parameters.config.noUISlider.direction?h+k:h-k;break;case 37:h="ltr"==c.parameters.config.noUISlider.direction?
h-k:h+k;break;case 38:h+=k;break;case 40:h-=k;break;case 33:h+=10*k;break;case 34:h-=10*k}this.noUiSlider.set(h)});var ha=!0;M.noUiSlider.on("update",function(){var b=parseFloat(this.get());ea.text(b);$(M).attr("aria-valuenow",b);ha?(ha=!1,l.find(".dki-element-content").data("current-value",b)):contentApi.setData(c.parameters.config.variable_name,parseFloat(this.get()))});M.noUiSlider.on("change",function(){var b=l.find(".dki-element-content").data("current-value"),c=parseFloat(this.get());b!=c&&
(l.find(".dki-element-content").data("current-value",c),k.actionAPI.onContentChangedEvent.call(k.actionAPI,l.find(".slider")[0],k))})}else if("toggle"==l.data("type")){var X=function(b,c){contentApi.setData(b,c)},ca=l.find('input[type\x3d"checkbox"]');null==contentApi.getData(c.parameters.config.variable_name)?X(c.parameters.config.variable_name,ca.checked()):X(c.parameters.config.variable_name,contentApi.getData(c.parameters.config.variable_name));ca.on("change",function(){var b=$(this).checked();
l.find("label").attr("aria-checked",b);X(c.parameters.config.variable_name,b);k.actionAPI.onContentChangedEvent.call(k.actionAPI,this,k)})}else if("selection"==l.data("type")){var X=function(b,c,h,l){l||contentApi.setData(b,h,!1,!1,{text:c});setVariableText(b,c,k);setVariableText(b+"_text",c,k)},S=function(){var b=c.parameters.config.variable_name,h=b.split(",");if(1<h.length)for(var k=0;k<h.length;k++)if(-1==h[k].indexOf("_text")){b=h[k];break}return b},ca=l.find("select"),ka=ca[0]?ca.checked():
1,la=ca[0]?ca.find("option:selected").text():l.find("ul.dropdown-menu li:first").text();l.find(".dki-element-content").data("val",ka);null==contentApi.getData(S())&&X(S(),la,ka);$(document).on(DKI.ContentPage.events.started,function(b,h){c.pageid==h.page.id&&(ka=ca[0]?ca.checked():l.find(".dki-element-content").data("val"),la=ca[0]?ca.find("option:selected").text():l.find("button .selectedCont").text(),X(S(),la,ka))});if(ca[0])ca.on("change",function(){var b=$(this).val(),c=$(this).find("option:selected").text();
X(S(),c,b);k.actionAPI.onContentChangedEvent.call(k.actionAPI,this,k)});else{var J=l.find("button"),ia=null;1<J.length?(R=l.data("id")+"_selectionBtn",J.filter(":not(.dropdown-toggle)").attr("id",R),ia=J.filter(".dropdown-toggle").attr("tabindex",r).attr("aria-labelledby",R)):ia=J.attr("tabindex",r);l.find(".dropdown-menu li\x3ea").attr("tabindex",r);l.find(".dropdown-menu li\x3ea").on("keyup",function(b){if(32==b.which||13==b.which)$(this).trigger("click"),b.preventDefault(),b.stopPropagation()});
l.find(".dropdown-menu li\x3ea").on("click",function(b,c){b=l.find(".dki-element-content").data("val");var h=$(this).data("val"),m=$(this).text();b!=h&&(l.find("button .selectedCont").html($(this).html()),l.find(".dki-element-content").data("val",h),X(S(),m,h,c),k.actionAPI.onContentChangedEvent.call(k.actionAPI,this,k),ia.focus())});J=l.find(".dropdown-menu");R=$(".pageElementsWrapper");l.offset().top+l.outerHeight()+J.outerHeight()>R.innerHeight()&&J.parent().addClass("dropup");l.find(".dropdown-menu li\x3ea").each(function(){$(this).attr("aria-label",
$(this).text()).attr("role","listItem")});J.attr("role","menu")}}else if("radioGroup"==l.data("type")){X=function(b,c,h,l){l||contentApi.setData(b,h,!1,!1,{text:c,isRadio:!0});setVariableText(b,c,k);setVariableText(b+"_text",c,k)};S=function(){var b=c.parameters.config.variable_name,h=b.split(",");if(1<h.length)for(var k=0;k<h.length;k++)if(-1==h[k].indexOf("_text")){b=h[k];break}return b};if(c.parameters.config.sequential){var J=l.find("input:checked"),ja=J.nextAll("input").first();"bs"==c.parameters.config.type&&
(ja=J.parent().next().find("input"));R=l.find("input:not(:checked)").prop("disabled",!0);l.find("label:not([for\x3d'"+J.attr("id")+"'])").addClass("disabled");ja.prop("disabled",!1);l.find("label[for\x3d'"+ja.attr("id")+"']").addClass("disabled");J[0]||(J=R.first(),J.prop("disabled",!1),l.find("label[for\x3d'"+J.attr("id")+"']").removeClass("disabled"));l.find("input").on("change",function(){ja="bs"==c.parameters.config.type?$(this).parent().next().find("input"):$(this).nextAll("input").first();ja[0]&&
(ja.prop("disabled",!1),l.find("label[for\x3d'"+ja.attr("id")+"']").removeClass("disabled"))})}l.find("input:checked").length&&(ka=l.find("input:checked").val(),J=l.find("input:checked").attr("id"),la=l.find(".dki-element-content label[for\x3d"+J+"]").html(),J=S(),X(J,la,ka));l.find(".dki-element-content label").on("click",function(b,c){if(!$(this).hasClass("disabled")){var h=l.find(".dki-element-content").data("selected-index");b=$(".dki-element-content",this).html();var m=$(this).parent().find("\x3elabel").index(this)+
1;h!=m&&(l.find(".dki-element-content").data("selected-index",m),$(this).closest(".dki-element-content").find("label").removeClass("active"),$(this).addClass("active"),h=S(),X(h,b,m,c),k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k))}});l.find(".dki-element-content input").change(function(){var b=$(this).parent().find("label[for\x3d'"+$(this).attr("id")+"']");b.hasClass("active")||b.trigger("click")})}else if("progress"!=l.data("type")&&"callout"!=l.data("type"))if("radialGauge"==l.data("type"))l.data("outline",
c),p=l.find(".radial"),p.RadialGauge({parentSelector:".dki-authoring-content-wrapper",startingPosition:c.parameters.config.startingPos,showText:""==c.meta&&"hidden"!==c.parameters.config.textClass?!1:c.meta,current:function(){return c.parameters.config.current}}),p.RadialGauge("resize"),p.on("shown",function(){p.RadialGauge("shown")});else if("jumbotron"!=l.data("type"))if("speechBubble"==l.data("type")&&!l.hasClass("dki-authoring-element-element")&&settings.responsive)p.find(".dki-element-text").fontFlex(c.parameters.config.font.min,
c.parameters.config.font.max,50);else if("likedislike"==l.data("type"))p.find("i").on(settings.clickEvent,function(){if(!$(this).isDisabled()){p.find("i").removeClass("toggled").disable();$(this).addClass("toggled");var b={id:"http://activitystrea.ms/schema/1.0/like",display:{"en-US":"liked"}};$(this).hasClass("fa-thumbs-down")&&(b={id:"http://activitystrea.ms/schema/1.0/dislike",display:{"en-US":"disliked"}});contentApi.sendAnalyticsStatement({verb:b,object:{id:settings.activityRootURL+"page/"+contentApi.getData("sys.currentpage.id",
!0),definition:{name:{"en-US":contentApi.getData("sys.currentpage.title",!0)},description:{"en-US":contentApi.getData("sys.currentpage.description",!0)}},objectType:"Activity"}});contentApi.setData("likedislike_"+contentApi.getData("sys.currentpage.id",!0),$(this).hasClass("fa-thumbs-up")?"like":"dislike",!0)}});else if("svg"==l.data("type")||"shape"==l.data("type")){if("shape"==l.data("type")&&""===c.meta.trim())return requirejs(["raphael"],function(b){Raphael=b;b=Raphael(p.find(".shape")[0],0,0,
"100%","100%");$(b.canvas).attr("height",c.height+"px");$(b.canvas).attr("width",c.width+"px");b.height=c.height;b.width=c.width;var h={"stroke-width":c.parameters.config.borderThickness?c.parameters.config.borderThickness:0,"stroke-dasharray":c.parameters.config.border,stroke:c.parameters.background.stroke?"transparent"==c.parameters.background.stroke?"":c.parameters.background.stroke:"",fill:c.parameters.background.color?"transparent"==c.parameters.background.color?"":c.parameters.background.color:
"","fill-opacity":""!==c.parameters.background.transparency?1-c.parameters.background.transparency/100:1,"stroke-opacity":""!==c.parameters.background.transparency?1-c.parameters.background.transparency/100:1},k=c.parameters.config.borderThickness?c.parameters.config.borderThickness:0;switch(c.parameters.config.type){case "rect":var m=b.rect(k/2,k/2,c.width-k,c.height-k,c.parameters.config.roundedCorners?5:0);break;case "circle":m=b.circle(c.height/2,c.height/2,(c.height-k)/2);break;case "ellipse":m=
b.ellipse(c.width/2,c.height/2,(c.width-k)/2,(c.height-k)/2);break;case "vline":m=c.parameters.config.borderThickness;m=b.path("M"+m/2+",0 L"+m/2+","+(c.height+parseInt(c.parameters.config.borderThickness)));break;case "hline":m=c.parameters.config.borderThickness,m=b.path("M0,"+m/2+" L"+(c.width+parseInt(c.parameters.config.borderThickness))+","+m/2)}m.attr(h);p.find("svg").attr("focusable","false");x(l,n,p)}),!1;if("svg"==l.data("type")&&""===c.meta.trim()&&0!=settings.course.legacy)return requirejs(["raphael"],
function(b){Raphael=b;b=Raphael(p.find(".shape")[0],0,0,"100%","100%");DKI.renderService.state.typeConfig[c.elementtype].renderRules[settings.responsive?"flow":"claro"].useDimensions?($(b.canvas).attr("height",c.height+"px"),$(b.canvas).attr("width",c.width+"px"),b.height=c.height,b.width=c.width):($(b.canvas).attr("height","100%"),$(b.canvas).attr("width","100%"),b.height="100%",b.width="100%");var h=c.parameters.config.atts;h.fill=c.parameters.background.color?"transparent"==c.parameters.background.color?
"":c.parameters.background.color:"";h.stroke=c.parameters.background.stroke?"transparent"==c.parameters.background.stroke?"":c.parameters.background.stroke:"";h["fill-opacity"]=""!==c.parameters.background.transparency?1-c.parameters.background.transparency/100:1;h["stroke-opacity"]=""!==c.parameters.background.transparency?1-c.parameters.background.transparency/100:1;h["stroke-linejoin"]="round";for(var k=c.parameters.config.paths,m=b.set(),q=0;q<k.length;q++){var r=k[q],v=b[r.type],z=DKI.apply(DKI.clone(h),
r.atts);m.push(v.apply(b,r.args).attr(z))}h=m.getBBox();k=(c.parameters.config.atts?c.parameters.config.atts["stroke-width"]:0)/2;q=settings.responsive?p.outerWidth():c.width;m=(settings.responsive?q/(h.width/h.height):c.height)/h.height;q/=h.width;h.x-=k/q;h.y-=k/m;h.width+=2*k/q;h.height+=2*k/m;b.setViewBox(h.x,h.y,h.width,h.height);b.canvas.setAttribute("preserveAspectRatio","none");p.find("path, circle, rect").attr("vector-effect","non-scaling-stroke");p.find("svg").attr("focusable","false");
x(l,n,p)}),!1;p.find("svg").attr("focusable","false")}}}if("textbox"==c.elementtype||"freeFormOption"==c.elementtype||"input"==c.elementtype)if(J="input"==c.elementtype?"input":"textarea",$(J,l).attr("tabIndex",r),""!=c.parameters.config.variable_name&&(X=function(b,c){contentApi.setData(b,c)},l.on("change keyup input",J,function(){X(c.parameters.config.variable_name,this.value)}),l.on("blur",J,function(){contentApi.setData(c.parameters.config.variable_name,this.value)})),l.on("keypress",function(b){b.stopPropagation()}),
"input"==c.elementtype||"textbox"==c.elementtype)l.on("change",J,function(b,c){k.actionAPI.onContentChangedEvent.call(k.actionAPI,this,k)});if("marker"==c.elementtype){var r="fade",ya="top",J="hover",ma="dark";c.parameters.config&&(c.parameters.config.position&&(ya=c.parameters.config.position),c.parameters.config.animation&&(r=c.parameters.config.animation),c.parameters.config.trigger&&(J=c.parameters.config.trigger),c.parameters.config.theme&&(ma=c.parameters.config.theme));q.on("focus",function(){v.trigger("mouseover")});
q.on("blur",function(){v.trigger("mouseout")});if("click"==J)q.on("click",function(){v.trigger("click")});q.attr("role","application");v.attr("data-position",ya);l.on("click",function(){l.addClass("clickedOnce")});if(""!=c.meta){c.meta=DKI.renderService.parseElementDataImagesInMeta(c);var Da=function(b){b.find("img").each(function(){for(var h=$(this).data("id"),k=0;k<c.parameters.config.elements_assets.length;k++)if(c.parameters.config.elements_assets[k].uploadid.toLowerCase()==h.toLowerCase()){if(""==
this.style.width&&""==this.style.height)$(this).css("width",c.parameters.config.elements_assets[k].w),$(this).css("height",c.parameters.config.elements_assets[k].h),changed=!0;else if(""==this.style.width&&0>this.style.height.indexOf("%"))h=$(this).height()/c.parameters.config.elements_assets[k].h,$(this).css("width",c.parameters.config.elements_assets[k].w*h);else if(""==this.style.height)if(0>this.style.width.indexOf("%")){var l=$(this).width(),h=l/c.parameters.config.elements_assets[k].w;$(this).css("height",
c.parameters.config.elements_assets[k].h*h)}else h=parseInt(this.style.width.split("%")[0])/100,l=b.width()*h,h=l/c.parameters.config.elements_assets[k].w,$(this).css("height",c.parameters.config.elements_assets[k].h*h),$(this).css("width",l);break}})};p.tooltipster({content:c.meta,contentAsHTML:!0,functionReady:function(b,h){b=$(h.tooltip);Da(b);-1<ma.indexOf("branded")&&b.append($("\x3cdiv/\x3e",{"class":"tooltip-branding",css:{"background-color":p.css("background-color")}}));p.tooltipster("reposition");
$(document).trigger(DKI.ContentPage.events.markerTriggered,{element:c});k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k)},functionPosition:function(b,c,h){if(b=ya.split("-")[1]){var k=c.tooltipClone.getBoundingClientRect(),l=c.geo.available.document[b],m=0;switch(b){case "left":m=-Math.min(l.width,k.width/2-15)/settings.scale;break;case "right":m=Math.min(l.width,k.width/2-15)/settings.scale}h.coord.left+=m}1<settings.scale&&(b=h.coord.top/settings.scale-c.geo.origin.size.height,k=h.target/
settings.scale,h.coord.left=h.coord.left/settings.scale-c.geo.origin.size.width,h.coord.top=b,h.target=k);return h},maxWidth:400,side:[ya.split("-")[0]],animation:r,trigger:J,theme:ma,trackOrigin:!0,restoration:"none"})}else k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k)}else if("capture"==c.elementtype){switch(c.parameters.config.type){case "showMe":var pa="showMe",Ea=[pa];break;case "tryMe":pa="tryMe";Ea=[pa];break;case "testMe":pa="testMe";Ea=["tryMe","testMe"];break;default:pa=""}l.data("cap")&&
l.capture("destroy");l.data("slidesViewed",l.data("slidesViewed")?l.data("slidesViewed"):[]);if(pa){var ua,Q;c.asset_parameters.config.overallAudioFileName&&(ua=c.asset_parameters.config.overallAudioFileName,Q=DKI.renderService.getAssetUrl({id:c.upload_id,folderId:c.asset_uploadfolderid,extension:""})+"/"+ua);var w=function(){var h={container:l.find(".capture-project-container"),iconPath:DKI.renderService.state.renderEnvironment.export?"./css/images":"../player/css/capture/images",sections:c.asset_parameters.config.sections,
stepDuration:c.asset_parameters.config.stepDuration,fileName:ua,m4aTag:Q,audioSprite:c.asset_parameters.config.audioSprite,performAudioFetch:!1,panAndZoom:c.asset_parameters.config.panAndZoom,uaSniffer:dkiUA,STRINGS:{INCORRECT_ATTEMPT:DKI.strings.doc["Feedback incorrect attempt"],CORRECT:DKI.strings.doc["Correct choice label"],CONTINUE:DKI.strings.endMod.learningLinkLabel,INCORRECT:"Incorrect Answer",SHOW_HINT:"Show Hint",FEEDBACK_STEP_LABEL:"Step",FEEDBACK_FEEDBACK_LABEL:"Feedback",PLAY:"Play",OK:"OK",
CONTINUE:"Continue",NEXT:"Next",FINISH:"Finish"}};"testMe"==c.parameters.config.type&&c.parameters.config.mode&&(h.mode=c.parameters.config.mode);l.data("cap",new window[pa](h));h=l.find(".capture-project-container");h.on("tryMe.stepChanged showMe.stepChanged",function(b,h){b=$(this).closest(".dki-capture-element");var l=b.data("slidesViewed");~$.inArray(h.getOverallStep(),l)||(l.push(h.getOverallStep()),k.actionAPI.onContentChangedEvent.call(k.actionAPI,b,k));c.parameters.config.variable_name&&contentApi.setData(c.parameters.config.variable_name,
h.getOverallStep(),!1,!1,!1,{source:b});"showMe"==c.parameters.config.type&&b.find(".carousel-inner .item").attr("tab-index","-1").filter(".active").attr("tab-index","1")});if("testMe"==c.parameters.config.type)h.on([testMe.EVENT.CORRECT,testMe.EVENT.INCORRECT].join(" "),function(b,h){b={element:c,assessment:h.assessment,section:h.testMe.getCurrentSectionFromOverallStep(h.testMe.getOverallStep()),stepIdx:h.testMe.getCurrentStepFromOverallStep(h.testMe.getOverallStep()),step:h.testMe.getCurrentStepObj()};
DKI.isDefined(b.step.hotSpot)&&(b.hotspot=h.testMe.getHotspotForCurrentStep(!0));$(document).trigger(DKI.ContentPage.events.captureTestmeStepSubmitted,b)}),h.on(testMe.EVENT.COMPLETE,function(b,h){$(document).trigger(DKI.ContentPage.events.captureTestmeSubmitted,{outline:c,score:h.score,testMe:h.testMe})});else if(h.on("tryMe.play",function(b,h){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,{event:"start",el:c})}),h.on("tryMe.pause",function(b,h){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,
{event:"pause",el:c})}),h.on("tryMe.restart",function(b,h){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,{event:"restart",el:c})}),h.on("tryMe.stepChanged",function(b,h){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,{event:"stepChanged",el:c})}),h.on("showMe.ended tryMe.ended",function(b,h){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,{event:"ended",el:c})}),h.on("showMe.play",function(b,h){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,
{event:"play",el:c})}),h.on("showMe.pause",function(b,h){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,{event:"pause",el:c})}),"tryMe"==c.parameters.config.type)h.on("tryMe.ended",function(c,h){c=h.getAssessment();c=c=100*Math.min(c.steps.length/c.total.clicks,1);h=b.getCoursePassMark();null!==h&&(c>=h?l.trigger("capture_submitted",["CORRECT"]):l.trigger("capture_submitted",["INCORRECT"]),k.actionAPI.onElementCaptureAssessmentSubmittedEvent.call(k.actionAPI,this.closest(".dki-capture-element"),
"CAPTURE_"+(c>=h?"CORRECT":"INCORRECT"),k))});x(l,n,p)};requirejs(["captureUtils"],function(){var b=function(c){requirejs([Ea[c]],c==Ea.length-1?w:function(){b(c+1)})};b(0)});return!1}l.data("cap",function(){l.on("click","a.toc-link",function(){l.capture("goToScene",[$(this).attr("href")]);return!1});var b=[];return{setWaypoints:$.proxy(function(){var h="captureGuide_"+$(this).data("id"),m=this;k.queue.deleteQueue(h);var n=function(){var h=$(".step",l).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,
{handler:function(b){if("down"==b){b=$(this.element).closest(".stepsContainer").find("div:not(.row) .step").index(this.element)+1;var h=m.data("slidesViewed");~$.inArray(b,h)||(h.push(b),k.actionAPI.onContentChangedEvent.call(k.actionAPI,m,k));c.parameters.config.variable_name&&contentApi.setData(c.parameters.config.variable_name,b,!1,!0)}},offset:"70%"}));b=h;this.wayPoints=this.wayPoints.concat(h)};k.queue.queue({name:h,callback:$.proxy(n,k)});var p=!1;$("img",l).each(function(){if(!$(this).attr("src")&&
!$(this).data("src"))return!0;$(this).prop("complete")||(p=!0,$(this).uniqueId(),k.queue.queue({name:h,id:$(this).attr("id")}),$(this).on("load error",function(){k.queue.dequeue({name:h,id:$(this).attr("id")})}))});p||n.call(k)},l),destroy:$.proxy(function(){$.each(b,function(){this.destroy()})},l)}}())}else{if("timer"==l.data("type"))return requirejs(["flipclock"],function(){var b=!0,h=DKI.applyIf({callbacks:{start:function(){var b=q();h.countdown&&b+1E3==this.timeLimit||1E3>=b?k.actionAPI.onMediaStart.call(k.actionAPI,
l.data("id"),k,"timer_start"):k.actionAPI.onMediaPlay.call(k.actionAPI,l.data("id"),k,"timer_play")},stop:function(){if(!b){var c=q();h.countdown&&0==c||!h.countdown&&c>=this.timeLimit?k.actionAPI.onMediaEnd.call(k.actionAPI,l.data("id"),k,"timer_end"):k.actionAPI.onMediaPause.call(k.actionAPI,l.data("id"),k,"timer_pause")}},interval:function(b,m,n){b=q();!h.countdown&&this.timeLimit<=b&&this.stop();k.actionAPI.onTimerTimeUpdate.call(k.actionAPI,b,l.data("id"),k);c.parameters.config.variable_name&&
contentApi.setData(c.parameters.config.variable_name,b)}}},c.parameters.config.clockCfg),m=l.find(".dki-element-content").FlipClock(0,h),q=$.proxy(function(){return h.countdown?this.timeLimit-this.getElapsed():this.getElapsed()},m.timer);m.getCurrentTime=q;l.data("timer",m);pI=k;m.restart=function(){var b=this,h=this.running;this.stop(function(){b.running=h;b.reset();c.parameters.config.variable_name&&contentApi.setData(c.parameters.config.variable_name,b.getCurrentTime())},!0)};m.toggle=function(){this.running?
this.stop():this.start()};b=!1;x(l,n,p)}),!1;if("videoPlaylist"==c.elementtype)return requirejs(["videoPlaylist"],function(){p.VideoPlaylist({completion:"undefined"!==typeof dataStorage?dataStorage.completion.elements:{},outline:c,type:c.parameters.config.type,responsive:settings.course.responsive,autoPlay:c.parameters.config.autoPlay,listeners:{play:function(){this.videoInterface.getUrl($.proxy(function(b){"undefined"!==typeof dataStorage&&dataStorage.saveElementCompletion(this.getCompletion());
$(document).trigger(DKI.ContentPage.events.media.played,{elementId:this.videoInterface.outline.id,url:b})},this))},pause:function(){this.videoInterface.getUrl($.proxy(function(b){"undefined"!==typeof dataStorage&&dataStorage.saveElementCompletion(this.getCompletion());$(document).trigger(DKI.ContentPage.events.media.paused,{elementId:this.videoInterface.outline.id,url:b})},this))},end:function(){this.videoInterface.getUrl($.proxy(function(b){"undefined"!==typeof dataStorage&&dataStorage.saveElementCompletion(this.getCompletion());
$(document).trigger(DKI.ContentPage.events.media.ended,{elementId:this.videoInterface.outline.id,url:b})},this))},start:function(){this.videoInterface.getUrl($.proxy(function(b){"undefined"!==typeof dataStorage&&dataStorage.saveElementCompletion(this.getCompletion());$(document).trigger(DKI.ContentPage.events.media.started,{elementId:this.videoInterface.outline.id,url:b})},this))},videoLoaded:function(){k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k)}}});c.parameters.config.autoPlay&&p.isInViewport()&&
k.autoPlayMedia.push(p);x(l,n,p)}),!1;if("scenario"==c.elementtype)return requirejs(["scenario"],function(){p.Scenario({accessible:!(dkiUA.android||dkiUA.iOS),outline:c,responsive:settings.responsive,characterBaseUrl:DKI.renderService.state.renderEnvironment.export?"assets":settings.baseUrl+"content/authoringtooldb/assetCollections",backgroundAsset:DKI.renderService.getAssetUrl({id:c.background_asset_id,folderId:c.background_asset_uploadfolderid,extension:c.background_asset_extension}),strings:{audioPlay:DKI.strings.runtime.media_play,
audioStop:DKI.strings.runtime.media_pause,scenarioStart:DKI.strings.runtime["theme start"],continue:DKI.strings.endTest.learningLinkLabel}}).on("scenario.optionSelected",function(b,c){$(document).trigger(DKI.ContentPage.events.scenarioOptionSelected,c);k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k)}).on("scenario.continue",function(b,c){}).on("scenario.end",function(b,c){l.data("ended",!0);$(document).trigger(DKI.ContentPage.events.scenarioEnded,c);k.actionAPI.onContentChangedEvent.call(k.actionAPI,
l,k)}).on("scenario.score",function(b,h){(b=c.parameters.config.variable_name)&&contentApi.setData(b,h.score)});x(l,n,p)}),!1;if("categoryCards"==c.elementtype){var Pa=c.parameters.config.showFeedback;p.CategoryCards({outline:c,accessible:c.parameters.accessibility.tabable&&!(dkiUA.android||dkiUA.iOS),responsive:settings.responsive,retries:c.parameters.config.attempts,feedback:settings.responsive&&Pa?c.parameters.config.useProjectDefault?settings.course.parameters.questionFeedback:c.parameters.config.feedback:
"",strings:{scoreLabel:DKI.strings.endMod.testingStatusLabel}}).on("answered",function(b,c){$(document).trigger(DKI.ContentPage.events.categoryCard.answered,c);k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k)}).on("completed",function(b,h){c.parameters.config.variable_name&&contentApi&&contentApi.setData(c.parameters.config.variable_name,h);if(Pa){var m=c.parameters.config.useProjectDefault?settings.course.parameters.questionFeedback:c.parameters.config.feedback;switch(h){case 100:b=DKI.strings.doc["Feedback all correct"];
var m=m.correct,q="success";break;default:b=DKI.strings.doc["Feedback all incorrect"],m=m.incorrect,q="danger"}p.CategoryCards("getxAPICompleteData",function(b){$(document).trigger(DKI.ContentPage.events.categoryCard.completed,{xAPIData:b,score:h})});m&&!settings.responsive&&DKI.PopupPanel.show({modal:!0,style:q,title:b,html:m,popupType:{type:"pop",mod:""},onHide:function(){var b=[];b[0]&&b[0].focus()}})}l.data("completed",!0);k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k);x(l,n,p)}).on(CategoryCardEvents.onAttempt,
function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,l,"INLINE_QUESTION_ATTEMPT",k)}).on(CategoryCardEvents.onSubmitted,function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,l,"INLINE_QUESTION_SUBMITTED",k)}).on(CategoryCardEvents.onCorrect,function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,l,"INLINE_QUESTION_CORRECT",k)}).on(CategoryCardEvents.onPartialCorrect,function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,
l,"INLINE_QUESTION_PARTIALLY_CORRECT",k)}).on(CategoryCardEvents.onAttemptPartialCorrect,function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,l,"INLINE_QUESTION_ATTEMPT_PARTIALLY_CORRECT",k)}).on(CategoryCardEvents.onIncorrect,function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,l,"INLINE_QUESTION_INCORRECT",k)}).on(CategoryCardEvents.onAttemptIncorrect,function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,l,"INLINE_QUESTION_ATTEMPT_INCORRECT",
k)}).on(CategoryCardEvents.onRetry,function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,l,"INLINE_QUESTION_RETRIED",k)});p.CategoryCards("start")}else{if("imageMap"==c.elementtype)return requirejs(["imageMap"],function(){if(!settings.imageMapColourCorrect){var b=$("\x3cdiv class\x3d'marker correct' style\x3d'visibility:none;'\x3e\x3c/div\x3e").appendTo(p.parent());settings.imageMapColourCorrect=b.css("background-color");b.remove()}settings.imageMapColourIncorrect||(b=$("\x3cdiv class\x3d'marker incorrect' style\x3d'visibility:none;'\x3e\x3c/div\x3e").appendTo(p.parent()),
settings.imageMapColourIncorrect=b.css("background-color"),b.remove());var h=function(){p.ImageMap({outline:c,mapFillColour:{correct:settings.imageMapColourCorrect.replace("rgb","rgba").replace(")",", 0.3)"),incorrect:settings.imageMapColourIncorrect.replace("rgb","rgba").replace(")",", 0.3)")},mapStrokeColour:{correct:settings.imageMapColourCorrect,incorrect:settings.imageMapColourIncorrect},autoPosition:settings.responsive,strings:{next:DKI.strings.index.nextButtonLabel,previous:DKI.strings.index.previousButtonLabel,
finish:DKI.strings.endMod.learningLinkLabel,correct:DKI.strings.doc["Correct choice label"].replace(/(\s)*\:(\s)*/,""),incorrect:DKI.strings.doc["Feedback incorrect attempt"]}});k.setLabelWrapperPosition(l);x(l,n,p)};if(p.find("img").prop("complete"))h();else p.find("img").on("load",function(){h()})}),!1;if("matchingQuestion"==c.elementtype)return requirejs(["matchingQuestion"],function(){requireFns.getFlickity(function(){p.MatchingQuestion({outline:c,accessible:!0,strings:{next:DKI.strings.index.nextButtonLabel,
previous:DKI.strings.index.previousButtonLabel,finish:DKI.strings.endMod.learningLinkLabel,correct:DKI.strings.doc["Correct choice label"].replace(/(\s)*\:(\s)*/,""),incorrect:DKI.strings.doc["Feedback incorrect attempt"]}});x(l,n,p)})}),!1;if("sequencingQuestion"==c.elementtype)return requirejs(["sequencingQuestion"],function(){p.SequencingQuestion({outline:c,strings:{next:DKI.strings.index.nextButtonLabel,previous:DKI.strings.index.previousButtonLabel,finish:DKI.strings.endMod.learningLinkLabel,
correct:DKI.strings.doc["Correct choice label"].replace(/(\s)*\:(\s)*/,""),incorrect:DKI.strings.doc["Feedback incorrect attempt"]}});x(l,n,p)}),!1}}settings.enablePlugins&&""!=c.parameters.plugin.fn&&(W={element:c,wrapper:l,content:p},c.parameters.plugin.extraContent&&$.each(c.parameters.plugin.extraContent,function(b,c){eval(c.processFn);processFn(W)}),p[c.parameters.plugin.fn]($.parseJSON(c.parameters.plugin.config)));"imageGallery"==l.data("type")&&$(".dki-element-content",m).owlCarousel($.parseJSON(c.parameters.config.options));
if(0<l.find(".owl-carousel").length)l.find(".owl-carousel").on("initialized.owl.carousel resized.owl.carousel",this.resizeCarousels);x(l,n,p)};var m=function(){$(".dki-authoring-element",$(h.pageContainer).find(".pageElementsWrapper:not(.design-layout)")).each(function(){var b=this,c=function(b){h.processElement(b,function(){if(DKI.renderService.state.typeConfig[b.elementtype].fullDomSubElements)for(var h=0;h<b.elements.length;h++)c(b.elements[h])})},k=h.getClaroElementById($(this).data("id"));c(k);
$(this).find(".dki-citation-link sup.refSup").on(settings.clickEvent,function(b){DKI.reference.showReference(b.target.parentNode);return!1});$(this).find(".dki-glossary-link").on(settings.clickEvent,function(b){DKI.glossary.showPopup.call(this,[b]);return!1});$(this).off(DKI.ContentPage.events.elementReviewClicked).on(DKI.ContentPage.events.elementReviewClicked,function(b,c){$(document).trigger(DKI.ContentPage.events[c.type||"elementReview"],{outline:h.getClaroElementById($(this).data("id")),domEl:$(this),
extraContent:c.extraContent||""})});$(this).find(".element-feedback .comment").off(settings.clickEvent).on(settings.clickEvent,function(){$(b).trigger(DKI.ContentPage.events.elementReviewClicked,{type:"elementReview"});return!1});$(this).find(".element-feedback .new").off(settings.clickEvent).on(settings.clickEvent,function(c,h){$(b).trigger(DKI.ContentPage.events.elementReviewClicked,{type:"elementReviewComment",extraContent:h});return!1});$(this).find(".element-feedback .accessibility").off(settings.clickEvent).on(settings.clickEvent,
function(){$(b).trigger(DKI.ContentPage.events.elementAccessibilityClicked,{outline:h.getClaroElementById($(this).closest(".dki-authoring-element").data("id")),domEl:$(this)});return!1})})};if(this.readyFired)m();else $(document).one(DKI.ContentPage.events.ready,function(){setTimeout(m,1)});$(this.pageContainer).on("mouseenter",".dki-glossary-link",function(b){DKI.glossary.showDefinition(b,this)});$(this.pageContainer).on("focus",".dki-glossary-link",function(b){DKI.glossary.showDefinition(b,this)});
$(this.pageContainer).on("mouseleave",".dki-glossary-link",function(b){"glossaryHoverDefinition"!=b.relatedTarget.id&&DKI.glossary.hideDefinition(b,this)});$(this.pageContainer).on("blur",".dki-glossary-link",function(b){DKI.glossary.hideDefinition(b,this)});$(this.pageContainer).on("mouseenter",".dki-citation-link sup.refSup",function(b){DKI.reference.hoverReference(b.target.parentNode,!0)});$(this.pageContainer).on("mouseleave",".dki-citation-link sup.refSup",function(b){0==$(b.relatedTarget).parents("#referencePopup").length&&
DKI.reference.hoverReference(b.target.parentNode,!1)});$(this.pageContainer).on("focus",".tableFocusCatcher",function(b){var c=$("[tabindex\x3d1]",this.pageContainer),h=c.index(this);c.index(b.relatedTarget)<h?c.eq(h+1).focus():c.eq(h-1).focus()});$(".dki-videoembed-element object, .dki-chart-element object, .dki-flash-element object",this.pageContainer).each(function(){if(dkiUA.ie)b={parentNode:this.parentNode,objTag:$(this.parentNode).html()},$(this).detach();else var b={parentNode:this.parentNode,
objTag:$(this).detach()};h.objectTags.push(b)});$(".dki-authoring-element[data-rotation!\x3d'0'], .dki-authoring-element-element[data-rotation!\x3d'0']",this.pageContainer).each(function(){$(this).find(".dki-authoring-content-wrapper:first").velocity({rotateZ:$(this).data("rotation")+"deg"},0)});c.player.behaviour&&c.player.behaviour.suppressAltTags&&$(".dki-authoring-element *[alt!\x3d''], .dki-authoring-element *[title!\x3d'']",this.pageContainer).each(function(){var b=$(this);b.hasClass("dki-element-anchor")||
b.removeAttr("alt").removeAttr("title")});for(var r in DKI.ContentPage.events)$(this.pageContainer).off(DKI.ContentPage.events[r]);this.settings.scrolling&&($(this.pageContainer).on(DKI.ContentPage.events.shown,function(){h.resize()}),$(this.pageContainer).on(DKI.ContentPage.events.hidden,function(){h.resize()}));$(".dki-authoring-group",this.pageContainer).each(function(){var b=$(this),c=h.getGroupById(b.data("id"));b.data("start_class",b.attr("class"));b.data("start_style",b.attr("style"));if(settings.enablePlugins&&
""!=c.parameters.plugin.fn)b[c.parameters.plugin.fn]($.parseJSON(c.parameters.plugin.config))});$(".dki-text-tooltip",this.pageContainer).each(function(){var b=$(this);b.tooltipster({functionPosition:function(b,c,h){if(1<settings.scale){b=h.coord.top/settings.scale-c.geo.origin.size.height/2;var k=h.target/settings.scale;h.coord.left=h.coord.left/settings.scale-c.geo.origin.size.width/settings.scale/2;h.coord.top=b;h.target=k}return h},content:$("\x3cdiv/\x3e").html(b.data("tooltip-text")).text(),
contentAsHTML:!0,trackOrigin:!0,theme:"tooltipster-light",trigger:"hover",onlyOne:!0})});var x=0,A=$(this.pageContainer).find("img").on("load error",function(){x++;x==A&&(h.resizeSections(),h.resizeCarousels(),h.resizeTabs())}).length;setTimeout(function(){x!=A&&(h.resizeSections(),h.resizeTabs())},1E3);dkiUA.mobile||this.fireReady();h.resizeSections();h.resizeSvgs();h.resizeTabs()};r.prototype.renderPage=function(){$(this.pageContainer).html(DKI.renderService.renderPage(this.page,this.settings.course))};
r.prototype.setMinHeight=function(b,c){b=b?b:this.pageContainer;c=c?c:$(b).height();$(b).css("min-height","").css("min-height",c)};r.prototype.setAudio=function(b){m.setAudio(b,this)};r.prototype.pauseAll=function(){m.pauseAll(this)};r.prototype.resumeAll=function(){m.resumeAll(this)};r.prototype.resize=function(){$(document).trigger(DKI.ContentPage.events.resize,this.getScrollHeight())};r.prototype.getScrollHeight=function(){var b=this.settings.courseHeight;$(".dki-authoring-element",this.pageContainer).each(function(){var c=
$(this);c.is(":visible")&&(c=c.position().top+c.height(),c>b&&(b=c))});return b};r.prototype.start=function(b,c){var h=function(){var b=this,h=!1;if($(b.pageContainer).find(".pageElementsWrapper").data("pageid")==this.page.id){b.started=!0;b.startTime=(new Date).getTime();b.resize();this.queue.queue({name:"loadFinished",callback:$.proxy(function(){$(document).trigger(DKI.ContentPage.events.loadFinished,b)},this)},b.page.id);var k=window.setTimeout(function(){b.showLoader()},200);$(document).on(DKI.ContentPage.events.loadFinished,
function(){clearTimeout(k);b.hideLoader()});var r=!1;$.each(b.autoPlayMedia,function(){if(("video"!=$(this).closest(".dki-authoring-element").data("elementtype")||"videoPlaylist"!=$(this).closest(".dki-authoring-element").data("elementtype"))&&$(this).closest(".dki-authoring-element").is(":visible")&&!l.canAutoplay())return r=!0,!1});if(r){var b=this,v=new DKI.disabler({text:'\x3cdiv class\x3d"disabler-play"\x3e\x3c/div\x3e',onClick:function(c){c.hide();m.startAutoPlay(b)}}),x=setTimeout(function(){v.show()},
750);$.each(b.autoPlayMedia,function(c,h){if(h.hasClass("dki-videoplaylist"))h.on("play",function(){clearTimeout(x);v.hide()});else{var k=function(){clearTimeout(x);v.hide()};h.bind($.jPlayer.event.play,k);$(document).on(DKI.ContentPage.events.started,function(c,h){h.page.id!=b.page.id&&k()})}})}setTimeout(function(){m.startAutoPlay(b);b.setAudio(player.audio)},0);q.start(b);var z=function(c,h){var k=$("#content_"+c.data("id"),c);c.first(".dki-authoring-content-wrapper");var l=c.find(".dki-element-anchor:first"),
m=b.getClaroElementById(c.data("id")),n=!c.hasClass("dki-contentCarousel-element")&&0<c.closest(".dki-contentCarousel-element").length,p=n?-1:l.data("tabindex")||-1;$("iframe",c).each(function(){$(this).attr("data-src")||$(this).attr("data-src",this.src);c.is(":visible")?this.src=$(this).attr("data-src"):this.src="about:blank"});c.data("accessibility-tabable")&&$("object.dki-element-content, iframe.dki-element-content, textarea.dki-element-content, map area, .dki-element-content iframe:first, .dki-element-content object:first, img.dki-element-content#content_"+
c.data("id")+", .btn.dki-element-content",c).each(function(){this.tabIndex=p});if(c.hasClass("dki-table-element")||c.hasClass("dki-htm-element")||c.hasClass("dki-plainText-element")||c.hasClass("dki-tab-element")&&dkiUA.ie||c.hasClass("dki-panelHeader-element")||c.hasClass("dki-panelFooter-element")||c.hasClass("dki-questionBody-element")||c.hasClass("dki-questionOpening-element")||c.hasClass("dki-tileCardTitle-element")||c.hasClass("dki-tileCardSubtitle-element"))(c.hasClass("dki-table-element")||
c.hasClass("dki-htm-element")||c.hasClass("dki-plainText-element")||c.hasClass("dki-tab-element")&&dkiUA.ie||c.hasClass("dki-panelHeader-element")||c.hasClass("dki-panelFooter-element")||c.hasClass("dki-questionBody-element")||c.hasClass("dki-questionOpening-element")||c.hasClass("dki-tileCardTitle-element")||c.hasClass("dki-tileCardSubtitle-element"))&&k.attr("tabindex",p),$("a, .dki-glossary-link, .dki-citation-link sup.refSup, img",k).attr("tabindex",p),(""==m.parameters.accessibility.text||c.hasClass("dki-tab-element")&&
dkiUA.ie||c.hasClass("dki-panelHeader-element")||c.hasClass("dki-panelFooter-element"))&&l.attr("tabindex","-1");"speechBubble"==m.elementtype&&m.parameters.accessibility.tabable&&k.attr("tabindex","1");"image"==m.elementtype&&(m.parameters.accessibility.tabable&&!n&&(m.parameters.accessibility.text||m.txt)?(m.parameters.accessibility.text&&m.txt?l.attr({tabindex:"1","aria-hidden":"false"}):l.attr({tabindex:"-1","aria-hidden":"true"}),k.attr("tabindex","1")):(l.attr("tabindex","-1"),k.attr("tabindex",
"-1")));"svg"==m.elementtype&&(m.parameters.accessibility.tabable||n||(k.attr("tabindex","-1"),l.attr("tabindex","-1")),k.find("svg, svg *").attr("tabindex","-1"));m.parameters.accessibility.tabable&&!n&&""==m.parameters.accessibility.text.toString().trim()&&"marker"!=m.elementtype&&"tab"!=m.elementtype&&("btn"==m.elementtype?(l.attr("tabindex","-1"),k.attr("tabindex","1")):(l.attr("tabindex","-1"),l.attr("aria-hidden","true")));"zoomRegion"==c.data("type")&&c.is(":visible")&&contentApi.zoomToElement(c.data("id"),
b,0);"textbox"!=m.elementtype&&"freeFormOption"!=m.elementtype||""==m.parameters.config.variable_name||(k.val(contentApi.getData(m.parameters.config.variable_name)),k.attr("data-variable-id",m.parameters.config.variable_name));"likedislike"==m.elementtype&&(k.find("i").removeClass("toggled").enable(),n=contentApi.getData("likedislike_"+contentApi.getData("sys.currentpage.id",!0),!0),"like"==n?(k.find(".fa-thumbs-up").addClass("toggled"),k.find("i").disable()):"dislike"==n&&(k.find(".fa-thumbs-down").addClass("toggled"),
k.find("i").disable()));if("input"==m.elementtype&&""!=m.parameters.config.variable_name){var q=k.find("input");q.val(contentApi.getData(m.parameters.config.variable_name));q.attr("data-variable-id",m.parameters.config.variable_name)}if("radioGroup"==m.elementtype){$("input",k).attr("tabindex",p);for(var n=function(c,h,k,l){l||contentApi.setData(c,k,!1,!0,{text:h});setVariableText(c,h,b);setVariableText(c+"_text",h,b)},u="",q=m.parameters.config.variable_name,q=q.split(","),r=0;r<q.length;r++)if(-1==
q[r].indexOf("_text")){u=q[r];break}""!=u&&(q=k.find("input[value\x3d'"+contentApi.getData(u)+"']"),r=k.find("label[for\x3d'"+q.attr("id")+"']"),q.prop("checked",!0),r.addClass("active"),k.attr("data-variable-id",u));k.find("input:checked").length&&""!=u&&(r=contentApi.getData(u),q=k.find("input[value\x3d'"+contentApi.getData(u)+"']"),q=k.find("label[for\x3d'"+q.attr("id")+"']")[0].innerText,n(u,q,r))}"toggle"==m.elementtype&&(""==m.meta&&l.attr("tabindex",-1),$("label",k).attr("tabindex",p).attr("role",
"checkbox").attr("aria-checked",!1),""!=m.parameters.config.variable_name&&(k.find("input").prop("checked",contentApi.getData(m.parameters.config.variable_name)),k.attr("data-variable-id",m.parameters.config.variable_name),$("label",k).attr("aria-checked",contentApi.getData(m.parameters.config.variable_name))));if("selection"==m.elementtype){u="";q=m.parameters.config.variable_name;q=q.split(",");for(r=0;r<q.length;r++)if(-1==q[r].indexOf("_text")){u=q[r];break}""!=u&&(q=contentApi.getData(u),k.find("button .selectedCont").html(k.find("li a[data-val\x3d'"+
q+"']").html()),k.data("val",q),k.attr("data-variable-id",u))}"marker"==c.data("type")&&(l="hover",m.parameters.config&&m.parameters.config.trigger&&(l=m.parameters.config.trigger),""==m.meta||"custom"!=l||!c.is(":visible")||c.hasClass("hiddenOnLoad")||c.hasClass("hiddenUntilInView")||k.tooltipster("open"));if("progress"==c.data("type")||"radialGauge"==c.data("type")){var l=m.parameters.config.max,n=m.parameters.config.current,l="string"==typeof l?contentApi.getData(l):parseInt(l,10),n="string"==
typeof n?contentApi.getData(n):parseInt(n,10),v=n/l*100,v=parseFloat(v.toFixed(2),10);"radialGauge"==c.data("type")?c.find(".radial").data("dki.RadialGauge")?c.find(".radial").RadialGauge("setRotation",v,function(b,c){isNaN(parseInt(m.parameters.config.current,10))||(m.parameters.config.current=c.state.current);contentApi.setData(m.parameters.config.variable_name,v)}):b.processElement(c):(k.attr("tabindex",p),c.find(".progress-bar").css(m.parameters.config.dim,v+"%"),c.find(".progress-bar-display, .sr-only").html(Math.floor(v)+
"%"))}"contentCarousel"==c.data("type")&&(k.attr("tabindex","-1"),c.find(".flickity-slider\x3e.dki-panel-element\x3e.dki-authoring-content-wrapper\x3e.dki-element-content").attr("tabindex",p),c.find(".flickity").attr("tabindex",-1),c.find(".flickity.flickity_autoPlay").flickity("playPlayer"));"timeline"==c.data("type")&&(m.parameters.config.enableEntrance?b.wayPoints=b.wayPoints.concat($(".cd-timeline-block",c).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(h){"down"==h?($(this.element).find(".cd-timeline-img, .cd-timeline-content").removeClass("is-hidden").addClass("bounce-in"),
b.actionAPI.onContentChangedEvent.call(b.actionAPI,c,b)):$(this.element).find(".cd-timeline-img, .cd-timeline-content").addClass("is-hidden").removeClass("bounce-in")},offset:"90%"}))):b.actionAPI.onContentChangedEvent.call(b.actionAPI,c,b));"capture"==c.data("type")&&(c.data("slidesViewed",[]),c.capture("setWaypoints"));"timer"==c.data("type")&&(l=m.parameters.config.timeLimit,l="string"===typeof l?contentApi.getData(l):parseInt(l,10),c.data("timer").timer.timeLimit=l,c.data("timer").setTime(m.parameters.config.clockCfg.countdown?
l/1E3:0),n="MinuteCounter",36E5<=l&&(n="HourCounter"),c.data("timer").loadClockFace(n,null,!0,!0),m.parameters.config.clockCfg.countdown&&(c.data("timer").timer.factory.original=l/1E3),m.parameters.config.autoStart&&c.data("timer").start());"matchCardSet"==c.data("type")&&(c.find(".match_hidden").removeClass("match_hidden"),c.trigger("match.resizeImmediate"),m.parameters.config.startShown&&(c.data("fromFirstVisibleFlip",!0),c.find(".match_manual_start").addClass("show center nobg").attr("aria-hidden",
!1).find(".match_manual_start_container").html("\x3cdiv role\x3d'button' tabindex\x3d'1' class\x3d'btn btn-primary start' style\x3d'font-size:1.3em; padding: 20px; border-radius: 3px;'\x3eStart\x3c/div\x3e"),c.find(".match_manual_start_container").StayInView({scrollParent:c.find(".match_manual_start")}),c.find(".cardsContainer").attr("aria-hidden",!0).find(".front").attr("tabindex","-1"),c.find(".flipSet").addClass("locked delayStart").one("click",".start",$.proxy(function(){var b=$(this).find(".flip");
c.find(".match_manual_start").attr("aria-hidden",!0).removeClass("show center nobg").find(".match_manual_start_container").html("").StayInView("destroy");b.flip(!0);setTimeout(function(){b.one("flip:done",function(h,k){c.data("fromFirstVisibleFlip")&&($(this).find(".front").attr("tabindex","1"),$(this).is(b.last())&&(c.find(".cardsContainer").attr("aria-hidden",!1),setTimeout(function(){b.first().find(".front")[0].focus()},0),c.data("fromFirstVisibleFlip",!1)))}).flip(!1);c.find(".flipSet").removeClass("locked")},
3E3)},c))));"flashCardSet"==c.data("type")&&c.find(".flickity-carousel").data("resize")();"videoPlaylist"==c.data("type")&&c.find(".dki-element-content").VideoPlaylist("sizeVideo");"scenario"==c.data("type")&&c.is(":visible")&&(c.find(".dki-element-content").Scenario("sceneWindowResize"),c.find(".dki-element-content").Scenario("start"));"list"==c.data("type")&&(k.attr({tabindex:p,role:"list"}),$("li",k).attr("role","listitem"));"slider"==c.data("type")&&($(".sliderLabel",k).attr("id",c.attr("id")+
"_sliderLabel"),$(".slider",k).attr({role:"slider",tabindex:p,"aria-valuemin":m.parameters.config.noUISlider.range.min,"aria-valuemax":m.parameters.config.noUISlider.range.max,"aria-valuenow":m.parameters.config.noUISlider.start,"aria-labelledby":c.attr("id")+"_sliderLabel"}));"tileCard"==m.elementtype&&(l=contentApi.getData(m.parameters.config.variable_name),n=c.find(".tileCard").data("visitedIcon"),u=c.find(".dki-icon-element i"),q=u.data("class"),l?u.addClass(n).removeClass(q):u.addClass(q).removeClass(n));
"categoryCards"==m.elementtype&&k.CategoryCards("elementStart");"multipleChoiceQuestion"!=m.elementtype&&"trueFalseQuestion"!=m.elementtype&&"multiplePulldownQuestion"!=m.elementtype&&"fillInTheBlanksQuestion"!=m.elementtype&&"clickTheWordQuestion"!=m.elementtype&&"dragTheWordQuestion"!=m.elementtype||k.QuestionElement("elementStart");b.scaleElementChildren(m);h&&b.queue.dequeue({name:"loadFinished",id:c.attr("id")+"_element"})};$(".pageElementsWrapper:not(.design-layout) .dki-authoring-element, .pageElementsWrapper:not(.design-layout) .dki-authoring-element-element",
b.pageContainer).each(function(){var c=$(this);c.data("elementLoaded")?z(c):(h=!0,b.queue.queue({name:"loadFinished",id:$(this).attr("id")+"_element"}),c.off("elementLoaded").on("elementLoaded",function(){z(c,!0)}))});$(this.pageContainer).find(".dki-flipCard-element .dki-element-content *[tabindex]:not(.flipCardPanel)").attr("tabindex","-1").data("tabindex","-1");$(this.pageContainer).find(".dki-flipCard-element .dki-element-content a").attr("tabindex","-1");$(this.pageContainer).find("a.accordion-toggle div.dki-element-anchor").attr("tabindex",
"-1");$(this.pageContainer).find("a.accordion-toggle .dki-tab-element .dki-element-content").attr("tabindex","-1");$(this.pageContainer).find(".panel-collapse").attr("aria-label"," ");for(var D=0;D<b.objectTags.length;D+=1)dkiUA.ie?$(b.objectTags[D].parentNode).html(b.objectTags[D].objTag):b.objectTags[D].objTag.appendTo(b.objectTags[D].parentNode);$(".dki-image-element[data-extension\x3d'gif'] img",this.pageContainer).each(function(){this.src=$(this).attr("data-src")+"?rand\x3d"+Math.floor(500*Math.random())});
dkiUA.iOS&&$(this.pageContainer).find(".dki-video-element .dki-element-content[data-autoplay\x3d'true'] video").attr("autoplay","");dkiUA.ie&&8>=dkiUA.ieVersion&&n.init(b);$("img",b.pageContainer).each(function(){if(!$(this).attr("src")&&!$(this).data("src"))return!0;$(this).prop("complete")||(h=!0,$(this).uniqueId(),b.queue.queue({name:"loadFinished",id:$(this).attr("id")}),$(this).on("load error",function(){b.queue.dequeue({name:"loadFinished",id:$(this).attr("id")})}))});dkiUA.iOS||$("video",b.pageContainer).each(function(){$(this).uniqueId();
3>this.readyState&&(h=!0,b.queue.queue({name:"loadFinished",id:$(this).attr("id")}),$(this).on("canplay",function(){b.queue.dequeue({name:"loadFinished",id:$(this).attr("id")})}))});h||$(document).trigger(DKI.ContentPage.events.loadFinished,b);q.checkBreakPointThreshold("breakpoint",b);q.checkDeviceAdaptation("device",b);b.resizeSections();b.reCalculateMediaControls();b.resizeSvgs();b.resizeCarousels();b.resizeTabs();b.resizeDropTargets();b.resizeSelectionDropdowns();c||$(document).trigger(DKI.ContentPage.events.started,
b)}};this.isStandalonePage||contentApi.hideAllPopups(!0);var r=this,x=0;b?x=b:$("html").hasClass("csstransitions")&&(x=this.getPageTransitionTime());$(r.pageContainer).css("transition-duration",x+"ms").removeClass($(r.pageContainer).data("current_player_background")).addClass(r.page.parameters.player_background).data("current_player_background",r.page.parameters.player_background);0==x||0!=r.autoPlayMedia.length&&!l.canAutoplay()?h.call(r):setTimeout(function(){h.call(r)},x);settings.responsive&&
($(".pageElementsWrapper .dki-image-element img",r.pageContainer).on("load error",function(){var b=$(this).closest(".dki-image-element");r.setLabelWrapperPosition(b);var c=b.data("resizeMap",$.proxy(function(){var c=this.find("map");if(c.length){var h=c.data("asset-width"),k=b.find("img").width(),l=1-(h-k)/h;c.find("area").each(function(){for(var b=$(this).data("coords").split(","),c=0;c<b.length;c++)b[c]=parseInt(b[c],10)*l;this.coords=b.join(",")})}},b)).data("resizeMap");"function"===typeof c&&
c()}).each(function(){this.complete&&$(this).load()}),$(".pageElementsWrapper .dki-video-element",r.pageContainer).each(function(){r.setLabelWrapperPosition($(this))}))};r.prototype.reset=function(b){b=DKI.applyIf(b?b:{},{timeout:0});var c=this;$(".dki-marker-element",c.pageContainer).each(function(){var b=$(this);if("marker"==b.data("type")&&""!=b.data("meta")){var c=b.find(".dki-element-content"),h=c.tooltipster("option","animation");c.tooltipster("option","animation",!1).tooltipster("close",function(){c.tooltipster("option",
"animation",h)})}});var h=function(){if($(c.pageContainer).find(".pageElementsWrapper").data("pageid")==c.page.id){c.started=!1;c.startTime=0;m.stopAll(c);this.contentPage&&this.contentPage.randomizeOptions&&this.contentPage.randomizeOptions();var b=$(".dki-authoring-element,.dki-authoring-element-element",c.pageContainer);$(c.pageContainer).trigger(DKI.ContentPage.events.reset);q.reset(c);$(".dki-authoring-group",c.pageContainer).each(function(){var b=$(this);c.getGroupById(b.data("id"));b.attr("class",
b.data("start_class"));b.attr("style",b.data("start_style"))});b.each(function(){var b=$(this),h=b.first(".dki-authoring-content-wrapper"),k=$("#content_"+b.data("id"),this),l=c.getClaroElementById(b.data("id"));b.stop(!0,!0);b.removeAttr("data-viewed");c.settings.responsive||(b.css("left",b.data("x")+"px"),b.css("top",b.data("y")+"px"));$("iframe",this).each(function(){$(this).attr("data-src")||$(this).attr("data-src",this.src);this.src="about:blank"});$("object.dki-element-content, iframe.dki-element-content, textarea.dki-element-content, map area, .dki-element-content iframe:first, .dki-element-content object:first, img.dki-element-content, .btn.dki-element-content",
this).each(function(){this.tabIndex=-1});"html"==$(this).data("type")&&k.hasClass("adaptive")&&$(this).data("resizeInterval")&&(clearInterval($(this).data("resizeInterval")),$(this).data("resizeInterval",null));if("multipleChoiceQuestion"==$(this).data("type")||"trueFalseQuestion"==$(this).data("type")||"multiplePulldownQuestion"==$(this).data("type")||"fillInTheBlanksQuestion"==$(this).data("type")||"clickTheWordQuestion"==$(this).data("type")||"dragTheWordQuestion"==$(this).data("type"))$(this).find("#content_"+
$(this).data("id")).QuestionElement("reset"),l.parameters.config.variable_name&&contentApi.setData(l.parameters.config.variable_name,0);"categoryCards"==$(this).data("type")&&($(this).find("#content_"+$(this).data("id")).CategoryCards("reset"),l.parameters.config.variable_name&&contentApi.setData(l.parameters.config.variable_name,0));if("slider"==$(this).data("type")){var m=$(".slider",this);m[0]&&(!player.isSinglePage&&dataStorage.getContentVariable(m.data("variable-id"))?(m.data("automaticSet",
!0),m[0].noUiSlider.set(dataStorage.getContentVariable(m.data("variable-id")))):(m.data("automaticSet",!0),m[0].noUiSlider.set(l.parameters.config.noUISlider.start)))}"contentCarousel"==b.data("type")&&(b.find(".flickity.flickity_autoPlay").flickity("stopPlayer"),b.find(".flickity").flickity("selectCell",0));"timer"==b.data("type")&&b.data("timer").stop(function(){b.data("timer").reset()});"matchCardSet"==b.data("type")&&b.trigger("match.reset");"scenario"==$(this).data("type")&&$(this).find(".dki-element-content").Scenario("reset");
b.attr("class",b.data("start_class"));b.attr("style",b.data("start_style"));b.data("allViewed",!1);b.data("slidesViewed")&&b.data("slidesViewed",[]);"capture"==$(this).data("type")&&$(this).capture("reset",[!0]);"flashCardSet"==$(this).data("type")&&$(this).data("reset")&&$(this).data("reset")();h.attr("class",h.data("start_class"));h.attr("style",h.data("start_style"));k.attr("class",k.data("start_class"));k.attr("style",k.data("start_style"))});q.checkBreakPointThreshold("breakpoint",c);q.checkDeviceAdaptation("device",
c);$(".dki-videoembed-element object, .dki-chart-element object, .dki-flash-element object",c.pageContainer).each(function(){$(this).detach()});dkiUA.iOS&&$(this.pageContainer).find(".dki-video-element .dki-element-content[data-autoplay\x3d'true'] video").removeAttr("autoplay");contentApi.zoomOut(c,0);c.readyFired=!1;c.fireReady()}};0<b.timeout?setTimeout(h,b.timeout):h()};r.prototype.scaleElementChildren=function(b){if(!settings.responsive)return!1;var c=this;if(settings.responsive&&("video"==b.elementtype||
"image"==b.elementtype)){var h=function(h,l){l=h.find("#content_"+h.data("id"));var m=l.width()/l.data("assetwidth");l=l.parent(".dki-authoring-content-wrapper");parseInt(h.data("y"),10);parseInt(h.data("x"),10);var n=parseInt(l.css("padding"),10);h.find(".dki-authoring-element-elements-wrapper").css({transform:"scale("+m+")","transform-origin":"top left",display:"block"});h.data("scaleRatio",m);h.find(".dki-authoring-element-element").each(function(){var h="video"!=b.elementtype?-n:0;$(this).css({top:$(this).data("y")-
(1/m*h+1/m*n),left:$(this).data("x")-(1/m*h+1/m*n)});h=c.getClaroElementById($(this).data("id"));if("speechBubble"==h.elementtype){var l=$(this).data("sb_fontSize")?$(this).data("sb_fontSize"):parseInt($(this).css("font-size").split("px")[0],10),q=l*m;q&&(q=q<h.parameters.config.font.min?h.parameters.config.font.min:q>h.parameters.config.font.max?h.parameters.config.font.max:0,$(this).data("sb_fontSize",l),q?$(this).css("font-size",1/m*q):$(this).css("font-size",""))}"label"==h.elementtype&&(l=parseFloat($(this).find(".dki-element-text").css("font-size"),
10),q=l*m,10>q?(l=10/q,$(this).css("transform","scale("+l+")"),$(this).css("transform-origin","top left")):$(this).css("transform",""),$(this).hasClass("labelResponded")?h.parameters.config.icon.onLeft||($(this).data("oldLeft",parseInt($(this).css("left"))),l=$(this).data("oldLeft")+(h.width-$(this).outerWidth()),$(this).css("left",l)):h.parameters.config.icon.onLeft||$(this).css("left",$(this).data("oldLeft")));"marker"==h.elementtype&&(l=1/m,$(this).css("transform","scale("+l+")"),$(this).css("transform-origin",
"top left"))})},l=function(b){var k=$(".dki-authoring-element[data-id\x3d"+b.id+"]",c.pageContainer);0==k.length&&(k=$(".dki-authoring-element-element[data-id\x3d"+b.id+"]",c.pageContainer));"video"==b.elementtype&&(300>k.width()?k.find(".jp-video").removeClass("vid-md vid-lg").addClass("vid-sm"):600>k.width()?k.find(".jp-video").removeClass("vid-sm vid-lg").addClass("vid-md"):k.find(".jp-video").removeClass("vid-sm vid-md").addClass("vid-lg"));for(var m=0;m<b.elements.length;m++){var n=$("#"+b.elements[m].id+
"_wrapper");if(("marker"==b.elements[m].elementtype||"label"==b.elements[m].elementtype||"speechBubble"==b.elements[m].elementtype||"image"==b.elements[m].elementtype||"hotspot"==b.elements[m].elementtype)&&"label"==b.elements[m].elementtype&&"none"!=b.elements[m].parameters.config.response){n.hasClass("tooltipstered")||n.tooltipster({content:b.elements[m].meta,contentAsHTML:!0,trigger:"click",maxWidth:400,theme:"tooltipster-light"});var q=settings.flowBreakpoints[b.elements[m].parameters.config.response].to;
$(window).width()<=q?n.tooltipster("enable").addClass("labelResponded"):n.tooltipster("disable").removeClass("labelResponded")}h(k,b.elements[m]);b.elements[m].elements&&l(b.elements[m])}};l(b)}};r.prototype.isPaused=m.isPaused;r.prototype.fireReady=function(){this.readyFired||(this.readyFired=!0,settings.responsive&&$(".dki-authoring-element",this.pageContainer).each(function(){var b=$(this).position();$(this).data("x",b.left).data("y",b.top)}),$(document).trigger(DKI.ContentPage.events.ready,[this.page,
this.pageContainer]))};r.prototype.resizeCarousels=function(b){b=b?b:$(".flickity, .flip",this.pageContainer);b.each(function(){var b=$(this),c=b.data("vertical-alignment");b.find(".panel-collapse.collapse:not(.in)").css({height:"auto",display:"block",visibility:"hidden"});var h=b.find("\x3e .flickity-viewport \x3e .flickity-slider \x3e .dki-panel-element \x3e .dki-authoring-content-wrapper \x3e .dki-element-content \x3e .panel,\x3e .face \x3e .dki-panel-element \x3e .dki-authoring-content-wrapper \x3e .dki-element-content \x3e .panel");
h.css({"padding-top":"","padding-bottom":""});h.find(".panel-body").css({"padding-top":"","padding-bottom":""});b.hasClass("flickity")&&b.data("flickity")&&b.flickity("resize");var k=h.map(function(){return $(this).outerHeight()}),l=Math.max.apply(null,k);h.each(function(){var b=$(this).find(".panel-body:first"),h=b.css("height"),k=l-b.css("height","").outerHeight();$("body").hasClass("responsive")||b.css("height",h);0<k&&("top"==c?b.css({"padding-top":"","padding-bottom":parseInt(b.css("padding-bottom").split("px")[0],
10)+k}):"bottom"==c?b.css({"padding-bottom":"","padding-top":parseInt(b.css("padding-bottom").split("px")[0],10)+k}):b.css({"padding-top":parseInt(b.css("padding-top").split("px")[0],10)+k/2,"padding-bottom":parseInt(b.css("padding-bottom").split("px")[0],10)+k/2}))});b.find(".panel-collapse.collapse:not(.in)").css({height:"0px",display:"",visibility:""})})};r.prototype.resizeSvgs=function(){dkiUA.isIE()&&settings.responsive&&$(".dki-svg-element svg",this.pageContainer).each(function(){var b=this.attributes.viewBox.value.split(" "),
b=b[3]/b[2],c=$(this).width();$(this).height(c*b)})};r.prototype.resizeTabs=function(){var b=this;settings.responsive&&$($(".dki-tabset-element",this.pageContainer).get().reverse()).each(function(){var c=$(this),h=b.getClaroElementById(c.data("id"));if(h.parameters.config.normalizeHeight){var l=c.find(".nav").outerHeight(),m=h.parameters.config.verticalMaxHeight;$(".tab-pane",c).each(function(){var b=$(this).css("width","100%");b.outerHeight()>l&&(l=b.outerHeight());b.css("width","")});("vertical"==
h.parameters.config.orientation||"vertical-right"==h.parameters.config.orientation)&&""!=m&&l>DKI.getViewPortHeight(m)?(c.addClass("verticalMax"),c.find(".tab-content \x3e .tab-pane").addClass("dki-vpMinHeight-"+m),c.find(".tab-content \x3e .tab-pane").addClass("dki-vpMaxHeight-"+m)):(c.removeClass("verticalMax"),c.find(".tab-content").css("min-height",l))}})};r.prototype.resizeDropTargets=function(){$("div.dropTarget[data-height]",this.pageContainer).each(function(){var b=$(this);b.style("min-height",
b.width()*b.data("height")/100+"px");if("undefined"!=typeof b.data("align")){b.css({"padding-top":""});var c=parseInt(b.css("padding-top").split("px")[0],10),h=b.find(".dropTargetTextWrapper").height(),l=parseInt(b.data("align"),10)/100,c=(b.height()-h)*l+c+"px";b.css("padding-top",c)}})};r.prototype.resizeSelectionDropdowns=function(){var b=this;$(".dki-selection-element",this.pageContainer).each(function(){var c=$(this);c.find(".dropdown-menu").style("max-width",$(b.pageContainer).width()-c.offset().left-
15+"px")})};r.prototype.resizeSection=function(b){b=$(b);if(b.hasClass("dki-section-height")){b.css({"padding-top":""});var c=parseInt(b.css("padding-top").split("px")[0],10);if(!b.hasClass("super-section")){var h=b.height(),l=0;b.find(".dki-authoring-row").each(function(){l+=$(this).height()});var m=parseInt(b.data("vertical-align"),10)/100;b.css("padding-top",(h-l)*m+c+"px")}}else b.css({"padding-top":""})};r.prototype.resizeSections=function(){var b=this;$(".dki-iframe-element",this.pageContainer).each(function(){var b=
$(this),c=b.data("height")/b.data("width")*100;b.find(".dki-authoring-content-wrapper").css("padding-bottom",c+"%")});var c=dkiUA.isIE()?"*":"[data-vertical-align\x3d'25'],.dki-authoring-section[data-vertical-align\x3d'75']";$(".dki-authoring-row.synchronize-heights",this.pageContainer).each(function(){var b=$(this);synchonizeRowHeight(b)});$(".dki-authoring-section",this.pageContainer).each(function(){var h=$(this);h.is(c)&&b.resizeSection(this);h.hasClass("has-top-decoration")&&h.prev().addClass("before-decoration");
h.hasClass("has-bottom-decoration")&&h.next().addClass("after-decoration");h.is(".super-section")&&(h.width(),h.find(".dki-authoring-group").each(function(){var b=$(this),c=b.find(".dki-authoring-group-elements-wrapper"),k=[{elements:[],tallest_height:0}],l=b.width(),m=0;c.css({"padding-top":"","padding-bottom":""});b.find(".dki-authoring-element").each(function(){var b=$(this);m+=b.width();m>l&&(k.push({elements:[],tallest_height:0}),m=b.width());b.height()>k[k.length-1].tallest_height&&(k[k.length-
1].tallest_height=b.height());k[k.length-1].elements.push(b)});var n=0;$.each(k,function(){n+=this.tallest_height});var b=parseInt(h.data("vertical-align"),10)/100,b=(h.height()-n)*b,p=h.height()-n-b;c.css({"padding-top":b+"px","padding-bottom":p+"px"})}))});$(".dki-image-element img.dki-element-content, .dki-image-element canvas.dki-element-content",this.pageContainer).maskImage({preserveAspectRatio:settings.responsive?!1:"none"});$(".dki-contentCarousel-element",this.pageContainer).each(function(){$(this).flickity&&
$(this).find(".flickity-enabled").flickity("resize")})};r.prototype.onWindowScroll=function(b){var c=b?b.scrollTop:window.pageYOffset;$(".bg-parallax",this.pageContainer).each(function(){var b=.25*(c-$(this).offset().top);$(this).css("background-position-y",b)});$(".bg-parallaxer",this.pageContainer).each(function(){var b=.5*(c-$(this).offset().top);$(this).css("background-position-y",b)});$(".bg-parallaxest",this.pageContainer).each(function(){var b=.814*(c-$(this).offset().top);$(this).css("background-position-y",
b)})};r.prototype.setLabelWrapperPosition=function(b){if("image"==b.data("type")||"video"==b.data("type")){var c=b.find(".dki-authoring-element-elements-wrapper"),h=$("#"+b.data("id")+"_content_wrapper"),l="0%",m="0px",n=parseInt(b.find(".dki-authoring-content-wrapper").css("padding-left"),10)+parseInt(b.find(".dki-authoring-content-wrapper").css("padding-right"),10);h.hasClass("align-center")?(l="50%",m=-1*((b.find("#content_"+b.data("id")).width()+n)/2)):h.hasClass("align-right")&&(l="100%",m=-1*
(b.find("#content_"+b.data("id")).width()+n));c.css({left:l,"margin-left":m});"video"==b.data("type")&&c.css({top:-1*parseInt(b.find(".dki-authoring-content-wrapper").css("padding-top"),10)})}};r.prototype.setTabsetTabSize=function(b){b=b.find(".dki_chevron_tab \x3e ul.nav \x3e li");resizeChevronTab=function(b,c){var h=$(b).find("a").first(),k=Math.min($(b).height(),$(b).width())/4.75;h.css("padding-left",k-10);h.css("padding-right",k+5);1>c&&resizeChevronTab(b,c+1)};b.each(function(){$(this).find("a").first().css({"padding-left":"",
"padding-right":""});resizeChevronTab(this,0)})};r.prototype.onWindowResize=function(){var b=this;q.checkBreakPointThreshold("breakpoint",this);$(".dki-authoring-element",this.pageContainer).each(function(){var c=function(c){c=$(c);var h=b.getClaroElementById(c.data("id"));"radialGauge"==c.data("type")&&c.find(".radial").RadialGauge("resize");if("image"==c.data("type")||"video"==c.data("type"))b.setLabelWrapperPosition(c),"image"==c.data("type")&&c.data("resizeMap")&&c.data("resizeMap")();"imageMap"==
c.data("type")&&b.setLabelWrapperPosition(c);if("selection"==c.data("type")){var l=c.find(".dropdown-menu");c.offset().top+c.outerHeight()+l.outerHeight()>$(b.pageContainer).innerHeight()?l.parent().addClass("dropup"):l.parent().removeClass("dropup")}"matchCardSet"==c.data("type")&&c.trigger("match.resize");"tabset"==c.data("type")&&b.setTabsetTabSize(c);b.scaleElementChildren(h)};c(this);$.each($(this).find(".dki-authoring-element-element"),function(){c(this)})});$(".pageBackground:visible",this.pageContainer).each(function(){var b=
$(this).data("forPage"),b=$("#"+b,this.pageContainer).width();$(this).width(b)});this.resizeSvgs();this.resizeSections();this.resizeCarousels();this.resizeDropTargets();this.reCalculateMediaControls();this.resizeSelectionDropdowns();this.resizeTabs();setTimeout(function(){b.resizeCarousels();b.resizeTabs()},250)};r.prototype.reCalculateMediaControls=function(){settings.responsive&&($(".dki-audio-element",this.pageContainer).each(function(){var b=$(this).width();143>b?($(this).find(".jp-time").css("display",
"none"),$(this).find(".jp-mute").css("display","none")):230>b?($(this).find(".jp-duration").css("display","none"),$(this).find(".jp-time-slash").css("display","none"),$(this).find(".jp-mute").css("display","none")):($(this).find(".jp-time").css("display",""),$(this).find(".jp-duration").css("display",""),$(this).find(".jp-time-slash").css("display",""),$(this).find(".jp-mute").css("display",""))}),$(".dki-video-element",this.pageContainer).each(function(){var b=$(this).width();200>b?($(this).find(".jp-time").css("display",
"none"),$(this).find(".jp-transcript").css("display","none"),$(this).find(".jp-cc").css("display","none"),$(this).find(".subClass").css("display","none")):(300>b?$(this).find(".jp-time").css("display","none"):$(this).find(".jp-time").css("display",""),$(this).find(".jp-transcript").css("display",""),$(this).find(".jp-cc").css("display",""),$(this).find(".subClass").css("display",""))}))};r.prototype.getPageTransitionTime=function(){var b=$(".dkiContentFrame.current").css("transition-duration").toLowerCase();
return-1<b.indexOf("ms")?parseFloat(b):1E3*parseFloat(b)};r.prototype.destroy=function(){$.each(this.wayPoints,function(){this.destroy()});$(".dki-capture-element",this.pageContainer).each(function(){$(this).capture("destroy")});$(".dki-matchCardSet-element .match_feedback_container.dki-stayInView",this.pageContainer).each(function(){$(this).StayInView("destroy")});$(".dki-scenario-element .dki-element-content",this.pageContainer).each(function(){$(this).Scenario("destroy")});$(".dki-categoryCards-element .dki-element-content",
this.pageContainer).each(function(){$(this).CategoryCards("destroy")});$(".dki-multipleChoiceQuestion-element .dki-element-content,.dki-trieFalseQuestion-element .dki-element-content,.dki-multiplePulldown-element .dki-element-content, .dki-clickTheWord-element .dki-element-content",this.pageContainer).each(function(){$(this).CategoryCards("destroy")})};r.prototype.showLoader=function(){var b=$(this.pageContainer).find(".pageLoader"),c=window.outerHeight/2-$("#navbar_header").outerHeight()-15;b[0]||
(b=$("\x3cdiv class\x3d'pageLoader disabler disablerWrapper' style\x3d'cursor:default;'\x3e\x3cdiv class\x3d'disabler spinner' style\x3d'display:block;top:"+c+"px'\x3e\x3c/div\x3e\x3c/div\x3e").appendTo(this.pageContainer));b.show()};r.prototype.hideLoader=function(){var b=$(this.pageContainer).find(".pageLoader");b[0]&&b.hide()};r.prototype.getZIndex=function(){return 0};r.prototype.jumpToGroup=function(b,c){var h=$(".dki-authoring-group[data-id\x3d'"+b+"']",this.pageContainer);h[0]&&("undefined"==
typeof c?h.velocity("scroll"):setTimeout(function(){h.velocity("scroll")},c))};r.prototype.getNarrationPlayer=function(){var b=$(".dki-authoring-element.dki-audio-element[data-narration\x3d1]",this.pageContainer);return b.length&&(b=this.mediaPlayers["content_"+b.data("id")])?b:null};r.prototype.pauseNarration=function(){var b=this.getNarrationPlayer();b&&b.jPlayer("pause")};r.prototype.playNarration=function(){var b=this.getNarrationPlayer();b&&b.jPlayer("play")};r.prototype.muteNarration=function(){var b=
this.getNarrationPlayer();b&&b.jPlayer("mute")};r.prototype.unmuteNarration=function(){var b=this.getNarrationPlayer();b&&b.jPlayer("unmute")};r.prototype.replayNarration=function(){var b=this.getNarrationPlayer();b&&l.play(b,this,0)};return r}();
DKI.ContentPage.events={resize:"PAGE_RESIZE",shown:"ELEMENT_SHOWN",hidden:"ELEMENT_HIDDEN",reset:"PAGE_RESET",ready:"PAGE_READY",loadFinished:"PAGE_LOADED",started:"PAGE_STARTED",elementDragStarted:"ELEMENT_DRAG_STARTED",elementDragStopped:"ELEMENT_DRAG_STOPPED",elementDragReverted:"ELEMENT_DRAG_REVERTED",elementDragDropped:"ELEMENT_DRAG_DROPPED",elementDropOut:"ELEMENT_DROP_OUT",elementDropOver:"ELEMENT_DROP_OVER",elementDropDropped:"ELEMENT_DROP_DROPPED",elementContentChanged:"ELEMENT_CONTENT_CHANGED",
elementContentViewed:"ELEMENT_CONTENT_VIEWED",elementAllContentViewed:"ELEMENT_ALL_CONTENT_VIEWED",questionElementSubmitted:"ELEMENT_QUESTION_SUBMITTED",markerTriggered:"ELEMENT_MARKER_TRIGGERED",actionFired:"actionFired",media:{started:"PAGE_MEDIA_STARTED",ended:"PAGE_MEDIA_ENDED",paused:"PAGE_MEDIA_PAUSED",played:"PAGE_MEDIA_PLAYED"},elementSwipeStart:"ELEMENTSWIPESTART",elementSwipeEnd:"ELEMENTSWIPEEND",elementReviewClicked:"ELEMENTREVIEWCLICKED",elementReview:"ELEMENTREVIEW",elementReviewComment:"ELEMENTREVIEWCOMMENT",
rootElementClicked:"ROOTELEMENTCLICKED",elementAccessibilityClicked:"ELEMENTACCESSIBILITYCLICKED",captureElementInteracted:"CAPTUREELEMENTINTERACTED",captureTestmeStepSubmitted:"CAPTURETESTMESTEPSUBMITTED",captureTestmeSubmitted:"CAPTURETESTMESUBMITTED",flashCardSubmitted:"FLASHCARDSUBMITTED",flashCardSetSubmitted:"FLASHCARDSETSUBMITTED",sectionBottomInView:"SECTIONBOTTOMINVIEW",scenarioOptionSelected:"SCENARIOOPTIONSELECTED",scenarioEnded:"SCENARIOENDED",categoryCard:{completed:"CATEGORYCARDCOMPLETED",
answered:"CATEGORYCARDANSWERED"}};DKI.applyIf(DKI.ContentPage,{waypointDefaults:{}});DKI.StandalonePage=function(b){var h=this;this.isStandalonePage=!0;this.groups=b.page.groups;this.parameters=b.page.parameters;this.superClass=DKI.ContentPage;this.superClass.apply(this,[b]);$(this.pageContainer).find(".pageElementsWrapper").on("scroll",function(){h.onWindowScroll($(this))})};DKI.StandalonePage.prototype=Object.create(DKI.ContentPage.prototype);DKI.StandalonePage.prototype.resize=function(){};
DKI.StandalonePage.prototype.getPageTransitionTime=function(){return 0};DKI.StandalonePage.prototype.renderPage=function(){$(this.pageContainer).html(DKI.renderService.renderPage(this.page,this.settings.course,!0))};DKI.StandalonePage.prototype.setMinHeight=function(){var b=$(this.pageContainer).find(".pageElementsWrapper")[0];this.superClass.prototype.setMinHeight.apply(this,[b,b.scrollHeight])};
DKI.StandalonePage.prototype.getZIndex=function(){return parseInt($(this.pageContainer).closest(".fancybox-container").css("z-index"),10)};function showElement(b,h){null!=b&&void 0!=b&&""!=b&&(b=b.split(","),player.contentPage.current.actionAPI.actionHandlers.show({id:null,targetElements:b,trigger:"click",parameters:{effect:h,effectOptions:{direction:"",duration:1E3}}},player.contentPage.current))}
function setVariableText(b,h,c){$(".dki-inline-variable[data-variable-id\x3d'"+b+"']",c.pageContainer).html(h);$("textarea.dki-element-content[data-variable-id\x3d'"+b+"']",c.pageContainer).val(h);$(".dki-input-element input[data-variable-id\x3d'"+b+"']",c.pageContainer).val(h)}
function hideElement(b,h){null!=b&&void 0!=b&&""!=b&&(b=b.split(","),player.contentPage.current.actionAPI.actionHandlers.hide({id:null,targetElements:b,trigger:"click",parameters:{effect:h,effectOptions:{direction:"",duration:1E3}}},player.contentPage.current))}
function showHideElement(b,h,c){null!=b&&void 0!=b&&""!=b&&(b=b.split(","),player.contentPage.current.actionAPI.actionHandlers.toggle({id:null,targetElements:b,trigger:"click",parameters:{showEffect:h,hideEffect:c,showEffectOptions:{direction:"",duration:1E3},hideEffectOptions:{direction:"",duration:1E3}}},player.contentPage.current))}
function processHrefTarget(b,h){try{b=b.toString();var c=b.split(",");for(h=0;h<c.length;h++){var l=c[h];$("#"+l+"_wrapper").addClass("dki-event-target");$("#"+l+"_wrapper").addClass("dki-imagemap-target");$("#"+l+"_wrapper").data("eventtargets",b)}}catch(m){l=b,$("#"+l+"_wrapper").addClass("dki-event-target"),$("#"+l+"_wrapper").addClass("dki-imagemap-target"),$("#"+l+"_wrapper").data("eventtargets",b)}}
function hideAllEventElements(){$(".dki-imagemap-target").addClass("hidden");$(document).trigger("imageMapFired",{message:"All image map targets hidden."})}function processHttpEvent(b){b=$(b).data("href");window.open(b,"hrefWindow","");$(document).trigger("imageMapFired",{message:"'"+b+"' was opened in a new window"})}
function synchonizeRowHeight(b){var h=b.width(),c=[{groups:[],tallest_height:0}],l=0;b.find("\x3e .dki-authoring-group").each(function(){var b=$(this);b.find(".dki-authoring-group-elements-wrapper").css({"padding-top":"","padding-bottom":""});l+=b.width();l>h&&(c.push({groups:[],tallest_height:0}),l=b.width());b.height()>c[c.length-1].tallest_height&&(c[c.length-1].tallest_height=b.height());c[c.length-1].groups.push(b)});$.each(c,function(){var c=this;$.each(c.groups,function(){var h=parseInt(b.data("vertical-align"),
10)/100,h={"padding-top":(c.tallest_height-this.height())*h+parseInt(this.css("padding-top").replace("px",""),10)};h["padding-bottom"]=c.tallest_height-(this.height()+h["padding-top"]);this.find(".dki-authoring-group-elements-wrapper").css(h)})})}
jQuery.fn.extend({capture:function(b,h){var c=$(this).data("cap");if(c){if(c[b])return c[b].apply(c,h);!$(this).hasClass("dki-capture-element")||"goToOverallStep"!==b&&"goToScene"!==b||(c=function(b){b[0]&&(settings.responsive?b.velocity("scroll",{duration:200,offset:-75}):b.velocity("scroll",{duration:200,offset:-75,container:b.closest(".dki-element-content")}))},"goToScene"===b?(b=$($(this).find(h[0])).closest(".panel"),c(b)):"goToOverallStep"===b&&(b=$($(this).find(".step").get(h[0]-1)),h=b.closest(".col-sm-12"),
h.css("position","static"),c(b),h.css("position","")))}}});DKI||(DKI={});
DKI.Scene=function(){var b=function(){var b=this;(new DKI.disabler({text:b.strings.clickToShow,onClick:function(h){h.hide();$(".pageElementsWrapper",b.pageContainer).append(b.narrationElement);b.mousePointer.show();c.stepForward.call(b)}})).show()},h=function(){var b=this;(new DKI.disabler({text:b.strings.clickToTry,onClick:function(h){h.hide();c.stepForward.call(b);$(".dki-hotspot-element",b.pageContainer).on("click",function(){c.stepForward.call(b)});$(".pageElementsWrapper",b.pageContainer).append(b.narrationElement)}})).show()},
c={start:function(){this.groups.hide();this.page.start();"show"==this.parameters.scene.type?b.call(this):h.call(this)},reset:function(b){b=DKI.applyIf(b,{timeout:0});var c=this,h=function(){c.currentGroup=null;c.currentGroupIndex=-1;c.highlightInterval&&clearInterval(c.highlightInterval);b.timeout=0;c.page.reset(b)};0<b.timeout?setTimeout(h,b.timeout):h()},onWindowResize:function(){this.page.onWindowResize()},stepForward:function(){var b=this;this.highlightInterval&&clearInterval(this.highlightInterval);
this.currentGroup&&this.currentGroup.hide();this.currentGroupIndex++;if(this.currentGroupIndex>=this.groups.length)this.currentGroup=null,this.currentGroupIndex=-1,this.mousePointer.hide(),contentApi.contentGoNext();else{this.currentGroup=$(this.groups[this.currentGroupIndex]);this.currentGroup.show();var h=$(".dki-hotspot-element",this.currentGroup);if("try"==this.parameters.scene.type)h.length?this.highlightInterval=setInterval(function(){h.effect("highlight",{},1500)},3500):c.stepForward.call(this);
else{var l=function(){if(h.length){this.mousePointer.show();var c={left:parseInt(h.css("left").split("px")[0],10),top:parseInt(h.css("top").split("px")[0],10)};c.top+=h.height()/2;c.left+=h.width()/2;this.mousePointer.animate(c,b.parameters.scene.stepDuration-1500,function(){h.effect("highlight",{color:"#FFCC66"},1500)})}};h.length||this.mousePointer.hide();var r=$(".dki-audio-element[data-narration\x3d1] .dki-element-content",this.currentGroup);if(r.length){var k=function(h){setTimeout(function(){c.stepForward.call(b)},
500);r.off($.jPlayer.event.ended,k)},p=function(c){l.call(b);r.off($.jPlayer.event.play,p)};r.on($.jPlayer.event.ended,k);r.on($.jPlayer.event.play,p)}else l.call(b),setTimeout(function(){c.stepForward.call(b)},b.parameters.scene.stepDuration)}}},stepBack:function(){this.currentGroup&&this.currentGroup.hide();this.currentGroupIndex--; -1==this.currentGroupIndex?(this.currentGroup=null,this.currentGroupIndex=-1):(this.currentGroup=$(this.groups[this.currentGroupIndex]),this.currentGroup.show())}},
l=function(b,c){var h=this;this.player=b;this.strings={clickToShow:"Click to start the simulation.",clickToTry:"Click to try the simulation."};this.page=c;this.parameters=c.page.parameters;DKI.applyIf(this.parameters,{scene:{stepDuration:2500}});this.behaviour=this.player.behaviour;this.inReview=this.player.inReview;this.settings=this.player.settings;this.pageContainer=this.page.pageContainer;this.mousePointer=$("\x3cdiv class\x3d'scene-mouse-pointer'\x3e\x3c/div\x3e");$(".pageElementsWrapper",this.pageContainer).append(this.mousePointer);
this.groups=$(".dki-authoring-group",this.pageContainer);this.currentGroup=null;this.currentGroupIndex=-1;this.highlightInterval=null;$.each(this.page,function(b){"undefined"==typeof h[b]&&DKI.isFunction(this)&&(h[b]=$.proxy(h.page[b],h.page))})};DKI.applyIf(l.prototype,c);return l}();DKI.Scene.events={finished:"SCENE_FINISHED",started:"SCENE_STARTED"};
(function(b){function h(b,c,h,k){h=null!=h?h:c;for(var l in b)b.hasOwnProperty(l)&&(h[l]=m.rewrite(l,b,c,k));return c}function c(b){return"[object Function]"===x.call(b)}var l=!1,m,q="_Class"+(new Date).getTime()+"_",n="_"+q+"_",r="_"+n+"_",k=/\b_parent\b/.test(function(){this._parent()}),p=k?/\b_parent\b/:/.*/,v=k?/\b_parent\b\./:/.*/,z=RegExp.prototype.test,x=Object.prototype.toString,A=function(){function b(h){if(this instanceof b)!1===l&&c(this.init)&&this.init.apply(this,"object"===typeof h&&
null!==h&&h.callee?h:arguments);else return new b(arguments)}b[n]=!0;return b},u=A();u.extend=function(b,c){var k=A(),n,p=this,q,u=p.prototype;"boolean"!==typeof b&&(c=b);c="object"===typeof c&&null!==c?c:{};q=c.prototype;for(n in p)p.hasOwnProperty(n)&&(k[n]=p[n]);if(!0===b||"object"===typeof q&&null!=q)h(c,p,k,m.initPopulator(p)),c=q;k.constructor=k;l=!0;q=new p;l=!1;c=c||{};h(c,u,q,m.initPopulator(u));k.prototype=q;k.prototype.constructor=k;k.inherits=function(b){return b===p||p.inherits(b)};return k};
u.addMethods=function(b){return h(b,this.prototype)};u.inherits=function(){return!1};u.prototype={addMethods:function(b){return h(b,this)}};v.test=function(b){return z.call(v,b)||!0===b[r]};m=function(b,c){return u.extend(b,c)};m.fnSearch=p;m.parentFnSearch=v;m.log_prefix="_Class";m.errors={logic_parent_call:"Logic error, unable to call the parent function since it isn't defined..",invalid_$:"Invalid data-type of the global '$' property"};m.makeClass=A;m.rewrite=function(b,h,k,l){return!c(h[b])||
!c(k[b])&&b in k||m.is(h[b])||!p.test(h[b])?h[b]:function(b,h,k){h||(h=function(){throw m.log_prefix+m.errors.logic_parent_call;});var l=!(!c(k)||!v.test(b)),n=function(){var c="_parent"in this,m=this._parent,n;if(!0===l){l=!1;n=k();for(var p in n)n.hasOwnProperty(p)&&(h[p]=n[p])}this._parent=h;this._parent[q]=this;n=b.apply(this,arguments);if(c)this._parent=m;else try{delete this._parent}catch(u){}return n};n[r]=l;return n}(h[b],k[b],l)};m.is=function(b){return!(!b||!0!==b[n])};m.initPopulator=function(b){var h;
return function(){if(null==h){h={};for(var k in b)c(b[k])&&(h[k]=function(b){return function(){return b.apply(this[q],arguments)}}(b[k]))}return h}};if(!b.$){if("$"in b)throw m.log_prefix+m.errors.invalid_$;b.$={}}b.$.Class=m})(this);
!function(){var b=function(h){var c=new b.Index;return c.pipeline.add(b.trimmer,b.stopWordFilter,b.stemmer),h&&h.call(c,c),c};b.version="0.5.4";b.utils={};b.utils.warn=function(b){return function(b){}}(this);b.EventEmitter=function(){this.events={}};b.EventEmitter.prototype.addListener=function(){var b=Array.prototype.slice.call(arguments),c=b.pop();if("function"!=typeof c)throw new TypeError("last argument must be a function");b.forEach(function(b){this.hasHandler(b)||(this.events[b]=[]);this.events[b].push(c)},
this)};b.EventEmitter.prototype.removeListener=function(b,c){this.hasHandler(b)&&(c=this.events[b].indexOf(c),this.events[b].splice(c,1),this.events[b].length||delete this.events[b])};b.EventEmitter.prototype.emit=function(b){if(this.hasHandler(b)){var c=Array.prototype.slice.call(arguments,1);this.events[b].forEach(function(b){b.apply(void 0,c)})}};b.EventEmitter.prototype.hasHandler=function(b){return b in this.events};b.tokenizer=function(b){if(!arguments.length||null==b||void 0==b)return[];if(Array.isArray(b))return b.map(function(b){return b.toLowerCase()});
for(var c=b.toString().replace(/^\s+/,""),l=c.length-1;0<=l;l--)if(/\S/.test(c.charAt(l))){c=c.substring(0,l+1);break}return c.split(/(?:\s+|\-)/).map(function(b){return b.toLowerCase()})};b.Pipeline=function(){this._stack=[]};b.Pipeline.registeredFunctions={};b.Pipeline.registerFunction=function(h,c){c in this.registeredFunctions&&b.utils.warn("Overwriting existing registered function: "+c);h.label=c;b.Pipeline.registeredFunctions[h.label]=h};b.Pipeline.warnIfFunctionNotRegistered=function(h){h.label&&
h.label in this.registeredFunctions||b.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",h)};b.Pipeline.load=function(h){var c=new b.Pipeline;return h.forEach(function(h){var m=b.Pipeline.registeredFunctions[h];if(!m)throw Error("Cannot load un-registered function: "+h);c.add(m)}),c};b.Pipeline.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(h){b.Pipeline.warnIfFunctionNotRegistered(h);this._stack.push(h)},
this)};b.Pipeline.prototype.after=function(h,c){b.Pipeline.warnIfFunctionNotRegistered(c);h=this._stack.indexOf(h)+1;this._stack.splice(h,0,c)};b.Pipeline.prototype.before=function(h,c){b.Pipeline.warnIfFunctionNotRegistered(c);h=this._stack.indexOf(h);this._stack.splice(h,0,c)};b.Pipeline.prototype.remove=function(b){b=this._stack.indexOf(b);this._stack.splice(b,1)};b.Pipeline.prototype.run=function(b){for(var c=[],l=b.length,m=this._stack.length,q=0;l>q;q++){for(var n=b[q],r=0;m>r&&(n=this._stack[r](n,
q,b),void 0!==n);r++);void 0!==n&&c.push(n)}return c};b.Pipeline.prototype.reset=function(){this._stack=[]};b.Pipeline.prototype.toJSON=function(){return this._stack.map(function(h){return b.Pipeline.warnIfFunctionNotRegistered(h),h.label})};b.Vector=function(){this._magnitude=null;this.list=void 0;this.length=0};b.Vector.Node=function(b,c,l){this.idx=b;this.val=c;this.next=l};b.Vector.prototype.insert=function(h,c){var l=this.list;if(!l)return this.list=new b.Vector.Node(h,c,l),this.length++;for(var m=
l,l=l.next;void 0!=l&&!(h<l.idx);)m=l,l=l.next;return m.next=new b.Vector.Node(h,c,l),this.length++};b.Vector.prototype.magnitude=function(){if(this._magniture)return this._magnitude;for(var b,c=this.list,l=0;c;)b=c.val,l+=b*b,c=c.next;return this._magnitude=Math.sqrt(l)};b.Vector.prototype.dot=function(b){var c=this.list;b=b.list;for(var l=0;c&&b;)c.idx<b.idx?c=c.next:c.idx>b.idx?b=b.next:(l+=c.val*b.val,c=c.next,b=b.next);return l};b.Vector.prototype.similarity=function(b){return this.dot(b)/(this.magnitude()*
b.magnitude())};b.SortedSet=function(){this.length=0;this.elements=[]};b.SortedSet.load=function(b){var c=new this;return c.elements=b,c.length=b.length,c};b.SortedSet.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(b){~this.indexOf(b)||this.elements.splice(this.locationFor(b),0,b)},this);this.length=this.elements.length};b.SortedSet.prototype.toArray=function(){return this.elements.slice()};b.SortedSet.prototype.map=function(b,c){return this.elements.map(b,c)};b.SortedSet.prototype.forEach=
function(b,c){return this.elements.forEach(b,c)};b.SortedSet.prototype.indexOf=function(b,c,l){c=c||0;l=l||this.elements.length;var m=l-c,q=c+Math.floor(m/2),n=this.elements[q];return 1>=m?n===b?q:-1:b>n?this.indexOf(b,q,l):n>b?this.indexOf(b,c,q):n===b?q:void 0};b.SortedSet.prototype.locationFor=function(b,c,l){c=c||0;l=l||this.elements.length;var m=l-c,q=c+Math.floor(m/2),n=this.elements[q];if(1>=m){if(n>b)return q;if(b>n)return q+1}return b>n?this.locationFor(b,q,l):n>b?this.locationFor(b,c,q):
void 0};b.SortedSet.prototype.intersect=function(h){var c=new b.SortedSet,l=0,m=0,q=this.length,n=h.length,r=this.elements;for(h=h.elements;!(l>q-1||m>n-1);)r[l]!==h[m]?r[l]<h[m]?l++:r[l]>h[m]&&m++:(c.add(r[l]),l++,m++);return c};b.SortedSet.prototype.clone=function(){var h=new b.SortedSet;return h.elements=this.toArray(),h.length=h.elements.length,h};b.SortedSet.prototype.union=function(b){var c,l,m;return this.length>=b.length?(c=this,l=b):(c=b,l=this),m=c.clone(),m.add.apply(m,l.toArray()),m};
b.SortedSet.prototype.toJSON=function(){return this.toArray()};b.Index=function(){this._fields=[];this._ref="id";this.pipeline=new b.Pipeline;this.documentStore=new b.Store;this.tokenStore=new b.TokenStore;this.corpusTokens=new b.SortedSet;this.eventEmitter=new b.EventEmitter;this._idfCache={};this.on("add","remove","update",function(){this._idfCache={}}.bind(this))};b.Index.prototype.on=function(){var b=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,
b)};b.Index.prototype.off=function(b,c){return this.eventEmitter.removeListener(b,c)};b.Index.load=function(h){h.version!==b.version&&b.utils.warn("version mismatch: current "+b.version+" importing "+h.version);var c=new this;return c._fields=h.fields,c._ref=h.ref,c.documentStore=b.Store.load(h.documentStore),c.tokenStore=b.TokenStore.load(h.tokenStore),c.corpusTokens=b.SortedSet.load(h.corpusTokens),c.pipeline=b.Pipeline.load(h.pipeline),c};b.Index.prototype.field=function(b,c){c=c||{};return this._fields.push({name:b,
boost:c.boost||1}),this};b.Index.prototype.ref=function(b){return this._ref=b,this};b.Index.prototype.add=function(h,c){var l={},m=new b.SortedSet,q=h[this._ref];c=void 0===c?!0:c;this._fields.forEach(function(c){var k=this.pipeline.run(b.tokenizer(h[c.name]));l[c.name]=k;b.SortedSet.prototype.add.apply(m,k)},this);this.documentStore.set(q,m);b.SortedSet.prototype.add.apply(this.corpusTokens,m.toArray());for(var n=0;n<m.length;n++){var r=m.elements[n],k=this._fields.reduce(function(b,c){var h=l[c.name].length;
if(!h)return b;var k=l[c.name].filter(function(b){return b===r}).length;return b+k/h*c.boost},0);this.tokenStore.add(r,{ref:q,tf:k})}c&&this.eventEmitter.emit("add",h,this)};b.Index.prototype.remove=function(b,c){var l=b[this._ref];c=void 0===c?!0:c;if(this.documentStore.has(l)){var m=this.documentStore.get(l);this.documentStore.remove(l);m.forEach(function(b){this.tokenStore.remove(b,l)},this);c&&this.eventEmitter.emit("remove",b,this)}};b.Index.prototype.update=function(b,c){c=void 0===c?!0:c;this.remove(b,
!1);this.add(b,!1);c&&this.eventEmitter.emit("update",b,this)};b.Index.prototype.idf=function(b){var c="@"+b;if(Object.prototype.hasOwnProperty.call(this._idfCache,c))return this._idfCache[c];b=this.tokenStore.count(b);var l=1;return 0<b&&(l=1+Math.log(this.tokenStore.length/b)),this._idfCache[c]=l};b.Index.prototype.search=function(h){h=this.pipeline.run(b.tokenizer(h));var c=new b.Vector,l=[],m=this._fields.reduce(function(b,c){return b+c.boost},0);if(!h.some(function(b){return this.tokenStore.has(b)},
this))return[];h.forEach(function(h,n,r){var k=1/r.length*this._fields.length*m,p=this;n=this.tokenStore.expand(h).reduce(function(l,m){var n=p.corpusTokens.indexOf(m),r=p.idf(m),u=1,C=new b.SortedSet;m!==h&&(u=1/Math.log(Math.max(3,m.length-h.length)));return-1<n&&c.insert(n,k*r*u),Object.keys(p.tokenStore.get(m)).forEach(function(b){C.add(b)}),l.union(C)},new b.SortedSet);l.push(n)},this);return l.reduce(function(b,c){return b.intersect(c)}).map(function(b){return{ref:b,score:c.similarity(this.documentVector(b))}},
this).sort(function(b,c){return c.score-b.score})};b.Index.prototype.documentVector=function(h){for(var c=this.documentStore.get(h),l=c.length,m=new b.Vector,q=0;l>q;q++){var n=c.elements[q],r=this.tokenStore.get(n)[h].tf,k=this.idf(n);m.insert(this.corpusTokens.indexOf(n),r*k)}return m};b.Index.prototype.toJSON=function(){return{version:b.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),
pipeline:this.pipeline.toJSON()}};b.Index.prototype.use=function(b){var c=Array.prototype.slice.call(arguments,1);c.unshift(this);b.apply(this,c)};b.Store=function(){this.store={};this.length=0};b.Store.load=function(h){var c=new this;return c.length=h.length,c.store=Object.keys(h.store).reduce(function(c,m){return c[m]=b.SortedSet.load(h.store[m]),c},{}),c};b.Store.prototype.set=function(b,c){this.store[b]=c;this.length=Object.keys(this.store).length};b.Store.prototype.get=function(b){return this.store[b]};
b.Store.prototype.has=function(b){return b in this.store};b.Store.prototype.remove=function(b){this.has(b)&&(delete this.store[b],this.length--)};b.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}};b.stemmer=function(){var b={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},
c={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""};return function(l){var m,q,n,r,k,p;if(3>l.length)return l;if(n=l.substr(0,1),"y"==n&&(l=n.toUpperCase()+l.substr(1)),r=/^(.+?)(ss|i)es$/,q=/^(.+?)([^s])s$/,r.test(l)?l=l.replace(r,"$1$2"):q.test(l)&&(l=l.replace(q,"$1$2")),r=/^(.+?)eed$/,q=/^(.+?)(ed|ing)$/,r.test(l)){var v=r.exec(l);r=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/;r.test(v[1])&&(r=/.$/,l=l.replace(r,""))}else q.test(l)&&(v=q.exec(l),m=v[1],q=/^([^aeiou][^aeiouy]*)?[aeiouy]/,
q.test(m)&&(l=m,q=/(at|bl|iz)$/,k=/([^aeiouylsz])\1$/,p=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,q.test(l)?l+="e":k.test(l)?(r=/.$/,l=l.replace(r,"")):p.test(l)&&(l+="e")));if(r=/^(.+?[^aeiou])y$/,r.test(l))v=r.exec(l),m=v[1],l=m+"i";if(r=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,r.test(l))v=r.exec(l),m=v[1],q=v[2],r=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,r.test(m)&&(l=m+b[q]);if(r=
/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,r.test(l))v=r.exec(l),m=v[1],q=v[2],r=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,r.test(m)&&(l=m+c[q]);(r=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,q=/^(.+?)(s|t)(ion)$/,r.test(l))?(v=r.exec(l),m=v[1],r=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,r.test(m)&&(l=m)):q.test(l)&&(v=q.exec(l),m=v[1]+v[2],q=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,
q.test(m)&&(l=m));if(r=/^(.+?)e$/,r.test(l))v=r.exec(l),m=v[1],r=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,q=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$/,k=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,(r.test(m)||q.test(m)&&!k.test(m))&&(l=m);return r=/ll$/,q=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,r.test(l)&&q.test(l)&&(r=/.$/,l=l.replace(r,"")),"y"==n&&(l=n.toLowerCase()+
l.substr(1)),l}}();b.Pipeline.registerFunction(b.stemmer,"stemmer");b.stopWordFilter=function(h){return-1===b.stopWordFilter.stopWords.indexOf(h)?h:void 0};b.stopWordFilter.stopWords=new b.SortedSet;b.stopWordFilter.stopWords.length=119;b.stopWordFilter.stopWords.elements=" a able about across after all almost also am among an and any are as at be because been but by can cannot could dear did do does either else ever every for from get got had has have he her hers him his how however i if in into is it its just least let like likely may me might most must my neither no nor not of off often on only or other our own rather said say says she should since so some than that the their them then there these they this tis to too twas us wants was we were what when where which while who whom why will with would yet you your".split(" ");
b.Pipeline.registerFunction(b.stopWordFilter,"stopWordFilter");b.trimmer=function(b){return b.replace(/^\W+/,"").replace(/\W+$/,"")};b.Pipeline.registerFunction(b.trimmer,"trimmer");b.TokenStore=function(){this.root={docs:{}};this.length=0};b.TokenStore.load=function(b){var c=new this;return c.root=b.root,c.length=b.length,c};b.TokenStore.prototype.add=function(b,c,l){l=l||this.root;var m=b[0];b=b.slice(1);return m in l||(l[m]={docs:{}}),0===b.length?(l[m].docs[c.ref]=c,void(this.length+=1)):this.add(b,
c,l[m])};b.TokenStore.prototype.has=function(b){if(!b)return!1;for(var c=this.root,l=0;l<b.length;l++){if(!c[b[l]])return!1;c=c[b[l]]}return!0};b.TokenStore.prototype.getNode=function(b){if(!b)return{};for(var c=this.root,l=0;l<b.length;l++){if(!c[b[l]])return{};c=c[b[l]]}return c};b.TokenStore.prototype.get=function(b,c){return this.getNode(b,c).docs||{}};b.TokenStore.prototype.count=function(b,c){return Object.keys(this.get(b,c)).length};b.TokenStore.prototype.remove=function(b,c){if(b){for(var l=
this.root,m=0;m<b.length;m++){if(!(b[m]in l))return;l=l[b[m]]}delete l.docs[c]}};b.TokenStore.prototype.expand=function(b,c){var l=this.getNode(b),m=l.docs||{};c=c||[];return Object.keys(m).length&&c.push(b),Object.keys(l).forEach(function(l){"docs"!==l&&c.concat(this.expand(b+l,c))},this),c};b.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}};(function(b,c){"function"==typeof define&&define.amd?define(c):"object"==typeof exports?module.exports=c():b.lunr=c()})(this,
function(){return b})}();DKI||(DKI={});
DKI.EndModule=function(){var b,h,c,l,m,q,n,r,k,p,v,z=Handlebars.compile(DKI.templates.endScreenTestItem),x,A=function(){objects={};if(showScore=k&&l.showObjectTestSummary)$.each(k.answered,function(){objects[this.objectid]||(objects[this.objectid]={questions:[],object:c.findObject(this.objectid),showScore:l.showObjectTestSummary});objects[this.objectid].questions.push(this)}),$.each(k.unanswered,function(){objects[this.objectid]||(objects[this.objectid]={questions:[],object:c.findObject(this.objectid),
showScore:l.showObjectTestSummary});this.points=0;objects[this.objectid].questions.push(this)});$.each(m.objects,function(b,c){objects[this.objectid]||(b=this.subeos.reduce(function(b,c){return b+(c.complete?1:0)},0)/this.subeos.length*100,b={completion:b,isComplete:100==b,object:this},l.showObjectTestSummary&&0<this.questions.length&&this.testing&&(b.showScore=!0,b.questions=this.questions),objects[this.objectid]=b)});var b=[];$.each(objects,function(){b.push(this)});b.sort(function(b,c){return b.object.eoorder-
c.object.eoorder});return b},u=function(){v.data("flickity")||(flickConfig={cellAlign:"left",wrapAround:!1,autoPlay:!1,prevNextButtons:!1},$("html").hasClass("rtl")&&(flickConfig.rightToLeft=!0),v.flickity(flickConfig).attr("tabindex","-1"))},C=function(){return v.find(".objectTestItem").toArray().reduce(function(b,c){return b+$(c).outerWidth()},0)},B=DKI.func.debounce(function(){C()>v.width()||768>=window.innerWidth?(u(),v.flickity("resize")):v.data("flickity")&&v.flickity("destroy");v.find(".testItemContentContainer").each(function(){var b=
$(this).width()-2*parseInt($(this).find(".gaugecont").css("padding-left"));if($(this).find(".gaugecont").outerWidth()>b||124>$(this).find(".radial").width())b=Math.min(b-$(this).find(".scoreDisp").outerWidth(),124),$(this).find(".radial").RadialGauge("resize",b).parent().css({height:b,width:b})})},50),y=function(){requireFns.getFlickity($.proxy(function(){var b=v;$.each(A(),function(c,l){c={strings:DKI.strings,responsive:settings.responsive,object:{name:l.object.name,linkSubeoId:""}};var m=l.completion;
if(l.showScore){var p=0,q=0;$.each(l.questions,function(){p+=this.weight;this.points&&(q+=this.points)});c.object.score=Math.floor(q/p*100);c.object.totalWeight=p;c.object.points=parseFloat(q.toFixed(1),10);c.forTesting=!0;m=c.object.score}else c.isComplete=l.isComplete,c.gaugeLabel=DKI.strings.endMod.learningStatusLabel+": "+l.completion+"%";0<l.object.subeos.length&&!h&&(c.object.linkSubeoId=l.object.subeos[0].subeoid);c.strings=n;c=$(z(c));b.append(c);var u=c.find(".radial");u.RadialGauge({width:124,
asPercent:!0});u.RadialGauge("resize");k&&2!=l.object.testing||l.completion?u.data("setValue",$.proxy(function(){u.RadialGauge("setRotation",m)},this)):u.RadialGauge("setText","N/A");flickConfig={cellAlign:"left",wrapAround:!1,autoPlay:!1,prevNextButtons:!1,adaptiveHeight:!0};$("html").hasClass("rtl")&&(flickConfig.rightToLeft=!0)});(C()>b.width()||768>=window.innerWidth)&&u();if(settings.responsive)$(window).off("resize",B).on("resize",B);B();setTimeout(function(){$(".radial",v).each(function(){$(this).data("setValue")&&
$(this).data("setValue")()})},100)},this))};return{init:function(p,q){b=p;c=b.dataStorage;h=b.course.testonly;l=b.behaviour;n=p.strings;b.inAssessment||b.inReview?(k=c.assessment,b.inReview&&(k=k.test),r=c.assessment.prepost,m=k.module):(r="content",m=c.currentModule,k=m.lastAssessment?m.lastAssessment:null);q&&(p=Handlebars.compile(DKI.templates.endModule)({strings:DKI.strings,module:m,responsive:settings.responsive}),$(q).html(p));$(document).trigger(DKI.EndModule.events.ready)},start:function(){b.stopContentTimer(!0);
var u=b.pageFrames.current,z=m.passing_mark&&""!=m.passing_mark?m.passing_mark:b.course.passmark,A,C,B;x=$(".endScreen",u);$(".status",u);A=$(".endMod_revisitLink",u);C=$(".endMod_reviewLink",u);v=$("#endMod_testScoreDetails",u);B=$("#endMod_actions",u);$(document).trigger(DKI.ContentPage.events.resize,b.settings.courseHeight);p=$(".endMod_testingLink",u);C.hide();B.on(settings.clickEvent,".endMod_revisitLink a",function(){b.jumpToModule(m)});q=c.getModuleCompletion(m);B="content"===r?c.getModuleScoringDetails(m):
{score:k.getScore(),points:k.getPoints(),weight:k.getWeight()};c.moduleHasTest(m)&&0!=c.remainingPostAttempts(m)&&l.enablePostTest?"pre"!==r&&0<c.remainingPostAttempts(m)&&(m.post&&0<m.post.attempts&&(p.find("a").text(n.retakeTest),p.addClass("endMod_retakeTest")),p.find("a").removeClass("disabled"),p.find("a").on(settings.clickEvent,function(){p.find("a").off(settings.clickEvent);b.launchTest(m.loid,"post")})):p.hide();if(k&&("pre"==k.prepost&&l.enablePreTestReview||"post"==k.prepost&&l.enablePostTestReview)){C.find("a").on(settings.clickEvent,
function(){if($(this).hasClass("disabled"))return!1;b.launchReview(k)});C.show();settings.responsive&&p.removeClass("col-xs-12").addClass("col-xs-6");var K=B.score>=z;if("pre"==k.prepost){var H=playerBehaviour.reviewPreLimit;H&&!K&&C.find("a").addClass("disabled")}"post"==k.prepost&&(H=playerBehaviour.reviewPostLimit)&&!K&&C.find("a").addClass("disabled")}$(".endMod_learningLink",u).on(settings.clickEvent,function(){b.resume("pre"===r)});h?($("#endMod_learningLine",u).hide(),A.hide()):$("#endMod_learningStatus",
u).text(Math.floor(q)+" %");isNaN(parseInt(B.score,"10"))?($("#endMod_testScore",u).text(n.txtNotAvailableShort),$("#endMod_testPoints",u).text(""),$("#endMod_scoreLine",u).hide(),$("#endMod_learningStatus_container").removeClass("squareSide"),$(".passCont",u).attr("tab-index","-1")):($("#endMod_testScore",u).html(Math.floor(B.score)+" %"),$("#endMod_testPoints",u).html(" ("+parseFloat(B.points,10)+" / "+B.weight+" "+n.txtPoints+")"),l.displayPass&&l.passModules&&0<B.weight&&(A=B.score>=z?n.passText:
n.failText,C=B.score>=z?"pass":"fail",x.addClass("showPassing"),$(".passCont",u).addClass(C),$(".endMod_passingScore",u).text(DKI.strings.endMod.passingScoreLabel+" "+Math.floor(z)+"%"),$(".endMod_passStatus",u).text(A),$(".endMod_testScore",u).text(Math.floor(B.score)+"%")),$("#endMod_learningStatus_container").addClass("squareSide"),$("#endMod_scoreLine").addClass("squareSide"));y();v.on(settings.clickEvent,".subeoLink",function(){var b=$(this).data("subeoid");contentApi.jumpToSubeo(b)});h&&v.find(".subeoLink").remove();
$(u).removeClass($(u).data("current_player_background")).addClass("player_background_summary").data("current_player_background","player_background_summary");$(document).trigger(DKI.EndModule.events.started)},destroy:function(){$(window).off("resize",B);if(v&&v.data("flickity"))try{v.flickity("destroy")}catch(b){}}}}();DKI.EndModule.events={ready:"END_MODULE_READY",started:"END_MODULE_STARTED"};DKI||(DKI={});
DKI.EndTest=function(){var b,h,c,l,m,q,n,r,k;return{init:function(c,v){b=c.course;h=c.dataStorage;l=h.assessment;q=c.behaviour;m=l.module.name;k=c;$("#endTest_moduleName",v).text(m);$("#endTest_learningLink",v).on(settings.clickEvent,function(){c.resume()});$("#endTest_reviewLink",v).on(settings.clickEvent,function(){c.launchReview(l)});$("#endTest_revisitLink",v).on(settings.clickEvent,function(){c.jumpToModule(l.module)});r=$("#endTest_retakeTest",v).on(settings.clickEvent,function(){c.launchTest(l.module,
"post")});n=c.strings;$(document).trigger(DKI.EndTest.events.ready)},start:function(){var m,v;m=l.module;var z=$(".status",void 0),x=m.passMark?m.passMark:k.course.passMark;$(document).trigger(DKI.ContentPage.events.resize,k.settings.courseHeight);(b.testonly||"pre"===l.prepost)&&$("#endTest_revisitLink",void 0).css("display","none");"pre"===l.prepost?r.css("display","none"):0===h.remainingPostAttempts(l.module)&&r.unbind().addClass("disabled");c=h.getAssessmentScoringDetails();$("#endTest_testScore",
void 0).text(Math.floor(c.score)+"% ("+c.points+"/"+c.weight+" "+n.txtPoints+")");("pre"==l.prepost&&q.enablePreTestReview||"post"==l.prepost&&q.enablePostTestReview)&&$("#endTest_reviewLink",void 0).css("display","");q.displayPass&&q.passModules&&(m=c.score>=x?n.passText:n.failText,v=c.score>=x?"pass":"fail",z.addClass("showPassing"),$(".endMod_passingScore",void 0).text(x+"%"),$(".endMod_passStatus",void 0).text(" - "+m+" - ").addClass(v),$("#endTest_testScore",void 0).removeClass("dki-themeTextColor").addClass(v));
$(document).trigger(DKI.EndTest.events.started)}}}();DKI.EndTest.events={ready:"END_TEST_READY",started:"END_TEST_STARTED"};DKI||(DKI={});
DKI.EndCourse=function(){var b,h,c,l,m,q,n,r,k,p,v,z,x,A,u=Handlebars.compile(DKI.templates.CourseEndScreenTestItem),C,B,y=function(){C.data("flickity")||(flickConfig={cellAlign:"left",wrapAround:!1,autoPlay:!1,prevNextButtons:!1,adaptiveHeight:!0},$("html").hasClass("rtl")&&(flickConfig.rightToLeft=!0),C.flickity(flickConfig).attr("tabindex","-1"))},E=function(){return C.find(".objectTestItem").toArray().reduce(function(b,c){return b+$(c).outerWidth()},0)},F=DKI.func.debounce(function(){E()>C.width()||
768>=window.innerWidth?(C.removeClass("flex flexrow"),y(),C.flickity("resize")):C.data("flickity")&&(C.flickity("destroy"),C.addClass("flex flexrow"));C.find(".testItemContentContainer").each(function(){var b=$(this).width()-2*parseInt($(this).find(".gaugecont").css("padding-left"));if($(this).find(".gaugecont").outerWidth()>b||124>$(this).find(".radial").width())b=Math.min(b-$(this).find(".scoreDisp").outerWidth(),124),$(this).find(".radial").RadialGauge("resize",b).parent().css({height:b,width:b})})},
50),D=function(){requireFns.getFlickity($.proxy(function(){var b=h.getModuleSummaryData();$.each(b,function(){void 0!==this.weight&&(this.showWeight=!0);playerBehaviour.passModules&&this.failed&&(this.requiresPass=!0,c.displayPass&&(this.showPass=!0));this.responsive=settings.responsive;this.strings=DKI.strings;var b=this.completion;this.showScore?b=this.score:this.gaugeLabel=DKI.strings.endMod.learningStatusLabel+": "+this.completion+"%";var h=$(u(this));!this.noAttempts&&this.showScore||h.find(".retake").remove();
C.append(h);var k=h.find(".radial");k.RadialGauge({width:124,asPercent:!0});k.RadialGauge("resize");this.text?k.RadialGauge("setText",this.text):k.data("setValue",$.proxy(function(){k.RadialGauge("setRotation",b)},this));this.showScore&&c.displayPass?k.addClass("fill-"+(this.failed?"fail":"pass")):k.addClass("fill-primary")});$(".objectTestItem",x).delegate(".retake",settings.clickEvent,function(){r.launchTest($(this).attr("data-moduleid"),"post")});$(".objectTestItem",x).delegate(".view",settings.clickEvent,
function(){r.jumpToModule($(this).data("moduleid"))});takeTestLink.on(r.settings.clickEvent,function(){r.launchTest($(this).attr("data-moduleid"),"post")});E()>C.width()||768>=window.innerWidth?(C.removeClass("flex flexrow"),y()):C.addClass("flex flexrow");if(settings.responsive)$(window).off("resize",F).on("resize",F);F();setTimeout(function(){$(".radial",C).each(function(){$(this).data("setValue")&&$(this).data("setValue")()})},100);$(document).trigger(DKI.EndCourse.events.scoringDetailsRendered)},
this))};return{init:function(b,k){h=b.dataStorage;n=b.course;c=b.behaviour;l=h.currentModule;r=b;z=b.strings;if(x=k)b=Handlebars.compile(DKI.templates.endCourse)({strings:DKI.strings,course:n,responsive:settings.responsive}),$(k).html(b);$(document).trigger(DKI.EndCourse.events.ready)},start:function(){var u,y;$(document).trigger(DKI.ContentPage.events.resize,r.settings.courseHeight);A=$("#endCourse_bibliographyLink a",x);b=$("#endCourse_certificateLink a",x);$("#endCourse_exitLink a",x);k=$("#endCourse_testing",
x);takeTestLink=$("#endCourse_takeTestLink a");C=$("#endCourse_testScoreDetails");$("div",k[0]);m=h.getCourseScoringDetails();q=h.getCourseCompletion();h.remainingPostAttempts(l);B=$(".endScreen",x);c.displayPass&&0<m.weight&&B.addClass("showPassing");c.enablePostTest?D():k.hide();n.testonly&&($("#endCourse_learningLine",x).hide(),$("#testingLine").removeClass("squareSide"));isNaN(parseInt(q,10))&&($("#endCourse_learningLine",x).hide(),$("#testingLine").removeClass("squareSide"));!isNaN(parseInt(m.score,
10))&&h.hasTesting()&&(c.enablePreTest||c.enablePostTest)&&(p=$(".endCourse_testScore",x),v=$(".endCourse_passStatus",x),p.html(Math.floor(m.score)+"%"),p.text(Math.floor(m.score)+"%"),c.displayPass&&0<m.weight?($(".objectTestItem.requiresPass",x)[0]&&playerBehaviour.passModules?$(".endCourse_passingScore",x).remove():$(".endCourse_passingScore",x).text(DKI.strings.endMod.passingScoreLabel+" "+Math.floor(h.courseStructure.passmark)+"%"),"passed"===h.lessonStatus?($(".passCont",x).addClass("pass"),
u=z.passText,""!==n.passText&&(u=n.passText),y="pass"):"failed"===h.lessonStatus?($(".passCont",x).addClass("fail"),u=z.failText,""!==n.failText&&(u=n.failText),y="fail"):($(".passCont",x).addClass("incomplete"),u=z.incompleteText,y="incomplete",p.remove()),v.text(u).addClass(y),$(".endScreen",x).addClass("showStatusText")):($(".endMod_passingScore",x).remove(),$(".endMod_passStatus",x).remove(),$(".passCont",x).attr("tabindex","-1")));c.completionCertificate&&($(".endScreen",x).addClass("showCertificate"),
b.attr("tabindex","-1"));c.showBibliography&&DKI.reference.courseHasReferences()&&($(".endScreen",x).addClass("showBibliography"),A.on(r.settings.clickEvent,function(){DKI.reference.showBibliography()}));if("complete"===h.lessonStatus||"passed"===h.lessonStatus)b.removeClass("disabled").attr("tabindex","1"),b.on(settings.clickEvent,function(){r.loadCertificate()});$("#endCourse_testLink",x).on(settings.clickEvent,function(){this.contentFrame.attr("src",this.settings.endCourseURL);r.launchTest(l.loid,
"post")});$("#endCourse_exitLink",x).on(settings.clickEvent,function(){r.exitCourse()});$(x).removeClass($(x).data("current_player_background")).addClass("player_background_summary").data("current_player_background","player_background_summary");$(document).trigger(DKI.EndCourse.events.started)},destroy:function(){$(window).off("resize",F);if(C&&C.data("flickity"))try{C.flickity("destroy")}catch(b){}}}}();DKI.EndCourse.events={ready:"END_COURSE_READY",started:"END_COURSE_STARTED",scoringDetailsRendered:"END_COURSE_SCORING_DETAILS_RENDERED"};
DKI||(DKI={});
DKI.CompletionCertificate=function(){var b,h=function(c){var h=Handlebars.compile(DKI.templates.certificate.body)({strings:DKI.strings});$(c).html(h);var m=document.getElementById("certificate_studentName"),q=document.getElementById("certificate_courseName"),n=document.getElementById("certificate_date"),r=document.getElementById("certificate_print"),k=function(b,c){try{b.innerHTML=c}catch(h){b.innerText=c}};b.getStudentName(function(c){k(m,c);k(q,b.getCourseName());k(n,(new Date).toLocaleDateString());$(r).on(settings.clickEvent,
function(c){b.printPage();return!1})})};return{init:function(c,l){b=c.contentAPI;l&&h(l);$(document).trigger(DKI.CompletionCertificate.events.ready)},start:function(){$(document).trigger(DKI.CompletionCertificate.events.started)}}}();DKI.CompletionCertificate.events={ready:"COMPLETION_CERTIFICATE_READY",started:"COMPLETION_CERTIFICATE_STARTED"};
DKI.Modal=function(){var b,h={method:"GET",display:"modal",name:"modalWindowName"},c={},l=null,m=null,q={appendDataToUrl:function(b){var c=q.getData();b=null===b.match(/\?/)?b+"?":b+"\x26";return b+c},getData:function(){var b="courseID\x3d"+contentApi.getCourseID()+"\x26pageID\x3d"+contentApi.getPageID()+"\x26objectID\x3d"+contentApi.getObjectID()+"\x26userID\x3d"+contentApi.getUserID();if("object"==typeof c.parameters)for(var h in c.parameters)c.parameters.hasOwnProperty(h)&&(b+="\x26"+h+"\x3d"+
c.parameters[h]);return b},loadModalGET:function(c){var h=null,l=null,m=!0,n=DKI.func.debounce(function(){r()},75,!1),r=function(){var b=$(".fancybox-item.fancybox-close",l),c=$(".fancybox-stage .fancybox-content",l),h=c.offset().top-window.pageYOffset-9,c=c.offset().left+c.outerWidth()-$(window).width()-25;b.css({top:h+"px",left:c+"px"})};$.fancybox.open({type:"iframe",src:q.appendDataToUrl(c.url),iframe:{preload:!1},btnTpl:{close:'\x3cdiv class\x3d"fancybox-item fancybox-close"data-fancybox-close aria-label\x3d"'+
player.strings.buttonLabelClose+'" role\x3d"button" \x3e\x3c/div\x3e'},afterShow:function(){m=!1;r();b=this;modalFrame=this.content;c.callback&&c.callback();setTimeout(function(){m=!0},1E3)},beforeShow:function(b,c,k){c=this.$slide.closest(".fancybox-inner");h=b;l=c;h.$refs.container.on("onUpdate.fb",n)},afterClose:function(){h.$refs.container.off("onUpdate.fb",null,n);l=h=null},beforeClose:function(){return m}})},loadModalPOST:function(b){q.postURL(modalFrame.attr("name"))},loadWindowGET:function(c){b=
window.open(q.appendDataToUrl(c.url));b.focus()},loadWindowPOST:function(c){b=window.open("about:blank");q.postURL(b.name);b.focus()},postURL:function(h){null===l?(l=document.createElement("form"),l.className="modalPoster",l.method="POST",body.append(l)):l.innerHTML="";h&&(m=h);l.target=m;l.action=c.url;l.appendChild(q.buildHiddenInput("courseID",contentApi.getCourseID()));l.appendChild(q.buildHiddenInput("userID",contentApi.getUserID()));l.appendChild(q.buildHiddenInput("objectID",contentApi.getObjectID()));
l.appendChild(q.buildHiddenInput("pageID",contentApi.getPageID()));if("object"==typeof c.parameters)for(var n in c.parameters)c.parameters.hasOwnProperty(n)&&l.appendChild(q.buildHiddenInput(n,c.parameters[n]));$.fancybox({type:"inline",content:l,tpl:DKI.templates.popupPanel,afterShow:function(){b=this;l.submit()}})},buildHiddenInput:function(b,c){var h=document.createElement("input");h.type="hidden";h.name=b;h.value=c;return h}},n={onPageLoaded:function(){modalOpen&&!c.persist?r.hide():!0===modalOpen?
"GET"===c.method.toUpperCase()?modalFrame.attr("src",q.appendDataToUrl(c.url)):q.postURL():b&&!b.closed?"GET"===c.method.toUpperCase()?q.loadWindowGET(c):q.postURL():contentApi.playerEvent.remove("pageLoaded",n.onPageLoaded)},onPostCompleteModal:function(b){modalFrame.on("load.modalPost",function(){modalFrame[0].contentWindow.document.write(b.responseText)});modalFrame.attr("src","about:blank")},onPostCompleteWindow:function(c){b.document.write(c.responseText)}},r={show:function(b){b&&(c=DKI.applyIf(b,
h));"modal"===c.display.toLowerCase()?"GET"==c.method.toUpperCase()?q.loadModalGET(c):q.loadModalPOST(c):"GET"==c.method.toUpperCase()?q.loadWindowGET(c):q.loadWindowPOST(c);if(!0===c.persist)contentApi.playerEvent.on("pageLoaded",n.onPageLoaded)},hide:function(){b.close()}};return r}();
DKI.PopupPanel=function(){var b=function(){return{html:"",autoFocus:!1,modal:!1,returnFocus:null,title:"\x26nbsp;",effect:"fade",zIndex:0,style:"",domStyles:"",tabContent:!0,autoResize:settings.responsive?!0:!1,autoCenter:settings.responsive?!0:!1,id:"dki_"+Math.random().toString(36).substr(2,9),addClass:"",role:"dialog",strings:{close:playerStrings&&playerStrings.buttonLabelClose?playerStrings.buttonLabelClose:"Close"},onHide:function(){}}},h=null,c={setVariables:function(b){b.find(".dki-inline-variable").each(function(){var b=
contentApi.getData($(this).data("variable-id"));$(this).html(b)})},adjustHeight:function(b){var c=b.show().find(".modal-header").css("height").replace("px",""),h=b.find(".modal-header").css("height").replace("px",""),c=window.innerHeight-parseInt(c,10)-parseInt(h,10),c=0<c?c:100;b.find(".modal-body").css({"max-height":c+"px","overflow-y":"auto"})}},l={show:function(m){contentApi.hideAllPopups();if(m)var n=DKI.applyIf(m,b());if(n.popupType){var r=$("#action_popup_"+n.id);r[0]&&r.remove();var k=DKI.templates.alertPanel,
p=n.title?"h1.modal-title":"div.modal-body",r="hidden.bs.modal";switch(n.popupType.type){case "notification":k=DKI.templates.notificationPanel,p=n.title?"span.modal-title":"div.alert-content",r="closed.bs.alert"}m.alignMiddle="middle"==m.popupType.mod.replace(/fill/g,"").trim();m.exit=!("banner"==m.popupType.type&&"middle"==m.popupType.mod);var v=$(k(m));v.addClass(m.addClass);v.data("contentFocus",p?v.find(p):v);c.setVariables(v);$("body").append(v);$(".fancybox-container").length&&(k=parseInt($(".fancybox-container").css("z-index"))+
parseInt(v.css("z-index")),v.css("z-index",k));v.on(r,function(){var b=$("div.popup.modal:visible, .fancybox-inner:visible").last();b.length?(DKI.enforceFocus(b),b=b.find("*[tabindex\x3d'1']:not(.close):not(.fancybox-close)"),b.length&&b[0].focus()):m.returnFocus&&setTimeout(function(){m.returnFocus.focus()},10);n.onHide.apply(v)});v.hasClass("modal")?(v.on("shown.bs.modal",function(){$(document).off("focusin.bs.modal");c.adjustHeight($(this));if(n.autoFocus){var b=this;setTimeout(function(){$(b).is(":visible")&&
(DKI.enforceFocus($(b)),$(b).data("contentFocus")[0].focus())},50)}}),DKI.enforceFocus(!1),v.modal({show:!0,backdrop:m.popupType.modal})):v.hasClass("alert")?(setTimeout(function(){v.addClass("in");n.autoFocus&&v.data("contentFocus")[0].focus()},0),v.alert()):(v.show(),setTimeout(function(){v.addClass("in");n.autoFocus&&v.data("contentFocus")[0].focus()},0));m.zIndex&&(v.data("bs.modal")&&v.data("bs.modal").$backdrop&&v.data("bs.modal").$backdrop.css("z-index",m.zIndex+1),v.css("z-index",m.zIndex+
2));v.find("button.dismiss,button.close").on("click",function(b){v.hasClass("modal")?v.modal("hide"):v.hasClass("alert")?v.alert("close"):v.hide()});n.afterShow&&n.afterShow.apply(v)}else $.fancybox({type:"html",content:'\x3cdiv class\x3d"popup-content" tabIndex\x3d"0"\x3e'+n.html+"\x3c/div\x3e",title:""!=n.title?n.title:null,tpl:DKI.templates.popupPanel,modal:n.modal,autoCenter:n.autoCenter,autoResize:n.autoResize,helpers:{title:{position:"top",type:"inside"}},beforeShow:function(){h=this;n.modal||
$(".fancybox-overlay").css("background-image","none");settings.responsive||(this.wrap.draggable({handle:".fancybox-title"}),this.wrap.resizable({handles:"se",alsoResize:".fancybox-inner"}));this.outer.addClass(n.style);n.autoResize?this.wrap.addClass("auto-resize"):this.wrap.removeClass("auto-resize");h.wrap.find(".popup-title").html(n.title);this.wrap.show()},openEffect:""==n.effect?"none":n.effect,closeEffect:""==n.effect?"none":n.effect,openMethod:"zoomIn",closeMethod:"zoomOut",afterShow:function(){var b=
h.wrap.find(".fancybox-title"),c=h.wrap.find(".fancybox-close");h.outer.before(b.detach());b.after(c.detach());b.attr("tabindex",0);n.autoFocus&&h.wrap.find(".popup-content")[0].focus();settings.responsive||$(".fancybox-title").css("cursor","pointer");n.autoCenter||n.autoResize||$(window).unbind("resize.fb");h.wrap.find(".popup-close").on(settings.clickEvent,function(){l.hide()});n.afterShow&&n.afterShow.apply(this)},afterClose:function(){this.outer.removeClass(n.style);n.returnFocus&&setTimeout(function(){n.returnFocus.focus()},
10);h=null}})},hide:function(b){b=DKI.applyIf(b?b:{},{forceClose:!1},!0);h&&$.fancybox.close(b.forceClose);b.id&&(b=$("#action_popup_"+b.id),0<b.length&&(b.hasClass("modal")?(b.modal("hide"),b.off("show.bs.modal")):b.hide()))},destroy:function(b){b.id&&(b=$("#action_popup_"+b.id,"body"),0<b.length&&(b.hasClass("popup modal")&&b.off().data("bs.modal").removeBackdrop(),b.remove()))}},m=function(){l.hide({forceClose:!0})};$(document).on(DKI.ContentPage.events.started,m);$(document).on(DKI.EndModule.events.started,
m);$(document).on(DKI.EndCourse.events.started,m);$(document).on(DKI.EndTest.events.started,m);return l}();
DKI.PresentationPlayer=function(b){this.dataStorage=b.dataStorage;this.course=b.dataStorage.courseStructure;this.behaviour=b.behaviour;this.settings=b.settings;this.strings=b.strings;this.rootURL=b.rootURL;this.transitions=Modernizr.csstransitions?{page:this.dataStorage.courseStructure.pagetransition,jump:this.dataStorage.courseStructure.jumptransition,end:this.dataStorage.courseStructure.endscreentransition}:{page:"none",jump:"none",end:"none"};this.currentPage=null;this.contentPage={previous:null,
current:null,next:null};this.currentTest=this.currentObject=this.currentModule=null;this.currentPageIndex=this.currentObjectIndex=this.currentModuleIndex=0;this.contentFrame=$("#contentFrame");this.pageFrames={};this.pageFrames.previous=document.createElement("div");$(this.pageFrames.previous).css("visibility","hidden");this.pageFrames.previous.className="dkiContentFrame previous dk-hidden";this.pageFrames.current=document.createElement("div");this.pageFrames.current.className="dkiContentFrame current";
this.pageFrames.next=document.createElement("div");$(this.pageFrames.next).css("visibility","hidden");this.pageFrames.next.className="dkiContentFrame next dk-hidden";this.contentFrame.append([this.pageFrames.previous,this.pageFrames.current,this.pageFrames.next]);this.menu=this.contentAPI=null;this.navigation=new DKI.PlayerNavigation(this);this.headerContainer=$("#navbar_header, #headerContainer");this.footerContainer=$("#footerContainer");this.store=DKI.courseStore;this.audio=!0;this.isMobile=$(document.body).hasClass("mobile");
this.isAdminPreview=$(document.body).hasClass("adminPreview");this.questionFeedbackClosed=this.assessmentState=null;this.reachedEnd=!1;this.forward=this.contentForward;this.back=this.contentBack;this.reload=this.contentReload;this.events={pageLoaded:"pageLoaded",contentPageLoaded:"contentPageLoaded",questionPageLoaded:"questionPageLoaded",playerResized:"playerResized",playerTranscriptShown:"playerTranscriptShown",bypassForceSequential:"bypassForceSequential"};this.inReview=this.inEndScreen=this.inAssessment=
!1;this.loadState={previous:"done",current:"done",next:"done"};this.submitButtonPosition="popup";this.queuedAction=null;this.contentFrame.addClass("loading");this.navigation.hideForwardButton();this.navigation.hideBackButton();$(this.pageFrames.previous).addClass(this.transitions.page);$(this.pageFrames.current).addClass(this.transitions.page);$(this.pageFrames.next).addClass(this.transitions.page);this.initEvents();this.onbeforeunload=function(){};dkiUA.mobile?$("html").addClass("on-device"):$("html").addClass("on-desktop");
dkiUA.iOS&&"tablet"!=dkiUA.getUAProperties().platform&&scormInterface&&!this.behaviour.launchInNewWindowMobile&&$("html").addClass("iOS-iframe");this.behaviour.enableTextHighlight&&$("html").addClass("enableTextHighlight");$(".pageElementsWrapper.design").attr("aria-hidden","true");this.settings.responsive&&(b=function(b){b=$("\x3cdiv/\x3e",{"class":b});$("body").append(b);var c="none"!=b.css("display");b.remove();return c},b("submitButtonPopup")&&(this.submitButtonPosition="popup"),b("submitButtonBelowOptions")&&
(this.submitButtonPosition="belowQuestionOptions"),b("submitButtonBelowPage")&&(this.submitButtonPosition="belowPage"))};DKI.PresentationPlayer.prototype.applyTransitionClass=function(b,h){b=$(this.pageFrames[b]);b.removeClass(DKI.PresentationPlayer.transitionClasses);b.addClass(h)};
DKI.PresentationPlayer.prototype.initHeadersAndFooters=function(){var b=this;this.headers={primary:{el:$("\x3cdiv/\x3e",{"class":"headerPage hidden clearfix"})},secondary:{el:$("\x3cdiv/\x3e",{"class":"headerPage hidden clearfix"})}};this.footers={primary:{el:$("\x3cdiv/\x3e",{"class":"footerPage hidden clearfix"})},secondary:{el:$("\x3cdiv/\x3e",{"class":"footerPage hidden clearfix"})}};this.contentFrame.prepend([this.headers.primary.el,this.headers.secondary.el]);this.contentFrame.append([this.footers.primary.el,
this.footers.secondary.el]);this.course.header_primary_page&&(this.headers.primary.el.append($(DKI.renderService.renderPage(this.course.header_primary_page,this.course))),this.headers.primary.contentPage=new DKI.ContentPage({contentAPI:b.contentAPI,containerEl:this.headers.primary.el,actions:this.course.header_primary_page.actions,page:this.course.header_primary_page,player:b}));this.course.header_secondary_page&&(this.headers.secondary.el.append($(DKI.renderService.renderPage(this.course.header_secondary_page,
this.course))),this.headers.secondary.contentPage=new DKI.ContentPage({contentAPI:b.contentAPI,containerEl:this.headers.secondary.el,actions:this.course.header_secondary_page.actions,page:this.course.header_secondary_page,player:b}));this.course.footer_primary_page&&(this.footers.primary.el.append($(DKI.renderService.renderPage(this.course.footer_primary_page,this.course))),this.footers.primary.contentPage=new DKI.ContentPage({contentAPI:b.contentAPI,containerEl:this.footers.primary.el,actions:this.course.footer_primary_page.actions,
page:this.course.footer_primary_page,player:b}));this.course.footer_secondary_page&&(this.footers.secondary.el.append($(DKI.renderService.renderPage(this.course.footer_secondary_page,this.course))),this.footers.secondary.contentPage=new DKI.ContentPage({contentAPI:b.contentAPI,containerEl:this.footers.secondary.el,actions:this.course.footer_secondary_page.actions,page:this.course.footer_secondary_page,player:b}));$(document).on(DKI.ContentPage.events.started,function(c,h){h.page.pageid!=b.course.header_primary_page_id&&
h.page.pageid!=b.course.header_secondary_page_id&&h.page.pageid!=b.course.footer_primary_page_id&&h.page.pageid!=b.course.footer_secondary_page_id&&(h.page.parameters.layout.headers.primary_enabled&&b.headers.primary.contentPage?(b.headers.primary.el.removeClass("hidden"),b.headers.primary.contentPage.reset(),b.headers.primary.contentPage.start(0,!0)):b.headers.primary.el.addClass("hidden"),h.page.parameters.layout.headers.secondary_enabled&&b.headers.secondary.contentPage?(b.headers.secondary.el.removeClass("hidden"),
b.headers.secondary.contentPage.reset(),b.headers.secondary.contentPage.start(0,!0)):b.headers.secondary.el.addClass("hidden"),h.page.parameters.layout.footers.primary_enabled&&b.footers.primary.contentPage?(b.footers.primary.el.removeClass("hidden"),b.footers.primary.contentPage.reset(),b.footers.primary.contentPage.start(0,!0)):b.footers.primary.el.addClass("hidden"),h.page.parameters.layout.footers.secondary_enabled&&b.footers.secondary.contentPage?(b.footers.secondary.el.removeClass("hidden"),
b.footers.secondary.contentPage.reset(),b.footers.secondary.contentPage.start(0,!0)):b.footers.secondary.el.addClass("hidden"))});var h=function(){b.headers.primary.el.addClass("hidden");b.headers.secondary.el.addClass("hidden");b.footers.primary.el.addClass("hidden");b.footers.secondary.el.addClass("hidden")};$(document).on(DKI.EndModule.events.started,h);$(document).on(DKI.EndCourse.events.started,h);$(document).on(DKI.EndTest.events.started,h)};
DKI.PresentationPlayer.prototype.initEvents=function(){var b=this;if(this.behaviour.preventRightClick)$(document).on("contextmenu",function(){return!1});if(this.behaviour.enableBypassForceSequential){var h=function(c){c.ctrlKey&&c.altKey&&70==c.keyCode&&(b.behaviour.forceSequential=!1,$(document).off("keyup",h),$(b).trigger(b.events.bypassForceSequential))};$(document).on("keyup",h)}$(document).on(DKI.ContentPage.events.ready,function(c,h,m){b.resetContentHeight();b.applyCssEffects.init(m)});$(this.dataStorage).on(DKI.DataStorage.events.ready,
function(){b.headerContainer=$(b.headerContainer.selector);b.footerContainer=$(b.footerContainer.selector);b.initHeadersAndFooters();b.initSearch();b.setPlayerSize();settings.preventResume||b.resumeBookmark();b.contentFrame.removeClass("loading")});$(this.dataStorage).on(DKI.DataStorage.events.changeObject,function(){b.setObjectDisplay()});$(this.dataStorage).on(DKI.DataStorage.events.courseEnd,function(){b.reachedEnd=!0});$(this.dataStorage).on(DKI.DataStorage.events.questionSubmitted,function(c,
h,m){b.contentPage.current.setScore(h,m)});$(this.dataStorage).on(DKI.DataStorage.events.assessmentReady,function(){b.initBarsAssessment();b.navigation.setCurrentScreen(b.dataStorage.getCurrentQuestionCount());b.loadCurrentQuestion();b.pageFrames.previous.innerHTML="";b.inReview||(b.onbeforeunload=function(c){var h=b.strings.quitTestWarning;if(c=c||window.event)c.returnValue=h;return h});$("html").addClass("in-assessment")});$(this.dataStorage).on(DKI.DataStorage.events.assessmentCompleted,function(){b.onbeforeunload=
function(){};$("html").removeClass("in-assessment")});$(this.dataStorage).on(DKI.DataStorage.events.pageCompleted,function(){if(player.contentPage.current&&player.contentPage.current.actionAPI)player.contentPage.current.actionAPI.onDataSetEvent({name:"sys.learner.completion",newValue:contentApi.getData("sys.learner.completion")},player.contentPage.current)});$(this.navigation).on(DKI.PlayerNavigation.events.forward,function(){b.forward()});$(this.navigation).on(DKI.PlayerNavigation.events.back,function(){b.back()});
$(this.navigation).on(DKI.PlayerNavigation.events.reload,function(){b.reload()});$(this.navigation).on(DKI.PlayerNavigation.events.menuToggle,function(){b.toggleOutline()});$(this.navigation).on(DKI.PlayerNavigation.events.menuClose,function(){b.hideTree()});$(this.navigation).on(DKI.PlayerNavigation.events.glossaryToggle,function(b,h){h?DKI.glossaryBrowse.show():DKI.glossaryBrowse.hide()});$(this.navigation).on(DKI.PlayerNavigation.events.resourceToggle,function(b,h){h?DKI.resourceBrowser.show():
DKI.resourceBrowser.hide()});$(this.navigation).on(DKI.PlayerNavigation.events.exit,function(){b.exitCourse.call(b)});$(this.navigation).on(DKI.PlayerNavigation.events.audioToggle,function(c,h){b.toggleAudio(h)});$(this.navigation).on(DKI.PlayerNavigation.events.transcriptToggle,function(){b.toggleTranscript()});$(document).on(DKI.Events.TestQuestion.nextClicked,function(){b.forward()});$(document).on(DKI.Events.TestQuestion.forceEnd,function(){b.forceEnd()});$(document).on(DKI.PlayerMenu.events.pageClicked,
function(c,h){b.onPageClicked(h)});$(document).on(DKI.ContentPage.events.resize,$.proxy(this.onPageResize,this));$(document).on(DKI.Events.TestQuestion.feedbackShown,function(){b.contentPage.current.question&&b.contentPage.current.numAttempts>=b.contentPage.current.question.attempts&&b.navigation.showForwardButton()});$(document).on(DKI.ContentPage.events.ready,$.proxy(this.onPageReady,this));$(document).on(DKI.EndModule.events.ready,$.proxy(this.onEndReady,this));$(document).on(DKI.EndCourse.events.ready,
$.proxy(this.onEndReady,this));$(document).on(DKI.EndTest.events.ready,$.proxy(this.onEndReady,this));$(window).on(settings.resizeEvent,$.proxy(this.onWindowResize,this));$(window).on("scroll",$.proxy(this.onWindowScroll,this));$(document).on(DKI.PlayerMenu.events.initialized,function(c,h){b.menu=h;b.menuWidth=b.menu.getWidth();b.menuLeft=b.menu.getLeft();$(b.menu).on(DKI.PlayerMenu.events.closed,function(){b.hideTree()})})};DKI.PresentationPlayer.prototype.initMenu=function(){};
DKI.PresentationPlayer.prototype.initSearch=function(){dkiUA.isIE()&&8>=dkiUA.ieVersion?$(".dki-WestPanel .menuHeader a.courseSearchOpen").remove():playerBehaviour.enableCourseSearch&&DKI.search.isSupportedLanguage()||$(".dki-WestPanel .menuHeader a.courseSearchOpen").remove()};
DKI.PresentationPlayer.prototype.checkPreTest=function(){return this.behaviour.enablePreTest&&0<this.dataStorage.currentModule.weight&&0===this.dataStorage.getModuleCompletion(this.dataStorage.currentModule)&&"object"!==typeof this.dataStorage.currentModule.pre&&(this.behaviour.forcePreTest||window.confirm(this.strings.pretestQuestLabel+" ("+this.dataStorage.currentModule.loname+")"))?!0:!1};
DKI.PresentationPlayer.prototype.displayURL=function(b,h,c){var l=function(){},m=function(){},q=function(){};c&&("function"==typeof c?l=c:(c.success&&(l=c.success),c.error&&(m=c.error),c.complete&&(q=c.complete)));$.get(b,function(b){h.innerHTML=b},"html").success(l).error(m).complete(q)};DKI.PresentationPlayer.prototype.getCurrentTestScore=function(){return this.dataStorage.getAssessmentScore()};
DKI.PresentationPlayer.prototype.getModuleScreenCount=function(b){for(var h=0,c=0;c<b.objects.length;c++)h+=b.objects[c].pages.length;return h};
DKI.PresentationPlayer.prototype.initBars=function(){var b=this.dataStorage.currentPage.page,h=this.dataStorage.previousPage;this.navigation.contentMode();this.setModuleDisplay();this.setObjectDisplay();this.navigation.setCurrentScreen(this.dataStorage.currentModulePage);this.behaviour.transcripts?b.transcript?this.navigation.enableTranscriptButton():this.navigation.disableTranscriptButton():this.navigation.hideTranscriptButton();b.disableaudio?this.navigation.hideAudioButton():this.navigation.showAudioButton();
this.dataStorage.pageDisablesNext(b)&&this.navigation.hideForwardButton();b.disableback&&this.navigation.hideBackButton();h||this.navigation.hideBackButton();DKI.glossaryBrowse.isEmpty()&&this.navigation.disableGlossaryButton();!DKI.resourceBrowser.isEmpty()&&this.behaviour.enableResourcesButton||this.navigation.disableResourceButton()};
DKI.PresentationPlayer.prototype.initBarsAssessment=function(){var b=this.dataStorage.getCurrentQuestion().page,h=!1;if(this.inReview||this.behaviour.enableForwardInTesting&&this.dataStorage.getCurrentQuestionCount()<this.dataStorage.getTotalQuestions())h=!0;this.navigation.testMode(h);b.disableAudio?this.navigation.hideAudioButton():this.navigation.showAudioButton();this.navigation.hideBackButton();this.navigation.setTotalScreens(this.dataStorage.getTotalQuestions());this.navigation.setCurrentScreen(this.dataStorage.getCurrentQuestionCount());
this.behaviour.transcripts?b.transcript?this.navigation.enableTranscriptButton():this.navigation.disableTranscriptButton():this.navigation.hideTranscriptButton()};DKI.PresentationPlayer.prototype.initBarsEndScreen=function(){this.inEndScreen=!0;this.behaviour.transcripts&&this.navigation.disableTranscriptButton();this.navigation.endMode()};
DKI.PresentationPlayer.prototype.jumpTo=function(b){var h=null;this.contentPage.current&&(this.contentPage.current.page&&this.contentPage.current.page.pageid?h=this.contentPage.current.page.pageid:this.contentPage.current.question&&this.contentPage.current.question.page_id&&(h=this.contentPage.current.question.page_id));this.resetContentHeight();b==h?this.contentReload():(this.dataStorage.jumpToPage(b),this.jumpComplete())};
DKI.PresentationPlayer.prototype.jumpToModule=function(b){this.dataStorage.jumpToModule(b);this.jumpComplete()};
DKI.PresentationPlayer.prototype.jumpComplete=function(){this.inEndScreen=this.inAssessment=!1;this.contentAPI.hideBoth();this.initBars();this.reachedEnd=!1;this.checkPreTest()?this.launchTest(this.dataStorage.currentModule.loid,"pre"):(this.applyTransitionClass("next",this.transitions.jump),this.loadPage("next",this.dataStorage.currentPage,function(){this.dataStorage.setCurrentPageComplete();this.reload=this.contentReload;this.shuffleForward(!0);this.initBars();this.dataStorage.previousPage&&(this.applyTransitionClass("previous",
this.transitions.page),this.contentPage.previous&&this.contentPage.previous.page&&this.dataStorage.previousPage.page_id==this.contentPage.previous.page.id||this.loadPage("previous",this.dataStorage.previousPage));playerBehaviour.nonLinearCompletion&&!this.dataStorage.courseStructure.complete||!this.dataStorage.isEndOfCourse()?!this.behaviour.skipEnd&&this.dataStorage.isEndOfModule()?this.loadModuleEnd():this.dataStorage.nextPage?playerBehaviour.nonLinearCompletion&&!this.dataStorage.currentModule.isRevisiting?
this.dataStorage.courseStructure.complete?this.loadCourseEnd():!this.behaviour.skipEnd&&this.dataStorage.currentModule.complete?this.loadModuleEnd():(this.applyTransitionClass("next",this.transitions.page),this.contentPage.next&&this.contentPage.next.page&&this.dataStorage.nextPage.page_id==this.contentPage.next.page.id||this.loadPage("next",this.dataStorage.nextPage),this.dataStorage.nextPage.complete&&this.dataStorage.currentPage.objectid!=this.dataStorage.nextPage.objectid&&(this.forward=this.jumpToNextIncompletePage)):
(this.applyTransitionClass("next",this.transitions.page),this.contentPage.next&&this.contentPage.next.page&&this.dataStorage.nextPage.page_id==this.contentPage.next.page.id||this.loadPage("next",this.dataStorage.nextPage),this.forward=this.contentForward):playerBehaviour.nonLinearCompletion&&!this.dataStorage.currentModule.isRevisiting&&(this.dataStorage.courseStructure.complete?this.loadCourseEnd():!this.behaviour.skipEnd&&this.dataStorage.currentModule.complete?this.loadModuleEnd():(this.applyTransitionClass("next",
this.transitions.page),this.forward=this.jumpToNextIncompletePage,this.navigation.showForwardButton())):this.loadCourseEnd();$(this).trigger(this.events.contentPageLoaded);$(this).trigger(this.events.pageLoaded);this.back=this.contentBack}))};
DKI.PresentationPlayer.prototype.launchReview=function(b){this.inReview=!0;this.inEndScreen=!1;this.forward=this.assessmentForward;this.forceEnd=this.assessmentForceEnd;this.back=this.assessmentBack;this.reload=this.loadCurrentQuestion;this.dataStorage.createReview(b);this.hideTree()};
DKI.PresentationPlayer.prototype.launchTest=function(b,h,c){this.inAssessment||(this.inAssessment=!0,this.inEndScreen=!1,this.forward=this.assessmentForward,this.forceEnd=this.assessmentForceEnd,this.back=this.assessmentBack,this.reload=this.loadCurrentQuestion,this.dataStorage.createTest(b,h,c),this.hideTree())};
DKI.PresentationPlayer.prototype.loadCertificate=function(){var b=this;this.course.certificate_page?this.loadPage("next",{subeotype:0,page:this.course.certificate_page},function(){b.shuffleForward()}):(this.contentPage.next&&this.contentPage.next.destroy&&this.contentPage.next.destroy(),this.contentPage.next=DKI.CompletionCertificate,this.applyTransitionClass("next",this.transitions.end),DKI.CompletionCertificate.init(b,b.pageFrames.next),b.shuffleForward())};
DKI.PresentationPlayer.prototype.loadCompletion=function(){this.dataStorage.loadCompletion()};
DKI.PresentationPlayer.prototype.loadCourseEnd=function(){var b=!1,h=this;this.reachedEnd||this.behaviour.skipEnd||(b=!0);this.reachedEnd=!0;b?this.loadModuleEnd():this.course.course_summary_page?this.loadPage("next",{subeotype:0,page:this.course.course_summary_page},function(){h.forward=h.startCourseEnd;h.onEndReady()}):(this.contentPage.next&&this.contentPage.next.destroy&&this.contentPage.next.destroy(),this.contentPage.next=DKI.EndCourse,this.applyTransitionClass("next",this.transitions.end),
DKI.EndCourse.init(h,h.pageFrames.next),this.forward=this.startCourseEnd)};
DKI.PresentationPlayer.prototype.loadCurrentPage=function(b){var h=this,c=this.dataStorage.currentPage;this.forward=this.contentForward;this.back=this.contentBack;this.checkPreTest()?this.launchTest(this.dataStorage.currentModule.loid,"pre"):(this.applyTransitionClass("current",this.transitions.page),this.loadPage("current",c,function(){this.reload=this.contentReload;this.contentPage.current.start();this.dataStorage.setCurrentPageComplete();this.navigation.setCurrentScreen(this.dataStorage.currentModulePage);
this.initBars();$(this).trigger(this.events.contentPageLoaded);$(this).trigger(this.events.pageLoaded);if(b&&this.settings.responsive){var c=h.dataStorage.lastSection,m=h.dataStorage.groupBookmark;if(dataStorage.resumeFromBookmark)var q=function(){m?h.contentPage.current.jumpToGroup(m):h.contentPage.current.jumpToGroup(c);$(document).off(DKI.ContentPage.events.loadFinished,q)};$(document).on(DKI.ContentPage.events.loadFinished,q)}}),this.dataStorage.previousPage&&(this.applyTransitionClass("previous",
this.transitions.page),this.loadPage("previous",this.dataStorage.previousPage)),this.dataStorage.isEndOfCourse()?this.loadCourseEnd():!this.behaviour.skipEnd&&this.dataStorage.isEndOfModule()?this.loadModuleEnd():this.dataStorage.nextPage&&(playerBehaviour.nonLinearCompletion&&!this.dataStorage.currentModule.isRevisiting?this.dataStorage.courseStructure.complete?this.loadCourseEnd():!this.behaviour.skipEnd&&this.dataStorage.currentModule.complete?this.loadModuleEnd():(this.applyTransitionClass("next",
this.transitions.page),this.loadPage("next",this.dataStorage.nextPage),this.forward=this.jumpToNextIncompletePage):(this.applyTransitionClass("next",this.transitions.page),this.loadPage("next",this.dataStorage.nextPage))))};
DKI.PresentationPlayer.prototype.loadPage=function(b,h,c){var l=this,m=this.pageFrames[b],q=h.page.actions;this.loadState[b]="loading";(function(){if(null!==q){l.contentPage[b]&&l.contentPage[b].destroy&&l.contentPage[b].destroy();l.contentPage[b]=new DKI.ContentPage({contentAPI:l.contentAPI,containerEl:m,actions:q,page:h.page,player:l});var n=function(){l.loadState[b]="done";c&&c.call(l);l.queuedAction&&("forward"===l.queuedAction&&"next"===b?l.forward():"resume"===l.queuedAction&&"next"===b?l.resume():
"back"===l.queuedAction&&"previous"===b&&l.back(),l.queuedAction=null);$(document).on(DKI.ContentPage.events.loadFinished+".startTimer",function(b,c){c.page.id==h.page.id&&($(document).off(DKI.ContentPage.events.loadFinished+".startTimer"),l.startContentTimer())})};7==h.subeotype?requirejs(["testing"],function(){l.contentPage[b]=new DKI.TestQuestion(l,l.contentPage[b],h.question,!0);n()}):(8==h.subeotype&&(l.contentPage[b]=new DKI.Scene(l,l.contentPage[b])),n())}})()};
DKI.PresentationPlayer.prototype.loadQuestion=function(b,h,c){var l=this;this.loadPage(b,h,function(){requirejs(["testing"],function(){l.contentPage[b]=new DKI.TestQuestion(l,l.contentPage[b],h);c&&c.call(l)})})};
DKI.PresentationPlayer.prototype.loadCurrentQuestion=function(){var b=this,h=this.dataStorage.getCurrentQuestion(),c=this.dataStorage.getNextQuestion();this.applyTransitionClass("next",this.transitions.jump);this.navigation.setTotalScreens(this.dataStorage.getTotalQuestions());this.navigation.setCurrentScreen(this.dataStorage.getCurrentQuestionCount());this.loadQuestion("next",h,function(){b.shuffleForward();b.initBarsAssessment();b.inReview&&b.questionPage.showReview(b.dataStorage.assessment.prepost,
b.dataStorage.getCurrentQuestion().userChoices,b.dataStorage.getCurrentQuestion().options,b.dataStorage.getCurrentQuestion());b.applyTransitionClass("current",b.transitions.page);b.behaviour.transcripts?h.page.transcript?b.navigation.enableTranscriptButton():b.navigation.disableTranscriptButton():b.navigation.hideTranscriptButton();b.menu.selectQuestion(h);b.assessmentState="next";b.questionFeedbackClosed="false";c?(b.applyTransitionClass("next",b.transitions.page),b.loadQuestion("next",c,function(){$(b).trigger(b.events.pageLoaded);
$(b).trigger(b.events.questionPageLoaded)})):b.loadModuleEnd(function(){});$(b).trigger(b.events.questionPageLoaded);$(b).trigger(b.events.pageLoaded)})};
DKI.PresentationPlayer.prototype.loadModuleEnd=function(b){var h=this;this.applyTransitionClass("next",this.transitions.end);this.course.module_summary_page?this.loadPage("next",{subeotype:0,page:this.course.module_summary_page},function(){h.forward=h.startModuleEnd;h.onEndReady();b&&b.call(h)}):(h.contentPage.next=DKI.EndModule,DKI.EndModule.init(h,this.pageFrames.next),b&&b.call(h),this.forward=this.startModuleEnd)};
DKI.PresentationPlayer.prototype.loadPageActions=function(b,h){b=this.settings.actionsURL+b+this.settings.actionsPrefix;var c=function(){},l=function(){},m=function(){};h&&("function"==typeof h?c=h:(h.success&&(c=h.success),h.error&&(l=h.error),h.complete&&(m=h.complete)));$.get(b,function(){},"json").success(c).error(l).complete(m)};
DKI.PresentationPlayer.prototype.resume=function(b){var h=this,c=function(b){h.inAssessment=!1;h.inEndScreen=!1;if("loading"===h.loadState.next)return h.queuedAction||(h.queuedAction="resume"),!0;h.reachedEnd?h.startCourseEnd():(b?h.dataStorage.resume():h.dataStorage.goNextPage(),h.checkPreTest()?h.launchTest(h.dataStorage.currentModule.loid,"pre"):(h.applyTransitionClass("next",h.transitions.page),h.forward(!0),setTimeout(function(){h.dataStorage.previousPage&&(h.applyTransitionClass("previous",
h.transitions.page),h.loadPage("previous",h.dataStorage.previousPage))},500)))};this.course.testonly?function(){var b=h.dataStorage.lessonStatus;"passed"===b||"failed"===b||h.dataStorage.allTestsAttempted()?h.startCourseEnd():h.dataStorage.goNextModule()?h.launchTest(h.dataStorage.currentModule.loid,"post"):(h.dataStorage.onCourseComplete(),h.startCourseEnd())}():c(b)};
DKI.PresentationPlayer.prototype.resumeBookmark=function(){var b=this.dataStorage.bookmark,h=this.dataStorage.lessonStatus;if(this.course.testonly)if("passed"===h||"failed"===h||this.dataStorage.allTestsAttempted())this.resumeToCourseEnd();else if(b&&""!==b&&this.dataStorage.jumpToModule(b))this.launchTest(b,"post");else{for(b=0;b<dataStorage.moduleCount&&this.course.modules[b].complete;b++);0<b&&!this.behaviour.skipEnd?(dataStorage.navigateToModule(this.course.modules[b-1].loid),this.resumeToModuleEnd()):
this.launchTest(this.course.modules[b].loid,"post")}else this.dataStorage.resume(this.behaviour.autoResume),this.dataStorage.assessmentBookmark&&this.dataStorage.resumeFromBookmark&&playerBehaviour.enableAssessmentBookmarking?this.launchTest(this.dataStorage.assessmentBookmark.moduleid,this.dataStorage.assessmentBookmark.prepost,!0):(this.setModuleDisplay(),this.loadCurrentPage(!0)),this.dataStorage.assessmentBookmark=null};
DKI.PresentationPlayer.prototype.resumeToCourseEnd=function(){var b=this;this.course.course_summary_page?this.loadPage("current",{subeotype:0,page:this.course.course_summary_page},function(){b.initBarsEndScreen();b.hideTree();b.contentPage.current.start()}):(this.contentPage.current=DKI.EndCourse,DKI.EndCourse.init(this,this.pageFrames.current),b.initBarsEndScreen(),b.hideTree(),DKI.EndCourse.start())};
DKI.PresentationPlayer.prototype.resumeToModuleEnd=function(){var b=this;this.course.module_summary_page?this.loadPage("current",{subeotype:0,page:this.module_summary_page},function(){b.initBarsEndScreen();b.hideTree();b.contentPage.current.start()}):(this.contentPage.current=DKI.EndModule,DKI.EndModule.init(this,this.pageFrames.current),b.initBarsEndScreen(),b.hideTree(),DKI.EndModule.start())};
DKI.PresentationPlayer.prototype.shuffleForward=function(b){var h=this.pageFrames.previous;this.contentFrame.removeClass("back").addClass("forward");this.pageFrames.previous=this.pageFrames.current;this.pageFrames.current=this.pageFrames.next;this.pageFrames.next=h;this.contentPage.previous&&this.contentPage.previous.destroy&&this.contentPage.previous.destroy();this.contentPage.previous=this.contentPage.current;this.contentPage.current=this.contentPage.next;this.contentPage.next=null;h.innerHTML=
"";$(this.pageFrames.previous).removeClass("current dk-hidden").addClass("previous").css("top",$(".headerPage:not(.hidden)").outerHeight());$(this.pageFrames.current).removeClass("next dk-hidden").addClass("current").css({visibility:"",top:""});$(this.pageFrames.next).removeClass("previous dk-hidden").addClass("next").css("top",$(".headerPage:not(.hidden)").outerHeight());var c=this,h=function(){$(c.pageFrames.previous).css("visibility","hidden").addClass("dk-hidden");$(c.pageFrames.next).css("visibility",
"hidden").addClass("dk-hidden")};b?h():setTimeout(h,500);this.settings.responsive||($(c.pageFrames.previous).height(this.course.height),$(c.pageFrames.next).height(this.course.height));if($(document.body).hasClass("mobile")){this.headerContainer.css("position","relative");$("body, html, #contentFrame").scrollTop(0);try{$(parent.document).scrollTop(0)}catch(l){}this.headerContainer.css("position","fixed")}else if(this.settings.responsive){$("body, html, #contentFrame").scrollTop(0);try{$(parent.document).scrollTop(0)}catch(l){}}null!==
this.contentPage.previous&&this.contentPage.previous.reset&&this.contentPage.previous.reset({timeout:500});this.contentPage.current.start()};
DKI.PresentationPlayer.prototype.shuffleBack=function(b){var h=this.pageFrames.next;this.contentFrame.removeClass("forward").addClass("back");this.pageFrames.next=this.pageFrames.current;this.pageFrames.current=this.pageFrames.previous;this.pageFrames.previous=h;this.contentPage.next&&this.contentPage.next.destroy&&this.contentPage.next.destroy();this.contentPage.next=this.contentPage.current;this.contentPage.current=this.contentPage.previous;this.contentPage.previous=null;h.innerHTML="";$(this.pageFrames.next).removeClass("current dk-hidden").addClass("next").css("top",
$(".headerPage:not(.hidden)").outerHeight());$(this.pageFrames.current).removeClass("previous dk-hidden").addClass("current").css({visibility:"",top:""});$(this.pageFrames.previous).removeClass("next dk-hidden").addClass("previous").css("top",$(".headerPage:not(.hidden)").outerHeight());var c=this,h=function(){$(c.pageFrames.previous).css("visibility","hidden").addClass("dk-hidden");$(c.pageFrames.next).css("visibility","hidden").addClass("dk-hidden")};b?h():setTimeout(h,500);this.settings.responsive||
($(c.pageFrames.previous).height(this.course.height),$(c.pageFrames.next).height(this.course.height));if($(document.body).hasClass("mobile")){this.headerContainer.css("position","relative");$("body, html, #contentFrame").scrollTop(0);try{$(parent.document).scrollTop(0)}catch(l){}this.headerContainer.css("position","")}else if(this.settings.responsive){$("body, html, #contentFrame").scrollTop(0);try{$(parent.document).scrollTop(0)}catch(l){}}this.contentPage.next.reset&&this.contentPage.next.reset({timeout:500});
this.contentPage.current.start()};
DKI.PresentationPlayer.prototype.startModuleEnd=function(){if(playerBehaviour.nonLinearCompletion&&!this.dataStorage.currentModule.complete)return this.jumpToNextIncompletePage(),!1;if(""==this.pageFrames.next.innerHTML)$(document).on(DKI.EndModule.events.ready,$.proxy(function(){this.startModuleEnd()},this));else{var b=this.inAssessment||this.inReview;this.inAssessment=this.inReview=!1;$(".questionScoreDisplay").hide();$(".submitButton").hide();$("#countDownTimer").remove();b&&(this.course.testonly&&
this.dataStorage.allTestsAttempted()||!this.course.testonly&&!this.dataStorage.nextPage&&"pre"!==this.dataStorage.assessment.prepost)&&(this.reachedEnd=!0);this.setModuleDisplay();this.clearObjectDisplay();this.initBarsEndScreen();this.hideTree();this.forward=this.contentForward;this.shuffleForward();this.reachedEnd?this.loadCourseEnd():(this.applyTransitionClass("next",this.transitions.page),this.course.testonly||(playerBehaviour.nonLinearCompletion&&this.dataStorage.jumpToEndOfModule(),b&&"pre"===
this.dataStorage.assessment.prepost?this.loadPage("next",this.dataStorage.currentPage):this.dataStorage.nextPage?(this.applyTransitionClass("next",this.transitions.page),this.loadPage("next",this.dataStorage.nextPage),this.forward=this.contentForward,this.back=this.contentBack):!this.behaviour.skipEnd&&this.dataStorage.isEndOfModule()?this.loadModuleEnd():this.dataStorage.isEndOfCourse()&&this.loadCourseEnd()))}};
DKI.PresentationPlayer.prototype.startCourseEnd=function(){if(playerBehaviour.nonLinearCompletion&&!this.dataStorage.currentModule.complete)return this.jumpToNextIncompletePage(),!1;if(""==this.pageFrames.next.innerHTML)$(document).on(DKI.EndCourse.events.ready,$.proxy(function(){this.startCourseEnd()},this));else this.initBarsEndScreen(),this.navigation.showMenuButton(),this.hideTree(),this.shuffleForward(),this.pageFrames.next.innerHTML=""};
DKI.PresentationPlayer.prototype.setPlayerSize=function(){var b=0,h=this.course.width,c=this,l=function(){c.barHeight=(c.headerContainer.is(":visible")?c.headerContainer.outerHeight():0)+(c.footerContainer.is(":visible")?c.footerContainer.outerHeight():0);b=c.barHeight+parseInt(c.course.height,10)};l();if((this.behaviour.resizeWindow||this.isAdminPreview)&&!settings.responsive){if(scormInterface)scormInterface.process("onPlayerResize",[{barHeight:this.barHeight,totalHeight:b,totalWidth:h}],function(b){l();
c.setPageHeight(b);$("#contentFrame").height(b);$(c).trigger(c.events.playerResized)});else{var m=h-$(window).width(),q=b-$(window).height();DKI.canAccessIframe(top)&&(top.window.resizeBy(m,q),setTimeout(function(){m=h-$(window).width();top.window.resizeBy(m,0)},10));800>=screen.availHeight&&(q=function(){l();if(b>$(window).height()){var h=$(window).height()-c.barHeight;c.setPageHeight(h);$("#contentFrame").height(h);$(window).off(settings.resizeEvent,this);$(c).trigger(c.events.playerResized)}},
$(window).on(settings.resizeEvent,$.proxy(q,q)))}$(this).trigger(this.events.playerResized)}this.resetContentHeight()};DKI.PresentationPlayer.prototype.onEndReady=function(){var b=this.dataStorage.currentPage;!b||this.inAssessment||this.inEndScreen||this.dataStorage.pageDisablesNext(b.page)||this.navigation.showForwardButton()};
DKI.PresentationPlayer.prototype.onWindowResize=DKI.func.debounce(function(){if(this.contentPage.current&&this.contentPage.current.onWindowResize)this.contentPage.current.onWindowResize();if(this.contentPage.previous&&this.contentPage.previous.onWindowResize)this.contentPage.previous.onWindowResize();if(this.contentPage.next&&this.contentPage.next.onWindowResize)this.contentPage.next.onWindowResize();if(this.headers.primary.contentPage&&this.headers.primary.contentPage.onWindowResize)this.headers.primary.contentPage.onWindowResize();
if(this.headers.secondary.contentPage&&this.headers.secondary.contentPage.onWindowResize)this.headers.secondary.contentPage.onWindowResize();if(this.footers.primary.contentPage&&this.footers.primary.contentPage.onWindowResize)this.footers.primary.contentPage.onWindowResize();if(this.footers.secondary.contentPage&&this.footers.secondary.contentPage.onWindowResize)this.footers.secondary.contentPage.onWindowResize();settings.responsive&&(this.resetContentHeight(),this.setContentTimerPosition())},75,
!1);DKI.PresentationPlayer.prototype.resetContentHeight=function(){if(settings.responsive){var b=($(".headerPage:not(.hidden)").outerHeight()+$("#contentFrame").offset().top+$(".footerPage:not(.hidden)").outerHeight()+$("#footerContainer").height())/settings.scale;$(".dkiContentFrame, .bgRepeater, .dkiContentFrame\x3e.pageElementsWrapper").css({"min-height":""}).css({"min-height":$(window).height()-b})}};
DKI.PresentationPlayer.prototype.onWindowScroll=function(){if(this.contentPage.current&&this.contentPage.current.onWindowScroll)this.contentPage.current.onWindowScroll();if(this.contentPage.previous&&this.contentPage.previous.onWindowScroll)this.contentPage.previous.onWindowScroll();if(this.contentPage.next&&this.contentPage.next.onWindowScroll)this.contentPage.next.onWindowScroll();if(this.headers.primary.contentPage&&this.headers.primary.contentPage.onWindowScroll)this.headers.primary.contentPage.onWindowScroll();
if(this.headers.secondary.contentPage&&this.headers.secondary.contentPage.onWindowScroll)this.headers.secondary.contentPage.onWindowScroll();if(this.footers.primary.contentPage&&this.footers.primary.contentPage.onWindowScroll)this.footers.primary.contentPage.onWindowScroll();if(this.footers.secondary.contentPage&&this.footers.secondary.contentPage.onWindowScroll)this.footers.secondary.contentPage.onWindowScroll()};
DKI.PresentationPlayer.prototype.onQuestionLoaded=function(b){this.navigation.setCurrentScreen(this.currentTest.currentQuestionDisplay);this.displayURL(b,this.currentFrame);return!0};DKI.PresentationPlayer.prototype.onQuestionFeedbackClosed=function(){"next"===this.assessmentState?this.loadCurrentQuestion():"complete"===this.assessmentState?this.loadModuleEnd():this.questionFeedbackClosed=!0};
DKI.PresentationPlayer.prototype.onPageClicked=function(b,h,c){"undefined"===typeof h&&(h=!1);"undefined"===typeof c&&(c=!1);c&&!this.canJump(b)?window.alert(this.strings.noNavLabel):(this.hideTree(),h&&this.dataStorage.completePreviousPages(b),this.jumpTo(b))};DKI.PresentationPlayer.prototype.onPageReady=function(b,h){if(this.inAssessment||this.inReview)this.onQuestionPageReady(h);else this.onContentPageReady(h)};
DKI.PresentationPlayer.prototype.onPageResize=function(b,h){this.isMobile&&this.settings.scrolling&&this.setPageHeight(h)};
DKI.PresentationPlayer.prototype.onContentPageReady=function(b){var h=this.dataStorage.nextPage?parseInt(this.dataStorage.nextPage.page.pageid,"10"):null,c=this.dataStorage.previousPage?parseInt(this.dataStorage.previousPage.page.pageid,"10"):null;b=parseInt(b.pageid,10);var l=this.dataStorage.currentPage;b!==h||this.inEndScreen||this.dataStorage.pageDisablesNext(l.page)?b!==c||this.inEndScreen||l.page.disableback||this.navigation.showBackButton():this.navigation.showForwardButton()};
DKI.PresentationPlayer.prototype.onQuestionPageReady=function(){};
DKI.PresentationPlayer.prototype.contentBack=function(){var b=this;this.reachedEnd=!1;this.contentAPI.hideBoth();if("loading"===this.loadState.previous)return this.queuedAction||(this.queuedAction="back"),!0;this.dataStorage.goPreviousPage();this.shuffleBack();this.initBars();this.dataStorage.setCurrentPageComplete();this.navigation.setCurrentScreen(this.dataStorage.currentModulePage);this.forward=this.contentForward;this.reload=this.contentReload;$(this).trigger(this.events.contentPageLoaded);$(this).trigger(this.events.pageLoaded);
setTimeout(function(){b.dataStorage.isEndOfCourse()?b.loadCourseEnd():!b.behaviour.skipEnd&&b.dataStorage.isEndOfModule()&&b.loadModuleEnd()},500);this.dataStorage.previousPage&&(this.applyTransitionClass("previous",this.transitions.page),this.loadPage("previous",this.dataStorage.previousPage));return!0};
DKI.PresentationPlayer.prototype.contentForward=function(b){var h=this.dataStorage.currentModule,c=this.transitions.page+" next";this.contentAPI.hideBoth();if("loading"===this.loadState.next)return this.queuedAction||(this.queuedAction="forward"),!0;b||this.dataStorage.goNextPage();h!==this.dataStorage.currentModule&&this.checkPreTest(this.dataStorage.currentModule)?this.launchTest(this.dataStorage.currentModule.loid,"pre"):(this.applyTransitionClass(c),this.shuffleForward(),this.dataStorage.setCurrentPageComplete(),
this.navigation.setCurrentScreen(this.dataStorage.currentModulePage),this.reload=this.contentReload,$(this).trigger(this.events.contentPageLoaded),$(this).trigger(this.events.pageLoaded),this.dataStorage.isEndOfCourse()?this.loadCourseEnd():!this.behaviour.skipEnd&&this.dataStorage.isEndOfModule()?this.loadModuleEnd():this.dataStorage.nextPage&&(playerBehaviour.nonLinearCompletion&&!this.dataStorage.currentModule.isRevisiting?this.dataStorage.courseStructure.complete?this.loadCourseEnd():!this.behaviour.skipEnd&&
this.dataStorage.currentModule.complete?this.loadModuleEnd():(this.applyTransitionClass("next",this.transitions.page),this.loadPage("next",this.dataStorage.nextPage),this.dataStorage.nextPage.complete&&this.dataStorage.currentPage.objectid!=this.dataStorage.nextPage.objectid&&(this.forward=this.jumpToNextIncompletePage)):(this.applyTransitionClass("next",this.transitions.page),this.loadPage("next",this.dataStorage.nextPage))),this.initBars());return!0};
DKI.PresentationPlayer.prototype.contentReload=function(){this.contentPage.current.reset();this.contentPage.current.start()};DKI.PresentationPlayer.prototype.assessmentForceEnd=function(){this.loadModuleEnd();this.startModuleEnd()};
DKI.PresentationPlayer.prototype.assessmentForward=function(){var b;b=this.transitions.page+" next";var h=this;if("loading"===this.loadState.next)return this.queuedAction||(this.queuedAction="forward"),!0;this.dataStorage.goNextQuestion();this.applyTransitionClass(b);this.contentAPI.hideBoth();this.shuffleForward();this.initBarsAssessment();this.navigation.setTotalScreens(this.dataStorage.getTotalQuestions());this.navigation.setCurrentScreen(this.dataStorage.getCurrentQuestionCount());this.inReview&&
this.questionPage.showReview(this.dataStorage.assessment.prepost,this.dataStorage.getCurrentQuestion().userChoices,this.dataStorage.getCurrentQuestion().options,this.dataStorage.getCurrentQuestion());(b=this.dataStorage.getNextQuestion())?(this.applyTransitionClass("next",this.transitions.page),this.loadQuestion("next",b,function(){$(h).trigger(h.events.pageLoaded);$(h).trigger(h.events.questionPageLoaded)})):this.loadModuleEnd(function(){});return!0};
DKI.PresentationPlayer.prototype.assessmentBack=function(){var b;this.applyTransitionClass(this.transitions.page+" previous");this.contentAPI.hideBoth();if("loading"===this.loadState.previous)return this.queuedAction||(this.queuedAction="back"),!0;this.dataStorage.goPreviousQuestion();this.shuffleBack();if(b=this.dataStorage.getPreviousQuestion())this.applyTransitionClass("previous",this.transitions.previous),this.loadQuestion("previous",b),this.contentAPI.showBoth();$(this).trigger(this.events.pageLoaded);
$(this).trigger(this.events.questionPageLoaded);return!0};DKI.PresentationPlayer.prototype.hideTree=function(){this.menu.hide();this.navigation.setMenuState(!1)};DKI.PresentationPlayer.prototype.showTree=function(){this.menu.show();this.menu.scrollToSelected();this.navigation.setMenuState(!0)};DKI.PresentationPlayer.prototype.toggleAudio=function(b){this.audio="on"===b?!0:!1;this.contentPage.current.setAudio&&this.contentPage.current.setAudio(this.audio)};
DKI.PresentationPlayer.prototype.showTranscript=function(){dataStorage.currentPage.page.transcript&&""!=dataStorage.currentPage.page.transcript.body&&(contentApi.showPopup({html:dataStorage.currentPage.page.transcript.body,effect:"fade",style:"gray-light",autoFocus:!0,popupType:{modal:!0,mod:"middle fill",type:"banner"}}),$(this).trigger(this.events.playerTranscriptShown))};DKI.PresentationPlayer.prototype.hideTranscript=function(){this.hideTree()};
DKI.PresentationPlayer.prototype.toggleTranscript=function(){"transcriptTab"!==this.menu.selectedTab()||this.menu.tabSet.isHidden()?this.showTranscript():this.hideTranscript()};DKI.PresentationPlayer.prototype.hideOutline=function(){this.hideTree()};DKI.PresentationPlayer.prototype.showOutline=function(){this.showTree();this.menu.selectedTab("outlineTab")};
DKI.PresentationPlayer.prototype.toggleOutline=function(){"outlineTab"!==this.menu.selectedTab()||this.menu.tabSet.isHidden()?this.showOutline():this.hideOutline()};
DKI.PresentationPlayer.prototype.jumpToNextIncompletePage=function(){for(var b=function(b){var c=!1;$.each(b.subeos,function(){if(!this.complete)return c=this.page.pageid,!1});return c},h=function(c){for(var h=!1,l=0;l<c.objects.length&&!(h=b(c.objects[l]));l++);return h},c=!1,l=this.dataStorage.currentObjectIndex;l<this.dataStorage.currentModule.objects.length&&!(c=b(this.dataStorage.currentModule.objects[l]));l++);if(!c)for(l=0;l<this.dataStorage.currentObjectIndex&&!(c=b(this.dataStorage.currentModule.objects[l]));l++);
if(!c&&this.behaviour.skipEnd){for(l=this.dataStorage.currentModuleIndex;l<this.dataStorage.courseStructure.modules.length&&!(c=h(this.dataStorage.courseStructure.modules[l]));l++);if(!c)for(l=0;l<this.dataStorage.currentModuleIndex&&!(c=h(this.dataStorage.courseStructure.modules[l]));l++);}c&&this.jumpTo(c)};
DKI.PresentationPlayer.prototype.jumpToSubeo=function(b,h,c){"undefined"===typeof h&&(h=!0);"undefined"===typeof c&&(c=!1);if(b=this.dataStorage.getPageFromSubeo(b))this.initBars(),player.onPageClicked(b.pageid,h,c)};DKI.PresentationPlayer.prototype.setCurrentObjectComplete=function(){this.dataStorage.setCurrentObjectComplete()};DKI.PresentationPlayer.prototype.setModuleDisplay=function(){this.navigation.setModuleName(this.dataStorage.currentModule.name);this.navigation.setTotalScreens(this.dataStorage.currentModulePageTotal)};
DKI.PresentationPlayer.prototype.setObjectDisplay=function(){this.navigation.setObjectName(this.dataStorage.currentObject?this.dataStorage.currentObject.name:"")};DKI.PresentationPlayer.prototype.setPageHeight=function(b){$(this.pageFrames.current).height(b);this.contentFrame.height(b);dkiUA.blackberry&&parent&&parent.setContentHeight&&parent.setContentHeight(b)};DKI.PresentationPlayer.prototype.clearObjectDisplay=function(){this.navigation.setObjectName("")};
DKI.PresentationPlayer.prototype.canJump=function(b){return this.behaviour.forceSequential?(b=this.dataStorage.getPrecedingPage(b),!b||b.complete?!0:!1):!0};
DKI.PresentationPlayer.prototype.applyCssEffects={allowed:function(){return dkiUA.ie&&6<dkiUA.ieVersion||!dkiUA.ie}(),init:function(b){var h,c;if(this.allowed)for(c=$(".cssFX-slctr-Reflect",b),h=0;h<c.length;h++){var l=$($(".cssFX-slctr-Reflect",b)[h]).find("img");if(2==l.length&&null!==$(c[h]).data("rolloverassetid")){var m="#"+$(l[1]).attr("id");$(m).show();$(m).reflect({height:1/3,opacity:.5,attr:{cls:"dki-image-rollover-reflected",style:"filter:inherit;left: 0px;top: 0px;width: inherit !important;height: inherit !important;right:0px;bottom:0px;overflow: hidden;position: absolute;display:none;z-index:2"}});
$(m).attr("class","reflected")}$(l[0]).data("preReflectedClass")||$(l[0]).data("preReflectedClass",$(l[0]).attr("class"));$(l[0]).reflect({height:1/3,opacity:.5,attr:{cls:$(l[0]).data("preReflectedClass")+" dki-image-root-reflected",style:"filter:inherit; left: 0px; top: 0px; width: inherit !important; height: inherit !important; right:0px; bottom:0px; overflow: hidden; z-index: 1; position: absolute;cursor: "+$(l[0]).css("cursor")}})}else for(c=$(".cssFX-slctr-Reflect",b),h=0;h<c.length;h++)$(c[h]).removeClass("cssFX-slctr-Reflect"),
$(c[h]).removeClass("cssFX-Reflect"),$(c[h]).removeClass("cssFX-MirrorRounded"),$(c[h]).height(Math.round(.7*$(c[h]).height()))}};DKI.PresentationPlayer.prototype.openModal=function(b,h){DKI.Modal.show({url:b,callback:h})};DKI.PresentationPlayer.prototype.exitCourse=function(){var b=!0;this.inAssessment&&(window.confirm(this.strings.quitTestWarning)?(window.onbeforeunload=function(){},this.dataStorage.checkCourseComplete()):b=!1);b&&dataStorage.doExit()};
DKI.PresentationPlayer.prototype.startContentTimer=function(b){var h=$("#content-timer-div"),c=dataStorage.currentModule;if(c.hasContentTimer){var l=this;requirejs(["flipclock"],function(){if(l.contentTimer)if(!h.data("forModule")||h.data("forModule")!==c.loid||b){m=dataStorage.currentModule.parameters.content_time;l.contentTimer.stop();l.contentTimer.setTime(m/1E3);var q="MinuteCounter";36E5<=m&&(q="HourCounter");l.contentTimer.loadClockFace(q,null,!0,!0);l.contentTimer.start();h.show();h.width("auto");
h.width(h.width())}else h.data("forModule")!=c.loid||h.is(":visible")||(l.contentTimer.start(),h.show(),h.width("auto"),h.width(h.width()));else{var m={countdown:!0,clockFace:"MinuteCounter",callbacks:{start:function(){},stop:function(){if(h.data("forModule")===dataStorage.currentModule.loid){var b=1E3*this.factory.time.time;setTimeout($.proxy(function(){0==b&&(dataStorage.currentModule.contentTime=0,$(document).trigger(contentApi.events.dataSet,{name:"sys.currentModule.contentTime",newValue:0,oldValue:1E3}),
$(document).trigger(contentApi.events.dataSet,{name:"sys.modules."+(dataStorage.currentModule.loorder-1)+".contentTime",newValue:0,oldValue:b+1E3}))},this),1E3)}},interval:function(b,c,k){h.data("forModule")===dataStorage.currentModule.loid&&(b=1E3*this.factory.time.time,dataStorage.currentModule.parameters.content_time=b,0<b&&($(document).trigger(contentApi.events.dataSet,{name:"sys.currentModule.contentTime",newValue:b,oldValue:b+1E3}),$(document).trigger(contentApi.events.dataSet,{name:"sys.modules."+
(dataStorage.currentModule.loorder-1)+".contentTime",newValue:b,oldValue:b+1E3})))}}};36E5<c.parameters.content_time&&(m.clockFace="HourCounter");l.contentTimer=h.FlipClock(c.parameters.content_time/1E3,m);h.outerWidth(!0);h.show();l.setContentTimerPosition();h.draggable({containment:".bgRepeater",stop:function(b,c){c.helper.addClass("userDropped")}})}h.data("forModule",c.loid)})}else this.contentTimer&&this.stopContentTimer(!0)};
DKI.PresentationPlayer.prototype.stopContentTimer=function(b){this.contentTimer&&this.contentTimer.stop();b&&$("#content-timer-div").hide()};DKI.PresentationPlayer.prototype.setContentTimerPosition=function(){if(this.contentTimer){var b=this.contentTimer.$el,h=$(document).width();b.width(b.width());var c=h-b.width()-50;if(!b.hasClass("userDropped")||parseInt(b.css("left"),10)+b.width()>h)b.css("left",c+"px"),b.removeClass("userDropped")}};
DKI.PresentationPlayer.prototype.showPage=function(b,h){player.forceCloseLightBox=!1;if("undefined"!==typeof dataStorage){player.contentPage.lightBoxPage&&(player.forceCloseLightBox=!0,$.fancybox.close());b=dataStorage.findPage(b);var c=DKI.clone(b);c.notes=b.notes;if(c){var l=null,m=null,q=!0,n=DKI.func.debounce(function(){player.contentPage.lightBoxPage.onWindowResize();r()},75,!1),r=function(){var b=$(".fancybox-item.fancybox-close",l),c=$(".fancybox-stage .fancybox-content",l);if(settings.responsive){var h=
c.offset().top-window.pageYOffset-9;dkiUA.iOS&&"tablet"!=dkiUA.getUAProperties().platform&&window.matchMedia("(orientation: landscape)").matches&&(h=c.offset().top-9);var k=c.offset().left+c.outerWidth()-$(window).width()-b.width()+9}else{var h=c.offset().top-18,k=($("body").width()-c.outerWidth()*settings.claroLightboxScaling+36)/2*-1,m=($("body").width()-c.outerWidth())/2;c.css({left:m+"px"})}b.css({top:h+"px",left:k+"px"})},k=function(){m.$refs.container.on("onUpdate.fb",n);m.$refs.container.one("onUpdate.fb",
function(){l.removeClass("loading")});m.update()},p=function(){q=!0},v;b={};b=settings.responsive?{"max-height":"100%",width:"100%",position:"relative","overflow-y":"auto","margin-bottom":"0",padding:"0"}:{height:settings.course.height,width:settings.course.width,transfrom:"scale("+settings.claroLightboxScaling+")",position:"absolute",left:"0","margin-bottom":"0px",padding:"0px","transition-duration":"0ms"};var z=$('\x3cdiv class\x3d"dki-course-max-width"\x3e\x3c/div\x3e').css(b).attr({role:"document"}),
x=this;$(dataStorage).one(DKI.DataStorage.events.pageSelected,function(){$.fancybox.close()});var A=h||document.activeElement;$.fancybox.open(z,{animationEffect:!1,wrapCSS:"ignore_enter",closeBtn:!1,padding:0,margin:[20,60,20,60],scrolling:"no",buttons:["close"],arrows:!1,keyboard:!1,infobar:!1,smallBtn:!1,touch:!1,autoFocus:!1,backFocus:!1,trapFocus:!1,lang:"en",i18n:{en:{CLOSE:DKI.strings.runtime.buttonLabelClose,NEXT:DKI.strings.runtime.buttonLabelNext,PREV:DKI.strings.index.previousButtonLabel}},
baseTpl:'\x3cdiv class\x3d"fancybox-container ignore_enter" tabindex\x3d"-1"\x3e\x3cdiv class\x3d"fancybox-bg"\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-inner"\x3e\x3cdiv class\x3d"fancybox-infobar"\x3e\x3cspan data-fancybox-index\x3e\x3c/span\x3e\x26nbsp;/\x26nbsp;\x3cspan data-fancybox-count\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-toolbar"\x3e{{buttons}}\x3c/div\x3e\x3cdiv class\x3d"fancybox-navigation"\x3e{{arrows}}\x3c/div\x3e\x3cdiv class\x3d"fancybox-stage"\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-caption"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
btnTpl:{close:'\x3cdiv style\x3d"opacity:0;" class\x3d"fancybox-item fancybox-close"data-fancybox-close aria-label\x3d"'+x.strings.buttonLabelClose+'" role\x3d"button" tabindex\x3d"1" \x3e\x3c/div\x3e'},afterLoad:function(b){this.$slide.closest(".fancybox-container").attr("aria-label","Popup").css("opacity",0);b.current.$slide.closest(".fancybox-inner").find(".fancybox-button--close").on("keypress",function(b){13!=b.which&&32!=b.which||$.fancybox.close(z);return!1})},afterShow:function(b,h,k){q=!1;
var m=dataStorage.getSubeoFromPage(c.id);player.contentPage.lightBoxPage=new DKI.StandalonePage({contentAPI:x.contentAPI,containerEl:z[0],actions:c.actions,page:c,player:x});var n=this,A=b.current.$slide,D=function(){r();v=function(){$(n.src).removeClass("loading");if(0==$("div.popup.modal:visible").length){var b=A.find(".dki-course-max-width *[tabindex\x3d'1']:visible").first();b[0]?b[0].focus():$(".fancybox-item.fancybox-close",l)[0].focus();if(b.length)A.find(".dki-html-element iframe").on("load",
function(){b[0].focus()})}n.$slide.closest(".fancybox-container").css("opacity",1);setTimeout(function(){$(".fancybox-close").css("opacity",1)},75)};$(document).on(DKI.ContentPage.events.loadFinished,v);player.contentPage.lightBoxPage.start(0,!0);setTimeout(p,1E3);$(dataStorage).one(DKI.DataStorage.events.changePage,p);$(document).trigger(DKI.PresentationPlayer.events.targetPageShown,c)};m&&7==m.subeotype?requirejs(["testing"],function(){player.contentPage.lightBoxPage=new DKI.TestQuestion(x,player.contentPage.lightBoxPage,
m.question,!0);D()}):D()},beforeClose:function(){(q||player.forceCloseLightBox&&player.contentPage.lightBoxPage)&&player.contentPage.lightBoxPage.reset();var b=q||player.forceCloseLightBox;player.forceCloseLightBox=!1;return b},afterClose:function(){$(document).off(DKI.ContentPage.events.loadFinished,null,k);$(document).off(DKI.ContentPage.events.loadFinished,null,v);$(dataStorage).off(DKI.DataStorage.events.changePage,null,p);m.$refs.container.off("onUpdate.fb",null,n);player.contentPage.lightBoxPage.destroy();
z.remove();l=m=player.contentPage.lightBoxPage=null;$(document).trigger(DKI.PresentationPlayer.events.targetPageHidden,c);$("html").removeClass("popupPageOpen");setTimeout(function(){DKI.enforceFocus(!1);DKI.reference.hideReference();DKI.reference.hideBibliography();var b=$("div.popup.modal:visible, .fancybox-inner:visible").last();b.length&&(DKI.enforceFocus(b),b=b.find("*[tabindex\x3d'1']:not(.close):not(.fancybox-close)"),b.length&&b[0].focus());A.focus()},1)},beforeShow:function(b,h,n){$("html").addClass("popupPageOpen");
h=this.$slide.closest(".fancybox-inner");h.after("\x3cdiv tabindex\x3d'1' style\x3d'position:absolute; bottom:1px; right:1px; height:1px; width:1px; opacity:0;'\x3e\x26nbsp;\x3c/div\x3e");m=b;l=h;settings.responsive||h.find(".fancybox-slide").style("overflow","hidden");h.attr("role","dialog").attr("aria-label",c.title).find(".dki-course-max-width").attr("role","document");0==$("div.popup.modal:visible").length&&DKI.enforceFocus(h);h.addClass("loading");$(document).on(DKI.ContentPage.events.loadFinished,
k)}})}}};DKI.PresentationPlayer.transitionClasses="none slide fade flip pop";DKI.PresentationPlayer.events={targetPageShown:"playerTargetPageShow",targetPageHidden:"playerTargetPageHidden"};
DKI.DataStorage=$.Class({init:function(b,h,c,l,m,q){var n=this;this.ready=this.courseTime=this.eventsInitialized=this.resumeFromBookmark=this.loadingLMSCompletionData=!1;this.courseStructure=this.initStructure(b);this.behaviour=h;this.strings=c;this.currentPageIndex=this.currentObjectIndex=this.currentModuleIndex=0;this.store={assets:{},groups:{},elements:{},resources:{},relationships:{glossaryElement:{},assetElement:{},citationGlossary:{}}};this.completion={dataChunk:{},elements:{},progress:""};
l?this.bookmark=l:m&&(b=this.getPageFromSubeo(m))&&(this.bookmark=b.id);this.bookmark&&q&&(this.groupBookmark=q);this.assessmentBookmark=null;this.storeAssessment=!1;this.currentModule=this.courseStructure.modules[this.currentModuleIndex];this.currentObject=this.currentModule.objects[this.currentObjectIndex];this.currentPage=this.currentObject.subeos[this.currentPageIndex];this.moduleCount=this.courseStructure.modules.length;this.currentObjectCount=this.currentModule.objects.length;this.currentPageCount=
this.currentObject.subeos.length;this.previousPage=null;0<this.currentPageIndex&&(this.previousPage=this.getPreviousPage());this.nextPage=this.getNextPage();this.currentModulePageTotal=this.countModulePages(this.currentModule);this.currentModulePage=this.currentPageIndex+1;this.passMark=this.courseStructure.passmark;this.assessment=null;this.lessonStatus="incomplete";this.contentVariables={};this.contentVariableMeta={};this.pagesNextEnabled={};var r={number:0,string:"","boolean":!1};$.each(settings.course.custom_variables,
function(b,c){n.contentVariables[c.name]=r[c.type]});this.contentVariables["contentVariablesLastUpdated_"+this.courseStructure.courseid]=(new Date).getTime();this.indexAssets();$(document).on(DKI.resourceBrowser.events.resourceRegistered,$.proxy(function(b,c){c.isResource=!0;this.store.assets[c.id]||(this.store.assets[c.id]=c);this.store.resources[c.id]||(this.store.resources[c.id]=c)},this));$(document).on(DKI.courseStore.events.groupRegistered,$.proxy(function(b,c){this.store.groups[c.id]=c},this));
$(document).on(DKI.courseStore.events.elementRegistered,$.proxy(function(b,c){this.store.elements[c.elementid]=c;c.upload_id&&this.setRelationship("assetElement",c.upload_id,c.elementid);if("htm"==c.elementtype||"table"==c.elementtype||"authoringButton"==c.elementtype){var h=this;$("\x3cdiv\x3e"+c.meta.replace(/src=/g,"")+"\x3c/div\x3e").find(".dki-glossary-link").each(function(){var b=$(this).data("id");h.setRelationship("glossaryElement",b,c.elementid)})}},this));$(document).one(DKI.ContentPage.events.loadFinished,
$.proxy(function(){this.startCourseTimer()},this))}});DKI.DataStorage.prototype.getRelationship=function(b,h){var c=[];return this.store.relationships[b]?this.store.relationships[b][h]?this.store.relationships[b][h]:c:c};DKI.DataStorage.prototype.setRelationship=function(b,h,c){this.store.relationships[b]||(this.store.relationships[b]={});this.store.relationships[b][h]?0>$.inArray(c,this.store.relationships[b][h])&&this.store.relationships[b][h].push(c):this.store.relationships[b][h]=[c]};
DKI.DataStorage.prototype.indexAssets=function(){for(var b=this,h=0;h<DKI.assets.length;h++){var c=DKI.assets[h];this.store.assets[c.id]||(c.labels="",this.store.assets[c.id]=c,$(document).trigger(DKI.DataStorage.events.assetRegistered,[c]))}if(playerBehaviour.preloadImages&&!settings.inPreview){var l=function(){$.each(b.store.assets,function(){var b=this;if("image"==b.type&&!b.preloaded)return $("\x3clink /\x3e",{as:"image",href:b.filePath,rel:"preload"}).on("load",function(){b.preloaded=!0;l()}).appendTo("head"),
!1})};l()}};DKI.DataStorage.prototype.allTestsAttempted=function(){var b,h;return this.hasTesting()&&(this.behaviour.enablePreTest||this.behaviour.enablePostTest)?(b=this.modulesWithTesting().length,h=this.modulesTestAttempted().length,h==b):!0};DKI.DataStorage.prototype.createAssessment=function(b,h,c){return new DKI.Assessment(b,h,c)};DKI.DataStorage.prototype.checkObjectComplete=function(b){for(var h=b.subeos.length,c=0,l=0;l<h;l++)b.subeos[l].complete&&(c+=1);c===h&&this.markObjectComplete(b)};
DKI.DataStorage.prototype.checkModuleComplete=function(b){for(var h=b.objects.length,c=0,l=0;l<h;l++)b.objects[l].complete&&(c+=1);c===h&&this.markModuleComplete(b)};DKI.DataStorage.prototype.checkCourseComplete=function(){for(var b=0,h=0,c=0;c<this.courseStructure.modules.length;c++)this.courseStructure.modules[c].invalidated||(b+=1,this.courseStructure.modules[c].complete&&(h+=1));h===b&&(this.courseStructure.complete||$(this).trigger(DKI.DataStorage.events.courseCompleted),this.doSetCourseComplete())};
DKI.DataStorage.prototype.countCoursePages=function(){for(var b=0,h=0;h<this.courseStructure.modules.length;h+=1)this.courseStructure.modules[h].invalidated||(b+=this.countModulePages(this.courseStructure.modules[h]));return b};DKI.DataStorage.prototype.countModulePages=function(b){for(var h=0,c=0;c<b.objects.length;c++)h+=b.objects[c].subeos.length;return h};DKI.DataStorage.prototype.createPreTest=function(b){this.createTest(b,"pre")};
DKI.DataStorage.prototype.createPostTest=function(b){this.createTest(b,"post")};
DKI.DataStorage.prototype.createTest=function(b,h,c){b="object"===typeof b?b:this.findModule(b);var l=this.loadTest(b,!1,c),m=!0;"pre"===h?0<this.remainingPreAttempts(b)?b.pre={attempts:1,weight:null,points:0,score:0}:m=!1:0<this.remainingPostAttempts(b)?b.post?c||b.post.attempts++:b.post={attempts:1,weight:null,points:0,score:0}:m=!1;m?(this.assessment=this.createAssessment(b,h,l),playerBehaviour.enableAssessmentBookmarking&&(this.storeAssessment=!0),c&&this.assessment.import(this.assessmentBookmark),
$(this).trigger(DKI.DataStorage.events.assessmentReady),$(this).trigger(DKI.DataStorage.events.questionSelected,this.assessment.currentQuestion)):$(this).trigger(DKI.DataStorage.events.attemptsMaxed)};DKI.DataStorage.prototype.createReview=function(b){b.test&&(b=b.test);this.assessment=new DKI.AssessmentReview(b);$(this).trigger(DKI.DataStorage.events.assessmentReady);$(this).trigger(DKI.DataStorage.events.questionSelected,this.assessment.currentQuestion)};DKI.DataStorage.prototype.getElement=function(b){return this.store.elements[b]};
DKI.DataStorage.prototype.getElementByDragDropId=function(b){var h=null;$.each(this.store.elements,function(){if(this.dragdrop_id.toLowerCase()==b.toLowerCase())return h=this,!1});return h};DKI.DataStorage.prototype.getGroup=function(b){return this.store.groups[b]};DKI.DataStorage.prototype.getAsset=function(b){return this.store.assets[b]};
DKI.DataStorage.prototype.findPage=function(b){for(var h,c,l=0;l<this.courseStructure.modules.length;l++){h=this.courseStructure.modules[l];for(var m=0;m<h.objects.length;m++){c=h.objects[m];for(var q=0;q<c.subeos.length;q++)if(c.subeos[q].page.pageid==b)return c.subeos[q].page}}if(this.courseStructure.resourcePages)for(l=0;l<this.courseStructure.resourcePages.length;l++)if(this.courseStructure.resourcePages[l].pageid==b)return this.courseStructure.resourcePages[l]};
DKI.DataStorage.prototype.findSubeo=function(b){for(var h,c,l=0;l<this.courseStructure.modules.length;l++){h=this.courseStructure.modules[l];for(var m=0;m<h.objects.length;m++){c=h.objects[m];for(var q=0;q<c.subeos.length;q++)if(c.subeos[q].subeoid==b)return c.subeos[q]}}};
DKI.DataStorage.prototype.getSubeoFromPage=function(b){for(var h,c,l=0;l<this.courseStructure.modules.length;l++){h=this.courseStructure.modules[l];for(var m=0;m<h.objects.length;m++){c=h.objects[m];for(var q=0;q<c.subeos.length;q++)if(c.subeos[q].page.pageid==b)return c.subeos[q]}}};
DKI.DataStorage.prototype.findQuestionForPage=function(b){for(var h,c,l=0;l<this.courseStructure.modules.length;l++){h=this.courseStructure.modules[l];for(var m=0;m<h.objects.length;m++){c=h.objects[m];for(var q=0;q<c.questions.length;q++)if(c.questions[q].page.pageid==b)return c.questions[q]}}};
DKI.DataStorage.prototype.getPageFromSubeo=function(b){for(var h,c,l=0;l<this.courseStructure.modules.length;l++){h=this.courseStructure.modules[l];for(var m=0;m<h.objects.length;m++){c=h.objects[m];for(var q=0;q<c.subeos.length;q++)if(c.subeos[q].subeoid==b)return c.subeos[q].page}}};DKI.DataStorage.prototype.getModuleEnd=function(b){var h;if("string"===typeof b||"number"===typeof b)b=this.findModule(b);h=b.objects.length-1;return b.objects[h].subeos[b.objects[h].subeos.length-1]};
DKI.DataStorage.prototype.getUserID=function(){return"N/A"};DKI.DataStorage.prototype.findObject=function(b){for(var h,c=0;c<this.courseStructure.modules.length;c++){h=this.courseStructure.modules[c];for(var l=0;l<h.objects.length;l++)if(h.objects[l].objectid==b)return h.objects[l]}};DKI.DataStorage.prototype.findModule=function(b){for(var h=0;h<this.courseStructure.modules.length;h++)if(this.courseStructure.modules[h].loid==b)return this.courseStructure.modules[h]};
DKI.DataStorage.prototype.getModuleByIndex=function(b){return this.courseStructure.modules[b]};DKI.DataStorage.prototype.findModuleIndex=function(b){"object"===typeof b&&(b=b.loid);for(var h=0;h<this.courseStructure.modules.length;h++)if(this.courseStructure.modules[h].loid==b)return h};DKI.DataStorage.prototype.getFirstNonInvalidatedModule=function(){for(var b=0;b<this.courseStructure.modules.length;b++)if(!this.courseStructure.modules[b].invalidated)return this.courseStructure.modules[b];return null};
DKI.DataStorage.prototype.getAssessmentScore=function(){return this.assessment?this.assessment.getScore():null};DKI.DataStorage.prototype.getAssessmentScoringDetails=function(){return this.assessment?{score:this.assessment.getScore(),points:this.assessment.getPoints(),weight:this.assessment.getWeight()}:null};
DKI.DataStorage.prototype.getCourseCompletion=function(b){var h=0,c=0,l,m;if(this.courseStructure.complete&&!b||"1"==this.courseStructure.testOnly&&this.allTestsAttempted()&&this.isPassed()||(this.courseStructure.complete||"testing"==this.behaviour.completionCriteria)&&b&&this.allTestsAttempted()&&this.isPassed())return 100;for(var q=0;q<this.courseStructure.modules.length;q++)if(!this.courseStructure.modules[q].invalidated){l=this.courseStructure.modules[q];for(var n=0;n<l.objects.length;n++)if(m=
l.objects[n],h+=m.subeos.length,m.complete||l.complete)c+=m.subeos.length;else for(var r=0;r<m.subeos.length;r++)m.subeos[r].complete&&c++;(b||"1"==this.courseStructure.testOnly)&&this.moduleHasTest(l)&&(m=this.getModuleScoringDetails(l),l=this.loadTest(l).questions.length,h+=l,m.passed&&(c+=l))}if(b||"1"==this.courseStructure.testOnly)for("testing"==this.behaviour.completionCriteria&&(c=h=0),q=0;q<this.courseStructure.modules.length;q++)this.courseStructure.modules[q].invalidated||(l=this.courseStructure.modules[q],
this.moduleHasTest(l)&&(m=this.getModuleScoringDetails(l),l=this.loadTest(l).questions.length,h+=l,m.passed&&(c+=l)));return 0==h&&0==c?0:Math.round(c/h*1E5)/1E3};DKI.DataStorage.prototype.getCourseScore=function(){return this.hasTesting()?this.getCourseScoringDetails().score:null};
DKI.DataStorage.prototype.getCourseScoringDetails=function(){for(var b=parseFloat(0,"10"),h=0,c,l=0;l<this.courseStructure.modules.length;l++)this.courseStructure.modules[l].invalidated||(c=this.getModuleScoringDetails(this.courseStructure.modules[l]),h+=c.weight,b+=c.points);b=parseFloat(b.toFixed(1),10);return{score:0<b&&0<h?parseInt(b/h*100,10):0,weight:h,points:b}};DKI.DataStorage.prototype.getCourseScoreAvg=function(){return this.hasTesting?this.getCourseScoringDetails().score:null};
DKI.DataStorage.prototype.getContentVariable=function(b){return this.contentVariables[b]};DKI.DataStorage.prototype.setContentVariable=function(b,h,c){this.contentVariables[b]=h;c&&(c.value=h,this.contentVariableMeta[b]=c);this.contentVariables["contentVariablesLastUpdated_"+this.courseStructure.courseid]=(new Date).getTime()};DKI.DataStorage.prototype.getContentVariableMeta=function(b){return this.contentVariableMeta[b]};
DKI.DataStorage.prototype.getCurrentQuestion=function(){if(this.assessment&&this.assessment.currentQuestion)return this.assessment.currentQuestion};DKI.DataStorage.prototype.getNextQuestion=function(){if(this.assessment)return this.assessment.nextQuestion};DKI.DataStorage.prototype.getPreviousQuestion=function(){if(this.assessment)return this.assessment.previousQuestion};DKI.DataStorage.prototype.getCurrentQuestionCount=function(){if(this.assessment)return this.assessment.currentQuestionCount};
DKI.DataStorage.prototype.getModuleCompletion=function(b){var h=0,c=0;if("number"===typeof b||"string"===typeof b)b=this.findModule(b);if(b.complete)return 100;for(var l=0;l<b.objects.length;l++)if(h+=b.objects[l].subeos.length,b.objects[l].complete)c+=b.objects[l].subeos.length;else for(var m=0;m<b.objects[l].subeos.length;m++)b.objects[l].subeos[m].complete&&c++;return Math.round(c/h*1E5)/1E3};
DKI.DataStorage.prototype.getModuleScore=function(b){var h=null;if("number"===typeof b||"string"===typeof b)b=this.findModule(b);b.pre&&(h=b.pre.score);b.post&&(h&&b.post.score>h||!h)&&(h=b.post.score);return h};DKI.DataStorage.prototype.getAverageQuestionScore=function(b){var h=0;if(!b.lastAssessment||0==b.lastAssessment.answered.length)return 0;for(var c=0;c<b.lastAssessment.answered.length;c++)h+=b.lastAssessment.answered[c].score;return Math.floor(h/b.lastAssessment.answered.length*1E3)/1E3};
DKI.DataStorage.prototype.getModuleScoringDetails=function(b){var h=null,c=0,l=null,m;if("number"===typeof b||"string"===typeof b)b=this.findModule(b);b.pre&&(h=b.pre.score,c=b.pre.points,l=b.pre.weight);b.post&&(h&&b.post.score>h||!h)&&(h=b.post.score,c=b.post.points,l=b.post.weight);var q=null;0===l?m=!0:b.passing_mark?(m=h>=b.passing_mark,q=b.passing_mark):(m=h>=this.passMark,q=this.passMark);return{score:h,points:parseFloat(c.toFixed(1),10),weight:l,passed:m,assessment:b.lastAssessment,passMark:q}};
DKI.DataStorage.prototype.getModuleSummaryData=function(){var b=this,h={};$.each(dataStorage.modulesWithTesting(),function(){var c=dataStorage.getModuleScoringDetails(this);h[this.loid]={module:this,showScore:!0};null===c.score?h[this.loid].text=" \x26nbsp;":(h[this.loid].score=Math.floor(c.score),h[this.loid].points=c.points,h[this.loid].weight=c.weight);null!==c.passMark&&(c.score<c.passMark||null===c.score)&&(h[this.loid].failed=!0,b.behaviour.displayPass&&(h[this.loid].passMark=DKI.strings.endMod.passingScoreLabel+
" "+c.passMark+"%"));if(0<c.weight||null===c.weight){h[this.loid].attempts=b.remainingPostAttempts(this);h[this.loid].retakeText=b.strings.txtTakeTest;h[this.loid].retakeButtonClassExtra="endCourse_takeTest";if(this.pre||this.post)h[this.loid].retakeText=DKI.strings.endTest.retakeTestButton,h[this.loid].retakeButtonClassExtra="endCourse_retakeTest";0<h[this.loid].attempts&&(h[this.loid].showRetake=!0)}else h[this.loid].noAttempts=!0,h[this.loid].attempts=b.strings.txtNotAvailableShort});$.each(dataStorage.courseStructure.modules,
function(){if(!h[this.loid]){var b=this.objects.reduce(function(b,c){return b+(c.complete?1:0)},0)/this.objects.length*100;h[this.loid]={module:this,completion:b,isComplete:100==b}}});var c=[];$.each(h,function(){c.push(this)});c.sort(function(b,c){return b.module.loorder-c.module.loorder});return c};DKI.DataStorage.prototype.getPreviousModule=function(){if(0<this.currentModuleIndex)return this.courseStructure.modules[this.currentModuleIndex-1]};
DKI.DataStorage.prototype.getPrecedingPage=function(b){var h,c;b?(c=this.locatePage(b),b=c.page,h=c.object,c=c.module):(b=this.currentPageIndex,h=this.currentObjecIndex,c=this.currentModuleIndex);return 0<b?this.courseStructure.modules[c].objects[h].subeos[b-1]:0<h?(h--,b=this.courseStructure.modules[c].objects[h].subeos.length-1,this.courseStructure.modules[c].objects[h].subeos[b]):0<c?(c--,h=this.courseStructure.modules[c].objects.length-1,b=this.courseStructure.modules[c].objects[h].subeos.length-
1,this.courseStructure.modules[c].objects[h].subeos[b]):null};
DKI.DataStorage.prototype.getProceedingPage=function(b){var h,c;b?(c=this.locatePage(b),b=c.page,h=c.object,c=c.module):(b=this.currentPageIndex,h=this.currentObjecIndex,c=this.currentModuleIndex);return b<this.courseStructure.modules[c].objects[h].subeos.length-1?this.courseStructure.modules[c].objects[h].subeos[b+1]:h<this.courseStructure.modules[c].objects.length-1?(h++,this.courseStructure.modules[c].objects[h].subeos[0]):c<this.courseStructure.modules[c].length-1?(c++,this.courseStructure.modules[c].objects[0].subeos[0]):
null};DKI.DataStorage.prototype.getTotalQuestions=function(){if(this.assessment)return this.assessment.totalQuestions};
DKI.DataStorage.prototype.getNextPage=function(){var b;return this.currentPageIndex<this.currentPageCount-1?this.currentObject.subeos[this.currentPageIndex+1]:this.currentObjectIndex<this.currentObjectCount-1?(b=this.currentModule.objects[this.currentObjectIndex+1],b.subeos[0]):this.currentModuleIndex<this.moduleCount-1?(b=this.courseStructure.modules[this.currentModuleIndex+1],b=b.objects[0],b.subeos[0]):null};
DKI.DataStorage.prototype.getPreviousPage=function(){var b,h;return 0<this.currentPageIndex?this.currentObject.subeos[this.currentPageIndex-1]:0<this.currentObjectIndex?(h=this.currentModule.objects[this.currentObjectIndex-1],b=h.subeos.length,h.subeos[b-1]):0<this.currentModuleIndex?(h=this.courseStructure.modules[this.currentModuleIndex-1],b=h.objects.length,h=h.objects[b-1],b=h.subeos.length,h.subeos[b-1]):null};
DKI.DataStorage.prototype.goNextPage=function(){this.currentPageIndex<this.currentPageCount-1?(this.currentPageIndex++,this.currentPage=this.currentObject.subeos[this.currentPageIndex],this.currentModulePage++,$(this).trigger(DKI.DataStorage.events.changePage,"forward"),$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage)):this.goNextObject();this.previousPage=this.getPreviousPage();this.nextPage=this.getNextPage()};
DKI.DataStorage.prototype.goPreviousPage=function(){0<this.currentPageIndex?(this.currentPageIndex--,this.currentPage=this.currentObject.subeos[this.currentPageIndex],this.currentModulePage--,$(this).trigger(DKI.DataStorage.events.changePage,"back"),$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage)):this.goPreviousObject();this.previousPage=this.getPreviousPage();this.nextPage=this.getNextPage()};
DKI.DataStorage.prototype.goNextObject=function(){this.currentObjectIndex<this.currentObjectCount-1?(this.currentObjectIndex++,this.currentPageIndex=0,this.currentObject=this.currentModule.objects[this.currentObjectIndex],this.currentPage=this.currentObject.subeos[this.currentPageIndex],this.currentModulePage++,this.currentPageCount=this.currentObject.subeos.length,$(this).trigger(DKI.DataStorage.events.changeObject,"forward"),$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage)):
this.goNextModule()};
DKI.DataStorage.prototype.goPreviousObject=function(){0<this.currentObjectIndex?(this.currentObjectIndex--,this.currentObject=this.currentModule.objects[this.currentObjectIndex],this.currentModulePage--,this.currentPageCount=this.currentObject.subeos.length,this.currentPageIndex=this.currentPageCount-1,this.currentPage=this.currentObject.subeos[this.currentPageIndex],$(this).trigger(DKI.DataStorage.events.changeObject,"back"),$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage)):
this.goPreviousModule()};
DKI.DataStorage.prototype.goNextModule=function(){var b=!1;if(this.currentModuleIndex<this.moduleCount-1)return this.currentModuleIndex++,this.currentPageIndex=this.currentObjectIndex=0,this.currentModule=this.courseStructure.modules[this.currentModuleIndex],this.currentObject=this.currentModule.objects[this.currentObjectIndex],this.currentPage=this.currentObject.subeos[this.currentPageIndex],this.currentObjectCount=this.currentModule.objects.length,this.currentPageCount=this.currentObject.subeos.length,
this.currentModulePage=1,this.currentModulePageTotal=this.countModulePages(this.currentModule),this.currentModule.complete&&(this.currentModule.isRevisiting=!0),$(this).trigger(DKI.DataStorage.events.changeModule,"forward"),this.currentPage&&$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage),!0;this.currentModuleIndex==this.courseStructure.modules.length-1&&this.moduleHasTest(this.currentModule)&&(b=!0,this.currentModuleIndex+=1);$(this).trigger(DKI.DataStorage.events.courseEnd,
b);return!1};DKI.DataStorage.prototype.getNextModule=function(b){var h=this.currentModuleIndex;b&&(h=this.findModuleIndex(b));return h<this.moduleCount-1?this.courseStructure.modules[h+1]:null};
DKI.DataStorage.prototype.goPreviousModule=function(){0<this.currentModuleIndex&&(this.currentModuleIndex--,this.currentModule=this.courseStructure.modules[this.currentModuleIndex],this.currentModulePage=this.currentModulePageTotal=this.countModulePages(this.currentModule),this.currentObjectCount=this.currentModule.objects.length,this.currentObjectIndex=this.currentObjectCount-1,this.currentObject=this.currentModule.objects[this.currentObjectIndex],this.currentPageCount=this.currentObject.subeos.length,
this.currentPageIndex=this.currentPageCount-1,this.currentPage=this.currentObject.subeos[this.currentPageIndex],$(this).trigger(DKI.DataStorage.events.changeModule,"back"),this.currentPage&&$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage))};
DKI.DataStorage.prototype.navigateToModule=function(b){b=this.findModule(b);var h=-1;b&&(h=this.findModuleIndex(b));return 0<=h?(this.currentModuleIndex=h,this.currentPageIndex=this.currentObjectIndex=0,this.currentModule=this.courseStructure.modules[this.currentModuleIndex],this.currentObject=this.currentModule.objects[this.currentObjectIndex],this.currentPage=this.currentObject.subeos[this.currentPageIndex],this.currentObjectCount=this.currentModule.objects.length,this.currentPageCount=this.currentObject.subeos.length,
this.currentModulePage=1,this.currentModulePageTotal=this.countModulePages(this.currentModule),$(this).trigger(DKI.DataStorage.events.changeModule,"forward"),this.currentPage&&$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage),!0):!1};
DKI.DataStorage.prototype.goNextQuestion=function(){this.assessment&&this.assessment.goNextQuestion();this.assessment.currentQuestion?$(this).trigger(DKI.DataStorage.events.questionSelected,this.assessment.currentQuestion):(null!==this.assessment.test&&void 0!==this.assessment.test&&(this.assessment=this.assessment.test),$(this).trigger(DKI.DataStorage.events.assessmentCompleted))};
DKI.DataStorage.prototype.goPreviousQuestion=function(){this.assessment&&this.assessment.goPreviousQuestion();this.assessment.currentQuestion?$(this).trigger(DKI.DataStorage.events.questionSelected,this.assessment.currentQuestion):(null!==this.assessment.test&&void 0!==this.assessment.test&&(this.assessment=this.assessment.test),$(this).trigger(DKI.DataStorage.events.assessmentCompleted))};
DKI.DataStorage.prototype.hasTesting=function(){for(var b=0;b<this.courseStructure.modules.length;b++)if(!this.courseStructure.modules[b].invalidated&&0<this.courseStructure.modules[b].weight)return!0;return!1};
DKI.DataStorage.prototype.initEvents=function(){var b=this;this.eventsInitialized||($(this).bind(DKI.DataStorage.events.courseCompleted,function(){b.onCourseComplete()}),$(this).on(DKI.DataStorage.events.assessmentCompleted,function(h){b.onAssessmentComplete(h)}),$(player.navigation).on(DKI.PlayerNavigation.events.nextButtonEnabled,function(h,c){b.nextButtonEnabled(c)}),this.eventsInitialized=!0)};
DKI.DataStorage.prototype.initStructure=function(b){for(var h=0;h<b.modules.length;h++)this.moduleHasTest(b.modules[h])?b.modules[h].weight=1:b.modules[h].weight=0,0!=b.modules[h].parameters.content_time&&"undefined"!==typeof b.modules[h].parameters.content_time&&(b.modules[h].hasContentTimer=!0,this.courseTime+=b.modules[h].parameters.content_time,b.modules[h].parameters.content_time_original=b.modules[h].parameters.content_time),$.each(b.modules[h].objects,function(){$.each(this.subeos,function(){"question"==
this.page.pagetype&&(this.page.question=this.question)});$.each(this.questions,function(){this.page.question=this})});return b};DKI.DataStorage.prototype.isEndOfModule=function(){return this.currentModulePage===this.currentModulePageTotal};DKI.DataStorage.prototype.isEndOfCourse=function(){return this.isEndOfModule()&&this.currentModuleIndex===this.moduleCount-1};
DKI.DataStorage.prototype.isMaxedOut=function(b){var h=1;if("string"===typeof b||"number"===typeof b)b=this.findModule(b);this.behaviour.allowRetesting&&(h+=parseInt(this.behaviour.retestAttempts,"10"));return!(!b.post||b.post.attempts<h||this.behaviour.allowRetesting&&0===this.behaviour.retestAttempts)};
DKI.DataStorage.prototype.isPassed=function(b){b||(b=this.getCourseScoringDetails());var h=!1,c=!0;if(b.score>=this.passMark&&this.allTestsAttempted())if(this.behaviour.passModules){for(h=0;h<this.courseStructure.modules.length;h+=1)if(!this.courseStructure.modules[h].invalidated&&(b=this.getModuleScoringDetails(this.courseStructure.modules[h]),0<this.courseStructure.modules[h].weight&&!b.passed)){c=!1;break}h=c}else h=!0;return h};
DKI.DataStorage.prototype.isFailed=function(b){b||(b=this.getCourseScoringDetails());b=b.score<this.passMark&&this.testMaxedOut();if(!b&&this.behaviour.passModules)for(var h=0;h<this.courseStructure.modules.length;h+=1)if(!this.courseStructure.modules[h].invalidated&&(moduleDetails=this.getModuleScoringDetails(this.courseStructure.modules[h]),0<this.courseStructure.modules[h].weight&&!moduleDetails.passed&&this.isMaxedOut(this.courseStructure.modules[h]))){b=!0;break}return b};
DKI.DataStorage.prototype.jumpToModule=function(b){"object"!==typeof b&&(b=this.findModule(b));if(!b)return!1;this.currentModule=b;this.currentModuleIndex=this.findModuleIndex(b);this.courseStructure.testonly?this.currentPageIndex=this.currentPage=this.currentObjectIndex=this.currentObject=null:(b.complete&&(b.isRevisiting=!0),this.currentObject=b.objects[0],this.currentObjectIndex=0,this.currentPage=this.currentObject.subeos[0],this.currentPageIndex=0,this.currentModulePageTotal=this.countModulePages(this.currentModule),
this.currentModulePage=1,this.currentObjectCount=this.currentModule.objects.length,this.currentPageCount=this.currentObject.subeos.length,this.previousPage=this.getPreviousPage(),this.nextPage=this.getNextPage(),$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage));$(this).trigger(DKI.DataStorage.events.changeModule,"jump");return!0};
DKI.DataStorage.prototype.jumpToEndOfModule=function(b){"undefined"===typeof b&&(b=this.currentModule);this.jumpToPage(b.objects[b.objects.length-1].subeos[b.objects[b.objects.length-1].subeos.length-1].page.pageid)};
DKI.DataStorage.prototype.jumpToPage=function(b){for(var h,c,l="object"===typeof b?b.pageid:b,m=0;m<this.courseStructure.modules.length;m++){b=this.courseStructure.modules[m];for(var q=c=0;q<b.objects.length;q++){h=b.objects[q];for(var n=0;n<h.subeos.length;n++)if(c++,h.subeos[n].page.pageid==l)return this.currentPageIndex=n,this.currentPage=h.subeos[n],this.currentObjectIndex=q,this.currentObject=h,this.currentModuleIndex=m,this.currentModule=b,this.currentModulePageTotal=this.countModulePages(this.currentModule),
this.currentModulePage=c,this.currentObjectCount=this.currentModule.objects.length,this.currentPageCount=this.currentObject.subeos.length,this.currentModule.complete&&(this.currentModule.isRevisiting=!0),this.previousPage=this.getPreviousPage(),this.nextPage=this.getNextPage(),$(this).trigger(DKI.DataStorage.events.changeModule,"jump"),$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage),!0}}};
DKI.DataStorage.prototype.loadCompletion=function(){var b=DKI.uri.decodeCurrentLocation();""!==window.location.hash?this.bookmark=window.location.hash.replace("#page",""):b.pageID&&(this.bookmark=b.pageID);b.groupid&&(this.groupBookmark=b.groupid);this.initEvents();$(this).trigger(DKI.DataStorage.events.beforeReady);$(document).trigger(DKI.DataStorage.events.beforeReady);this.ready=!0;$(this).trigger(DKI.DataStorage.events.ready);$(document).trigger(DKI.DataStorage.events.ready)};
DKI.DataStorage.prototype.getElementCompletion=function(){return!1};DKI.DataStorage.prototype.saveElementCompletion=function(b,h){(h||function(){})()};
DKI.DataStorage.prototype.completePreviousPages=function(b){if("string"===typeof b||"number"===typeof b)b=this.findPage(b);for(var h,c,l=0;l<this.courseStructure.modules.length;l++){h=this.courseStructure.modules[l];for(var m=0;m<h.objects.length;m++){c=h.objects[m];for(var q=0;q<c.subeos.length;q++)if(c.subeos[q].page.pageid!=b.pageid)this.markSubeoComplete(c.subeos[q]);else return null;this.markObjectComplete(c)}this.markModuleComplete(h)}};
DKI.DataStorage.prototype.pageDisablesNext=function(b){if(player.behaviour.keepForwardEnabled){var h=this.pagesNextEnabled[b.pageid];return"undefined"==typeof h?b.disablenext:!h}return b.disablenext};DKI.DataStorage.prototype.nextButtonEnabled=function(b){b=b||this.currentPage.page;this.pagesNextEnabled[b.pageid]=!0};
DKI.DataStorage.prototype.invalidateModule=function(b){if("string"===typeof b||"number"===typeof b)b=this.findModule(b);"undefined"!==typeof b&&(b.invalidated=!0);$(document).trigger(DKI.DataStorage.events.moduleInvalidated,b.loid)};
DKI.DataStorage.prototype.revalidateModule=function(b){if("string"===typeof b||"number"===typeof b)b=this.findModule(b);"undefined"!==typeof b&&(b.invalidated=!1,b.complete=!1,$.each(b.objects,function(){this.complete=!1;$.each(this.subeos,function(){this.complete=!1});$.each(this.questions,function(){this.complete=!1})}));$(document).trigger(DKI.DataStorage.events.moduleRevalidated,b.loid)};
DKI.DataStorage.prototype.markSubeoComplete=function(b){var h;if("string"===typeof b||"number"===typeof b)b=this.findSubeo(b);"undefined"!==typeof b&&(this.doSetPageComplete(b),b.complete=!0,h=this.findObject(b.objectid),h.started=!0,$(this).trigger(DKI.DataStorage.events.pageCompleted,b.page.pageid),this.checkObjectComplete(h))};
DKI.DataStorage.prototype.markObjectComplete=function(b,h){if("string"===typeof b||"number"===typeof b)b=this.findObject(b);if("undefined"!==typeof b){var c=!b.complete&&!h;this.doSetObjectComplete(b,h);h=this.findModule(b.moduleid);h.started=!0;c&&$(this).trigger(DKI.DataStorage.events.objectCompleted,b.objectid);this.checkModuleComplete(this.findModule(b.moduleid))}};
DKI.DataStorage.prototype.markModuleComplete=function(b,h){if("string"===typeof b||"number"===typeof b)b=this.findModule(b);if("undefined"!==typeof b){var c=!b.complete;this.doSetModuleComplete(b,h);c&&$(this).trigger(DKI.DataStorage.events.moduleCompleted,b.loid);this.checkCourseComplete()}};DKI.DataStorage.prototype.markCourseComplete=function(){this.doSetCourseComplete();this.checkCourseComplete()};
DKI.DataStorage.prototype.moduleHasTest=function(b){for(var h=0;h<b.objects.length;h++)if(0!==b.objects[h].randQuest&&0<b.objects[h].questions.length)return!0;return!1};DKI.DataStorage.prototype.modulesTestAttempted=function(){for(var b=this.modulesWithTesting(),h=[],c=0;c<b.length;c++)if("object"==typeof b[c].pre||"object"==typeof b[c].post)h[h.length]=b[c];return h};
DKI.DataStorage.prototype.modulesWithTesting=function(){for(var b=[],h=0;h<this.courseStructure.modules.length;h++)this.courseStructure.modules[h].invalidated||0<this.courseStructure.modules[h].weight&&(b[b.length]=this.courseStructure.modules[h]);return b};DKI.DataStorage.prototype.remainingPreAttempts=function(b){if(this.behaviour.enablePreTest){if("string"===typeof b||"number"===typeof b)b=this.findModule(b);if(0===b.weight||b.pre||0<this.getModuleCompletion(b))return 0}else return 0;return 1};
DKI.DataStorage.prototype.remainingPostAttempts=function(b){var h,c=0;if(this.behaviour.enablePostTest){if("string"===typeof b||"number"===typeof b)b=this.findModule(b);if(0===b.weight)return 0;h=this.behaviour.allowRetesting?parseInt(this.behaviour.retestAttempts,10)+1:1;b.post&&(c=b.post.attempts);h-=c;0>h&&(h=0);this.behaviour.allowRetesting&&"0"==this.behaviour.retestAttempts&&(h=1);return h}return 0};
DKI.DataStorage.prototype.resume=function(b){this.bookmark&&("on"===b||"prompt"===b&&window.confirm(this.strings.iResume))?(this.jumpToPage(this.bookmark),this.resumeFromBookmark=!0):$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage)};DKI.DataStorage.prototype.setCurrentPageComplete=function(){this.markSubeoComplete(this.currentPage)};DKI.DataStorage.prototype.setCurrentObjectComplete=function(){this.markObjectComplete(this.currentObject)};
DKI.DataStorage.prototype.setPageComplete=function(b){(b=this.getSubeoFromPage(b))&&this.markSubeoComplete(b)};DKI.DataStorage.prototype.setObjectComplete=function(b){(b=this.findObject(b))&&this.markObjectComplete(b)};DKI.DataStorage.prototype.setModuleComplete=function(b,h){(b=this.findModule(b))&&this.markModuleComplete(b,h)};
DKI.DataStorage.prototype.submitCurrentQuestion=function(b,h,c,l){h="undefined"===typeof h?0:h;if(this.assessment){var m=this.assessment.currentQuestion;h=DKI.Marker.scoreQuestion(m,b.options,h,l);this.assessment.scoreQuestion(m,b,h,c,l);if(this.assessment.currentQuestion)$(this).trigger(DKI.DataStorage.events.questionSelected,this.assessment.currentQuestion);else if(0===this.assessment.unanswered.length||c)"pre"===this.assessment.prepost?(this.assessment.module.pre.score=this.assessment.getScore(),
this.assessment.module.pre.points=parseFloat(this.assessment.getPoints(),"10"),this.assessment.module.pre.weight=this.assessment.getWeight(),b=this.getModuleScoringDetails(this.assessment.module),this.behaviour.pretestSkipContent&&b.passed&&(this.setModuleComplete(this.currentModule.loid,!0),this.goNextModule())):(this.assessment.module.post.score=this.assessment.getScore(),this.assessment.module.post.points=parseFloat(this.assessment.getPoints(),"10"),this.assessment.module.post.weight=this.assessment.getWeight()),
$(this).trigger(DKI.DataStorage.events.assessmentCompleted);$(this).trigger(DKI.DataStorage.events.questionSubmitted,h)}return h};
DKI.DataStorage.prototype.testMaxedOut=function(){var b=0,h=0,c=1,l=parseInt(this.behaviour.retestAttempts,10),m;if(!this.hasTesting()||!this.behaviour.enablePreTest&&!this.behaviour.enablePostTest)return!0;if(this.hasTesting())if(this.behaviour.enablePreTest&&!this.behaviour.enablePostTest)for(m=0;m<this.courseStructure.modules.length;m++)!this.courseStructure.modules[m].invalidated&&0<this.courseStructure.modules[m].weight&&(b++,(this.courseStructure.modules[m].pre||0<this.getModuleCompletion(this.courseStructure.modules[m]))&&
h++);else for(this.behaviour.allowRetesting&&(c+=l),m=0;m<this.courseStructure.modules.length;m++)!this.courseStructure.modules[m].invalidated&&0<this.courseStructure.modules[m].weight&&(b++,this.courseStructure.modules[m].post&&this.courseStructure.modules[m].post.attempts>=c&&(!this.behaviour.allowRetesting||0!==l)&&h++);return b===h};
DKI.DataStorage.prototype.loadTest=function(b,h,c){"undefined"==typeof h&&(h=this.courseStructure.isDebug);var l={questions:[]},m=b.objects.slice();b=m.length;var q=playerBehaviour.enableShuffleLoOrder;if(c)$.each(this.assessmentBookmark.question_ids,function(){for(var b=0;b<m.length;b++)for(var c=m[b],h=0;h<c.questions.length;h++)if(c.questions[h].id==this){l.questions.push(c.questions[h]);return}});else if(q)for(q=0;q<b;q++)l.questions=l.questions.concat(this.randomQuestions(m[q],h));else for(q=
0;q<b;q++)c=Math.floor(Math.random()*m.length),l.questions=l.questions.concat(this.randomQuestions(m.splice(c,1)[0],h));return l};DKI.DataStorage.prototype.randomQuestions=function(b,h){var c=[],l=b.questions.slice();if(b.randQuest>=l.length&&(1===parseInt(b.preserve_question_order,10)||!0===b.preserve_question_order)||h)return l;for(var m=1;m<=b.randQuest;m++)if(0<l.length)h=Math.floor(Math.random()*l.length),c[c.length]=l.splice(h,1)[0];else break;return c};
DKI.DataStorage.prototype.locatePage=function(b){for(var h={page:0,object:0,module:0},c,l,m=0;m<this.courseStructure.modules.length;m++){c=this.courseStructure.modules[m];for(var q=0;q<c.objects.length;q++){l=c.objects[q];for(var n=0;n<l.subeos.length;n++)if(l.subeos[n].page.pageid===b)return h.page=n,h.object=q,h.module=m,h}}return h};
DKI.DataStorage.prototype.locateObject=function(b){for(var h={object:0,module:0},c,l,m=0;m<this.courseStructure.modules.length;m++){c=this.courseStructure.modules[m];for(var q=0;q<c.objects.length;q++)if(l=c.objects[q],l.objectid===b)return h.object=q,h.module=m,h}};DKI.DataStorage.prototype.locateModule=function(b){for(var h={module:0},c,l=0;l<this.courseStructure.modules.length;l++)if(c=this.courseStructure.modules[l],c.loid===b)return h.module=l,h};
DKI.DataStorage.prototype.doSetCourseComplete=function(){this.courseStructure.complete=!0;this.courseStructure.started=!0;for(var b=0;b<this.courseStructure.modules.length;b+=1)this.doSetModuleComplete(this.courseStructure.modules[b])};DKI.DataStorage.prototype.doSetModuleComplete=function(b,h){b.complete=!0;this.doSetModuleStarted(b);for(var c=0;c<b.objects.length;c+=1)this.doSetObjectComplete(b.objects[c],h)};
DKI.DataStorage.prototype.doSetModuleStarted=function(b){b.started||(b.started=!0,this.courseStructure.started=!0,$(this).trigger(DKI.DataStorage.events.moduleStarted,b.loid))};DKI.DataStorage.prototype.doSetObjectComplete=function(b,h){b.complete=!0;this.doSetObjectStarted(b);for(var c=0;c<b.subeos.length;c+=1)this.doSetPageComplete(b.subeos[c],h);h&&$(this).trigger(DKI.DataStorage.events.objectCompleted,b.objectid)};
DKI.DataStorage.prototype.doSetObjectStarted=function(b){var h=!b.started,c=this.findModule(b.moduleid);h&&(b.started=!0);this.doSetModuleStarted(c);h&&$(this).trigger(DKI.DataStorage.events.objectStarted,b.objectid)};
DKI.DataStorage.prototype.doSetPageComplete=function(b,h){var c=this.findObject(b.objectid);this.findModule(c.loid);b.complete=!0;b.started=!0;!this.loadingLMSCompletionData||this.bookmark==b.page.pageid&&"incomplete"==this.lessonStatus||(this.pagesNextEnabled[b.page.pageid]=!0);this.doSetObjectStarted(c);h&&$(this).trigger(DKI.DataStorage.events.pageCompleted,b.page.pageid)};
DKI.DataStorage.prototype.onCourseComplete=function(){var b;this.hasTesting()&&(this.behaviour.enablePreTest||this.behaviour.enablePostTest)?(b=this.getCourseScoringDetails(),this.isPassed(b)?this.lessonStatus="passed":this.isFailed(b)&&(this.lessonStatus="failed")):this.lessonStatus="complete"};
DKI.DataStorage.prototype.onAssessmentComplete=function(){this.assessment.removeTimer();this.storeAssessment=!1;("both"==this.behaviour.completionCriteria&&100===this.getCourseCompletion()||"testing"==this.behaviour.completionCriteria&&this.allTestsAttempted()||5==this.courseStructure.model_id&&this.allTestsAttempted())&&$(this).trigger(DKI.DataStorage.events.courseCompleted)};DKI.DataStorage.prototype.doExit=function(){""!==this.behaviour.exitFunction?eval(this.behaviour.exitFunction):top.window.close()};
DKI.DataStorage.prototype.startCourseTimer=function(){if(this.courseTime&&!this.courseTimer){var b=$.proxy(function(){this.courseTimer=setInterval($.proxy(function(){this.courseTimerPause||(this.courseTime-=1E3,0==this.courseTime&&(clearInterval(this.courseTimer),delete this.courseTimer),$(document).trigger(contentApi.events.dataSet,{name:"sys.course.contentTime",newValue:this.courseTime,oldValue:this.courseTime+1E3}))},this),1E3)},this);this.overallCourseTime=this.courseTime;if(this.ready)b();else $(this).on(DKI.DataStorage.events.ready,
function(){$(document).trigger(contentApi.events.dataSet,{name:"sys.course.contentTime",newValue:this.courseTime,oldValue:this.courseTime});b()})}else this.courseTimerPause=!1};DKI.DataStorage.prototype.stopCourseTimer=function(){this.courseTimerPause=!0};
DKI.DataStorage.prototype.resetCourseTimer=function(){if(!1!==this.courseTime){this.stopCourseTimer();var b=this,h=this.courseTime,c=0;$.each(courseStructure.modules,function(){b.resetModuleTimer(this);c+=this.parameters.content_time});this.courseTime=c;$(document).trigger(contentApi.events.dataSet,{name:"sys.course.contentTime",newValue:this.courseTime,oldValue:h});this.courseTimerPause=!1;this.startCourseTimer()}};
DKI.DataStorage.prototype.resetModuleTimer=function(b){var h=b.parameters.content_time;b.parameters.content_time=b.parameters.content_time_original;this.courseTime+=b.parameters.content_time-h;b.loid==this.currentModule.loid?(player.stopContentTimer(),player.startContentTimer(!0),$(document).trigger(contentApi.events.dataSet,{name:"sys.currentModule.contentTime",newValue:b.parameters.content_time,oldValue:h})):$(document).trigger(contentApi.events.dataSet,{name:"sys.modules."+(b.loorder-1)+".contentTime",
newValue:b.parameters.content_time,oldValue:h})};
DKI.DataStorage.events={courseEnd:"courseEnd",testEnd:"testEnd",changePage:"changePage",changeObject:"changeObject",changeModule:"changeModule",pageCompleted:"pageCompleted",objectCompleted:"objectCompleted",moduleCompleted:"moduleCompleted",courseCompleted:"courseCompleted",pageSelected:"pageSelected",questionSelected:"questionSelected",questionSubmitted:"questionSubmitted",questionScored:"questionScored",assessmentCompleted:"assessmentCompleted",assessmentReady:"assessmentReady",attemptsMaxed:"attemptsMaxed",
beforeReady:"beforeReady",ready:"ready",assetRegistered:"assetRegistered",moduleStarted:"moduleStarted",objectStarted:"objectStarted",beforeUnload:"beforeUnload",moduleInvalidated:"moduleInvalidated",moduleRevalidated:"moduleRevalidated"};
DKI.PlayerMenu=function(b){var h={element:"westPanel",dataStorage:dataStorage,behaviour:playerBehaviour,strings:playerStrings,player:player,animation:{effect:"slide",options:{direction:$("html").hasClass("ltr")?"left":"right"}}};this.config=b=DKI.applyIf(b,h);this.container=$("#"+b.element);this.behaviour=b.behaviour;this.dataStorage=b.dataStorage;this.strings=b.strings;this.clickEvent=b.player.settings.clickEvent;this.store=DKI.courseStore;this.tabSet=new DKI.TabSet({elementID:"westPanel",player:b.player});
this.tabSet.selectTab("outlineTab",!0);this.outlineTab=document.getElementById("outlineTab");this.tree=DKI.PlayerTree;DKI.PlayerTree.init(b.player,"outlineContent",DKI.courseStore);this.behaviour.transcripts&&(this.transcript=this.tabSet.createTab(this.strings.transcriptLabel,"transcriptTab").content,this.transcriptTab=document.getElementById("transcriptTab"),this.transcriptContent=document.createElement("div"),this.transcriptContent.tabIndex=-1,this.transcriptContent.className="transcript-content",
this.transcript.appendChild(this.transcriptContent),this.transcriptPosition=0);this.behaviour.pageNotes&&(this.notes=this.tabSet.createTab(this.strings.notesLabel,"notesTab").content,this.notesTab=document.getElementById("notesTab"),this.notesContent=document.createElement("div"),this.notesContent.tabIndex=-1,this.notesContent.className="notes-content",this.notes.appendChild(this.notesContent),this.notesPosition=0);this.close=$(".buttonClose");this.pageClicked="menuPageClicked";this.closed="menuClosed";
this.initEvents()};
DKI.PlayerMenu.prototype.initEvents=function(){var b=this;$(this.close).on(this.clickEvent,function(h){h.stopPropagation();b.onCloseClicked()});this.tree.pageClicked=function(b,c){$(document).trigger(DKI.PlayerMenu.events.pageClicked,c)};$(this.dataStorage).on(DKI.DataStorage.events.pageCompleted,function(h,c){b.tree.setComplete({type:b.store.NodeType.page,id:c})});$(this.dataStorage).on(DKI.DataStorage.events.objectCompleted,function(h,c){b.tree.setComplete({type:b.store.NodeType.object,id:c})});
$(this.dataStorage).on(DKI.DataStorage.events.moduleCompleted,function(h,c){b.tree.setComplete({type:b.store.NodeType.module,id:c})});$(this.dataStorage).on(DKI.DataStorage.events.courseCompleted,function(h){b.tree.setComplete({type:b.store.NodeType.course,id:b.dataStorage.courseStructure.courseid})});$(this.dataStorage).on(DKI.DataStorage.events.pageSelected,function(h,c){b.selectPage(c.page)});$(document).on(DKI.EndTest.events.started,$.proxy(function(){this.transcriptContent&&(this.transcriptContent.innerHTML=
"");this.notesContent&&(this.notesContent.innerHTML="")},this));$(document).on(DKI.EndModule.events.started,$.proxy(function(){this.transcriptContent&&(this.transcriptContent.innerHTML="");this.notesContent&&(this.notesContent.innerHTML="")},this));$(document).on(DKI.EndCourse.events.started,$.proxy(function(){this.transcriptContent&&(this.transcriptContent.innerHTML="");this.notesContent&&(this.notesContent.innerHTML="")},this));$(".dki-WestPanel .menuHeader").delegate(".courseSearchOpen",this.clickEvent,
function(b){contentApi.hideMenu();contentApi.toggleCourseSearch();b.stopPropagation()});$(".dki-WestPanel .menuHeader").delegate(".buttonClose",this.clickEvent,function(h){b.onCloseClicked();h.stopPropagation();return!1});$(".dki-WestPanel .innerBlockScroll .content").delegate(".page",this.clickEvent,function(h){h.stopPropagation();b.onCloseClicked();b.dataStorage.jumpToPage($(this).attr("page-id"));return!1});return null};DKI.PlayerMenu.prototype.getLeft=function(){return 0};
DKI.PlayerMenu.prototype.getWidth=function(){return $(this.container).width()};DKI.PlayerMenu.prototype.setCourse=function(b){this.tree.setCourse(b)};DKI.PlayerMenu.prototype.setCourseComplete=function(){};DKI.PlayerMenu.prototype.setHeight=function(b){$(this.container).height(b)};DKI.PlayerMenu.prototype.setModuleComplete=function(b){};DKI.PlayerMenu.prototype.setObjectComplete=function(b){};DKI.PlayerMenu.prototype.setPageComplete=function(b){};
DKI.PlayerMenu.prototype.selectPage=function(b){"string"==typeof b&&(b=this.dataStorage.findPage(b));this.tree.selectPage(b.pageid);$("div.content div.active",this.container).each(function(b){$(this).removeClass("active")});$(this.outlineTab).removeClass("disabled");this.behaviour.transcripts&&b.transcript?(this.transcript.scrollTop=0,this.transcriptContent.innerHTML=b.transcript.body):this.transcriptContent&&(this.transcriptContent.innerHTML="");this.behaviour.pageNotes&&b.pageNote?(this.notesContent.innerHTML=
b.pageNote.body,$(this.notesTab).removeClass("disabled")):this.notesContent&&(this.notesContent.innerHTML="");playerBehaviour.enableCourseSearch&&$(".dki-WestPanel .menuHeader a.courseSearchOpen").show();return null};
DKI.PlayerMenu.prototype.selectQuestion=function(b){"string"==typeof b&&(b=this.dataStorage.findQuestion(b));this.behaviour.transcripts&&b.page.transcript?(this.transcriptContent.innerHTML=b.page.transcript.body,$(this.outlineTab).addClass("disabled"),this.notesTab&&$(this.notesTab).addClass("disabled")):this.transcriptContent&&(this.transcriptContent.innerHTML="");$(".dki-WestPanel .menuHeader a.courseSearchOpen").hide()};DKI.PlayerMenu.prototype.scrollToSelected=function(){this.tree.scrollToSelected()};
DKI.PlayerMenu.prototype.selectedTab=function(b){if(b)this.tabSet.selectTab(b);else return this.tabSet.selectedTab().id};DKI.PlayerMenu.prototype.onCloseClicked=function(b){$(this).trigger(DKI.PlayerMenu.events.closed)};DKI.PlayerMenu.prototype.hide=function(){$(this.container).hide(this.config.animation.effect,this.config.animation.options).addClass("hidden")};
DKI.PlayerMenu.prototype.show=function(){var b=dkiUA.iOS?screen.availHeight-43:$("html").css("height").replace("px","");600>b?$(this.container).css("max-height",.85*b+"px"):$(this.container).css("max-height","600px");$(this.container).show(this.config.animation.effect,this.config.animation.options).removeClass("hidden");player.inAssessment||player.inReview||!playerBehaviour.enableCourseSearch?$(".dki-WestPanel .menuHeader a.courseSearchOpen").hide():$(".dki-WestPanel .menuHeader a.courseSearchOpen").show()};
DKI.PlayerMenu.events={closed:"MENU_CLOSED",pageClicked:"MENU_PAGE_CLICKED",initialized:"PLAYER_MENU_INITIALIZED"};$(document).on(DKI.DataStorage.events.beforeReady,function(){var b=new DKI.PlayerMenu;$(document).trigger(DKI.PlayerMenu.events.initialized,b)});DKI||(DKI={});
DKI.TabSet=function(b){var h=b.elementID;this.config=b;this.container=$("#"+h);this.tabStrip=$(".tabStrip",this.container)[0];null==this.tabStrip&&(this.tabStrip=document.createElement("ul"),this.tabStrip.id=h+"_tabStrip",this.tabStrip.role="tablist",$(this.tabStrip).addClass("tabStrip menuTabs"),0<this.container.length&&(0<this.container[0].childNodes.length?this.container[0].insertBefore(this.container[0].firstChild):this.container[0].appendChild(this.tabStrip)));b=this.tabStrip.childNodes;for(var c,
l=[],m=0;m<b.length;m++)if("LI"===b[m].tagName){l[l.length]=b[m];b[m].id||(b[m].id="tab_"+DKI.TabSet.tabCounter);h=$(b[m]).attr("data-contentid");if(void 0===h||null===h||""===h)h=b[m].id+"Content",b[m].setAttribute("data-contentid",h);b[m].tabIndex="0";b[m].role||(b[m].role="tab");b[m]["aria-controls"]||(b[m]["aria-controls"]=h);c=$("#"+h).addClass("tabContent")[0];null===c||void 0===c?this.createTabContent(h):c.role||(c.role="tabpanel");DKI.TabSet.tabCounter+=1}0<l.length&&this.selectTab(l[0].id,
!0);this.initEvents()};DKI.TabSet.prototype.initEvents=function(){var b=this;this.tabSelected="tabSelected";$(this.tabStrip).delegate(".tab",clickEvent,function(h){h.stopPropagation();$(this).hasClass("disabled")||b.selectTab(this.id);return!1})};DKI.TabSet.tabCounter=0;
DKI.TabSet.prototype.createTab=function(b,h){var c=document.createElement("li"),l={tab:c};c.className="tab";c.role="tab";c.tabIndex=0;b||(b="Tab "+DKI.TabSet.tabCounter);c.innerHTML="\x3ca\x3e"+b+"\x3c/a\x3e";c.id=null!==h&&void 0!==h?h:"tab_"+DKI.TabSet.tabCounter;b=c.id+"Content";c.setAttribute("data-contentid",b);c["aria-controls"]=b;this.tabStrip.appendChild(c);l.content=this.createTabContent(b);return l};
DKI.TabSet.prototype.createTabContent=function(b){var h=document.createElement("div");h.id=b;h.role="tabpanel";h.classList?(h.classList.add("tabContent"),h.classList.add("innerBlockScroll"),h.classList.add("hidden")):$(h).addClass("tabContent hidden innerBlockScroll");this.container.append(h);return h};DKI.TabSet.prototype.removeTab=function(b){(b="string"===typeof b?document.getElementById(b):b)&&this.tabStrip.removeChild(b)};
DKI.TabSet.prototype.selectTab=function(b,h){b="string"==typeof b?$("#"+b):$(b);$(this.tabStrip).children().each(function(){$(this).removeClass("selected");var b=$("#"+this.getAttribute("data-contentid")).addClass("hidden");$("*[tabindex]",b).attr("tabIndex","-1")});b.addClass("selected");b=$("#"+b.attr("data-contentid")).removeClass("hidden");b=$("*[tabIndex]",b).attr("tabIndex","0");!h&&0<b.length&&b[0].focus();return!0};
DKI.TabSet.prototype.selectedTab=function(){return this.tabStrip.querySelector?this.tabStrip.querySelector(".selected"):$(".selected",this.tabStrip)[0]};DKI.TabSet.prototype.hide=function(){$(this.container).hide()};DKI.TabSet.prototype.show=function(){$(this.container).show()};DKI.TabSet.prototype.isHidden=function(){return $(this.container).hasClass("hidden")};DKI||(DKI={});
DKI.PlayerTree=function(){var b=null,h=null,c=null,l=null,m,q=function(b,c,h,k){var l="";switch(b){case "module":l=c;break;case "object":l=c+"."+h;break;case "page":l=c+"."+h+"."+k}return l},n=function(){$(b).delegate(".module,.object,.course,.page","click",function(b){var c=$(this);b=l.get(this.id);if(b.nodeType==l.NodeType.page)c.hasClass("disabled")||(k(b.page.pageid),DKI.PlayerTree.pageClicked(DKI.PlayerTree.pageClicked,b.page.pageid));else if(b.nodeType==l.NodeType.object&&h){for(var c=null,
m=b.childKeys.length-1;0<=m;m--){var n=l.get(b.childKeys[m]);if(n.nodeType==l.NodeType.page&&n.complete&&m==b.childKeys.length-1){c=l.get(b.childKeys[0]).page.pageid;break}if(n.nodeType==l.NodeType.page&&n.complete){c=n.page.pageid;break}}c||(c=l.get(b.childKeys[0]).page_id);k(c);DKI.PlayerTree.pageClicked(DKI.PlayerTree.pageClicked,c)}else c.toggleClass("collapse"),$(c.children()[0]).toggleClass("collapse");return!1});$(m).on(m.events.bypassForceSequential,function(){$(b).find(".treeNode.disabled").removeClass("disabled")});
return null},r=function(k,p,r){m=k;if(null!=p&&null!=r&&void 0!=p&&void 0!=r){b=$("#"+p);b.addClass("dki-PlayerTree");l=r;b.html("");k=playerBehaviour.forceSequential;h=playerBehaviour.hidePagesFromMenu;c=playerBehaviour.enablePageNumbering;if(void 0!==l&&null!==l){p=l.course.get();r=document.createElement("div");r.id=p.key;r.className="treeNode collapse "+l.NodeType.course;var A=r.appendChild(document.createElement("a"));A.setAttribute("tabindex",0);A.innerHTML+="\x3cspan class\x3d'tree-icon collapse'\x3e\x3c/span\x3e\x3cspan title\x3d\""+
p.coursename+"\"\x3e\x3cspan class\x3d'tree-icon status'\x3e\x3c/span\x3e\x3cspan class\x3d'label'\x3e"+p.coursename+"\x3c/span\x3e\x3c/span\x3e";A.className=p.complete?"finished":p.started?"started":"unstarted";A.className+=" collapse";A.id=p.key+"link";var u=1,C;for(C in p.childKeys){var B=l.module.get(p.childKeys[C]),y=c?q("module",u):"",E=document.createElement("div");E.id=B.key;E.className="treeNode collapse "+l.NodeType.module;A=E.appendChild(document.createElement("a"));A.setAttribute("tabindex",
0);A.innerHTML="\x3cspan class\x3d'tree-icon collapse'\x3e\x3c/span\x3e\x3cspan title\x3d\""+y+" "+B.name+"\"\x3e\x3cspan class\x3d'tree-icon status'\x3e\x3c/span\x3e\x3cspan class\x3d'label'\x3e"+y+" "+B.name+"\x3c/span\x3e\x3c/span\x3e";A.className=B.complete?"finished":B.started?"started":"unstarted";A.className+=" collapse";A.id=B.key+"link";r.appendChild(E);var y=1,F;for(F in B.childKeys){var D=l.get(B.childKeys[F]),G=c?q("object",u,y):"",I=document.createElement("div");I.className="treeNode collapse "+
l.NodeType.object;I.id=D.key;h&&(I.className+=" pagesHidden");A=I.appendChild(document.createElement("a"));A.setAttribute("tabindex",0);A.innerHTML="\x3cspan class\x3d'tree-icon collapse'\x3e\x3c/span\x3e\x3cspan title\x3d\""+G+" "+D.name+"\"\x3e\x3cspan class\x3d'tree-icon status'\x3e\x3c/span\x3e\x3cspan class\x3d'label'\x3e"+G+" "+D.name+"\x3c/span\x3e\x3c/span\x3e";A.className=D.complete?"finished":D.started?"started":"unstarted";A.className+=" collapse";A.id=D.key+"link";E.appendChild(I);var G=
1,K;for(K in D.childKeys){var H=l.get(D.childKeys[K]),P=c?q("page",u,y,G):"";if(H.nodeType==l.NodeType.page&&!h){var O=document.createElement("div");O.id=H.key;O.className="treeNode "+l.NodeType.page+(k&&!H.complete?" disabled":"");A=O.appendChild(document.createElement("a"));A.setAttribute("tabindex",0);A.innerHTML='\x3cspan title\x3d"'+P+" "+H.page.title+"\"\x3e\x3cspan class\x3d'tree-icon status'\x3e\x3c/span\x3e\x3cspan class\x3d'label'\x3e"+P+" "+H.page.title+"\x3c/span\x3e\x3c/span\x3e";A.className=
H.complete?"finished":"unstarted";A.id=H.key+"link";I.appendChild(O);G++}}y++}u++}b.append(r)}else b.html("No outline available");n();return null}},k=function(c){var k=null;h?((k=l.object.get(l.NodeType.object+c))||(k=l.object.getForPage(l.NodeType.page+c)),k=$("#"+l.NodeType.object+k.id+"link")):k=$("#"+l.NodeType.page+c+"link");var m=$("#outlineContent");$(".treeNode.course",m);$("a.selected",b).each(function(b){$(this).removeClass("selected")});k.addClass("selected");k.parent().removeClass("disabled");
p();$("div.object a",b).each(function(b){$(this).removeClass("active")});$($("#"+l.NodeType.page+c).parent().children()[0]).addClass("active");for(c=k.parent();null!=c;)c.hasClass("treeNode")?(c.removeClass("collapse"),$(c.children()[0]).removeClass("collapse"),c=c.parent()):c=null;return null},p=function(){var b=$(document.getElementById("outlineContent")),c=$("a.selected",b);if(c.length){var h=$(".treeNode.course",b);b.scrollTop(c.offset().top-h.offset().top)}};return{init:r,scrollToSelected:p,
setComplete:function(b){function c(b){var h=$($("#"+b.key).children()[0]);h.removeClass("unstarted").removeClass("finished").removeClass("started");h.addClass(b.complete?"finished":"started");return b.parentId}var h=$("#"+b.type+b.id+"link");h.removeClass("unstarted");h.removeClass("started");h.addClass("finished");b.type==l.NodeType.page&&(b=l.page.get(b.type+b.id),c(l.module.get(c(l.object.get(b.parentId)))),c(l.course.get()))},selectPage:k,setCourse:r,pageClicked:null}}();
DKI.Assessment=$.Class({prototype:{init:function(b,h,c){this.module=b;this.unanswered=c.questions.concat();this.answered=[];this.prepost=h;this.currentQuestionIndex=0;this.currentQuestion=this.unanswered[this.currentQuestionIndex];this.nextQuestion=this.getNextQuestion();this.previousQuestion=this.getPreviousQuestion();this.totalQuestions=this.unanswered.length;this.currentQuestionCount=1;for(var l=this.totalWeight=0;l<c.questions.length;l++)this.totalWeight+=parseInt(c.questions[l].weight,10);this.module.lastAssessment=
this;this.submissions=[];this.countdownTimer=this.timer=null;if(settings.enableTimerQuestions&&("post"==h&&playerBehaviour.enableTestTime||"pre"==h&&playerBehaviour.enablePreTestTime)&&"undefined"!==typeof b.parameters&&"undefined"!==typeof b.parameters.test_time&&""!=b.parameters.test_time){var m=this;requirejs(["flipclock"],function(){m.timer=$("#countdown-timer-div");var c={countdown:!0,clockFace:"MinuteCounter",callbacks:{start:function(){this.getElapsed()},stop:function(){var b=h-this.getElapsed();
setTimeout($.proxy(function(){0==b&&(contentApi.setData("sys.assessment.timeRemaining",0),contentApi.setData("sys.assessment.timeRemainingInMS",0),dataStorage.currentModule.forceTestEnd=!0,contentApi.submitQuestion())},m),1E3)},interval:function(b,c,l){b=h-this.getElapsed();c=DKI.utility.timeFunctions.convertMsToTime(b);contentApi.setData("sys.assessment.timeRemaining",c.h+":"+c.m+":"+c.s);contentApi.setData("sys.assessment.timeRemainingInMS",b)}}};dataStorage.currentModule.forceTestEnd=!1;var h=
b.parameters.test_time;36E5<b.parameters.test_time&&(c.clockFace="HourCounter");m.countdownTimer=m.timer.FlipClock(b.parameters.test_time/1E3,c);c=$("html").width();m.timer.show();var l=m.timer.outerWidth(!0);m.timer.css("left",c-l-30+"px");m.timer.width(m.timer.width());m.timer.draggable({containment:".bgRepeater"})})}},removeTimer:function(){this.countdownTimer&&this.countdownTimer.timer._destroyTimer($.proxy(function(){delete this.countdownTimer;this.countdownTimer=null},this));this.timer&&(this.timer.empty(),
this.timer.hide())},getScore:function(){var b=0;if(0<this.answered.length){for(var h=0;h<this.answered.length;h++)var c=parseInt(this.answered[h].weight,10),b=b+parseFloat(this.answered[h].score,10)*c;b=0==b&&0==this.totalWeight?0:b/this.totalWeight}return Math.floor(1E3*b)/1E3},getPoints:function(){var b=parseFloat(0,"10");if(0<this.answered.length)for(var h=0;h<this.answered.length;h++)b+=parseFloat(this.answered[h].points,"10");return parseFloat(b.toFixed(1),10)},getWeight:function(){return this.totalWeight},
getNextQuestion:function(){var b=this.currentQuestionIndex+1;if(1===this.unanswered.length)return null;b>=this.unanswered.length&&(b=0);return this.unanswered[b]},getPreviousQuestion:function(){var b=this.currentQuestionIndex-1;if(1===this.unanswered.length)return null;0>b&&(b=this.unanswered.length-1);return this.unanswered[b]},getTotalQuestions:function(){return this.totalQuestions},goNextQuestion:function(){null!==this.currentQuestion&&this.currentQuestionIndex++;this.currentQuestionIndex>=this.unanswered.length&&
(this.currentQuestionIndex=0);0<this.unanswered.length?(this.currentQuestion=this.unanswered[this.currentQuestionIndex],this.nextQuestion=this.getNextQuestion(),this.previousQuestion=this.getPreviousQuestion()):this.previousQuestion=this.nextQuestion=this.currentQuestion=null},goPreviousQuestion:function(){0<this.currentQuestionIndex?this.currentQuestionIndex--:this.currentQuestionIndex=this.unanswered.length-1;this.currentQuestion=this.unanswered[this.currentQuestionIndex];this.nextQuestion=this.getNextQuestion();
this.previousQuestion=this.getPreviousQuestion()},scoreQuestion:function(b,h,c,l,m,q){"undefined"==typeof q&&(q=!0);var n=DKI.clone(h);this.submissions.push({id:b.id,questionObject:n,score:c,forceEnd:l});for(var r,n=0;n<this.unanswered.length;n++)this.unanswered[n].id===b.id&&(r=this.unanswered[n].page,this.unanswered.splice(n,1),r={choices:h.options,score:c,body:h.body,page:r,points:parseFloat(parseFloat(c*b.weight/100,10).toFixed(1),10),data:h.data,timedOut:l?!0:!1},this.answered[this.answered.length]=
DKI.applyIf(r,b),this.currentQuestionIndex=n);0<this.unanswered.length&&this.currentQuestionCount++;this.currentQuestion=null;$(dataStorage).trigger(DKI.DataStorage.events.questionScored,{question:b,questionObject:h,score:c,test:m,recordInteraction:q})},export:function(){var b=this,h={moduleid:this.module.loid,currentQuestionCount:this.currentQuestionCount,currentQuestionIndex:this.currentQuestionIndex,prepost:this.prepost,question_ids:function(){var c=[];$.each(b.answered,function(){c.push(this.id)});
$.each(b.unanswered,function(){c.push(this.id)});return c}(),submissions:this.submissions};this.countdownTimer&&(h.time=this.countdownTimer.getTime());return h},import:function(b){var h=this;this.countdownTimer&&this.countdownTimer.setTime(b.time);$.each(b.submissions,function(){var b=this;$.each(h.unanswered,function(){this.id==b.id&&h.scoreQuestion(this,b.questionObject,b.score,b.forceEnd,null,!1)})});this.goNextQuestion()}}});DKI||(DKI={});
DKI.AssessmentReview=$.Class({init:function(b){this.module=b.module;this.prepost=b.prepost;this.totalQuestions=b.answered.length+b.unanswered.length;this.questions=[];this.test=b;for(var h=0;h<b.answered.length;h++){var c={id:b.answered[h].id,pageid:b.answered[h].pageid,userChoices:b.answered[h].choices,options:b.answered[h].options,score:parseFloat(b.answered[h].score,10),page:b.answered[h].page,weight:b.answered[h].weight,points:parseFloat(b.answered[h].points,"10")};this.questions[h]=DKI.applyIf(c,
b.answered[h])}for(h=0;h<b.unanswered.length;h++)this.questions[this.questions.length]=DKI.applyIf({id:b.unanswered[h].id,pageid:b.unanswered[h].pageid,userChoices:[],correctChoices:b.unanswered[h].options,score:0,page:b.unanswered[h].page,weight:b.unanswered[h].weight,points:0},b.unanswered[h]);this.currentQuestionIndex=0;this.currentQuestionCount=1;this.currentQuestion=this.questions[this.currentQuestionIndex];this.nextQuestion=this.getNextQuestion();this.previousQuestion=this.getPreviousQuestion()},
getScore:function(){for(var b=0,h=0,c=0;c<this.questions.length;c++)b+=parseFloat(this.questions[c].score,"10")*this.questions[c].weight,h+=parseInt(this.questions[c].weight,"10");return 0==b&&0==h?0:Math.floor(b/h*1E3)/1E3},getPoints:function(){for(var b=parseFloat(0,"10"),h=0;h<this.questions.length;h++)b+=parseFloat(this.questions[h].points,"10");return parseFloat(b.toFixed(1),10)},getWeight:function(){return this.test.totalWeight},goNextQuestion:function(){this.currentQuestionIndex<this.totalQuestions-
1&&(this.currentQuestionIndex++,this.currentQuestionCount++,this.currentQuestion=this.questions[this.currentQuestionIndex],this.nextQuestion=this.getNextQuestion(),this.previousQuestion=this.getPreviousQuestion())},goPreviousQuestion:function(){0<this.currentQuestionIndex&&(this.currentQuestionIndex--,this.currentQuestionCount--,this.currentQuestion=this.questions[this.currentQuestionIndex],this.nextQuestion=this.getNextQuestion(),this.previousQuestion=this.getPreviousQuestion())},getNextQuestion:function(){return this.currentQuestionIndex<
this.totalQuestions?this.questions[this.currentQuestionIndex+1]:null},getPreviousQuestion:function(){return 0<this.currentQuestionIndex?this.questions[this.currentQuestionIndex-1]:null},export:function(){return{}},import:function(){return!1}});DKI||(DKI={});
DKI.prompt=function(b,h,c){var l=playerStrings&&playerStrings.buttonLabelOK?playerStrings.buttonLabelOK:"OK",m=playerStrings&&playerStrings.buttonLabelCancel?playerStrings.buttonLabelCancel:"Cancel",q=playerStrings&&playerStrings.buttonLabelClose?playerStrings.buttonLabelClose:"Close",n,r,k=function(b){b=!1;var k="";$(this).hasClass("prompt_ok")&&(b=!0,k=r.val());h.call(c,b,k);n.modal("hide");return!1};c||(c=window);(function(){n=$(Handlebars.compile(DKI.templates.prompt)({strings:{ok:l,cancel:m,
close:q,message:b}}));r=n.find("#DKI_prompt_input");r[0].addEventListener("keydown",function(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0;13==b.keyCode&&n.find(".prompt_ok").trigger(settings.clickEvent)},!0);$("body").append(n);n.on("shown.bs.modal",function(){r.focus()});n.on("hidden.bs.modal",function(){n.remove()});n.find("button").on(settings.clickEvent,k);n.modal("show")})()};
var contentApi=function(){var b={},h,c,l,m,q,n,r,k={called:"contentAPICalled",dataSet:"dataSet",jumpToPage:"jumpToPage",nextButtonEnabled:"nextButtonEnabled"},p={DkiApi:{},events:k},v={init:function(b,k){h=b;n=b.strings;l=h.navigation;m=h.dataStorage;h.isSinglePage||(q=k,c=h.behaviour,q&&!r&&this.getStudentName(function(){}))},audioButtonOn:function(){l.showAudioButton();$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eAudio is enabled."}])},audioButtonOff:function(){l.hideAudioButton();
$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eAudio is disabled."}])},contentGoBack:function(){l.fireBack();$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eNavigated to the previous page."}])},contentGoNext:function(){h.isSinglePage||(h.inEndScreen?!h.reachedEnd&&h.inAssessment||h.contentPage.previous&&h.contentPage.previous.question&&h.contentPage.previous.question.objectid?h.resume("pre"==m.assessment.prepost):h.resume():
l.fireForward());$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eNavigated to the next page."}])},getAudioStatus:function(){var b=h.isSinglePage?!0:h.audio;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Audio Status retrieved",data:b}]);return b},getCourseCompletion:function(){var b=h.isSinglePage?null:m.getCourseCompletion();$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course completion retrieved",data:b}]);
return b},getCourseID:function(){var b=h.isSinglePage?null:m.courseStructure.manifestId;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course ID retrieved",data:b}]);return b},getCourseMetadata:function(){var b=h.isSinglePage?null:m.courseStructure.metadata;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course metadata retrieved",data:b}]);return b},getCourseLanguage:function(){var b=h.isSinglePage?null:m.courseStructure.crslanguage;$(document).trigger(k.called,
[{message:"Content API called... \x3c/br\x3e Course language retrieved",data:b}]);return b},getCourseName:function(){var b=h.isSinglePage?null:$("\x3cdiv\x3e").html(m.courseStructure.coursename).text();$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course name retrieved",data:b}]);return b},getCoursePassMark:function(){var b=h.isSinglePage?null:m.courseStructure.passmark;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course pass mark retrieved",
data:b}]);return b},getCoursePageCount:function(){var b=h.isSinglePage?null:m.countCoursePages();$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course page count retrieved",data:b}]);return b},getCourseScore:function(){var b=h.isSinglePage?null:m.getCourseScoreAvg();$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course score retrieved.",data:b}]);return b},getCourseScoreAvg:function(){var b=h.isSinglePage?null:m.getCourseScoreAvg();$(document).trigger(k.called,
[{message:"Content API called... \x3c/br\x3e Course score average retrieved.",data:b}]);return b},getCurrentModuleName:function(){var b=h.isSinglePage?null:m.currentModule.name;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Current module name retrieved.",data:b}]);return b},getData:function(c,l){var n=null;try{switch(c.toLowerCase()){case "sys.player.muted":n=!contentApi.getAudioStatus();break;case "sys.player.inreview":n=h.inReview;break;case "sys.player.inassessment":n=
h.inAssessment;break;case "sys.learner.completion":n=contentApi.getCourseCompletion();break;case "sys.learner.score":n=contentApi.getCourseScore();break;case "sys.learner.status":n=contentApi.getStatus();break;case "sys.learner.name":n=contentApi.getStudentName();break;case "sys.learner.id":n=contentApi.getUserID();break;case "sys.course.language":n=contentApi.getCourseLanguage();break;case "sys.course.title":n=contentApi.getCourseMetadata().title;break;case "sys.course.type":n=m.courseStructure.model_id;
break;case "sys.course.description":n=contentApi.getCourseMetadata().description;break;case "sys.course.styledtitle":n=m.courseStructure.parameters.styledTitle;break;case "sys.course.styledsubtitle":n=m.courseStructure.parameters.styledSubtitle;break;case "sys.course.copyright":n=contentApi.getCourseMetadata().copyright;break;case "sys.course.disclaimer":n=contentApi.getCourseMetadata().disclaimer;break;case "sys.course.summary":n=contentApi.getCourseMetadata().summary;break;case "sys.course.compliance":n=
contentApi.getCourseMetadata().compliance;break;case "sys.course.duration":n=contentApi.getDuration();break;case "sys.course.passmark":n=contentApi.getPassMark();break;case "sys.course.completedtests":n=contentApi.getModuleTestCompleteCount();break;case "sys.course.remainingtests":n=contentApi.getModuleTestCount()-contentApi.getModuleTestCompleteCount();break;case "sys.course.totaltests":n=contentApi.getModuleTestCount();break;case "sys.course.pagecount":n=contentApi.getCoursePageCount();break;case "sys.course.publisheddate":n=
contentApi.getCourseMetadata().datelastmodified;break;case "sys.course.passtext":n=m.courseStructure.passText;break;case "sys.course.failtext":n=m.courseStructure.failText;break;case "sys.metadata.currentdate":var p=new Date,n=p.getFullYear()+"/"+(p.getMonth()+1)+"/"+p.getDate();break;case "sys.metadata.currentyear":p=new Date;n=p.getFullYear();break;case "sys.course.type":n=m.courseStructure.model_id;break;case "sys.course.contenttime":n=0==parseInt(m.courseTime,10)?0:parseInt(m.courseTime,10)||
"N/A";break;case "sys.currentmodule.score":n=contentApi.getModuleScore();break;case "sys.currentmodule.title":n=contentApi.getCurrentModuleName();break;case "sys.currentmodule.pagecount":n=m.countModulePages(m.currentModule);break;case "sys.currentmodule.complete":n=m.currentModule.complete?!0:!1;break;case "sys.currentmodule.pretestscore":n=m.currentModule.pre?m.currentModule.pre.score:null;break;case "sys.currentmodule.posttestscore":n=m.currentModule.post?m.currentModule.post.score:null;break;
case "sys.currentmodule.passmark":n=""!=m.currentModule.passing_mark?m.currentModule.passing_mark:contentApi.getPassMark();break;case "sys.currentmodule.hastesting":n=1===m.currentModule.weight?!0:!1;break;case "sys.currentmodule.testtime":n=m&&m.currentModule?parseInt(m.currentModule.parameters.test_time,10)||"N/A":"N/A";break;case "sys.currentmodule.contenttime":var q=0==parseInt(m.currentModule.parameters.content_time,10)?0:parseInt(m.currentModule.parameters.content_time,10)||"N/A",n=m&&m.currentModule?
q:"N/A";break;case "sys.currentmodule.remainingattempts":n=m.remainingPostAttempts(m.currentModule);break;case "sys.currentmodule.averagequestionscore":n=m.getAverageQuestionScore(m.currentModule);break;case "sys.currentobject.title":n=m.currentObject.title;break;case "sys.currentobject.description":n=m.currentObject.description;break;case "sys.currentobject.pagecount":n=m.currentObject.subeos.length;break;case "sys.currentobject.complete":n=m.currentObject.complete?!0:!1;break;case "sys.currentpage.title":m.currentPage&&
(n=m.currentPage.page.title);m.assessment&&m.assessment.currentQuestion&&(n=m.assessment.currentQuestion.title);break;case "sys.currentpage.readingtime":m.currentPage&&(n=6E4>m.currentPage.page.readingtime?"1 min":Math.round(m.currentPage.page.readingtime/6E4)+"min");m.assessment&&m.assessment.currentQuestion&&(n=6E4>m.assessment.currentQuestion.readingtime?"1 min":Math.round(m.assessment.currentQuestion.readingtime/6E4)+"min");break;case "sys.currentpage.description":m.currentPage&&(n=m.currentPage.page.description);
m.assessment&&m.assessment.currentQuestion&&(n=m.assessment.currentQuestion.description);break;case "sys.currentpage.transcript":m.currentPage&&(n=m.currentPage.page.transcript?m.currentPage.page.transcript.body:"");m.assessment&&m.assessment.currentQuestion&&m.assessment.currentQuestion.page.transcript&&(n=m.assessment.currentQuestion.page.transcript.body);break;case "sys.currentpage.note":m.currentPage&&(n=m.currentPage.page.pageNote?m.currentPage.page.pageNote.body:"");m.assessment&&m.assessment.currentQuestion&&
m.assessment.currentQuestion.page.pageNote&&(n=m.assessment.currentQuestion.page.pageNote.body);break;case "sys.currentpage.id":m.currentPage&&(n=m.currentPage.page.pageid);m.assessment&&m.assessment.currentQuestion&&(n=m.assessment.currentQuestion.page.pageid);break;case "sys.currentpage.moduleindex":n=m.currentModulePage;m.assessment&&m.assessment.currentQuestion&&(n=m.assessment.currentQuestionIndex);break;case "sys.currentpage.objectindex":n=m.currentPageIndex+1;m.assessment&&m.assessment.currentQuestion&&
(n=m.assessment.currentQuestion.order);break;case "sys.profile.pretestenabled":n=playerBehaviour.enablePreTest;break;case "sys.profile.pretestforced":n=playerBehaviour.forcePreTest;break;case "sys.profile.pretestreview":n=playerBehaviour.enablePreTestReview;break;case "sys.profile.posttestenabled":n=playerBehaviour.enablePostTest;break;case "sys.profile.posttestreview":n=playerBehaviour.enablePostTestReview;break;case "sys.profile.retestattempts":n=playerBehaviour.retestAttempts;break;case "sys.profile.forcesequential":n=
playerBehaviour.forceSequential;break;case "sys.profile.certificateenabled":n=playerBehaviour.completionCertificate;break;case "sys.assessment.questionsanswered":n=m.currentModule.lastAssessment?m.currentModule.lastAssessment.answered.length:null;break;case "sys.assessment.questionsremaining":n=m.currentModule.lastAssessment?m.currentModule.lastAssessment.unanswered.length:null;break;case "sys.assessment.totalquestions":n=m.currentModule.lastAssessment?m.currentModule.lastAssessment.totalQuestions:
m.loadTest(m.currentModule).questions.length;break;case "sys.assessment.ispretest":n=m.currentModule.lastAssessment?"pre"==m.currentModule.lastAssessment.prepost:null;break;case "sys.assessment.isposttest":n=m.currentModule.lastAssessment?"post"==m.currentModule.lastAssessment.prepost:null;break;case "sys.assessment.totalweight":n=m.currentModule.lastAssessment?m.currentModule.lastAssessment.totalWeight:null;break;case "sys.assessment.currentquestionindex":n=m.getCurrentQuestionCount;m.assessment&&
m.assessment.currentQuestion&&(n=m.assessment.currentQuestionCount);break;case "sys.assessment.scoredpoints":m.currentModule.lastAssessment&&(n=m.currentModule[m.currentModule.lastAssessment.prepost].points);break;default:if(0==c.indexOf("sys.translationStrings.")){var r=c.replace("sys.translationStrings.","");return contentApi.getPlayerString(r)}if(c.toLowerCase().match(/sys\.modules\.[0-9]*\./)){var v=c.toLowerCase().match(/sys\.modules\.([0-9]*)\.(.*)/),z=v[1],D=v[2],n="";if(m.getModuleByIndex){var G=
m.getModuleByIndex(z);switch(D){case "score":n=contentApi.getModuleScore(G.loid);break;case "title":n=G.name;break;case "pagecount":n=m.countModulePages(G);break;case "complete":n=G.complete?!0:!1;break;case "pretestscore":n=G.pre?G.pre.score:null;break;case "posttestscore":n=G.post?G.post.score:null;break;case "passmark":n=""!=G.passing_mark?G.passing_mark:contentApi.getPassMark();break;case "hastesting":n=1===G.weight?!0:!1;break;case "remainingattempts":n=m.remainingPostAttempts(G);break;case "contenttime":n=
parseInt(G.parameters.content_time,10);break;case "averagequestionscore":n=m.getAverageQuestionScore(G)}}return n}n=h.isSinglePage?b[c]:m.getContentVariable(c)}}catch(I){}l||$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Data for "+c+" retrieved",data:n}]);return n},getPlayerString:function(b){b=b.split(".");return DKI.strings[b[0]][b[1]]},getDuration:function(){var b=h.isSinglePage?null:parseInt(m.courseStructure.duration,10);$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course duration retrieved",
data:b}]);return b},getMaxTestAttempts:function(){var b=0;h.isSinglePage||(b=c.enablePostTest?c.allowRetesting?parseInt(c.retestAttempts,10)+1:1:0);$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course maximum test attempts retrieved",data:b}]);return b},getModules:function(){var b=null,c;if(!h.isSinglePage)for(var b=[],l=0;l<m.courseStructure.modules.length;l+=1)c=m.courseStructure.modules[l],b[l]={name:c.loname,id:c.loid,hasTesting:1===c.weight?!0:!1,remainingAttempts:m.remainingPostAttempts(c)},
c.pre&&(b[l].pre={score:c.pre.score,rawScore:c.pre.points,maxScore:c.pre.weight}),c.post&&(b[l].post={score:c.post.score,attempts:c.post.attempts,rawScore:c.post.points,maxScore:c.post.weight});$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course modules retrieved",data:b}]);return b},getModuleScore:function(b){var c=null;if(!h.isSinglePage){if(void 0===b||null===b)b=m.currentModule.loid;c=m.getModuleScore(b)}$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Module by ID:"+
b+" score retrived",data:c}]);return c},getModuleTestCompleteCount:function(){var b=h.isSinglePage?null:m.modulesTestAttempted().length;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Module test completion count retrieved",data:b}]);return b},getModuleTestCount:function(){var b=h.isSinglePage?null:m.modulesWithTesting().length;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Module test count retrieved",data:b}]);return b},getObjectID:function(){var b=
h.isSinglePage?null:m.currentObject.objectid;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Current learning object ID retrieved",data:b}]);return b},getPassMark:function(){var b=h.isSinglePage?null:m.passMark;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course passing mark retrieved",data:b}]);return b},getPageID:function(){var b=h.isSinglePage?h.settings.pageId:m.currentPage.page.pageid;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Current page ID retrieved",
data:b}]);return b},getPreviousPage:function(){var b=h.isSinglePage?null:m.previousPage?m.previousPage.page:null;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e previous page retrieved",data:b}]);return b},getCurrentPage:function(){var b=h.isSinglePage?null:m.currentPage?m.currentPage.page:null;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Current page retrieved",data:b}]);return b},getNextPage:function(){var b=h.isSinglePage?null:m.nextPage?m.nextPage.page:
null;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e next page retrieved",data:b}]);return b},getStatus:function(){var b=null;if(q)switch(m.get("status")){case m.get("statusPassed"):b="passed";break;case m.get("statusCompleted"):b="complete";break;case m.get("statusFailed"):b="failed";break;default:b="incomplete"}else h.isSinglePage||(b=m.lessonStatus);$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course status retrieved",data:b}]);return b},getStudentName:function(b){var c;
if(b){if(r)return b(r),!1;var h=function(h,l){r=c=h?l:"";b(c);$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Student name entered",data:c}])};q?q.process("GetStudentName",[],function(c){r=c;b(c);$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Student name entered",data:c}])}):DKI.prompt(n.txtEnterName,h)}else{if(r)return r;r=c=window.prompt(n.txtEnterName);$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Student name retreived",
data:c}]);return c}},getUserID:function(){var b=h.isSinglePage?null:m.getUserID();$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Current user ID retrieved",data:b}]);return b},hideBack:function(){l.hideBackButton();$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3e The preview button is disabled."}])},hideBoth:function(){l.hideBackButton();l.hideForwardButton();$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3e Both navigation buttons are disabled."}])},
hideForward:function(){l.hideForwardButton();$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eThe next button is disabled."}])},hideTranscript:function(){h.isSinglePage||h.hideTranscript();$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eThe transcript is hidden."}])},jumpToSubeo:function(b,c,l){DKI.isObject(b)&&b.subeoId&&(b=b.subeoId);"undefined"===typeof l&&(l=!1);h.inAssessment||h.inReview||h.isSinglePage||h.jumpToSubeo(b,
c,l);$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eJump to subeo triggered."}])},jumpToPage:function(b,c){var l;DKI.isObject(b)?("undefined"!=typeof b.markComplete&&(c=b.markComplete),b.pageID&&(l=b.pageID)):l=b;b=m.getSubeoFromPage(l);$(document).trigger(k.jumpToPage,[l,b]);!b||h.inAssessment||h.inReview||h.isSinglePage||h.jumpToSubeo(b.subeoid,c);c="Player Control Action Triggered...\x3c/br\x3eJump to page triggered.";b||(c+=".. Page not found in course.");
$(document).trigger(k.called,[{message:c}])},getSubeoFromPage:function(b){if(!h.isSinglePage)return h.dataStorage.getSubeoFromPage(b);$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3egetSubeoFromPage triggered."}])},jumpToLearningObject:function(b,c){if(!h.inAssessment&&!h.inReview&&!h.isSinglePage){b=m.findObject(b);for(var l=b.subeos[0].subeoid,n=1;n<b.subeos.length;n++)if(!b.subeos[n].complete){l=b.subeos[n-1].subeoid;break}contentApi.jumpToSubeo(l,c)}$(document).trigger(k.called,
[{message:"Player Control Action Triggered...\x3c/br\x3eJump to object triggered."}])},playerEvent:{on:function(b,c){h.isSinglePage||$(h).bind(b,c);$(document).trigger(k.called,[{message:"Content API called... Handler attached to player event",data:arguments}])},remove:function(b,c){h.isSinglePage||$(h).unbind(b,c);$(document).trigger(k.called,[{message:"Content API called... Handler removed from player event",data:arguments}])}},printPage:function(){window.print();$(document).trigger(k.called,[{message:"Content API called... Print page called"}])},
setData:function(c,l,n,p,q,r){var v;c&&(v=h.isSinglePage?b[c]:this.getData(c),v!=l&&(h.isSinglePage?b[c]=l:m.setContentVariable.apply(m,[c,l,q]),p||($(document).trigger(k.dataSet,{name:c,newValue:l,oldValue:v,cfg:r}),$(document).trigger(k.called,[{message:"Content API called... Data set",data:arguments}]))))},setObjectCompleted:function(){h.isSinglePage||h.setCurrentObjectComplete();$(document).trigger(k.called,[{message:"Content API called... Current learning object set to complete"}])},setCourseComplete:function(){h.isSinglePage||
m.markCourseComplete();$(document).trigger(k.called,[{message:"Content API called... Course learning set to complete"}])},execJS:function(b){try{eval(b.js)}catch(c){$(document).trigger(k.called,[{message:"exec JS Content API called... Error executing javascript: "+b.js,status:"warning"}])}$(document).trigger(k.called,[{message:"Content API called... Javascript successfully executed.",data:b.js}])},showBack:function(){h.navigation.showBackButton();$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eThe previous button is enabled."}])},
showBoth:function(){h.navigation.showBackButton();h.navigation.showForwardButton();$(document).trigger(k.nextButtonEnabled);$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eBoth navigation buttons are enabled."}])},showForward:function(){h.navigation.showForwardButton();$(document).trigger(k.nextButtonEnabled);$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eThe next button is enabled."}])},takeTest:function(){if(h.isSinglePage)$(document).trigger(k.called,
[{message:"Content API function called...\x3c/br\x3eJumped to current module testing"}]);else if(!h.inAssessment&&!h.inReview){var b=m.currentModule,l=m.moduleHasTest(b);if(c.enablePostTest){if(!l)return $(document).trigger(k.called,[{message:"Content API function called... \x3c/br\x3e "+n.noModuleTesting,status:"warning"}]),null;if(m.isMaxedOut(b))return $(document).trigger(k.called,[{message:"Content API function called... \x3c/br\x3e "+n.exceededTestAttempts,status:"warning"}]),null}else return $(document).trigger(k.called,
[{message:"Content API function called... \x3c/br\x3e "+n.testingDisabled,status:"warning"}]),null;m.markModuleComplete(b);(l=m.getModuleEnd(b))&&m.jumpToPage(l.page);h.launchTest(b.loid,"post");$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eJumped to current module testing"}]);return null}},jumpToModule:function(b){if(h.isSinglePage)$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eJumped to current module content"}]);else if(!h.inAssessment&&
!h.inReview){var c=m.currentModule;b.moduleID&&(c=m.findModule(b.moduleID));h.jumpToModule(c);$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eJumped to current module content"}]);return null}},reviewTest:function(b){if(h.isSinglePage)$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eTest review started"}]);else if(!h.inAssessment&&!h.inReview){var c=m.currentModule;b.moduleID&&(c=m.findModule(b.moduleID));(b=c.lastAssessment?c.lastAssessment:
null)&&h.launchReview(b);$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eTest review started"}]);return null}},toggleTranscript:function(){h.isSinglePage||h.toggleTranscript();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe transcript is toggled"}])},showTranscript:function(){h.isSinglePage||h.showTranscript();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe transcript is showing"}])},openModal:function(b,
c){DKI.Modal.show({url:b,callback:c});$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe modal is showing"}])},showGlossaryBrowser:function(){h.isSinglePage||DKI.glossaryBrowse.show();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe glossary browser is showing"}])},hideGlossaryBrowser:function(){h.isSinglePage||DKI.glossaryBrowse.hide();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe glossary browser is hidden"}])},
toggleGlossaryBrowser:function(){h.isSinglePage||DKI.glossaryBrowse.toggle();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe glossary browser is toggled"}])},showResourceBrowser:function(){h.isSinglePage||DKI.resourceBrowser.show();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe resource browser is showing"}])},hideResourceBrowser:function(){h.isSinglePage||DKI.resourceBrowser.hide();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe resource browser is hidden"}])},
toggleResourceBrowser:function(){h.isSinglePage||DKI.resourceBrowser.toggle();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe resource browser is toggled"}])},showBibliography:function(){h.isSinglePage||DKI.reference.showBibliography();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe bibliography is showing"}])},hideBibliography:function(){h.isSinglePage||DKI.reference.hideBibliography();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe bibliography is hidden"}])},
toggleBibliography:function(){h.isSinglePage||DKI.reference.toggleBibliography();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe bibliography is toggled"}])},showCourseSearch:function(b){b&&"object"==typeof b&&(b=null);h.isSinglePage||DKI.search.Window.show(b);$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe course search window is showing"}])},hideCourseSearch:function(){h.isSinglePage||DKI.search.Window.hide();$(document).trigger(k.called,
[{message:"Content API function called...\x3c/br\x3eThe course search window is hidden"}])},toggleCourseSearch:function(){h.isSinglePage||DKI.search.Window.toggle();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe course search window is toggled"}])},searchCourse:function(b,c){var l=null;h.isSinglePage||(l=m.searchManager.search(b,c));$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe course was searched for: "+b,data:{result:l,
term:b,exclude:c}}]);return l},showCorrectAnswers:function(){(h.contentPage.lightBoxPage||h.contentPage.current).showCorrectAnswers();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eCorrect answers are showing"}])},tryAgain:function(){h.contentPage.current.tryAgain();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eTAnother test question attempt has been started"}])},submitQuestion:function(b){if(h.inReview)this.contentGoNext();else if(h.contentPage.current.submitQuestion||
h.contentPage.lightBoxPage&&h.contentPage.lightBoxPage.submitQuestion)(h.contentPage.lightBoxPage||h.contentPage.current).submitQuestion(DKI.isObject(b)?null:b),$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe current question has been submitted"}])},sceneStepForward:function(){h.contentPage.current.stepForward();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe current scene has been stepped forward"}])},sceneStepBack:function(){h.contentPage.current.stepBack();
$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe current scene has been stepped back"}])},resetPage:function(b){h.contentPage.current.reset();h.contentPage.current.start();b||$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe current page has been reset"}])},showMenu:function(){h.isSinglePage||h.showOutline();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe menu is showing"}])},hideMenu:function(){h.isSinglePage||
h.hideOutline();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eTThe menu is hidden"}])},toggleMenu:function(){h.isSinglePage||h.toggleOutline();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe menu is toggled"}])},exitCourse:function(){h.isSinglePage||h.exitCourse();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe course exit has been triggered"}])},jumpToElement:function(b){var c=$("#"+b.elementId+
"_wrapper"),h=function(){var b=c.find('*[tabindex][tabindex!\x3d"-1"]:first');0<b.length&&b[0].focus()};if(c.offset().top<$(window).scrollTop()||c.offset().top+c.height()>$(window).scrollTop()+(window.innerHeight||document.documentElement.clientHeight))if(200>c.offset().top)if($(document.body).hasClass("mobile")){var l=$("#headerContainer").css("position");$("#headerContainer").css("position","relative");c.velocity("scroll",{offset:-200,duration:500});setTimeout(function(){$("#headerContainer").css("position",
l);h()},501)}else c.velocity("scroll",{offset:-200,duration:500}),setTimeout(function(){h()},501);else c.velocity("scroll",{offset:-1*$(".bgRepeater").offset().top,duration:500}),setTimeout(function(){h()},501);else h();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eElement has been jumped to",data:b}])},backToTop:function(){$("body, html, #contentFrame").velocity("scroll",{offset:-200,duration:500});$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eBack to top"}])},
launchURL:function(b){h.isSinglePage||(DKI.applyIf(b,{display:"modal",method:"GET"}),DKI.Modal.show(b));$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eURL has been launched",data:b}])},enableMenuButton:function(){h.isSinglePage||l.enableMenuButton();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eTHe menu button is enabled"}])},disableMenuButton:function(){h.isSinglePage||l.disableMenuButton();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe menu is disabled"}])},
showPopup:function(b){setTimeout(function(){DKI.PopupPanel.show(b)},50);$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eA popup has been shown",data:b}])},hidePopup:function(b){DKI.PopupPanel.hide({id:b});$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eA popup has been hidden",data:b}])},hideAllPopups:function(b,c){var h=this,k="div.popup[data-actionID]";c||(k+=":not(.dki-submit-button)");b||(k+=":not(.DKI-questionFeedback)");$(k).each(function(){h.hidePopup($(this).data("actionID"))})},
destroyPopup:function(b){DKI.PopupPanel.destroy({id:b});$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eA popup has been destroyed",data:b}])},getCurrentAssessment:function(){var b=h.isSinglePage?null:m.assessment;$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eCurrent assessment has been retrieved",data:b}]);return b},inReview:function(){var b=h.inReview?!0:!1;$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eIn review status has been retrieved",
data:b}]);return b},getGroupTitle:function(b){var c=void 0;if(h.isSinglePage){if(h.contentPage.getGroupById)var l=h.contentPage.getGroupById(b),c="undefined"!==typeof l?l.title:c}else l=m.getGroup(b),c="undefined"!==typeof l?l.title:c;"undefined"==typeof l&&(b=$("#group_"+b).data("title"),c="undefined"!==typeof b?b:c);$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eGroup title has been retrieved",data:c}]);return c},zoomToElement:function(b,c,h,l){h=void 0!=h?h:1E3;
l=void 0!=l?l:function(){};c=$(".pageElementsWrapper.page",c.pageContainer);var m=$("html").height()-$("#headerContainer").height()-$("#footerContainer").height();c.height()>m?c.height(m):m=c.height();var n=$("#"+b+"_wrapper",c);c.offset();n.position();b=c.width()/n.data("width");var m=m/n.data("height"),p=c.width()/2,q=c.height()/2,r=n.data("x")+n.data("width")/2,v=n.data("y")+n.data("height")/2;c.velocity({scale:b>m?m:b,translateX:p-r,translateY:q-v},{duration:h,complete:function(){l.call(this);
$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe page has been zoomed in on an element.",data:n}])}})},zoomOut:function(b,c,h){c=void 0!=c?c:1E3;h=void 0!=h?h:function(){};var l=$(".pageElementsWrapper.page",b.pageContainer);l.velocity({scale:1,translateX:0,translateY:0},{duration:c,complete:function(){l.css("height","");h.call(this);$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe page has been zoomed out to the original size."}])}})},
getElementWrapper:function(b){return $("#"+b+"_wrapper")},sendXAPIStatement:function(b){this.sendScormXAPIStatement(b);this.sendAnalyticsStatement(b)},sendScormXAPIStatement:function(b){q&&(b=DKI.applyIf(DKI.clone(b,!0),{context:{contextActivities:{parent:[]}}},!0),b=this.applyBrowserInfoToStatement(b),b.context.contextActivities.parent.push(m.rootXAPIActivity),q.process("tincan.sendStatement",[b,function(){}]),$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3esendXAPIStatement",
data:JSON.stringify(b)}]))},sendAnalyticsStatement:function(b){tc&&(b=DKI.applyIf(DKI.clone(b,!0),{context:{contextActivities:{parent:[]}}},!0),b=this.applyBrowserInfoToStatement(b),b.context.contextActivities.parent.push({id:settings.activityRootURL+"course/"+m.courseStructure.courseid}),tc.sendStatement(b,function(){}),$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3esendAnalyticsStatement",data:JSON.stringify(b)}]))},applyBrowserInfoToStatement:function(b){playerBehaviour.xapi_includeBrowserInfoInStatements&&
(b=DKI.applyIf(DKI.clone(b,!0),{context:{extensions:{"http://id.tincanapi.com/extension/browser-info":dkiUA.getUAProperties()}}},!0));return b},getXAPIStatements:function(b){q&&(DKI.applyIf(b,{callback:function(){}}),q.process("getXAPIStatements",[b],b.callback));$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3egetXAPIStatements",data:JSON.stringify(b)}])},showCompletionCertificate:function(){!h.isSinglePage&&h.behaviour.completionCertificate&&h.loadCertificate();$(document).trigger(k.called,
[{message:"Content API function called...\x3c/br\x3eCompletion Certificate has been shown."}])},getDefaultFeedbackText:function(b){var c;c=h.isSinglePage?settings.course.parameters.questionFeedback[b]:m.courseStructure.parameters.questionFeedback[b];$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3e default feedback text retrieved for type "+b+"."}]);return c},getDefaultFeedbackPopup:function(){var b;b=h.isSinglePage?settings.course.parameters.questionFeedback.popup:
m.courseStructure.parameters.questionFeedback.popup;$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3e default feedback style retrieved."}]);return b},getRandomNumber:function(b,c){var h=isNaN(b)?0:parseInt(b);c=isNaN(c)?1E16:parseInt(c);b=Math.min(h,c);c=Math.max(h,c);return Math.round(Math.random()*(c-b))+b},getCurrentTime:function(){var b=new Date,c=b.getHours()%12,c=c||12,h=b.getMinutes();return c+":"+(10>h?"0"+h:h)+" "+(12>=b.getHours()?"am":"pm")},getCurrentDate:function(b){return $.format.date(new Date,
b||"dd/MM/yyyy")},invalidateModule:function(b){(b=h.dataStorage.getModuleByIndex(b.moduleIndex))&&h.dataStorage.invalidateModule(b)},revalidateModule:function(b){(b=h.dataStorage.getModuleByIndex(b.moduleIndex))&&h.dataStorage.revalidateModule(b)},closePopupPage:function(){$.fancybox.close()},resetCourseTimer:function(){h.dataStorage&&h.dataStorage.resetCourseTimer()},pauseNarration:function(b){(b&&b.pageInstance?b.pageInstance:h.contentPage.current).pauseNarration();$(document).trigger(k.called,
[{message:"Content API function called...\x3c/br\x3e Narartion Paused."}])},playNarration:function(b){(b&&b.pageInstance?b.pageInstance:h.contentPage.current).playNarration();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3e Narartion Played."}])},muteNarration:function(b){(b&&b.pageInstance?b.pageInstance:h.contentPage.current).muteNarration();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3e Narartion Muted."}])},unmuteNarration:function(b){(b&&
b.pageInstance?b.pageInstance:h.contentPage.current).unmuteNarration();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3e Narartion Unmuted."}])},replayNarration:function(b){(b&&b.pageInstance?b.pageInstance:h.contentPage.current).replayNarration();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3e Narartion Replayed."}])}},z;for(z in v)v.hasOwnProperty(z)&&(p[z]=v[z],p.DkiApi[z]=v[z]);p.shLMS={meth1:function(b,c){var k=h.dataStorage;c=
c?k.findModule(c):k.currentModule;c.post&&(c.post.attempts=b);k.saveCompletion&&k.saveCompletion()}};q&&p.getStudentName(function(){});return p}();DKI||(DKI={});
DKI.PlayerNavigation=function(b){this.showMenu=this.showReload=this.showAudio=this.showBack=this.showForward=!0;this.audioState="on";this.ignoreSkipToContentFocus=this.bibliographyState=this.resourceState=this.glossaryState=this.moreState=this.menuState=!1;this.clickEvent=b.settings.clickEvent;this.initEvents();this.registerDOM();$(".navButton").each(function(){$(this).data("tab-index",$(this).attr("tabIndex"))})};
DKI.PlayerNavigation.prototype.registerDOM=function(){this.exitButton=$("#exitButton");this.audioButton=$("#audioButton");this.replayButton=$("#replayButton");this.backButton=$("#backButton");this.forwardButton=$("#forwardButton");this.menuButton=$("#menuButton");this.listButton=$("#listButton");this.moreButtons=$("#moreButtons");this.moreOverlay=$("#moreOverlay");this.transcriptButton=$("#transcriptButton");this.glossaryButton=$("#glossaryButton");this.resourceButton=$("#resourceButton");this.skipToContent=
$("#skipToContent");this.skipToNavigation=$("#skipToNavigation");$(".navButton").each(function(){$(this).data("tab-index",$(this).attr("tabIndex"))});this.forwardButton.data("tab-index",this.forwardButton.attr("tabIndex"));this.backButton.data("tab-index",this.backButton.attr("tabIndex"))};
DKI.PlayerNavigation.prototype.initEvents=function(){var b=this;$(document).on("dki_theme_ready",function(){b.registerDOM()});$(document.body).on(this.clickEvent,"#exitButton",function(c){c.stopPropagation();$(b).trigger(DKI.PlayerNavigation.events.exit);return!1});$(document.body).on(this.clickEvent,"#audioButton",function(c){c.stopPropagation();$(this).hasClass("disabled")||(b.audioState="on"===b.audioState?"off":"on",b.audioButton.toggleClass("muted"),$(b).trigger(DKI.PlayerNavigation.events.audioToggle,
[b.audioState]),b.hideMore());return!1});$(document.body).on("click","#backButton",function(c){$("#backButton").hasClass("disabled")||$(b).trigger(DKI.PlayerNavigation.events.back);c.stopPropagation();c.gesture&&c.gesture.preventDefault();return!1});$(document.body).on("click","#forwardButton",function(c){$("#forwardButton").hasClass("disabled")||$(b).trigger(DKI.PlayerNavigation.events.forward);c.stopPropagation();c.gesture&&c.gesture.preventDefault();return!1});if(dkiUA.touchEnabled&&playerBehaviour.enableSwiping){var h=
function(c){$("#backButton").hasClass("disabled")||c.gesture&&!(c.gesture&&150<c.gesture.deltaX)||$(b).trigger(DKI.PlayerNavigation.events.back);c.stopPropagation();c.gesture&&c.gesture.preventDefault();return!1},c=function(c){$("#forwardButton").hasClass("disabled")||c.gesture&&!(c.gesture&&-150>c.gesture.deltaX)||$(b).trigger(DKI.PlayerNavigation.events.forward);c.stopPropagation();c.gesture&&c.gesture.preventDefault();return!1};$("html").on("swipeleft",c);$("html").on("swiperight",h);$(document).on(DKI.Events.TestQuestion.dragStarted,
function(){$("html").off("swiperight");$("html").off("swipeleft")});$(document).on(DKI.Events.TestQuestion.dragStopped,function(){$("html").on("swiperight",h);$("html").on("swipeleft",c)});$(document).on(DKI.ContentPage.events.elementSwipeStart,function(){$("html").off("swiperight");$("html").off("swipeleft")});$(document).on(DKI.ContentPage.events.elementSwipeEnd,function(){$("html").on("swiperight",h);$("html").on("swipeleft",c)})}$(b).on(DKI.PlayerNavigation.events.back,function(){b.hideBackButton();
b.hideForwardButton()});$(b).on(DKI.PlayerNavigation.events.forward,function(){b.hideBackButton();b.hideForwardButton()});$(document.body).on(this.clickEvent,"#menuButton",function(c){c.stopPropagation();$(this).hasClass("disabled")||(b.menuState=b.menuState?!1:!0,$(b).trigger(DKI.PlayerNavigation.events.menuToggle,[b.menuState]),b.hideMore());return!1});$(document.body).on(this.clickEvent,"#replayButton",function(c){c.stopPropagation();$(this).hasClass("disabled")||($(b).trigger(DKI.PlayerNavigation.events.reload),
b.hideMore());return!1});$(document.body).on(this.clickEvent,"#listButton",function(c){c.stopPropagation();b.onListClick(c);return!1});$(document.body).on(this.clickEvent,"#transcriptButton",function(c){c.stopPropagation();$(this).hasClass("disabled")||$(b).trigger(DKI.PlayerNavigation.events.transcriptToggle);return!1});$(document.body).on(this.clickEvent,"#glossaryButton",function(c){c.stopPropagation();$(this).hasClass("disabled")||(b.glossaryState=b.glossaryState?!1:!0,$(b).trigger(DKI.PlayerNavigation.events.glossaryToggle,
[b.glossaryState]),b.hideMore());return!1});$(document.body).on(this.clickEvent,"#resourceButton",function(c){c.stopPropagation();$(this).hasClass("disabled")||(b.resourceState=b.resourceState?!1:!0,$(b).trigger(DKI.PlayerNavigation.events.resourceToggle,[b.resourceState]),b.hideMore());return!1});if(this.moreOverlay)$(document.body).on(this.clickEvent,"#moreOverlay",function(c){c.stopPropagation();b.hideMore();b.moreOverlay.css("display","none");return!1});$(document).on(DKI.ContentPage.events.started,
function(){b.ignoreSkipToContentFocus?b.ignoreSkipToContentFocus=!1:$("#skipToContent").focus()});$(document).on(DKI.EndModule.events.started,function(){$("#skipToContent").focus()});$(document).on(DKI.EndCourse.events.started,function(){$("#skipToContent").focus()});$(document).on(DKI.EndTest.events.started,function(){$("#skipToContent").focus()});$(document.body).on(this.clickEvent,"#skipToContent",function(b){b.stopPropagation();$(".headerPage:not(.hidden) *[tabindex][tabindex!\x3d'-1'], .dkiContentFrame.current .pageElementsWrapper *[tabindex][tabindex!\x3d'-1'], .dkiContentFrame.current .endScreenWrapper *[tabindex][tabindex!\x3d'-1']").each(function(){if($(this).is(":visible")&&
!$(this).isDisabled()||$(this).hasClass("sr-only"))return this.focus(),!1});return!1});$(document.body).on(this.clickEvent,"#skipToNavigation",function(b){b.stopPropagation();$("*[tabindex][tabindex!\x3d'-1']","#navbar_header, #headerContainer").each(function(){if(!$(this).hasClass("disabled")&&!$(this).hasClass("disabled-element")&&$(this).is(":visible"))return this.focus(),!1});return!1})};DKI.PlayerNavigation.prototype.fireBack=function(){$(this).trigger(DKI.PlayerNavigation.events.back)};
DKI.PlayerNavigation.prototype.fireForward=function(){$(this).trigger(DKI.PlayerNavigation.events.forward)};DKI.PlayerNavigation.prototype.disableButton=function(b){b="string"==$.type(b)?$("#"+b):$(b);b.addClass("disabled");b.attr("tabindex",-1);b.attr("aria-hidden","true")};DKI.PlayerNavigation.prototype.enableButton=function(b){b="string"==$.type(b)?$("#"+b):$(b);b.removeClass("disabled");b.attr("tabindex",b.data("tab-index"));b.attr("aria-hidden","false")};
DKI.PlayerNavigation.prototype.hideTranscriptButton=function(){this.transcriptButton.css("display","none")};DKI.PlayerNavigation.prototype.showTranscriptButton=function(){this.transcriptButton.css("display","")};DKI.PlayerNavigation.prototype.disableTranscriptButton=function(){this.disableButton(this.transcriptButton)};DKI.PlayerNavigation.prototype.enableTranscriptButton=function(){this.enableButton(this.transcriptButton)};DKI.PlayerNavigation.prototype.hideAudioButton=function(){this.disableButton(this.audioButton)};
DKI.PlayerNavigation.prototype.showAudioButton=function(){this.enableButton(this.audioButton)};DKI.PlayerNavigation.prototype.hideBackButton=function(){this.disableButton(this.backButton)};DKI.PlayerNavigation.prototype.showBackButton=function(){this.enableButton(this.backButton)};DKI.PlayerNavigation.prototype.hideForwardButton=function(){this.disableButton(this.forwardButton)};DKI.PlayerNavigation.prototype.showForwardButton=function(){this.enableButton(this.forwardButton);$(this).trigger(DKI.PlayerNavigation.events.nextButtonEnabled)};
DKI.PlayerNavigation.prototype.hideMenuButton=function(){this.disableButton(this.menuButton)};DKI.PlayerNavigation.prototype.showMenuButton=function(){this.enableButton(this.menuButton)};DKI.PlayerNavigation.prototype.hideReloadButton=function(){this.disableButton(this.replayButton)};DKI.PlayerNavigation.prototype.showReloadButton=function(){this.enableButton(this.replayButton)};
DKI.PlayerNavigation.prototype.showScreenCountDisplay=function(){$("#screenCount").css("display","");$("#navbar_screencount_wrapper").length&&$("#navbar_screencount_wrapper").css("display","")};DKI.PlayerNavigation.prototype.hideScreenCountDisplay=function(){$("#screenCount").css("display","none");$("#navbar_screencount_wrapper").length&&$("#navbar_screencount_wrapper").css("display","none")};DKI.PlayerNavigation.prototype.hideGlossaryButton=function(){this.glossaryButton.css("display","none")};
DKI.PlayerNavigation.prototype.showGlossaryButton=function(){this.glossaryButton.css("display","")};DKI.PlayerNavigation.prototype.disableGlossaryButton=function(){this.disableButton(this.glossaryButton)};DKI.PlayerNavigation.prototype.enableGlossaryButton=function(){this.enableButton(this.glossaryButton)};DKI.PlayerNavigation.prototype.disableResourceButton=function(){this.disableButton(this.resourceButton)};DKI.PlayerNavigation.prototype.enableResourceButton=function(){this.enableButton(this.resourceButton)};
DKI.PlayerNavigation.prototype.disableMenuButton=function(){this.disableButton(this.menuButton)};DKI.PlayerNavigation.prototype.enableMenuButton=function(){this.enableButton(this.menuButton)};DKI.PlayerNavigation.prototype.setTotalScreens=function(b){$("#totalScreens,.totalScreens").text(b)};DKI.PlayerNavigation.prototype.setCurrentScreen=function(b){$("#currentScreen,.currentScreen").text(b)};DKI.PlayerNavigation.prototype.setModuleName=function(b){$("#moduleName").text(b)};
DKI.PlayerNavigation.prototype.setObjectName=function(b){$("#objectName").text(b)};DKI.PlayerNavigation.prototype.setMenuState=function(b){this.menuState=b};DKI.PlayerNavigation.prototype.setGlossaryState=function(b){this.glossaryState=b};DKI.PlayerNavigation.prototype.setResourceState=function(b){this.resourceState=b};DKI.PlayerNavigation.prototype.setBibliographyState=function(b){this.BibliographyState=b};
DKI.PlayerNavigation.prototype.contentMode=function(){this.showAudioButton();this.showReloadButton();this.showMenuButton();this.showScreenCountDisplay()};DKI.PlayerNavigation.prototype.testMode=function(b){b?(this.showForwardButton(),this.showBackButton()):(this.hideForwardButton(),this.hideBackButton());this.showAudioButton();this.hideReloadButton();this.hideMenuButton();this.showScreenCountDisplay()};
DKI.PlayerNavigation.prototype.endMode=function(){this.hideForwardButton();this.hideBackButton();this.hideReloadButton();this.hideAudioButton();this.hideMenuButton();this.hideScreenCountDisplay();this.setObjectName("");this.setModuleName("")};
DKI.PlayerNavigation.prototype.onListClick=function(){this.menuState=!1;$(this).trigger(DKI.PlayerNavigation.events.menuClose);this.moreState?(this.moreButtons.css("display","none"),this.moreOverlay.css("display","none"),this.moreState=!1):(this.moreButtons.css("display","block"),this.moreOverlay.css("display","block"),this.moreState=!0)};
DKI.PlayerNavigation.prototype.hideMore=function(){this.moreState&&(this.moreButtons.css("display","none"),this.moreOverlay.css("display","none"),this.moreState=!1)};DKI.PlayerNavigation.events={audioToggle:"audioToggle",back:"back",forward:"forward",menuToggle:"menuToggle",menuClose:"menuClose",reload:"reload",exit:"exit",transcriptToggle:"transcriptToggle",glossaryToggle:"glossaryToggle",resourceToggle:"resourceToggle",bibliographyToggle:"bibliographyToggle",nextButtonEnabled:"nextButtonEnabled"};
DKI.Marker={scoreQuestion:function(b,h,c,l){c="undefined"===typeof c?0:c;if("1"==b.type)c=this.scoreTrueFalse(h,b.options);else if("2"==b.type)c=this.scoreMultipleChoice(h,b.options);else if("3"==b.type)c=this.scoreFreeForm(h,b.options);else if("4"==b.type)c=this.scoreFillBlanks(h,b.options);else if("5"==b.type)c=this.scoreMultiplePulldown(h,b.options);else if("6"==b.type)c=this.scoreDragDrop(h,b.options);else if("7"==b.type)c=this.scoreCustom(h,b.options,c);else if("8"==b.type)c=this.scoreCapture(c);
else if("9"==b.type)c=this.scoreImageMap(l);else if("10"==b.type)c=this.scoreScenario(l);else if("11"==b.type)c=this.scoreMatching(l);else if("12"==b.type)c=this.scoreSequencing(l);else if("13"==b.type)c=this.scoreMultipleChoiceQuestionWidget(l);else throw"Invalid question type: "+b.type;(0==b.parameters.scoringType&&!playerBehaviour.partialScoring||2==b.parameters.scoringType)&&100>c&&(c=0);return isNaN(c)?0:c},scoreTrueFalse:function(b,h){return h[0].parameters.correct&&1==b[0]?100:h[1].parameters.correct&&
1==b[1]?100:0},scoreMultipleChoice:function(b,h){for(var c=0,l=0,m=0,q=0;q<h.length;q++)h[q].parameters.correct?(c++,b[q]&&1==b[q].checked&&l++):b[q]&&1==b[q].checked&&m++;l-=m;return 0<l?Math.round(l/c*100):0},scoreFillBlanks:function(b,h){for(var c,l=0,m=0,q=0;q<h.length;q++){m++;c=h[q].parameters.correctValues;for(var n=0;n<c.length;n++){var r=$.trim(c[n].toString().toLowerCase()),k=$.trim(b[q].toString().toLowerCase());$.isNumeric(r)?(r=parseFloat(r),k=parseFloat(k.replace(/\,|\s/g,""))):r=$("\x3cspan\x3e"+
r+"\x3c/span\x3e").text().trim();if(k===r){l++;break}}}return Math.round(l/m*100)},scoreMultiplePulldown:function(b,h){for(var c=0,l=0,m,q=0;q<h.length;q++)m=$('\x3cselect\x3e\x3coption value\x3d"'+escape(h[q].parameters.correctValue)+'"\x3e'+h[q].parameters.correctValue+"\x3c/option\x3e\x3c/select\x3e"),l++,m=m.value().trim(),escape(b[q].toString()).toLowerCase()===m.toString().toLowerCase()&&c++;return Math.round(c/l*100)},scoreFreeForm:function(b){return""!==b[0].trim()?100:0},scoreDragDrop:function(b,
h){if(0==b.length&&0==h.length)return 0;for(var c=0,l=h.length,m,q,n=0;n<b.length;n++){m=!1;q=null;for(var r=0;r<h.length;r++)if(h[r].element_id==b[n].elementId){q=h[r];break}for(r=0;r<q.parameters.correctTargets.length;r++)b[n].target.id&&b[n].target.id.toString().toLowerCase()==q.parameters.correctTargets[r].toString().toLowerCase()&&(m=!0);b[n].target.id||0!=q.parameters.correctTargets.length||(m=!0);m&&c++}return Math.round(c/l*100)},scoreCustom:function(b,h,c){try{if(isNaN(c))throw"Invalid data. Please provide a numeric score.";
c=parseInt(c,10);c=0>c?0:c;return 100<c?100:c}catch(l){return 0}},scoreCapture:function(b){return b},scoreImageMap:function(b){return b.mapEl.data("dki.ImageMap").score()},scoreScenario:function(b){return b.scenarioEl.data("dki.Scenario").getScore()},scoreMatching:function(b){return b.matchEl.data("dki.MatchingQuestion").score()},scoreSequencing:function(b){return b.sequenceEl.data("dki.SequencingQuestion").score()},scoreMultipleChoiceQuestionWidget:function(b){return b.questionEl.data("dki.MultipleChoiceQuestion").scoreQuestion(!0,
!0)}};
DKI.browserWarning=function(){return{init:function(b){b.warnBrowser&&(dkiUA.firefox&&4>dkiUA.firefoxVersion||dkiUA.ie&&8>dkiUA.ieVersion||dkiUA.safari&&(dkiUA.windows||5>dkiUA.safariVersion))&&(b=$(Handlebars.compile(DKI.templates.browserWarning)({strings:DKI.strings})),$("body").append(b),b.modal("show"),dkiUA.windows?$("#browserWarning_downloads").addClass("windows"):dkiUA.mac?$("#browserWarning_downloads").addClass("mac"):dkiUA.android?$("#browserWarning_downloads").addClass("android"):dkiUA.iOS&&$("#browserWarning_downloads").addClass("iOS"))}}}();
DKI.glossary=function(){var b={},h=[],c={},l=null,m=function(b,c,h){b=DKI.calculateCoords(b,c,h);12>b.y&&(b.y=12);return b},q=function(b,c){c=c.find("#glossaryPopupSource");b.attribution?c.html("Source: "+b.attribution):b.citation_id?c.html("Source: "+DKI.reference.getFullCitationText(b.citation_id)):(c.html(""),c[0].tabIndex=-1)},n=function(c){c=m(c,b.wrapper,5);b.wrapper.css({top:c.y+"px",left:c.x+"px"});c=$("#glossaryPopupDefinitionContainer");150<c.height()&&c.height(150)},r=DKI.func.debounce(function(c,
h){if("show"==c){if(!b.wrapper.is(":visible")){var k=p($(h).data("id")),l=this;if(k){c=DKI.stripHTML(k.definition);c=50<c.length?c.substr(0,47)+"...":c;b.hoverDefinition.html("\x3cp style\x3d'display:inline;'\x3e"+c+"\x3c/p\x3e");h=m(h,b.hoverDefinition,5);b.hoverDefinition.css({top:h.y+"px",left:h.x+"px"});var n=b.hoverDefinition.parent();b.hoverDefinition.detach();setTimeout(function(){b.hoverDefinition.css("display","block");n.append(b.hoverDefinition);$(player).trigger(l.events.definitionShown,
k)},100)}}}else"hide"==c&&(b.hoverDefinition.hide(),h&&(k=p($(h).data("id")),$(player).trigger(this.events.definitionHidden,k)))},100,!1),k=function(b,c){r.call(this,"hide",c)},p=function(b){for(var c=0;c<h.length;c++)if(h[c].glossaryid==b)return h[c]},v={tooltip:{enabled:!0,config:{}}};Handlebars.registerHelper("DKI_templates_glossary_list",function(b){var k=DKI.applyIf(b.hash,v);b=Handlebars.compile(DKI.templates.glossary.list)({strings:DKI.strings,config:k,terms:h});$(document).on(c.clickEvent,
".dki-glossary-list-term",function(b){b=$(this);var h=p(b.data("id"));if(k.tooltip.enabled){h.definition=h.definition.replace(/\&nbsp\;/g," ");var l=Handlebars.compile(DKI.templates.glossary.term_tooltip)({term:h,strings:DKI.strings});b.hasClass("tooltipstered")||(b.tooltipster(DKI.applyIf(DKI.clone(k.tooltip.config),{contentAsHTML:!0,content:l,functionReady:function(b,k){b=$(k.tooltip);$(k.origin);b.parent();dkiUA.mobile&&requirejs(["hammer"],function(){new Hammer($(k.tooltip).find(".dki-glossary-term-tooltip-close")[0],
{domEvents:!0,touchAction:"auto"})});$(k.tooltip).find(".dki-glossary-term-tooltip-close").on(c.clickEvent,function(){$(k.origin).tooltipster("hide");k.origin.focus()});b=$(k.tooltip).find(".dki-glossary-term-content-source");b.text()?b.attr("tabindex","1"):b.attr("tabindex","-1");$(k.origin).data("tooltipster-ns");$(window).one("scroll",function(){$(k.origin).tooltipster("hide")});$(".dki-glossary-list").one("scroll",function(){$(k.origin).tooltipster("hide")});$(player).trigger(DKI.glossary.events.popupShown,
h)},functionPosition:function(b,h,k){k.coord.top/=c.scale;k.coord.left/=c.scale;k.size.height/=c.scale;k.size.width/=c.scale;k.target/=c.scale;k.distance/=c.scale;return k},trigger:"click",position:"right",positionTracker:!0,onlyOne:!1,theme:"tooltipster-claro glossary-tooltip",interactive:!0,contentCloning:!1,updateAnimation:!1})),b.trigger("click"))}else $(document).trigger("dki-glossary-list-term-clicked",h)});return b});return{init:function(m){h=m.terms;c=m.settings;language=m.languageString;
m=Handlebars.compile(DKI.templates.glossaryPopup)();$("#contentFrame").append(m);b.wrapper=$("#glossaryPopup");b.term=$("#glossaryPopupTerm");b.definition=$("#glossaryPopupDefinition");b.definitionContainer=$("#glossaryPopupDefinitionContainer");b.attribution=$("#glossaryPopupSource");b.close=$("#glossaryPopupClose").attr("title",playerStrings.buttonLabelClose);b.hoverDefinition=$("#glossaryHoverDefinition");b.hoverDefinition.attr("role","alert");b.hoverDefinition.attr("aria-live","polite");b.viewBrowserLink=
$("#viewBrowserLink");b.viewBrowserLink.attr("title",language.viewTermTooltip);b.close.on(c.clickEvent,function(){l&&l.focus();b.wrapper.hide()});$(window).on(c.resizeEvent,function(c){l&&n(l);b.wrapper.is(":visible")&&b.wrapper.closest(".fancybox-wrap").length&&b.wrapper.closest(".fancybox-wrap").centerInWindow()});b.hoverDefinition.on("mouseleave",function(b){k(b)})},showPopup:function(h){b.wrapper.is(":visible")&&c.selectedTerm&&c.selectedTerm.glossaryid==$(this).data("id")?(b.wrapper.hide(),l.focus(),
l=null):(c.selectedTerm=p($(this).data("id")),c.selectedTerm?(k(),b.term.text(c.selectedTerm.term),b.definition.html(c.selectedTerm.definition),b.viewBrowserLink.show(),b.viewBrowserLink.attr("href",'javascript:DKI.glossaryBrowse.selectTerm("'+c.selectedTerm.id+'")'),l=h.currentTarget,h=b.wrapper.find(".glossaryPopupBody").clone(),h.find("*[tabindex]").attr("tabindex",1),q(c.selectedTerm,h),contentApi.showPopup({id:"glossary_"+c.selectedTerm.id,html:h.html(),modal:!1,returnFocus:this,autoFocus:!0,
tabContent:!1,popupType:{type:"pop",mod:"noModal",modal:!0},title:c.selectedTerm.term,onHide:function(){this.find("#glossaryPopupDefinitionContainer").remove()}}),b.term[0].clientWidth<b.term[0].scrollWidth&&b.term.attr("title",c.selectedTerm.term),b.definitionContainer.scrollTop(0),$(player).trigger(DKI.glossary.events.popupShown,c.selectedTerm)):c.inPreview&&(k(),b.term.text("Untranslated term"),b.definition.html("This glossary term has not been translated"),b.viewBrowserLink.hide(),n(h.currentTarget),
l=h.currentTarget,b.wrapper.show(),b.definition[0].focus()))},showDefinition:function(b,c){r.call(this,"show",c)},hideDefinition:k,events:{definitionShown:"glossaryDefinitionShown",definitionHidden:"glossaryDefinitionHidden",popupShown:"glossaryPopupShown",popupHidden:"glossaryPopupHidden"}}}();DKI.Reference||(DKI.Reference={});
DKI.Reference.playerReferenceUIInterface=function(b){var h={},c={},l={},m={},q=!1,n=null,r={citationRegistered:"citationRegistered",referenceRegistered:"referenceRegistered",referenceShown:"referenceShown",referenceHovered:"referenceHovered",bibliographyShown:"bibliographyShown"},k={},p=function(){for(var b in DKI.references.citations)$(document).trigger(r.citationRegistered,[DKI.references.citations[b]])},v=function(b,c){m.currentElement=b;!0===q&&m.selectedCitations&&"referencePopup"!=b.id&&0==
$(b).parents("#referencePopup").length&&m.selectedTextLinkId!=$(b).data("citationid")&&m.selectedElementId!=$(b).closest(".dki-authoring-element, .dki-authoring-element-element").data("id")&&(q=!1);c&&!q?(z(b),c=m.selectedCitations[m.currentIdx],x(b),h.wrapper.show(),c&&$(document).trigger(this.events.referenceHovered,c)):c||q||h.wrapper.hide()},z=function(b){m.currentIdx=0;m.selectedTextLinkId=$(b).data("citationid");m.selectedElementId=$(b).closest(".dki-authoring-element, .dki-authoring-element-element").data("id");
m.selectedCitations=F(m.selectedTextLinkId,m.selectedElementId);h.next.removeClass("disable");h.previous.addClass("disable")},x=function(){var b=m.currentIdx;citation=m.selectedCitations[b];1>=m.selectedCitations.length?h.nav.hide():(h.nav.show(),0>=b?h.previous.addClass("disable"):h.previous.removeClass("disable"),b>=m.selectedCitations.length-1?h.next.addClass("disable"):h.next.removeClass("disable"),h.counter.html(b+1+" / "+m.selectedCitations.length));citation&&(b=D(citation.referenceId),b="\x3cspan class\x3d'refNum'\x3e"+
G(citation.id)+".\x3c/span\x3e "+DKI.Reference.makeRefText(b,k.txtReferenceLink,citation),h.refText.html(b));A(m.currentElement)},A=function(b){b=DKI.calculateCoords(b,h.wrapper,0);12>b.y&&(b.y=12);h.wrapper.css({top:b.y+"px",left:b.x+"px"});b=$("#referencePopupText");150<b.height()&&b.height(150)},u=function(){y();DKI.centerInPlayer(c.wrapper,!0);c.wrapper.show();$(document).trigger(DKI.Reference.playerReferenceUIInterface.events.bibliographyShown);$("*[tabindex][tabindex!\x3d'-1']",c.content).each(function(){if($(this).is(":visible"))return this.focus(),
!1});player.navigation.setBibliographyState(!0)},C=function(){c.wrapper.hide();player.navigation.setBibliographyState(!1)},B=function(b){l=b;b=l.referenceOrder;for(var h="\x3cul class\x3d'rf-Bibliography'\x3e",m=0;m<b.length;m++){var n=l.references[b[m]];$(document).trigger(r.referenceRegistered,[n]);var p=DKI.Reference.makeRefText(n,k.txtReferenceLink),h=h+("\x3cli tabindex\x3d'0'\x3e \x3cspan class\x3d'refIndex'\x3e"+I(n)+".\x3c/span\x3e "+p+"\x3c/li\x3e")}c.content.html(h+"\x3c/ul\x3e")},y=function(){h.wrapper.hide();
q=!1},E=function(b){if(l.citations[b])return l.citations[b]},F=function(b,c){var h=[],k;for(k in l.citations)l.citations[k].textLinkId==b&&l.citations[k].elementId==c&&h.push(l.citations[k]);h.sort(function(b,c){return b.order<c.order?-1:b.order>c.order?1:0});return h},D=function(b){if(l.references[b])return l.references[b]},G=function(b){b=E(b);var c=D(b.referenceId),c=I(c);"#"!=c&&b.alphaOrder&&(c+=b.alphaOrder);return c},I=function(b){var c="#";b.refIndex&&(c=parseInt(b.refIndex,10));return c},
K=function(b){$(".dki-citation-link",b).each(function(b,c){if(0==$(c).has("sup.refSup").length){b=F($(c).data("citationid"),$(c).closest("div.dki-authoring-element, div.dki-authoring-element-element").data("id"));for(var h="",k=0;k<b.length;k++)h+=G(b[k].id)+" ";h=h.substring(0,h.length-1);jQuery("\x3csup /\x3e",{html:h,"class":"refSup"}).appendTo(c)}})};return{strings:k,showReference:function(b){m.currentElement=b;C();!0===q&&m.selectedCitations&&m.selectedTextLinkId==$(b).data("citationid")&&m.selectedElementId==
$(b).closest(".dki-authoring-element, .dki-authoring-element-element").data("id")?(h.wrapper.hide(),n=null,q=!1):(q=!0,z(b),x(b,0),n=b,h.wrapper.show(),(b=m.selectedCitations[m.currentIdx])&&$(document).trigger(this.events.referenceShown,b),$("*[tabindex][tabindex!\x3d'-1']",h.content).each(function(){if($(this).is(":visible"))return this.focus(),!1}))},hoverReference:v,hideReference:y,showBibliography:u,hideBibliography:C,courseHasReferences:function(){return void 0===l.referenceOrder?!1:0<l.referenceOrder.length?
!0:!1},toggleBibliography:function(){"none"==c.wrapper.css("display")?this.showBibliography():this.hideBibliography()},getFullCitationText:function(b){var c=E(b),h=D(c.referenceId);return"\x3cspan class\x3d'refNum'\x3e"+G(b)+".\x3c/span\x3e "+DKI.Reference.makeRefText(h,k.txtReferenceLink,c)},loadReferences:function(b){B(b)},events:r,init:function(b){m=b.settings;k=b.languageString;var l={strings:DKI.strings},l=Handlebars.compile(DKI.templates.citationPopup)(l),q={strings:DKI.strings,windowContent:"",
id:"bibliographyContainer",windowTitle:DKI.strings.references.bibliographyWindowTitle,contentId:"bibliographyContentContainer"},q=Handlebars.compile(DKI.templates.window)(q);$("#contentFrame").append(l);$("body").append(q);h.wrapper=$("#referencePopup");h.wrapper.hide();h.refText=$("#referenceTextContainer");h.content=$(".referencePopupBody",h.wrapper);h.close=$("#referencePopupClose");h.nav=$("#referencePopup div.nav");h.next=$("#referencePopup span.next");h.previous=$("#referencePopup span.previous");
h.counter=$("#referencePopup span.counter");h.viewBibliographyLink=$("#viewBibliographyLink");c.wrapper=$("#bibliographyContainer");c.content=c.wrapper.find(".browserContentContainer");c.close=c.wrapper.find(".browserCloseButton");B(b.references);contentApi.playerEvent.on("pageLoaded",y);h.next.on(m.clickEvent,function(b){$(this).hasClass("disable")||(m.currentIdx++,x())});h.previous.on(m.clickEvent,function(b){$(this).hasClass("disable")||(m.currentIdx--,x())});h.close.on(m.clickEvent,function(){y()});
c.close.on(m.clickEvent,function(){c.wrapper.hide()});h.viewBibliographyLink.on(m.clickEvent,function(){u()});h.wrapper.draggable({handle:$("#referenceTextContainer"),containment:".dkiContentFrame.current"});c.wrapper.draggable({handle:c.wrapper.find(".browserHeader"),containment:"body"});$(document).on(DKI.ContentPage.events.ready,function(b,c,h){K(h)});$(window).resize(function(){n&&A(n)});h.wrapper.on("mouseleave",function(b){v(b.target,!1)});p()}}}();
DKI.Reference.makeRefText=function(b,h,c){var l=b.refText;c&&c.label&&(l+=" ("+c.label+")");b.URL&&(l+=" (\x3ca tabindex\x3d'1' href\x3d'"+b.URL+"' target\x3d'_refTarget'\x3e"+h+"\x3c/a\x3e)");return l};
DKI.glossaryBrowse=function(){var b=$("body").hasClass("phone")||$("body").hasClass("responsive")?!0:!1,h={},c=[],l=function(){h.container.show();"undefined"!=typeof player&&player.navigation.setGlossaryState(!0);0!==h.termList.termElements.length&&0!==h.termList.termElements[0].length&&h.termList.termElements[0][0].focus()},m=function(){pronunciationPlayer.jPlayer&&pronunciationPlayer.jPlayer("stop");h.container.hide();"undefined"!=typeof player&&player.navigation.setGlossaryState(!1)},q=function(b){c=
b;h.termList.container.html("");$.each(c,function(b,c){b=dkiUA.iOS||dkiUA.android||dkiUA.blackberry;var l=c.term,m="";b&&(l="\x3cspan class\x3d'termIcon'\x3e\x3c/span\x3e"+c.term,m+="mobile");l=$("\x3cli/\x3e",{id:c.id,html:l,"class":m,tabindex:0});m=function(){var b=c.id;pronunciationPlayer.jPlayer&&pronunciationPlayer.jPlayer("stop");k(b)};if(b)l.find("span").on(settings.clickEvent,m);else l.on(settings.clickEvent,m);h.termList.container.append(l);h.termList.termElements.push(l);c.citation_id&&
"undefined"!==typeof dataStorage&&dataStorage.setRelationship("citationGlossary",c.citation_id,c.glossaryid);$(document).trigger(DKI.glossaryBrowse.events.glossaryRegistered,[c])});$("#glossaryBrowserContainer #glossaryManagePronunciation_player").jPlayer({swfPath:settings.swfPath,cssSelectorAncestor:"#glossaryManagePronunciation",ready:function(){pronunciationPlayer=$(this);h.container.css("visibility","visible");h.container.removeClass("loading");contentApi.playerEvent.on("pageLoaded",function(){h.container.hide()});
if("undefined"!==typeof player)player.navigation.forwardButton.on(settings.clickEvent,function(){m()})},supplied:"mp3",autohide:!1,loop:!1,preload:"auto",solution:"html, flash",size:{width:"0px",height:"0px"},muted:!1,volume:1})},n=function(b){for(var h=0;h<c.length;h++)if(c[h].id==b)return c[h]},r=function(b){0==b?h.termList.container.show():h.termDetails.container.show();h.contentContainer.animate({left:b},200,function(){0==b?h.termDetails.container.hide():h.termList.container.hide();h.container.trigger("shifted")})},
k=function(c){l();$("#termDetails .detailsContent").show();$("#termDetails").css("visibility","visible");var k=n(c);v(c);h.termDetails.termTitle.html(k.term);h.termDetails.termDefinition.html(k.definition);p(k);k.pronunciation_asset_filename?(h.player.show(),pronunciationPlayer.jPlayer("setMedia",{mp3:settings.assetURL+k.pronunciation_asset_filename})):h.player.hide();b?(h.container.on("shifted",function(){h.termDetails.termDefinition[0].focus();h.container.off("shifted")}),r(-1*h.termList.container.parent().outerWidth()),
h.back.fadeIn(200)):h.termDetails.termDefinition[0].focus()},p=function(b){b.attribution?h.termDetails.attribution.html("Source: "+b.attribution):b.citation_id?h.termDetails.attribution.html("Source: "+DKI.reference.getFullCitationText(b.citation_id)):h.termDetails.attribution.html("")},v=function(b){$("#termList li").removeClass("selected");$("#"+b).addClass("selected")};return{getTerms:function(){return c},getTerm:n,initialize:function(c){settings=c.settings;language=c.languageStrings;pronunciationPlayer=
{};var k=Handlebars.compile(DKI.templates.glossaryBrowser)({strings:DKI.strings,mobile:b,audioSimpleAncestorId:"glossaryManagePronunciation",audioSimplePlayerId:"glossaryManagePronunciation_player"}),k=Handlebars.compile(DKI.templates.window)({windowContent:k,id:"glossaryBrowserContainer",windowTitle:DKI.strings.glossary.titleText,afterHeader:Handlebars.compile(DKI.templates.mobileBackSearch)({mobile:b}),contentId:"glossaryContentContainer"});$("body").append(k);h.container=$("#glossaryBrowserContainer");
h.contentContainer=$("#glossaryContentContainer");h.player=$("#glossaryManagePronunciation");h.close=h.container.find(".browserCloseButton");h.back=h.container.find(".backButton");b&&h.container.addClass("phone");h.termList={container:$("#termUl"),termElements:[]};h.termDetails={termTitle:$("#term"),termDefinition:$("#definition"),attribution:$("#attribution"),container:$("#termDetails")};q(c.terms);h.close.on(settings.clickEvent,function(){m()});if(b)h.back.on(settings.clickEvent,function(){h.container.on("shifted",
function(){var b=$(".terms li.selected");b.length?b[0].focus():0!==h.termList.termElements.length&&0!==h.termList.termElements[0].length&&h.termList.termElements[0][0].focus();h.container.off("shifted")});h.back.fadeOut(200);r(0)});h.container.draggable({handle:$("#browserHeader"),containment:"body"})},show:l,hide:m,selectTerm:k,isEmpty:function(){return 0<c.length?!1:!0},toggle:function(){"none"==h.container.css("display")?this.show():this.hide()},loadTerms:function(b){q(b)},events:{glossaryRegistered:"glossaryRegistered"}}}();
(function(b){b.fn.jsonSearch=function(h){var c;h=b.extend({url:"",data:[],minCharacters:1,maxResults:void 0,wildCard:"",caseSensitive:!1,notCharacter:"!",maxHeight:350,highlightMatches:!0,onSelect:void 0,width:void 0,searchKey:"text"},h);return this.each(function(){function l(b,c){var h="/.*+?|()[]{}\\".split("");if(c)for(var k=0;k<h.length;k++)h[k]===c&&h.splice(k,1);c=new RegExp("(\\"+h.join("|\\")+")","g");return b.replace(c,"\\$1")}function m(c){b("li",p).removeClass("resultHover");c&&b(c).addClass("resultHover");
v=c}function q(c,k){k="("+k+")";var l=!0,n=0,q=h.caseSensitive?new RegExp(k,"g"):new RegExp(k,"ig");b(p).html("").hide();for(k=0;k<c.length;k+=1){var x=b("\x3cli /\x3e"),z=c[k][h.searchKey];!0===h.highlightMatches&&(z=z.replace(q,"\x3cstrong\x3e$1\x3c/strong\x3e"));b(x).append('\x3ca class\x3d"ui-corner-all"\x3e'+z+"\x3c/a\x3e");"string"===typeof c[k].image&&b("\x3ea",x).prepend('\x3cimg src\x3d"'+c[k].image+'" /\x3e');"string"===typeof c[k].extra&&b("\x3ea",x).append("\x3csmall\x3e"+c[k].extra+"\x3c/small\x3e");
b(x).addClass("ui-menu-item").addClass(l?"odd":"even").attr("role","menuitem").click(function(k){return function(){var l=c[k];r.val(l.text);b(p).html("").hide();if("function"===typeof h.onSelect)h.onSelect(l)}}(k)).mouseover(function(b){return function(){m(b)}}(x));b(p).append(x);l=!l;n+=1;if("number"===typeof h.maxResults&&n>=h.maxResults)break}0<b("li",p).length&&(v=void 0,b(p).show().css("height","auto"),b(p).height()>h.maxHeight&&b(p).css({overflow:"auto",height:h.maxHeight+"px"}))}function n(m){m=
function(c){if(this.value.length<h.minCharacters)return b(p).html("").hide(),!1;var m=[],n=h.wildCard?l(this.value,h.wildCard).replace(k,".*"):l(this.value),u=!0,r,v;h.notCharacter&&0===n.indexOf(h.notCharacter)&&(n=n.substr(h.notCharacter.length,n.length),0<n.length&&(u=!1));n=n||".*";n=h.wildCard?"^"+n:n;r=h.caseSensitive?new RegExp(n):new RegExp(n,"i");for(v=0;v<c.length;v+=1)r.test(c[v][h.searchKey])===u&&m.push(c[v]);q(m,n)};if(h.data&&h.data.length)m.apply(this,[h.data]);else if(h.url&&"string"===
typeof h.url){var n=this.value;b(p).html('\x3cli class\x3d"ui-menu-item ajaxSearching"\x3e\x3ca class\x3d"ui-corner-all"\x3eSearching...\x3c/a\x3e\x3c/li\x3e').show().css("height","auto");c=window.clearTimeout(c);c=window.setTimeout(function(){b.getJSON(h.url,{search:n},function(c){c?q(c,n):b(p).html("").hide()})},500)}}var r=b(this),k=new RegExp(l(h.wildCard||""),"g"),p=b("\x3cul /\x3e"),v,z,x;b(p).addClass("jsonSuggest ui-autocomplete ui-menu ui-widget ui-widget-content ui-corner-all").attr("role",
"listbox").css({top:r.position().top+r.outerHeight()+"px",left:r.position().left+"px","z-index":999}).hide();r.after(p).keyup(function(c){switch(c.keyCode){case 13:return b(v).trigger("click"),!1;case 40:return v="undefined"===typeof v?b("li:first",p).get(0):b(v).next().get(0),m(v),v&&b(p).scrollTop(v.offsetTop),!1;case 38:return v="undefined"===typeof v?b("li:last",p).get(0):b(v).prev().get(0),m(v),v&&b(p).scrollTop(v.offsetTop),!1;default:n.apply(this,[c])}}).keydown(function(c){if(9===c.keyCode&&
v)return b(v).trigger("click"),!0}).blur(function(c){c=b(p).offset();c.bottom=c.top+b(p).height();c.right=c.left+b(p).width();(x<c.top||x>c.bottom||z<c.left||z>c.right)&&b(p).hide()}).focus(function(c){b(p).css({top:r.position().top+r.outerHeight()+"px",left:r.position().left+"px"});0<b("li",p).length&&b(p).show()}).attr("autocomplete","off");b(window).mousemove(function(b){z=b.pageX;x=b.pageY});h.notCharacter=l(h.notCharacter||"");h.data&&"string"===typeof h.data&&(h.data=b.parseJSON(h.data))})}})(jQuery);
DKI.resourceBrowser=function(){var b=$("body").hasClass("phone")||$("body").hasClass("responsive")?!0:!1,h={},c={},l=[],m=null,q={},n=[],r={},k={},p={},v={},z,x=dkiUA.iOS||dkiUA.android?"html,flash":"flash,html",A=function(b){for(var c={},h=0;h<b.length;h++){var k=b[h].type;k in c?c[k].push(b[h]):c[k]=[b[h]]}return c},u=function(){var b=A(c),h=DKI.getObjectKeys(b),k=$("#resourceList #list"),n,q,u,r=dkiUA.iOS||dkiUA.android||dkiUA.blackberry;m&&(n=$("\x3cli /\x3e",{text:p.txtPrintableVersionHeader}),
q=$("\x3cul /\x3e",{"class":"sublist"}),u=$("\x3cli /\x3e",{id:"documentVersion","class":"subItem ",title:p.txtPrintableVersionTitle,html:"\x3cspan class\x3d'icon document'\x3e\x3c/span\x3e"+m.name}),u.on(z.clickEvent,I),q.append(u),n.append(q),k.append(n));h.sort();$.each(h,function(c,h){c=b[h];h=$("\x3cli /\x3e").append($("\x3cspan /\x3e",{"class":"Resource_type_label",text:v[h]}));var l=$("\x3cul /\x3e",{"class":"subList"});c.sort(C);$.each(c,function(b,c){b="\x3e";c.elementLink&&(b="title\x3d'"+
p.txtElementLinkTitle+"'\x3e\x3cspan class\x3d'linkIcon'\x3e\x3c/span\x3e");b="\x3cspan class\x3d'icon "+c.type+"'"+b+"\x3c/span\x3e"+c.title;var h="";r&&(b+="\x3cspan class\x3d'chevron'\x3e\x3c/span\x3e",h+="mobile");b=$("\x3cli /\x3e",{id:c.id,"class":"subItem "+h,title:c.title,html:b,tabIndex:0});h=function(){K(c.id)};if(r)b.find("span").on(z.clickEvent,h);else b.on(z.clickEvent,h);l.append(b);$(document).trigger(aa.resourceRegistered,[c])});h.append(l);k.append(h)});h=playerBehaviour.removeWebLinks;
0<l.length&&!h&&(n=$("\x3cli /\x3e").append($("\x3cspan /\x3e",{"class":"Resource_type_label",text:p.txtLinksHeader})),q=$("\x3cul /\x3e",{"class":"subList"}),$.each(l,function(b,c){if(!c.parameters.notIncludedInResources){b="\x3cspan class\x3d'icon link'\x3e\x3c/span\x3e"+(""===c.parameters.title?c.parameters.url:c.parameters.title);var h="";r&&(b+="\x3cspan class\x3d'chevron'\x3e\x3c/span\x3e",h+="mobile");u=$("\x3cli /\x3e",{id:c.id,"class":"subItem link "+h,title:c.parameters.url,html:b,tabIndex:0});
b=function(){H(c.id)};if(r)u.find("span").on(z.clickEvent,b);else u.on(z.clickEvent,b);q.append(u)}}),n.append(q),k.append(n))},C=function(b,c){return b.title<c.title?-1:b.title>c.title?1:0},B=function(b,c){var h=$("#resourceView").innerHeight()-$("#resourceDetails .assetProperties").outerHeight()-30,k=$("#resourceView").innerWidth()-45,l=h-c,m=k-b,n=b/c;0>l&&l<m?(c=h,b=n*h):0>m&&m<l?(c=k/n,b=k):c=parseInt(c,10);h=0;200>c&&(h=(200-c)/2);return{width:b,height:c,top:h}},y=function(b,c){$("#resourceVideo_player").jPlayer({swfPath:z.swfPath,
cssSelectorAncestor:"#resourceVideo_container",ready:function(){q=$(this);q.jPlayer("setMedia",b.media);$(this).bind($.jPlayer.event.pause,function(){$(".jp-video-play",this.parentNode).css("display","");$("#resourceVideo_container .jp-interface").hide()});$(this).bind($.jPlayer.event.play,function(){$(".jp-video-play",this.parentNode).css("display","none");$("#resourceVideo_container .jp-interface").show()});$(this).bind($.jPlayer.event.click,function(b){b.jPlayer.status.paused?$(this).jPlayer("play"):
$(this).jPlayer("pause")});$("#resourceContent").off("keypress").on("keypress",function(c){var h=q.data().jPlayer,k=h.status,h=h.options;32==c.which||13==c.which?k.paused?q.jPlayer("play"):q.jPlayer("pause"):102==c.which?$(".jp-full-screen",this).click():27==c.which?$(".jp-restore-screen",this).click():116==c.which&&""!=b.transcript?contentApi.showPopup({html:b.transcript,modal:!1,autoFocus:!0,returnFocus:this}):109==c.which?h.muted?q.jPlayer("unmute"):q.jPlayer("mute"):61==c.which||43==c.which?q.jPlayer("volume",
h.volume+.1):45!=c.which&&95!=c.which||q.jPlayer("volume",h.volume-.1)})},solution:x,volume:1,supplied:b.supplied,autohide:!0,size:{width:c.width+"px",height:c.height+"px"},sizeFull:{height:"600px"},nativeVideoControls:z.nativeVideoControls})},E=function(b){$("#resourceAudio_player").jPlayer({swfPath:z.swfPath,cssSelectorAncestor:"#resourceAudio",ready:function(){r=$(this);r.jPlayer("setMedia",b.media);k=r},supplied:b.supplied,solution:x})},F=function(b){var c=0;for(b=parseInt(b,10);1024<=b;)b/=1024,
c++;return b.toFixed(1)+" "+["B","kB","MB"][c]},D=function(b,c){var k=b.title;if("html"!==b.type)if(playerBehaviour.allowResourceDownload)var k=b.title,l=c.split("."),k=k+("."+l[l.length-1]),k="\x3ca download\x3d'"+k+"' target\x3d'_blank' href\x3d'"+c+"' title\x3d'"+p.txtSaveAs+"'\x3e"+b.title+" \x3cspan class\x3d'downloadIcon'\x3e\x3c/span\x3e("+F(b.size)+")\x3c/a\x3e";else k="\x3cspan\x3e"+b.title+"\x3c/span\x3e";c=$(k);$("#resourceTitle").html("").append(c);$("#resourceSize").html(F(b.size));$("#resourceDescription").html(b.description);
h.detailsContainer.is(":hidden")&&h.detailsContainer.show()},G=function(b){var c=null,k=b.parameters.title,l=b.parameters.description,c=p.txtNewWindowTitle;""===k&&(k=b.parameters.url);b.parameters.isWebsite?(c=$("\x3ca href\x3d'#' class\x3d'resourceLinkLabel link website' title\x3d'"+c+"'\x3e"+k+"\x3c/a\x3e"),c.on(z.clickEvent,function(){b.parameters.target&&"modal"===b.parameters.target?contentApi.openModal(b.parameters.url):window.open(b.parameters.url,"_blank").focus()})):(k+="\x3cspan class\x3d'downloadIcon'\x3e\x3c/span\x3e",
c=p.txtSaveAs,c=$("\x3ca download target\x3d'_blank' href\x3d'"+b.parameters.url+"' class\x3d'resourceLinkLabel link download' title\x3d'"+c+"'\x3e"+k+"\x3c/a\x3e"));playerBehaviour.allowResourceDownload||(c=$("\x3cspan\x3e"+k+"\x3c/span\x3e"));$("#resourceTitle").html("").append(c);$("#resourceSize").html("");$("#resourceDescription").html(l);h.detailsContainer.is(":hidden")&&h.detailsContainer.show()},I=function(){var c=$("#resourceContent"),k=player.rootURL+"assets/"+m.name,l=B(100,100),n=$(document.createElement("div"));
n.css({margin:"0px auto",width:l.width,height:l.height,padding:l.top+"px 0px"});n.html("\x3cdiv class\x3d'docImg doc'\x3e\x3c/div\x3e");c.html("");c.append(n);D({title:m.name,description:"",size:m.size},k);$("#resourceList li").removeClass("selected");$("#documentVersion").addClass("selected");b&&(O(-250),h.back.fadeIn(200))},K=function(c){var k=P(c),l=$("#resourceContent");k.filePath||(k.filePath=k.assetURL);var m=k.filePath;D(k,m);var n,p=$("\x3cdiv/\x3e"),q;l.html("");switch(k.type){case "audio":n=
B(225,50);l=m;m=Handlebars.compile("{{\x3e jPlayerAudio}}")({audioAncestorId:"resourceAudio",audioPlayerId:"resourceAudio_player"});$("#resourceContent").append(p.html(m));m={};k="mp4"===k.extension?"m4a":k.extension;m[k]=l;E({media:m,supplied:k});break;case "video":n=B(k.w,k.h);l=m;m=n;q=Handlebars.compile("{{\x3e jPlayerVideo}}")({videoAncestorId:"resourceVideo_container",videoPlayerId:"resourceVideo_player"});$("#resourceContent").append(p.html(q));q={};k="mp4"===k.extension||"mov"===k.extension?
"m4v":k.extension;q[k]=l;y({media:q,supplied:k},m);break;case "image":n=B(k.w,k.h);l.append(p.html("\x3cimg src\x3d'"+m+"' width\x3d'100%' height \x3d '100%'/\x3e"));break;case "flash":n=B(k.w,k.h);l.append(p.html('\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width\x3d"100%" height\x3d"100%" id\x3d"flash_previewer"\x3e\x3cparam name\x3d"movie" value\x3d"'+m+'"/\x3e\x3cparam name\x3d"allowfullscreen" value\x3d"false" /\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"sameDomain" /\x3e\x3cparam name\x3d"wmode" value\x3d"transparent" /\x3e\x3c!--[if !IE]\x3e--\x3e\x3cobject type\x3d"application/x-shockwave-flash" data\x3d"'+
m+'" width\x3d"100%" height\x3d"100%"\x3e\x3cparam name\x3d"allowfullscreen" value\x3d"false" /\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"sameDomain" /\x3e\x3cparam name\x3d"wmode" value\x3d"transparent" /\x3e\x3c!--\x3c![endif]--\x3e\x3ca target\x3d"flashplayer" href\x3d"http://www.adobe.com/go/getflashplayer"\x3e\x3cimg src\x3d"http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt\x3d"Get Adobe Flash player" /\x3e\x3c/a\x3e\x3c!--[if !IE]\x3e--\x3e\x3c/object\x3e\x3c!--\x3c![endif]--\x3e\x3c/object\x3e\x3c/div\x3e'));
break;case "html":n=B(k.w,k.h);m=k.filePath?m+"/"+k.parameters.LAUNCHFILE:k.assetURL.substring(0,k.assetURL.length-1)+"/"+k.parameters.LAUNCHFILE;q=k.parameters.scrolling;switch(q){case "off":q="no";break;case "on":q="yes";break;default:q="auto"}l.append(p.html("\x3ciframe src\x3d'"+m+"' frameborder\x3d'"+k.parameters.border+"' scrolling\x3d'"+q+"'/\x3e"));break;default:n=B(100,100),l.append(p.html("\x3cdiv class\x3d'docImg "+k.extension+"'\x3e\x3c/div\x3e"))}p.css({margin:"0px auto",width:n.width,
height:n.height,padding:n.top+"px 0px"});$("#resourceList li").removeClass("selected");$("#"+c).addClass("selected");b&&(O(-250),h.back.fadeIn(200))},H=function(c){var k;a:{for(k=0;k<l.length;k++)if(l[k].id==c){k=l[k];break a}k=void 0}if(""!=k.parameters.description){var m=$("#resourceContent");m.html("");var n=$("\x3cdiv/\x3e");G(k);k.parameters.isWebsite&&(n.html("\x3ciframe style\x3d'margin:0;padding:0;width: 100%; height: 290px;' src\x3d'"+k.parameters.url+"' frameborder\x3d'0' scrolling\x3d'auto'/\x3e"),
n.css({margin:"0px auto",width:"100%",height:"290px"}),m.append(n));$("#resourceList li").removeClass("selected");$("#"+c).addClass("selected");b&&(O(-250),h.back.fadeIn(200))}else k.parameters.target&&"modal"===k.parameters.target?contentApi.openModal(k.parameters.url):window.open(k.parameters.url,"_blank").focus()},P=function(b){for(var h=0;h<c.length;h++)if(c[h].id==b)return c[h]},O=function(b){0==b?h.resourceList.list.show():h.detailsContainer.show();h.contentContainer.animate({left:b},300,function(){if(0==
b){var c=$(".selected[tabindex]:first",h.resourceList.list);0<c.length?c[0].focus():$("*[tabindex]:first",h.resourceList.list)[0].focus();h.detailsContainer.hide()}else h.resourceList.list.hide(),$("*[tabindex]:first",h.detailsContainer)[0].focus()})},J=function(){h.container.hide();"undefined"!=typeof player&&player.navigation.setResourceState(!1)},aa={resourceRegistered:"resourceRegistered",resourceOpened:"resourceOpened",resourceDownloaded:"resourceDownloaded"},ga={fancybox:{enabled:!0}};Handlebars.registerHelper("DKI_templates_resource_list",
function(b){var h={image:"image",video:"inline",audio:"inline",html:"iframe",flash:"swf"};b=DKI.applyIf(b.hash,ga);var k={strings:DKI.strings,config:b,categories:function(){var b={};if(playerBehaviour.allowResourceDownload&&DKI.resourceBrowser.getDocumentVersion()){var k=DKI.resourceBrowser.getDocumentVersion(),k={type:p.txtPrintableVersionHeader,allowResourceDownload:playerBehaviour.allowResourceDownload,filePath:fileLocation=player.rootURL+"assets/"+k.name,title:k.fileName,extension:k.extension,
id:"documentVersion"};b[k.type]={title:k.type,resources:[k]}}$.each(c,function(){this.allowResourceDownload=playerBehaviour.allowResourceDownload;this.filePath=this.filePath?player.rootURL+this.filePath:this.assetURL;"html"==this.type&&(this.filePath+="/"+this.parameters.LAUNCHFILE);this.fancybox={type:h[this.type],href:this.filePath,inline_content:"",group:this.type,title:this.title};if("video"==this.type||"audio"==this.type){var c="inline_resource_"+this.id;this.fancybox.href="#"+c;this.fancybox.inline_content=
Handlebars.compile("video"==this.type?DKI.templates.resource.video_content:DKI.templates.resource.audio_content)({id:c,resource_id:this.id,player_id:this.type+"_player_"+this.id,ancestor_id:this.type+"_ancestor_"+this.id})}if(this.allowResourceDownload||"document"!=this.type&&"source"!=this.type)b[this.type]?b[this.type].resources.push(this):b[this.type]={title:v[this.type],resources:[this]}});return b}(),links:function(){var b={title:DKI.strings.resources.txtLinksHeader,resources:[]};$.each(l,function(){if(this.parameters.notIncludedInResources)return!0;
""==this.parameters.title&&(this.parameters.title=this.parameters.url);b.resources.push(this)});return 0<b.resources.length?b:!1}()},k=Handlebars.compile(DKI.templates.resource.list)(k);if(b.fancybox.enabled)$(document).on("dki_theme_ready",function(){$(".dki-resource-asset-list-item-download").each(function(){$(this).on("keypress",function(b){32==b.which&&dkiUA.ie&&(window.open($(this).attr("href")),$(document).trigger(DKI.resourceBrowser.events.resourceDownloaded,P($(this).data("id"))))});this.addEventListener(z.clickEvent,
function(b){$(document).trigger(DKI.resourceBrowser.events.resourceDownloaded,P($(this).data("id")));DKI.EVENT_CANCEL_BUBBLE(b)},!0)});$(".dki-resource-list-item.fancy-box-item").click(function(){var b=null,c=null,h=DKI.func.debounce(function(){k()},75,!1),k=function(){var b=$(".fancybox-item.fancybox-close",c),h=$(".fancybox-stage .fancybox-content",c),k=h.offset().top-window.pageYOffset-9,h=h.offset().left+h.outerWidth()-$(window).width()-25;b.css({top:k+"px",left:h+"px"})},l=this,m=$("\x3cdiv\x3e");
$.fancybox.open(m,{src:$(this).data("fancybox-href"),caption:$(this).data("fancyboxTitle"),type:$(this).data("fancybox-type"),buttons:["close"],btnTpl:{close:'\x3cdiv class\x3d"fancybox-item fancybox-close"data-fancybox-close aria-label\x3d"'+player.strings.buttonLabelClose+'" role\x3d"button" tabindex\x3d"1" \x3e\x3c/div\x3e'},fitToView:!0,autoSize:!1,autoCenter:!0,margin:[20,60,20,60],afterShow:function(){$(".fancybox-stage",c).after($(".fancybox-toolbar",c).remove());k();var b=this;this.$slide.closest(".fancybox-inner").closest(".fancybox-overlay").on(z.clickEvent,
function(b){return!1});$(document).trigger(aa.resourceOpened,P($(l).data("id")));if("inline"==this.type){$("[data-fancybox-close]",this.$slide).remove();var h=P($(l).data("id")),m="mp4"===h.extension||"mov"===h.extension?"m4v":h.extension;"audio"==h.type&&(m="mp4"===h.extension?"m4a":h.extension);var n={};n[m]=h.filePath;this.$slide.find("#"+h.type+"_player_"+h.id).jPlayer({swfPath:z.swfPath,cssSelectorAncestor:"#"+h.type+"_ancestor_"+h.id,ready:function(){var c=$(this);c.jPlayer("setMedia",n);$(this).bind($.jPlayer.event.pause,
function(){$(".jp-video-play",this.parentNode).css("display","");$(".jp-interface",b.$slide).hide()});$(this).bind($.jPlayer.event.play,function(){$(".jp-video-play",this.parentNode).css("display","none");$(".jp-interface",b.$slide).show()});$(this).bind($.jPlayer.event.click,function(b){b.jPlayer.status.paused?$(this).jPlayer("play"):$(this).jPlayer("pause")});b.$slide.off("keypress").on("keypress",function(b){var k=c.data().jPlayer,l=k.status,k=k.options;32==b.which||13==b.which?l.paused?c.jPlayer("play"):
c.jPlayer("pause"):102==b.which?$(".jp-full-screen",this).click():27==b.which?$(".jp-restore-screen",this).click():116==b.which&&""!=h.transcript?contentApi.showPopup({html:h.transcript,modal:!1,autoFocus:!0,returnFocus:this}):109==b.which?k.muted?c.jPlayer("unmute"):c.jPlayer("mute"):61==b.which||43==b.which?c.jPlayer("volume",k.volume+.1):45!=b.which&&95!=b.which||c.jPlayer("volume",k.volume-.1)});k()},solution:x,volume:1,supplied:m,autohide:"video"==h.type?{restored:!0,hold:500}:{},size:{width:function(){var c=
"video"==h.type?h.w+"px":"";h.w>b.width&&(c="100%");return c}(),height:function(){var c="video"==h.type?h.h+"px":"";h.h>b.height&&(c="100%");return c}(),cssClass:function(){var c="";"video"==h.type&&h.h>b.height&&(c="jp-over-max");return c}()},sizeFull:{height:"600px"},nativeVideoControls:z.nativeVideoControls})}},beforeShow:function(k,l,m){l=this.$slide.closest(".fancybox-inner");b=k;c=l;b.$refs.container.on("onUpdate.fb",h)},afterClose:function(){b.$refs.container.off("onUpdate.fb",null,h);c=b=
null}})})});return k});return{init:function(q){var r;p=q.languageString;v={document:p.documentType,html:p.htmlType,audio:p.audioType,video:p.videoType,image:p.imageType,flash:p.flashType,source:p.sourceType};c=q.resources;for(r=0;r<c.length;r++)n.push({id:c[r].id,title:c[r].title,type:"resource"});for(r=0;r<q.actions.length;r++)"http"==q.actions[r].type&&0==$.grep(l,function(b){return b.parameters.url==q.actions[r].parameters.url}).length&&(l.push(q.actions[r]),n.push({id:q.actions[r].id,title:q.actions[r].parameters.title,
type:"link"}));z=q.settings;m=q.documentVersion;var y={strings:DKI.strings,mobile:b},y=Handlebars.compile(DKI.templates.resourceBrowser)(y),y=Handlebars.compile(DKI.templates.window)({windowContent:y,id:"resourceWindowContainer",windowTitle:DKI.strings.resources.resourceBrowserTitle,afterHeader:Handlebars.compile(DKI.templates.mobileBackSearch)({mobile:b}),contentId:"resourceContentContainer"});$("body").append(y);h.container=$("#resourceWindowContainer");h.contentContainer=$("#resourceContentContainer");
h.close=h.container.find(".browserCloseButton");h.back=h.container.find(".backButton");h.detailsContainer=$("#resourceView");b&&h.container.addClass("phone");h.resourceList={container:$("#resourceList"),list:$("#resourceList #list"),termElements:[]};h.resourceDetails={resourceTitle:$("#resources")};u();h.container.hide();h.container.css("visibility","visibile");if(b)h.back.on(z.clickEvent,function(){h.back.fadeOut(200);O(0);k&&k.jPlayer&&k.jPlayer("stop")});h.close.on(z.clickEvent,function(){J()});
h.container.draggable({handle:h.container.find(".browserHeader"),containment:"body"});h.container.find(".searchInput").jsonSearch({data:n,searchKey:"title",onSelect:function(b){"resource"==b.type?K(b.id):"link"==b.type&&H(b.id)}})},show:function(){h.container.show();"undefined"!=typeof player&&player.navigation.setResourceState(!0);$("*[tabindex]:first",h.resourceList.list)[0]&&$("*[tabindex]:first",h.resourceList.list)[0].focus()},hide:J,toggle:function(){"none"==h.container.css("display")?this.show():
this.hide()},isEmpty:function(){var b=0,h;m&&(b=1);for(h in c)c.hasOwnProperty(h)&&b++;for(h in l)l.hasOwnProperty(h)&&b++;return 0===b},setLaunchMethod:function(b){},events:aa,hasResources:function(){return 0<l.length||DKI.resources&&0<DKI.resources.length||m},getDocumentVersion:function(){return m}}}();
DKI.disabler=function(b){this.config=b;DKI.applyIf(this.config,{text:"",onClick:function(){},showSpinner:!1,className:"",clickable:!0});this.disabler=$("\x3cdiv /\x3e",{"class":"disablerWrapper "+this.config.className+(this.config.clickable?" clickable":"")});this.spinner=$("\x3cdiv /\x3e",{"class":"disabler"});this.disabler.append(this.spinner);this.disabler.on(dkiUA.android?"click":settings.clickEvent,$.proxy(function(){this.config.onClick(this)},this));this.text=$("\x3cp /\x3e",{"class":"disablerMessage",
html:this.config.text});""!=this.config.text&&this.text.attr("tabindex","0");this.disabler.append(this.text);this.config.showSpinner&&this.spinner.addClass("spinner");$("body").append(this.disabler);return this};DKI.disabler.prototype.show=function(){this.disabler.show();this.spinner.show();this.text[0].focus()};DKI.disabler.prototype.hide=function(b){b?this.disabler.fadeOut():this.disabler.hide()};DKI.disabler.prototype.setText=function(b){this.config.text=b;this.text.html(b)};
DKI.search||(DKI.search={events:{show:"searchUiShow",hide:"searchUiHide",search:"searchUiSearch",filterClicked:"searchFilterClicked",loadedProperties:"searchLoadedProperties"},isSupportedLanguage:function(b){b=b?b:contentApi.getCourseLanguage();return 0<=$.inArray(b.toLowerCase(),["en-us","en-gb","en-au","en-ca"])}});
(function(){var b={enabled:!0,indexes:{},itemStore:[],memberMap:{pages:{transcript:"transcript.body",title:"title",keysFlat:"keysFlat",description:"Description",note:"pageNote.body"}},supportedAssetTypes:["video","audio","image","flash","html"],supportedElementTypes:["htm","authoringButton","table","videoembed","tab"],memberRules:{elements:function(b){b.elementMeta=DKI.stripHTML(b.meta);b.keysFlat=b.keywords?b.keywords.join(" "):""},objects:function(b){b.keysFlat=b.keywords.join(" ")},assets:function(b){b.keysFlat=
b.keywords.join(" ")},pages:function(b){b.keysFlat=b.keywords.join(" ")}}},h={init:function(c){DKI.apply(b,c);b.enabled&&(h.initIndexes(),h.initSubscribers())},alterPipelines:function(b){DKI.search.isSupportedLanguage()||(b.pipeline.remove(lunr.stemmer),b.pipeline.remove(lunr.stopWordFilter),b.pipeline.remove(lunr.trimmer),b.pipeline.add(function(b,c,h){if(""!=b)return b}))},initSubscribers:function(){$(document).on(DKI.courseStore.events.courseRegistered,function(b,c){h.registerAssets()});$(document).on(DKI.courseStore.events.moduleRegistered,
function(b,c){h.addToIndex(c,"modules")});$(document).on(DKI.courseStore.events.loRegistered,function(b,c){h.addToIndex(c,"objects")});$(document).on(DKI.courseStore.events.pageRegistered,function(b,c){h.addToIndex(c,"pages")});$(document).on(DKI.courseStore.events.elementRegistered,function(c,m,q){if(!q&&(0<=$.inArray(m.elementtype,b.supportedElementTypes)&&h.addToIndex(m,"elements"),m.parameters.labels))for(c=0;c<m.parameters.labels.length;c++)if(q=dataStorage.getAsset(m.upload_id))q.labels+=" "+
m.parameters.labels[c].text});$(document).on(DKI.glossaryBrowse.events.glossaryRegistered,function(b,c){h.addToIndex(c,"glossaries")});$(document).on(DKI.Reference.playerReferenceUIInterface.events.referenceRegistered,function(b,c){h.addToIndex(c,"references")});$(document).on(DKI.Reference.playerReferenceUIInterface.events.citationRegistered,function(b,c){h.addToIndex(c,"citations")})},initIndexes:function(){b.indexes={elements:lunr(function(){this.ref("idx");this.field("elementMeta",{boost:12.5});
this.field("txt",{boost:12.5});this.field("description",{boost:10});this.field("keysFlat",{boost:10});h.alterPipelines(this)}),pages:lunr(function(){this.ref("idx");this.field("transcript",{boost:10});this.field("note",{boost:10});this.field("title",{boost:50});this.field("description",{boost:25});this.field("keysFlat",{boost:10});h.alterPipelines(this)}),assets:lunr(function(){this.ref("idx");this.field("title",{boost:12.5});this.field("description",{boost:10});this.field("transcript",{boost:10});
this.field("labels",{boost:10});this.field("keysFlat",{boost:10});h.alterPipelines(this)}),citations:lunr(function(){this.ref("idx");this.field("label",{boost:10});h.alterPipelines(this)}),references:lunr(function(){this.ref("idx");this.field("refText",{boost:10});h.alterPipelines(this)}),glossaries:lunr(function(){this.ref("idx");this.field("term",{boost:12.5});this.field("definition",{boost:10});this.field("attribution",{boost:7.5});h.alterPipelines(this)})}},registerAssets:function(){for(var c in b.dataStorage.store.assets){var m=
b.dataStorage.store.assets[c];0<=$.inArray(m.type,b.supportedAssetTypes)&&h.addToIndex(m,"assets")}},addToIndex:function(c,h){if(b.indexes[h]){c.idx=b.itemStore.length;c.smSearchType=h;var q=c;if(b.memberRules[h])b.memberRules[h](q);if(b.memberMap[h]){var q={idx:c.idx},n;for(n in b.memberMap[h])q[n]=b.memberMap[h][n].split(".").reduce(function(b,c){return b[c]?b[c]:{}},c)}b.itemStore.push(c);b.indexes[h].add(q);return c.idx}},search:function(c,m){var q=[],n;for(n in b.indexes)m&&DKI.isArray(m)&&0<=
m.indexOf(n)||(q=q.concat(b.indexes[n].search(c)));return q.map(function(c){c.obj=b.itemStore[c.ref];return c}).sort(h.sortResults)},sortResults:function(b,c){return b.score<c.score?1:b.score>c.score?-1:0},runAsync:function(b){setTimeout(b,0)}},c={search:function(b,c){return h.search(b,c)},isEnabled:function(){return b.enabled},getItemByStoreIndex:function(c){return b.itemStore[c]}};DKI.search.Manager=function(b){h.init(b);jQuery.extend(this,c);return this}})();
DKI.search.Window=function(){var b=!0,h=$("html").hasClass("csstransforms")?500:0,c=$("body").hasClass("phone")||$("body").hasClass("responsive")?!0:!1,l={},m={},q,n=!1,r={categories:{top:[],image:[],video:[],audio:[],reference:[],glossary:[],page:[],text:[],richMedia:[]}},k={},p=dkiUA.iOS||dkiUA.android?"html,flash":"flash,html",v={},z=function(b){return'\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width\x3d"100%" height\x3d"100%" id\x3d"search_flash"\x3e\x3cparam name\x3d"movie" value\x3d"'+
b+'"/\x3e\x3cparam name\x3d"allowfullscreen" value\x3d"false" /\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"sameDomain" /\x3e\x3cparam name\x3d"wmode" value\x3d"transparent" /\x3e\x3c!--[if !IE]\x3e--\x3e\x3cobject type\x3d"application/x-shockwave-flash" data\x3d"'+b+'" width\x3d"100%" height\x3d"100%"\x3e\x3cparam name\x3d"allowfullscreen" value\x3d"false" /\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"sameDomain" /\x3e\x3cparam name\x3d"wmode" value\x3d"transparent" /\x3e\x3c!--\x3c![endif]--\x3e\x3ca target\x3d"flashplayer" href\x3d"http://www.adobe.com/go/getflashplayer"\x3e\x3cimg src\x3d"http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt\x3d"Get Adobe Flash player" /\x3e\x3c/a\x3e\x3c!--[if !IE]\x3e--\x3e\x3c/object\x3e\x3c!--\x3c![endif]--\x3e\x3c/object\x3e\x3c/div\x3e'},
x=function(b){return $("\x3cdiv class\x3d'widgetPlaceholder'\x3e\x3c/div\x3e").on(q.clickEvent,function(c){DKI.Modal.show({url:b,name:"widgetPreview",method:"GET"})})},A=function(b){var c=l.search.val(),h=dataStorage.searchManager.search(c);$(document).trigger(DKI.search.events.search,[c,h]);populateResults(h,c,b)};showVideoPlayer=function(b,c,h,k){var l={},m="mp4"===b.extension||"mov"===b.extension?"m4v":b.extension;l[m]=c;renderVideoPlayer({media:l,supplied:m},k,h,b)};showAudioPlayer=function(b,
c,h){var k={};b="mp4"===b.extension?"m4a":b.extension;k[b]=c;renderAudioPlayer({media:k,supplied:b},h)};renderAudioPlayer=function(b,c){$(c).find("#search_audioPlayer").jPlayer({swfPath:q.swfPath,cssSelectorAncestor:"#search_audioAncestor",ready:function(){$(this).jPlayer("setMedia",b.media)},supplied:b.supplied,solution:p})};renderVideoPlayer=function(b,c,h,k){$(h).find("#search_vidPlayer").jPlayer({swfPath:q.swfPath,cssSelectorAncestor:"#search_vidAncestor",ready:function(){videoPlayer=$(this);
videoPlayer.jPlayer("setMedia",b.media);$(this).bind($.jPlayer.event.pause,function(){$(".jp-video-play",this.parentNode).css("display","");$("#searchBrowserContainer .vidContainer .jp-interface").hide()});$(this).bind($.jPlayer.event.play,function(){$(".jp-video-play",this.parentNode).css("display","none");$("#searchBrowserContainer .vidContainer .jp-interface").show()});$(this).bind($.jPlayer.event.click,function(b){b.jPlayer.status.paused?$(this).jPlayer("play"):$(this).jPlayer("pause")});$(".jp-transcript",
this.parentNode).on(q.clickEvent,function(){contentApi.showPopup({html:k.transcript,modal:!1,title:playerStrings.transcriptLabel})});h.off("keypress").on("keypress",function(c){var h=videoPlayer.data().jPlayer,k=h.status,h=h.options;32==c.which||13==c.which?k.paused?videoPlayer.jPlayer("play"):videoPlayer.jPlayer("pause"):102==c.which?$(".jp-full-screen",this).click():27==c.which?$(".jp-restore-screen",this).click():116==c.which&&""!=b.transcript?contentApi.showPopup({html:b.transcript,modal:!1,autoFocus:!0,
returnFocus:this}):109==c.which?h.muted?videoPlayer.jPlayer("unmute"):videoPlayer.jPlayer("mute"):61==c.which||43==c.which?videoPlayer.jPlayer("volume",h.volume+.1):45!=c.which&&95!=c.which||videoPlayer.jPlayer("volume",h.volume-.1)})},solution:p,volume:1,supplied:b.supplied,autohide:!0,size:{width:c.width+"px",height:c.height+"px"},sizeFull:{height:"600px"},nativeVideoControls:q.nativeVideoControls})};getType=function(b){switch(b.smSearchType){case "assets":return"flash"==b.type||"html"==b.type?
["richMedia"]:[b.type];case "glossaries":return["glossary","text"];case "references":return["reference","text"];case "citations":return["reference","text"];case "pages":return["page"];case "elements":return"videoembed"==b.elementtype?["video"]:["text"];case "objects":return["objects"]}};setObjects=function(b){var c=function(b,c){var h=dataStorage.locatePage(b);b=courseStructure.modules[h.module].objects[h.object];h=b.subeos[h.page];k.objects[b.eoid]?k.objects[b.eoid].push({obj:c,subeoId:h.subeoid}):
k.objects[b.eoid]=[{obj:c,subeoId:h.subeoid}]},h=[];switch(b.smSearchType){case "assets":h=dataStorage.getRelationship("assetElement",b.upload_id);break;case "glosariees":h=dataStorage.getRelationship("glossaryElement",b.glossary_id);break;case "citations":b.elementId?h=[b.elementId]:(termId=dataStorage.getRelationship("citationGlossary",b.id),h=dataStorage.getRelationship("glossaryElement",termId));break;case "pages":c(b.pageid,b);break;case "elements":h=[b.elementid]}for(var l=0;l<h.length;l++){var m=
dataStorage.getElement(h[l]);c(m.pageid,b)}};populateResults=function(b,c,h){l.details.listPanel.html("\x3cdiv tabindex\x3d'0' class\x3d'backNav'\x3e\x3cspan class\x3d'icon backChevron'\x3e\x3c/span\x3e\x3cspan\x3e"+m.back+"\x3c/span\x3e\x3c/div\x3e");k=DKI.clone(r);k.objects={};c=!1;for(var n=0;n<b.length;n++){var p=b[n];if(testForSequential(p)){k.categories.top.push(p);for(var q=getType(p.obj),v=0;v<q.length;v++)k.categories[q[v]].push(p)}else c=!0}c?(l.sequential.show(),l.details.detailsPanel.addClass("sequentialBlock")):
(l.sequential.hide(),l.details.detailsPanel.removeClass("sequentialBlock"));setFilterResults(k.categories,h)};getResultElements=function(b,c){c=[];var h=getType(b)[0];if("assets"==b.smSearchType)c=dataStorage.getRelationship("assetElement",b.id);else if("reference"==h)if(h=function(b){var c=[];b.elementId?c.push(b.elementId):(termId=dataStorage.getRelationship("citationGlossary",b.id),c=dataStorage.getRelationship("glossaryElement",termId));return c},"citations"==b.smSearchType)c=h(b);else for(var k in DKI.references.citations)DKI.references.citations[k].referenceId==
b.id&&(c=c.concat(h(DKI.references.citations[k])));else"glossaries"==b.smSearchType?c=dataStorage.getRelationship("glossaryElement",b.glossaryid):"elements"==b.smSearchType&&c.push(b.elementid);return c};testForSequential=function(b){var c=[];if(!n)return!0;var h=getType(b.obj)[0];if("page"==h)c.push(b.obj.pageid);else{if("objects"==h)for(c=dataStorage.findObject(b.obj.id),b=0;b<c.subeos.length;b++){if(c.subeos[b].complete)return!0}else for(c=getResultElements(b.obj),b=0;b<c.length;b++)if(dataStorage.getSubeoFromPage(dataStorage.getElement(c[b]).pageid).complete)return!0;
return!1}};getTitle=function(b){switch(b.smSearchType){case "citations":b=b.label;break;case "glossaries":b=b.term;break;case "elements":b="text"==getType(b)[0]?50<b.elementMeta.length?b.elementMeta.substr(0,47)+"...":b.elementMeta:b.title;break;default:b=b.title}return b};getDescription=function(b){switch(b.smSearchType){case "glossaries":return b.definition;case "citations":return DKI.Reference.playerReferenceUIInterface.getFullCitationText(b.id);case "references":return b.refText;case "pages":return b.description;
case "elements":return"text"==getType(b)[0]?b.elementMeta:b.description;default:return b.description}};getItemId=function(b){return b.id};setFilterResults=function(b,h){var k=l.filters.parent(),m=l.filters.detach(),n=l.sequential.detach(),p=!1,q;for(q in b){var r=l.filters.find("li[data-filter\x3d'"+q+"']");if(r){var v=!1;0<b[q].length&&(r.find("span.resCount").html(b[q].length),v=!0,r.data("istextitem")&&(p=!0));v?r.show():r.hide()}}p?l.filters.find("li.division").show():l.filters.find("li.division").hide();
k.append(m);k.append(n);!c&&h&&filterClicked.call(l.filters.find("li[data-filter\x3d'top']")[0])};filterClicked=function(b){b=$(this).data("filter");$(document).trigger(DKI.search.events.filterClicked,b);l.filters.find("li").removeClass("selected");l.container.trigger("filterClicked",[b]);0<k.categories[b].length&&$(this).addClass("selected");l.container.addClass("shift");l.details.detailsPanel.removeClass("properties").addClass("list")};loadAsset=function(b,c){var h={width:$(c).width(),height:$(c).height()};
switch(b.type){case "video":showVideoPlayer(b,getAssetUrl(b),c,h);break;case "audio":h.height=50,$(c).css("height","50px"),showAudioPlayer(b,getAssetUrl(b),c)}};loadListPanel=function(b){var c=k.categories[b];l.details.listPanel.html("\x3cdiv tabindex\x3d'0' class\x3d'backNav'\x3e\x3cspan class\x3d'icon backChevron'\x3e\x3c/span\x3e\x3cspan\x3e"+m.back+"\x3c/span\x3e\x3c/div\x3e");for(var h=0;h<c.length;h++){var p=c[h].obj,r=getType(p)[0];if("objects"!=r||!k.objects[p.eoid]||k.objects[p.eoid][0].subeoId){if("page"==
r){if("undefined"==typeof dataStorage.getSubeoFromPage(p.pageid))continue}else if(elements=getResultElements(p,null),0==elements.length)continue;p="image"!=b?generateListItem(c[h]):generateImageItem(c[h]);l.details.listPanel.append(p);p.on(q.clickEvent,function(){var b=dataStorage.searchManager.getItemByStoreIndex($(this).data("ref"));dataStorage.getCurrentQuestion();var c=getType(b)[0];"objects"==c&&k.objects[b.eoid]?contentApi.jumpToSubeo(k.objects[b.eoid][0].subeoId,!1):("page"==c?b=dataStorage.getSubeoFromPage(b.pageid):
(b=getResultElements(b,null),b=dataStorage.getSubeoFromPage(dataStorage.getElement(b[0]).pageid)),(b.complete&&n||!n)&&contentApi.jumpToSubeo(b.subeoid,!1))})}}0==c.length&&l.details.listPanel.find(".backNav").trigger("click");l.details.detailsPanel.append(l.details.switchContainer);c.length&&l.details.listPanel.find("*[tabindex]:visible")[0].focus()};generateListItem=function(b,c){var h=b.obj,k=$("\x3cdiv class\x3d'itemContainer' tabindex\x3d'0'\x3e\x3cspan class\x3d'iconContainer'\x3e\x3cspan class\x3d'icon'\x3e\x3c/span\x3e \x3c/span\x3e\x3cspan class\x3d'chevronContainer'\x3e\x3cspan class\x3d'icon chevron'\x3e\x3c/span\x3e\x3c/span\x3e\x3cdiv class\x3d'metaContainer'\x3e\x3ch3\x3e\x3c/h3\x3e\x3cp\x3e\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e");
k.data("ref",b.ref);k.find("h3").html(getTitle(h));k.find("p").html(getDescription(h));k.find(".iconContainer .icon").addClass(getType(h)[0]);c&&(b="page"==getType(h)[0]?"Jump to this page":"Jump to the page containing this result",k.find(".chevron").removeClass("chevron").addClass("jump").attr("title",b));return k};getAssetUrl=function(b){return b.filePath?player.rootURL+b.filePath:b.assetURL};generateImageItem=function(b){var c=$("\x3cdiv tabindex\x3d'0' class\x3d'imageThumb' data-ref\x3d'"+b.ref+
"'\x3e\x3c/div\x3e");c.css("background-image","url("+getAssetUrl(b.obj)+")");return c};loadPropertiesPanel=function(b){var c=l.details.propertiesPanel,k=getType(b)[0];$(document).trigger(DKI.search.events.loadedProperties,[b,k]);l.details.overflow=l.details.overflow.detach();var m=l.details.overflow.find(".propertiesContent");m.html("").append("\x3cdiv tabindex\x3d'0' class\x3d'preview'\x3e\x3c/div\x3e\x3cdiv class\x3d'propertiesMeta'\x3e\x3c/div\x3e");if("image"!=k&&"video"!=k&&"audio"!=k&&"richMedia"!=
k)var n=m.find(".preview").hide();else switch(n=m.find(".preview").show(),n.css("height",("assets"==b.smSearchType?b.h:b.height)+"px"),k){case "image":n.css({"background-image":"url("+getAssetUrl(b)+")","background-position":"center","background-size":"contain","background-repeat":"no-repeat"});break;case "video":"assets"==b.smSearchType?(k=Handlebars.compile("{{\x3e jPlayerVideo}}")({videoAncestorId:"search_vidAncestor",videoPlayerId:"search_vidPlayer"}),n.html(k),n.off(),n.on("detailsLoaded",function(){loadAsset(b,
this)})):(n.off(),setTimeout(function(){"dynamic"==b.meta2?(n.append("\x3ciframe frameborder\x3d'0' scrolling\x3d'no' src\x3d'"+DKI.getVideoEmbedURL(b.elementid)+"'\x3e\x3c/iframe\x3e"),n.find("iframe").load(function(){$("object",$(this).contents()).css({"max-width":n.css("max-width"),"max-height":n.css("max-height")})})):n.html(b.meta);n.find("iframe").css({width:"100%",height:"100%"})},h));break;case "audio":k=Handlebars.compile("{{\x3e jPlayerAudio}}")({audioAncestorId:"search_audioAncestor",audioPlayerId:"search_audioPlayer"});
n.html(k);n.off();n.on("detailsLoaded",function(){loadAsset(b,this)});break;case "richMedia":"flash"==b.type?n.html(z(getAssetUrl(b))):(n.css("height","96px"),k=getAssetUrl(b),k=b.filePath?k:k.substring(0,k.length-1),k+="/"+b.parameters.LAUNCHFILE,n.html(x(k)))}m.find(".propertiesMeta").html("\x3ch3 tabindex\x3d'0'\x3e"+getTitle(b)+"\x3c/h3\x3e\x3cp tabindex\x3d'0'\x3e"+getDescription(b)+"\x3c/p\x3e");k=loadPageLinks(l.details.linksContainer.detach(),b);c.append(l.details.overflow);m.append(k);n.trigger("detailsLoaded");
l.details.detailsPanel.removeClass("list").addClass("properties")};unloadPreview=function(){l.details.overflow=l.details.overflow.detach()};loadPageLinks=function(b,c){dataStorage.getCurrentQuestion();var h=[],l=getType(c)[0],m=b.find(".links");m.html("");var p=b.find("h3.linksTitle").html("");if("objects"==l&&k.objects[c.eoid])for(p.html("See Also:"),l=0;l<k.objects[c.eoid].length;l++){var r=k.objects[c.eoid][l],r=generateListItem({obj:r.obj,ref:r.subeoId},!0);r.on(q.clickEvent,function(){contentApi.jumpToSubeo($(this).data("ref"),
!1)});m.append(r)}else if("page"==l){if(r=dataStorage.getSubeoFromPage(c.pageid),r.complete&&n||!n)p.html("Found Locations:"),r=generateListItem({obj:c,ref:r.subeoid},!0),r.on(q.clickEvent,function(){contentApi.jumpToSubeo($(this).data("ref"),!1)}),m.append(r)}else h=getResultElements(c,m);0<h.length&&p.html("Found Locations:");c=[];for(l=0;l<h.length;l++)r=dataStorage.getSubeoFromPage(dataStorage.getElement(h[l]).pageid),(r.complete&&n||!n)&&r&&0>$.inArray(r.subeoid,c)&&(p=r.page,c.push(r.subeoid),
r=generateListItem({obj:p,ref:r.subeoid},!0),r.on(q.clickEvent,function(){contentApi.jumpToSubeo($(this).data("ref"),!1)}),m.append(r));return b};show=function(c){$(document).trigger(DKI.search.events.show,c);if(b){l.container.show();var h=l.search[0];h&&(h.focus(),"undefined"!==typeof c&&l.search.val(c),A(),h=l.filters.find("li.selected"),"undefined"!==typeof c?(h=h[0]?h:l.filters.find("li[data-filter\x3d'top']"),h.addClass("selected"),l.container.trigger("filterClicked",[h.data("filter")])):h[0]&&
l.container.trigger("filterClicked",[h.data("filter")]),l.details.detailsPanel.hasClass("properties")&&l.details.propertiesPanel.append(l.details.overflow))}else!b&&q.inPreview&&(DKI.search.isSupportedLanguage()?alert("Course searching is not supported in your browser. Please upgrade your internet browser if you wish to use this feature."):alert("Search is not supported in this language."))};hide=function(){if(b){var c=l.search[0];l.container.is(":visible")&&$(document).trigger(DKI.search.events.hide);
c&&c.blur();l.container.hide();unloadPreview()}};toggle=function(){b&&("none"==l.container.css("display")?this.show():this.hide())};parseToBasic=function(b){return{title:getTitle(b),description:getDescription(b),id:getItemId(b)}};return{init:function(k){b=!(dkiUA.isIE()&&8>=dkiUA.ieVersion)&&DKI.search.isSupportedLanguage();n=playerBehaviour.forceSequential&&playerBehaviour.enableCourseSearchSequential;m=k.languageString;q=k.settings;documentVersion=k.documentVersion;b&&(k=Handlebars.compile(DKI.templates.window)({windowContent:Handlebars.compile(DKI.templates.search)({strings:DKI.strings}),
id:"searchBrowserContainer",windowTitle:DKI.strings.courseSearch.title}),$("body").append(k),l={container:$("#searchBrowserContainer"),details:{detailsPanel:$("#searchBrowserContainer .panel.details"),listPanel:$("#searchBrowserContainer .listPanel"),propertiesPanel:$("#searchBrowserContainer .propertiesPanel"),propertiesContent:$("#searchBrowserContainer .propertiesPanel .propertiesContent"),switchContainer:$("#searchBrowserContainer .switchContainer"),backNav:$("#searchBrowserContainer .propertiesPanel .backNav"),
linksContainer:$("#searchBrowserContainer .propertiesPanel .linksContainer"),overflow:$("#searchBrowserContainer .propertiesPanel .overflowContainer")},close:$("#searchBrowserContainer .browserCloseButton").attr("title",playerStrings.buttonLabelClose),back:$("#searchBrowserContainer .backButton"),search:$("#searchBrowserContainer .searchInput"),filters:$("#searchBrowserContainer .resultList"),sequential:$("#searchBrowserContainer .sequential")},v=DKI.func.debounce(A,200,!1,this),$("#searchBrowserContainer").on(q.clickEvent,
".backNav",function(){setTimeout(unloadPreview,h);l.details.detailsPanel.hasClass("properties")?l.details.detailsPanel.removeClass("properties").addClass("list"):l.container.removeClass("shift")}),l.close.on(q.clickEvent,function(){hide()}),$(l.filters).on(q.clickEvent,"li",filterClicked),$(document.body).on(q.clickEvent,".searchPageJump",function(b){contentApi.jumpToSubeo($(this).data("id"),!1)}),$(document).on(DKI.ContentPage.events.ready,function(){hide()}),$(document).on(DKI.EndCourse.events.ready,
function(){hide()}),$(document).on(DKI.EndModule.events.ready,function(){hide()}),$(document).on(DKI.EndTest.events.ready,function(){hide()}),l.search.on("input",function(){v(!0)}),l.container.on("filterClicked",function(b,c){loadListPanel(c)}),$(window).on(q.resizeEvent,$.proxy(function(){l.container.css("left",($(".bgRepeater").outerWidth()-l.container.outerWidth())/2);$("body").hasClass("responsive")&&(480>=$(window).width()?(c=!0,l.container.removeClass("shift")):c=!1)},this)))},show:show,hide:hide,
toggle:toggle,parseToBasic:parseToBasic}}();
(function(b){function h(b,c){if(!(1<b.originalEvent.touches.length)){b.preventDefault();var h=b.originalEvent.changedTouches[0],k=document.createEvent("MouseEvents");k.initMouseEvent(c,!0,!0,window,1,h.screenX,h.screenY,h.clientX,h.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(k)}}b.support.touch="ontouchend"in document;if(b.support.touch){var c=b.ui.mouse.prototype,l=c._mouseInit,m;c._touchStart=function(b){!m&&this._mouseCapture(b.originalEvent.changedTouches[0])&&(m=!0,this._touchMoved=!1,
h(b,"mouseover"),h(b,"mousemove"),h(b,"mousedown"))};c._touchMove=function(b){m&&(this._touchMoved=!0,h(b,"mousemove"))};c._touchEnd=function(b){m&&(h(b,"mouseup"),h(b,"mouseout"),this._touchMoved||h(b,"click"),m=!1)};c._mouseInit=function(){this.element.bind("touchstart",b.proxy(this,"_touchStart")).bind("touchmove",b.proxy(this,"_touchMove")).bind("touchend",b.proxy(this,"_touchEnd"));l.call(this)}}})(jQuery);var requirejs,require,define;
!function(b,h){function c(b,c){return c||""}function l(b){return"[object Function]"===U.call(b)}function m(b){return"[object Array]"===U.call(b)}function q(b,c){var h;if(b)for(h=0;h<b.length&&(!b[h]||!c(b[h],h,b));h+=1);}function n(b,c){var h;if(b)for(h=b.length-1;-1<h&&(!b[h]||!c(b[h],h,b));--h);}function r(b,c){return R.call(b,c)}function k(b,c){return r(b,c)&&b[c]}function p(b,c){for(var h in b)if(r(b,h)&&c(b[h],h))break}function v(b,c,h,k){return c&&p(c,function(c,n){!h&&r(b,n)||(!k||"object"!=
typeof c||!c||m(c)||l(c)||c instanceof RegExp?b[n]=c:(b[n]||(b[n]={}),v(b[n],c,h,k)))}),b}function z(b,c){return function(){return c.apply(b,arguments)}}function x(b){throw b;}function A(c){if(!c)return c;var h=b;return q(c.split("."),function(b){h=h[b]}),h}function u(b,c,h,k){c=Error(c+"\nhttps://requirejs.org/docs/errors.html#"+b);return c.requireType=b,c.requireModules=k,h&&(c.originalError=h),c}function C(c){function B(b,c,h){var l,m,n,p,q,r,u,v;c=c&&c.split("/");var w=Z.map,y=w&&w["*"];if(b){m=
(b=b.split("/")).length-1;Z.nodeIdCompat&&ga.test(b[m])&&(b[m]=b[m].replace(ga,""));"."===b[0].charAt(0)&&c&&(b=c.slice(0,c.length-1).concat(b));m=b;for(n=0;n<m.length;n++)"."===(p=m[n])?(m.splice(n,1),--n):".."!==p||0===n||1===n&&".."===m[2]||".."===m[n-1]||0<n&&(m.splice(n-1,2),n-=2);b=b.join("/")}if(h&&w&&(c||y)){m=(h=b.split("/")).length;a:for(;0<m;--m){if(p=h.slice(0,m).join("/"),c)for(n=c.length;0<n;--n)if((l=k(w,c.slice(0,n).join("/")))&&(l=k(l,p))){q=l;r=m;break a}!u&&y&&k(y,p)&&(u=k(y,p),
v=m)}!q&&u&&(q=u,r=v);q&&(h.splice(0,r,q),b=h.join("/"))}return k(Z.pkgs,b)||b}function E(b){N&&q(document.getElementsByTagName("script"),function(c){if(c.getAttribute("data-requiremodule")===b&&c.getAttribute("data-requirecontext")===ba.contextName)return c.parentNode.removeChild(c),!0})}function D(b){var c=k(Z.paths,b);if(c&&m(c)&&1<c.length)return c.shift(),ba.require.undef(b),ba.makeRequire(null,{skipMap:!0})([b]),!0}function C(b){var c,h=b?b.indexOf("!"):-1;return-1<h&&(c=b.substring(0,h),b=
b.substring(h+1,b.length)),[c,b]}function F(b,c,h,l){var m,n,p,q,r=null,u=c?c.name:null,v=b,w=!0,y="";return b||(w=!1,b="_@r"+(Ca+=1)),r=(q=C(b))[0],b=q[1],r&&(r=B(r,u,l),n=k(fa,r)),b&&(r?y=h?b:n&&n.normalize?n.normalize(b,function(b){return B(b,u,l)}):-1===b.indexOf("!")?B(b,u,l):b:(r=(q=C(y=B(b,u,l)))[0],y=q[1],h=!0,m=ba.nameToUrl(y))),{prefix:r,name:y,parentMap:c,unnormalized:!!(p=!r||n||h?"":"_unnormalized"+(ta+=1)),url:m,originalName:v,isDefine:w,id:(r?r+"!"+y:y)+p}}function G(b){var c=b.id,
h=k(L,c);return h||(h=L[c]=new ba.Module(b)),h}function I(b,c,h){var l=b.id,m=k(L,l);!r(fa,l)||m&&!m.defineEmitComplete?(m=G(b)).error&&"error"===c?h(m.error):m.on(c,h):"defined"===c&&h(fa[l])}function H(b,c){var h=b.requireModules,l=!1;c?c(b):(q(h,function(c){(c=k(L,c))&&(c.error=b,c.events.error&&(l=!0,c.emit("error",b)))}),l||y.onError(b))}function J(){ca.length&&(q(ca,function(b){var c=b[0];"string"==typeof c&&(ba.defQueueMap[c]=!0);da.push(b)}),ca=[])}function O(b){delete L[b];delete qa[b]}function w(){var b,
c,l=1E3*Z.waitSeconds,m=l&&ba.startTime+l<(new Date).getTime(),n=[],r=[],v=!1,y=!0;if(!V){if(V=!0,p(qa,function(b){var h=b.map,k=h.id;if(b.enabled&&(h.isDefine||r.push(b),!b.error))if(!b.inited&&m)D(k)?v=c=!0:(n.push(k),E(k));else if(!b.inited&&b.fetched&&h.isDefine&&(v=!0,!h.prefix))return y=!1}),m&&n.length)return(b=u("timeout","Load timeout for modules: "+n,null,n)).contextName=ba.contextName,H(b);y&&q(r,function(b){!function Xa(b,c,h){var l=b.map.id;b.error?b.emit("error",b.error):(c[l]=!0,q(b.depMaps,
function(l,m){l=l.id;var n=k(L,l);!n||b.depMatched[m]||h[l]||(k(c,l)?(b.defineDep(m,fa[l]),b.check()):Xa(n,c,h))}),h[l]=!0)}(b,{},{})});m&&!c||!v||!N&&!T||ha||(ha=h(function(){ha=0;w()},50));V=!1}}function P(b){r(fa,b[0])||G(F(b[0],null,!0)).init(b[1],b[2])}function R(b){b=b.currentTarget||b.srcElement;var c=ba.onScriptLoad;b.detachEvent&&!ea?b.detachEvent("onreadystatechange",c):b.removeEventListener("load",c,!1);c=ba.onScriptError;b.detachEvent&&!ea||b.removeEventListener("error",c,!1);return{node:b,
id:b&&b.getAttribute("data-requiremodule")}}function U(){var b;for(J();da.length;){if(null===(b=da.shift())[0])return H(u("mismatch","Mismatched anonymous define() module: "+b[b.length-1]));P(b)}ba.defQueueMap={}}var V,aa,ba,X,ha,Z={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},L={},qa={},oa={},da=[],fa={},za={},sa={},Ca=1,ta=1;return X={require:function(b){return b.require?b.require:b.require=ba.makeRequire(b.map)},exports:function(b){if(b.usingExports=!0,b.map.isDefine)return b.exports?
fa[b.map.id]=b.exports:b.exports=fa[b.map.id]={}},module:function(b){return b.module?b.module:b.module={id:b.map.id,uri:b.map.url,config:function(){return k(Z.config,b.map.id)||{}},exports:b.exports||(b.exports={})}}},(aa=function(b){this.events=k(oa,b.id)||{};this.map=b;this.shim=k(Z.shim,b.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0}).prototype={init:function(b,c,h,k){k=k||{};this.inited||(this.factory=c,h?this.on("error",h):this.events.error&&(h=
z(this,function(b){this.emit("error",b)})),this.depMaps=b&&b.slice(0),this.errback=h,this.inited=!0,this.ignore=k.ignore,k.enabled||this.enabled?this.enable():this.check())},defineDep:function(b,c){this.depMatched[b]||(this.depMatched[b]=!0,--this.depCount,this.depExports[b]=c)},fetch:function(){if(!this.fetched){this.fetched=!0;ba.startTime=(new Date).getTime();var b=this.map;if(!this.shim)return b.prefix?this.callPlugin():this.load();ba.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||
[],z(this,function(){return b.prefix?this.callPlugin():this.load()}))}},load:function(){var b=this.map.url;za[b]||(za[b]=!0,ba.load(this.map.id,b))},check:function(){if(this.enabled&&!this.enabling){var b,c,h=this.map.id,k=this.depExports,m=this.exports,n=this.factory;if(this.inited)if(this.error)this.emit("error",this.error);else{if(!this.defining){if(this.defining=!0,1>this.depCount&&!this.defined){if(l(n)){if(this.events.error&&this.map.isDefine||y.onError!==x)try{m=ba.execCb(h,n,k,m)}catch(p){b=
p}else m=ba.execCb(h,n,k,m);if(this.map.isDefine&&void 0===m&&((c=this.module)?m=c.exports:this.usingExports&&(m=this.exports)),b)return b.requireMap=this.map,b.requireModules=this.map.isDefine?[this.map.id]:null,b.requireType=this.map.isDefine?"define":"require",H(this.error=b)}else m=n;if(this.exports=m,this.map.isDefine&&!this.ignore&&(fa[h]=m,y.onResourceLoad)){var u=[];q(this.depMaps,function(b){u.push(b.normalizedMap||b)});y.onResourceLoad(ba,this.map,u)}O(h);this.defined=!0}this.defining=!1;
this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else r(ba.defQueueMap,h)||this.fetch()}},callPlugin:function(){var b=this.map,c=b.id,h=F(b.prefix);this.depMaps.push(h);I(h,"defined",z(this,function(h){var l,m,n,q=k(sa,this.map.id),v=this.map.name,w=this.map.parentMap?this.map.parentMap.name:null,x=ba.makeRequire(b.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(h.normalize&&(v=h.normalize(v,function(b){return B(b,
w,!0)})||""),I(m=F(b.prefix+"!"+v,this.map.parentMap,!0),"defined",z(this,function(b){this.map.normalizedMap=m;this.init([],function(){return b},null,{enabled:!0,ignore:!0})})),void((n=k(L,m.id))&&(this.depMaps.push(m),this.events.error&&n.on("error",z(this,function(b){this.emit("error",b)})),n.enable()))):q?(this.map.url=ba.nameToUrl(q),void this.load()):((l=z(this,function(b){this.init([],function(){return b},null,{enabled:!0})})).error=z(this,function(b){this.inited=!0;(this.error=b).requireModules=
[c];p(L,function(b){0===b.map.id.indexOf(c+"_unnormalized")&&O(b.map.id)});H(b)}),l.fromText=z(this,function(h,k){var m=b.name,n=F(m),p=S;k&&(h=k);p&&(S=!1);G(n);r(Z.config,c)&&(Z.config[m]=Z.config[c]);try{y.exec(h)}catch(q){return H(u("fromtexteval","fromText eval for "+c+" failed: "+q,q,[c]))}p&&(S=!0);this.depMaps.push(n);ba.completeLoad(m);x([m],l)}),void h.load(b.name,x,l,Z))}));ba.enable(h,this);this.pluginMaps[h.id]=h},enable:function(){this.enabling=(qa[this.map.id]=this).enabled=!0;q(this.depMaps,
z(this,function(b,c){var h,l;if("string"==typeof b){if(b=F(b,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[c]=b,h=k(X,b.id))return void(this.depExports[c]=h(this));this.depCount+=1;I(b,"defined",z(this,function(b){this.undefed||(this.defineDep(c,b),this.check())}));this.errback?I(b,"error",z(this,this.errback)):this.events.error&&I(b,"error",z(this,function(b){this.emit("error",b)}))}h=b.id;l=L[h];r(X,h)||!l||l.enabled||ba.enable(b,this)}));p(this.pluginMaps,z(this,
function(b){var c=k(L,b.id);c&&!c.enabled&&ba.enable(b,this)}));this.enabling=!1;this.check()},on:function(b,c){var h=this.events[b];h||(h=this.events[b]=[]);h.push(c)},emit:function(b,c){q(this.events[b],function(b){b(c)});"error"===b&&delete this.events[b]}},(ba={config:Z,contextName:c,registry:L,defined:fa,urlFetched:za,defQueue:da,defQueueMap:{},Module:aa,makeModuleMap:F,nextTick:y.nextTick,onError:H,configure:function(b){if(b.baseUrl&&"/"!==b.baseUrl.charAt(b.baseUrl.length-1)&&(b.baseUrl+="/"),
"string"==typeof b.urlArgs){var c=b.urlArgs;b.urlArgs=function(b,h){return(-1===h.indexOf("?")?"?":"\x26")+c}}var h=Z.shim,k={paths:!0,bundles:!0,config:!0,map:!0};p(b,function(b,c){k[c]?(Z[c]||(Z[c]={}),v(Z[c],b,!0,!0)):Z[c]=b});b.bundles&&p(b.bundles,function(b,c){q(b,function(b){b!==c&&(sa[b]=c)})});b.shim&&(p(b.shim,function(b,c){m(b)&&(b={deps:b});!b.exports&&!b.init||b.exportsFn||(b.exportsFn=ba.makeShimExports(b));h[c]=b}),Z.shim=h);b.packages&&q(b.packages,function(b){var c;c=(b="string"==
typeof b?{name:b}:b).name;b.location&&(Z.paths[c]=b.location);Z.pkgs[c]=b.name+"/"+(b.main||"main").replace(W,"").replace(ga,"")});p(L,function(b,c){b.inited||b.map.unnormalized||(b.map=F(c,null,!0))});(b.deps||b.callback)&&ba.require(b.deps||[],b.callback)},makeShimExports:function(c){return function(){var h;return c.init&&(h=c.init.apply(b,arguments)),h||c.exports&&A(c.exports)}},makeRequire:function(b,h){function m(k,n,p){var q,v;return h.enableBuildCallback&&n&&l(n)&&(n.__requireJsBuild=!0),"string"==
typeof k?l(n)?H(u("requireargs","Invalid require call"),p):b&&r(X,k)?X[k](L[b.id]):y.get?y.get(ba,k,b,m):(q=F(k,b,!1,!0).id,r(fa,q)?fa[q]:H(u("notloaded",'Module name "'+q+'" has not been loaded yet for context: '+c+(b?"":". Use require([])")))):(U(),ba.nextTick(function(){U();(v=G(F(null,b))).skipMap=h.skipMap;v.init(k,n,p,{enabled:!0});w()}),m)}return h=h||{},v(m,{isBrowser:N,toUrl:function(c){var h,k=c.lastIndexOf("."),l=c.split("/")[0];return-1!==k&&(!("."===l||".."===l)||1<k)&&(h=c.substring(k,
c.length),c=c.substring(0,k)),ba.nameToUrl(B(c,b&&b.id,!0),h,!0)},defined:function(c){return r(fa,F(c,b,!1,!0).id)},specified:function(c){return c=F(c,b,!1,!0).id,r(fa,c)||r(L,c)}}),b||(m.undef=function(c){J();var h=F(c,b,!0),l=k(L,c);l.undefed=!0;E(c);delete fa[c];delete za[h.url];delete oa[c];n(da,function(b,h){b[0]===c&&da.splice(h,1)});delete ba.defQueueMap[c];l&&(l.events.defined&&(oa[c]=l.events),O(c))}),m},enable:function(b){k(L,b.id)&&G(b).enable()},completeLoad:function(b){var c,h,l,m=k(Z.shim,
b)||{},n=m.exports;for(J();da.length;){if(null===(h=da.shift())[0]){if(h[0]=b,c)break;c=!0}else h[0]===b&&(c=!0);P(h)}if(ba.defQueueMap={},l=k(L,b),!c&&!r(fa,b)&&l&&!l.inited){if(!(!Z.enforceDefine||n&&A(n)))return D(b)?void 0:H(u("nodefine","No define call for "+b,null,[b]));P([b,m.deps||[],m.exportsFn])}w()},nameToUrl:function(b,c,h){var l,n,p,q;l=k(Z.pkgs,b);if(l&&(b=l),l=k(sa,b))return ba.nameToUrl(l,c,h);if(y.jsExtRegExp.test(b))l=b+(c||"");else{l=Z.paths;for(p=(n=b.split("/")).length;0<p;--p)if(q=
k(l,n.slice(0,p).join("/"))){m(q)&&(q=q[0]);n.splice(0,p,q);break}l=n.join("/");l=("/"===(l+=c||(/^data\:|^blob\:|\?/.test(l)||h?"":".js")).charAt(0)||l.match(/^[\w\+\.\-]+:/)?"":Z.baseUrl)+l}return Z.urlArgs&&!/^blob\:/.test(l)?l+Z.urlArgs(b,l):l},load:function(b,c){y.load(ba,b,c)},execCb:function(b,c,h,k){return c.apply(k,h)},onScriptLoad:function(b){if("load"===b.type||M.test((b.currentTarget||b.srcElement).readyState))K=null,b=R(b),ba.completeLoad(b.id)},onScriptError:function(b){var c=R(b);if(!D(c.id)){var h=
[];return p(L,function(b,k){0!==k.indexOf("_@r")&&q(b.depMaps,function(b){if(b.id===c.id)return h.push(k),!0})}),H(u("scripterror",'Script error for "'+c.id+(h.length?'", needed by: '+h.join(", "):'"'),b,[c.id]))}}}).require=ba.makeRequire(),ba}function B(){return K&&"interactive"===K.readyState||n(document.getElementsByTagName("script"),function(b){if("interactive"===b.readyState)return K=b}),K}var y,E,F,D,G,I,K,H,P,O,J=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,aa=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,
ga=/\.js$/,W=/^\.\//;E=Object.prototype;var U=E.toString,R=E.hasOwnProperty,N=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),T=!N&&"undefined"!=typeof importScripts,M=N&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,ea="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),ha={},X={},ca=[],S=!1;if(void 0===define){if(void 0!==requirejs){if(l(requirejs))return;X=requirejs;requirejs=void 0}void 0===require||l(require)||(X=require,require=
void 0);y=requirejs=function(b,c,h,l){var n,p,q="_";return m(b)||"string"==typeof b||(p=b,m(c)?(b=c,c=h,h=l):b=[]),p&&p.context&&(q=p.context),(n=k(ha,q))||(n=ha[q]=y.s.newContext(q)),p&&n.configure(p),n.require(b,c,h)};y.config=function(b){return y(b)};y.nextTick=void 0!==h?function(b){h(b,4)}:function(b){b()};require||(require=y);y.version="2.3.6";y.jsExtRegExp=/^\/|:|\?|\.js$/;y.isBrowser=N;E=y.s={contexts:ha,newContext:C};y({});q(["toUrl","undef","defined","specified"],function(b){y[b]=function(){var c=
ha._;return c.require[b].apply(c,arguments)}});N&&(F=E.head=document.getElementsByTagName("head")[0],D=document.getElementsByTagName("base")[0],D&&(F=E.head=D.parentNode));y.onError=x;y.createNode=function(b,c,h){c=b.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return c.type=b.scriptType||"text/javascript",c.charset="utf-8",c.async=!0,c};y.load=function(b,c,k){var l,m=b&&b.config||{};if(N)return(l=y.createNode(m,c,k)).setAttribute("data-requirecontext",
b.contextName),l.setAttribute("data-requiremodule",c),!l.attachEvent||l.attachEvent.toString&&0>l.attachEvent.toString().indexOf("[native code")||ea?(l.addEventListener("load",b.onScriptLoad,!1),l.addEventListener("error",b.onScriptError,!1)):(S=!0,l.attachEvent("onreadystatechange",b.onScriptLoad)),l.src=k,m.onNodeCreated&&m.onNodeCreated(l,m,c,k),H=l,D?F.insertBefore(l,D):F.appendChild(l),H=null,l;if(T)try{h(function(){},0),importScripts(k),b.completeLoad(c)}catch(n){b.onError(u("importscripts",
"importScripts failed for "+c+" at "+k,n,[c]))}};N&&!X.skipDataMain&&n(document.getElementsByTagName("script"),function(b){if(F||(F=b.parentNode),G=b.getAttribute("data-main"))return P=G,X.baseUrl||-1!==P.indexOf("!")||(P=(I=P.split("/")).pop(),O=I.length?I.join("/")+"/":"./",X.baseUrl=O),P=P.replace(ga,""),y.jsExtRegExp.test(P)&&(P=G),X.deps=X.deps?X.deps.concat(P):[P],!0});define=function(b,h,k){var n,p;"string"!=typeof b&&(k=h,h=b,b=null);m(h)||(k=h,h=null);!h&&l(k)&&(h=[],k.length&&(k.toString().replace(J,
c).replace(aa,function(b,c){h.push(c)}),h=(1===k.length?["require"]:["require","exports","module"]).concat(h)));S&&(n=H||B())&&(b||(b=n.getAttribute("data-requiremodule")),p=ha[n.getAttribute("data-requirecontext")]);p?(p.defQueue.push([b,h,k]),p.defQueueMap[b]=!0):ca.push([b,h,k])};define.amd={jQuery:!0};y.exec=function(b){return eval(b)};y(X)}}(this,"undefined"==typeof setTimeout?void 0:setTimeout);DKI=DKI||{};
DKI.Events={TestQuestion:{exportSubmitted:"TESTQUESTION_EXPORT_SUBMITTED",submitted:"TESTQUESTION_SUBMITTED",nextClicked:"TESTQUESTION_NEXT_CLICKED",forceEnd:"TESTQUESTION_FORCE_END",correct:"TESTQUESTION_CORRECT",incorrect:"TESTQUESTION_INCORRECT",partiallyCorrect:"TESTQUESTION_PARTIALLY_CORRECT",attemptSubmitted:"PRACTICE_QUESTION_ATTEMPT_SUBMITTED",attemptIncorrect:"PRACTICE_QUESTION_ATTEMPT_INCORRECT",attemptPartiallyCorrect:"PRACTICE_QUESTION_ATTEMPT_PARTIALLY_CORRECT",questionInReview:"TESTQUESTION_REVIEW",
feedbackShown:"TESTQUESTION_FEEDBACK_SHOWN",dragStarted:"TESTQUESTION_DRAG_STARTED",dragStopped:"TESTQUESTION_DRAG_STOPPED",retry:"PRACTICE_QUESTION_RETRIED"}};
!function(b){var h=function(c,h){this.options=h;this.parent=this.options.parentSelector?b(b(c).closest(this.options.parentSelector)):b(c).parent();this.state={current:0};b(c).addClass("dki-radialgauge");return this};h.DEFAULTS={parentSelector:"",startingPosition:0,halfGauge:!1,showText:!1,asPercent:!1,ringSize:0,fontRatio:3,current:function(){return this.rg.state.current}};h.prototype={setText:function(b){if(this.rg.options.showText)this.$.find(".overlay .text").html(this.rg.options.showText);else{var h=
this.rg.options.current.call(this);b=""==h||isNaN(h/100)?b:h;this.$.find(".overlay .text").html(b+(this.rg.options.asPercent&&!isNaN(b)?"%":""));isNaN(b)||(this.$.find(".overlay .text").attr("role","progressbar"),this.$.find(".overlay .text").attr("aria-valuenow",b),this.$.find(".overlay .text").attr("aria-valuemax",100),this.$.find(".overlay .text").attr("aria-valuemin",0))}},setRotation:function(b,h){var m=Math.round(b/100*360),q=this.rg.options.startingPosition,m=m/2;q&&this.$.find(".mask.half").css("transform",
"rotate("+q+"deg)");this.rg.options.halfGauge&&(this.$.css("clip","rect(0px 100px 50px 0px"),m/=2);this.$.find(".fill").css("transform","rotate("+m+"deg)");this.$.find(".mask.full").css("transform","rotate("+(m+q)+"deg)");this.$.find(".fill.fix").css("transform","rotate("+2*m+"deg)");this.rg.state.current=b;h&&h(this.$,this.rg);this.rg.setText.call(this,Math.floor(b))},resize:function(b){b&&(this.rg.options.width=b);b=2*Math.round((this.rg.options.width?this.rg.options.width:this.rg.parent.outerWidth())/
2);var h=2*(parseInt(this.rg.parent.css("padding"),10)||0);b=height=b-h;height=this.rg.options.halfGauge?height/2:height;this.rg.parent.css({height:height+h+"px"});this.$.css("width",b).css("height",height);var h="0px "+height+"px "+height+"px "+height/2+"px",m="0px "+height/2+"px "+height+"px 0px";b=this.$.find(".overlay");this.$.find(".mask").css("clip","rect("+h+")");this.$.find(".fill").css("clip","rect("+m+")");this.rg.options.ringSize&&(h=2*Math.round(height*(1-this.rg.options.ringSize)/2),
b.height(h),b.width(h),b.css("margin",(height-h)/2));b.css("font-size",b.innerWidth()/this.rg.options.fontRatio+"px").css("line-height",b.innerWidth()+"px")},shown:function(){this.$.RadialGauge("resize")}};b.fn.RadialGauge=function(c){var l=c,m=Array.prototype.slice.call(arguments,1);return this.each(function(){var q=b(this),n=b(this).data("dki.RadialGauge");options=b.extend({},h.DEFAULTS,"object"===typeof l&&l);n?"string"===typeof c&&(q=b(this).data("dki.RadialGauge"))&&q[c]&&q[c].apply({$:b(this),
rg:b(this).data("dki.RadialGauge")},m):q.data("dki.RadialGauge",new h(this,options))})};b.fn.RadialGauge.Constructor=h}(window.jQuery);
var objectFitImages=function(){function b(b){if(b.srcset&&!A&&window.picturefill){var c=window.picturefill._;b[c.ns]&&b[c.ns].evaled||c.fillImg(b,{reselect:!0});b[c.ns].curSrc||(b[c.ns].supported=!1,c.fillImg(b,{reselect:!0}));b.currentSrc=b[c.ns].curSrc||b.src}}function h(b){for(var c=getComputedStyle(b).fontFamily,h={};null!==(b=k.exec(c));)h[b[1]]=b[2];return h}function c(b,c,h){c="data:image/svg+xml,%3Csvg xmlns\x3d'http://www.w3.org/2000/svg' width\x3d'"+(c||1)+"' height\x3d'"+(h||0)+"'%3E%3C/svg%3E";
u.call(b,"src")!==c&&C.call(b,"src",c)}function l(b,c){b.naturalWidth?c(b):setTimeout(l,100,b,c)}function m(k){var m=h(k),n=k[r];if(m["object-fit"]=m["object-fit"]||"fill",!n.img)if("fill"===m["object-fit"]||!n.skipTest&&v&&!m["object-position"])return;if(!n.img){n.img=new Image(k.width,k.height);n.img.srcset=u.call(k,"data-ofi-srcset")||k.srcset;n.img.src=u.call(k,"data-ofi-src")||k.src;C.call(k,"data-ofi-src",k.src);k.srcset&&C.call(k,"data-ofi-srcset",k.srcset);c(k,k.naturalWidth||k.width,k.naturalHeight||
k.height);k.srcset&&(k.srcset="");try{q(k)}catch(p){}}b(n.img);k.style.backgroundImage='url("'+(n.img.currentSrc||n.img.src).replace(/"/g,'\\"')+'")';k.style.backgroundPosition=m["object-position"]||"center";k.style.backgroundRepeat="no-repeat";k.style.backgroundOrigin="content-box";/scale-down/.test(m["object-fit"])?l(n.img,function(){n.img.naturalWidth>k.width||n.img.naturalHeight>k.height?k.style.backgroundSize="contain":k.style.backgroundSize="auto"}):k.style.backgroundSize=m["object-fit"].replace("none",
"auto").replace("fill","100% 100%");l(n.img,function(b){c(k,b.naturalWidth,b.naturalHeight)})}function q(b){var c={get:function(c){return b[r].img[c?c:"src"]},set:function(c,h){return b[r].img[h?h:"src"]=c,C.call(b,"data-ofi-"+h,c),m(b),c}};Object.defineProperty(b,"src",c);Object.defineProperty(b,"currentSrc",{get:function(){return c.get("currentSrc")}});Object.defineProperty(b,"srcset",{get:function(){return c.get("srcset")},set:function(b){return c.set(b,"srcset")}})}function n(b,c){var h=!B&&!b;
if(c=c||{},b=b||"img",z&&!c.skipTest||!x)return!1;"img"===b?b=document.getElementsByTagName("img"):"string"==typeof b?b=document.querySelectorAll(b):"length"in b||(b=[b]);for(var k=0;k<b.length;k++)b[k][r]=b[k][r]||{skipTest:c.skipTest},m(b[k]);h&&(document.body.addEventListener("load",function(b){"IMG"===b.target.tagName&&n(b.target,{skipTest:c.skipTest})},!0),B=!0,b="img");c.watchMQ&&window.addEventListener("resize",n.bind(null,b,{skipTest:c.skipTest}))}var r="bfred-it:object-fit-images",k=/(object-fit|object-position)\s*:\s*([-.\w\s%]+)/g,
p="undefined"==typeof Image?{style:{"object-position":1}}:new Image,v="object-fit"in p.style,z="object-position"in p.style,x="background-size"in p.style,A="string"==typeof p.currentSrc,u=p.getAttribute,C=p.setAttribute,B=!1;return n.supportsObjectFit=v,n.supportsObjectPosition=z,function(){function b(c,h){return c[r]&&c[r].img&&("src"===h||"srcset"===h)?c[r].img:c}z||(HTMLImageElement.prototype.getAttribute=function(c){return u.call(b(this,c),c)},HTMLImageElement.prototype.setAttribute=function(c,
h){return C.call(b(this,c),c,String(h))})}(),n}();
!function(b){var h=function(c,l){this.options=l;this.$el=b(c);this.initDB(l.outline);this.started=!1;this.removed=[];this.passed=0;this.tried=[];this.tries=0;this.onWindowResize=DKI.func.debounce(b.proxy(this.setHeight,this),50,!1);this.containmentEl=this.$el.closest(".dki-categoryCards-element");this.initSubscribers();this.initInteractions();this.options.accessible&&(this.accessibility=new h.Accessibility(this));return this};h.DEFAULTS={accessible:!0,responsive:!1,strings:{scoreLabel:"Score:",retryLabel:"Retry"},
outline:{},retries:0};h.constant=Object.freeze({screenReader:{visible:{tabindex:"1","aria-hidden":"false"},hidden:{tabindex:"-1","aria-hidden":"true"}}});h.prototype={initDB:function(c){this.db=function(){var b={},c={dragdrop_id:{}};return{store:function(h){b[h.id]=h;"categoryCardsAnswer"!==h.elementtype&&(c.dragdrop_id[h.dragdrop_id]=b[h.id])},get:function(c){return b[c]},getByKey:function(b,h){return c[b][h]},remove:function(c){delete b[item.id]},clear:function(){b={}},getLength:function(){return Object.keys(b).length}}}();
var h=b.proxy(function(b){this.db.store(b);for(var c in b.elements)h(b.elements[c])},this);h(c)},start:function(){this.$el.find(".categoryCardsAnswer").first().draggable("enable").removeClass("disabled");this.accessibility&&this.accessibility.start()},initSubscribers:function(){var c=this;this.$el.on("click",".feedback.showFeedback .btn",function(){c.resetUI();c.$el.velocity("scroll",{offset:-50});c.$el.trigger(CategoryCardEvents.onRetry)});b(window).on("resize",this.onWindowResize)},setHeight:function(){},
initInteractions:function(){var c=this;b(window).on("resize",function(){c.$el.find(".categoryCardsAnswer").data("ui-draggable")&&c.$el.find(".categoryCardsAnswer").draggable("option","containment",DKI.utility.getDragContainment(c.containmentEl,c.$el.find(".categoryCardsAnswer").width(),c.$el.find(".categoryCardsAnswer").height()))});b(document).on(DKI.ContentPage.events.started,function(b,h){(player.isSinglePage||h.page.id==c.options.outline.pageid)&&c.$el.find(".categoryCardsAnswer").data("ui-draggable")&&
setTimeout(function(){c.$el.find(".categoryCardsAnswer").draggable("option","containment",DKI.utility.getDragContainment(c.containmentEl,c.$el.find(".categoryCardsAnswer").width(),c.$el.find(".categoryCardsAnswer").height()))},20)});b(document).on(DKI.ContentPage.events.shown,function(){c.$el.find(".categoryCardsAnswer").data("ui-draggable")&&c.$el.find(".categoryCardsAnswer").draggable("option","containment",DKI.utility.getDragContainment(c.containmentEl,c.$el.find(".categoryCardsAnswer").width(),
c.$el.find(".categoryCardsAnswer").height()))});this.$el.find(".categoryCardsAnswer").draggable({disabled:!0,containment:DKI.utility.getDragContainment(c.containmentEl,c.$el.find(".categoryCardsAnswer").width(),c.$el.find(".categoryCardsAnswer").height()),scroll:"undefined"!=typeof settings?settings.responsive:b("html").hasClass("responsive"),start:function(l,m){b(this).addClass("dragging");c.$el.trigger(h.Events.onDragStart)},drag:function(b,c){DKI.utility.dragFix(c)},stop:function(c,m){b(this).hasClass("dropped")||
(b(this).addClass("transition").css({top:0,left:0}),h.Utility.onTransition(b(this),function(){b(this).removeClass("dragging");h.Utility.onTransition(b(this),function(){b(this).removeClass("transition")})}))}});this.$el.find(".categoryCardsCategory").droppable({accept:".categoryCardsAnswer",tolerance:"pointer",drop:function(h,m){b(m.draggable).addClass("transition dropped").removeClass("dragging");var q=this;c.moveTo(b(m.draggable),b(this),function(){c.runScoring(b(m.draggable),b(q))})},disabled:!1})},
moveTo:function(b,l,m){m=m||function(){};l=l.position();var q=b.parent().position(),n=DKI.utility.getScale();l.top/=n;l.left/=n;q.top/=n;q.left/=n;b.css({top:l.top-q.top,left:l.left-q.left-10});if(b.hasClass("transition"))h.Utility.onTransition(b,m);else setTimeout(m,0)},runScoring:function(b,h){var m=this.getPass(b,h);b.addClass("transition dropped").removeClass("dragging");m?this.runPassAnimation(b,h):this.runFailAnimation(b,h);return m},getPass:function(c,l){var m=this.db.get(b(c).data("id"));
l=this.db.get(b(l).data("id"));var q=m&&l&&m.parameters.config.link==l.dragdrop_id;-1==this.tried.indexOf(m.id)&&(this.tried.push(m.id),this.passed+=q?1:0,this.removed.push(c));this.$el.trigger(h.Events.onAnswer,{dragged:m,target:l,correct:q});return q},runPassAnimation:function(c,l){var m=this;b(c).appendTo(b(l)).css({top:0,left:0}).addClass("categoryCards-pass").append("\x3cspan class\x3d'fa fa-check border "+this.options.outline.parameters.config.cardClass+"'\x3e\x3c/span\x3e");var q=this.$el.find(".deck .categoryCardsAnswer").first().draggable("enable").removeClass("disabled");
h.Utility.onAnimation(b(l),b.proxy(function(){b(c).removeClass("categoryCards-pass transition dropped").find(".fa-check").remove();b(c).detach();m.$el.trigger(h.Events.onPass,b(c));if(!q[0]){var l=m.score();m.showEnd(l);m.fireResult(l);m.$el.trigger(h.Events.onComplete,l)}},l),1200)},runFailAnimation:function(c,l,m){b(c).addClass("categoryCards-fail");var q=this;h.Utility.onAnimation(b(c),function(){b(this).removeClass("dropped categoryCards-fail").css({top:0,left:0});h.Utility.onTransition(b(this),
function(){b(this).removeClass("transition");q.$el.trigger(h.Events.onFail,b(c))})})},score:function(){return Math.floor(100*(this.tried.length?this.passed/this.tried.length:0))},fireResult:function(b){this.$el.trigger(CategoryCardEvents.onAttempt);(100===b||this.tries>=this.options.retries)&&this.$el.trigger(CategoryCardEvents.onSubmitted);if(100===b)this.$el.trigger(CategoryCardEvents.onCorrect);else{var h="on";this.tries<this.options.retries&&(h+="Attempt");this.$el.trigger(CategoryCardEvents[h+
(0===b?"Incorrect":"PartialCorrect")])}},getxAPICompleteData:function(c){c=c||function(){};var h=this,m={sources:[],targets:[],matches:this.tried.map(function(b){return b+"."+h.db.get(b).parameters.config.link}),element:this.options.outline},h=this;b.each(this.options.outline.elements,function(){m["categoryCardsCategory"==this.elementtype?"targets":"sources"].push(this)});c(m);return m},resetUI:function(){for(;this.removed.length;)this.$el.find(".deck").prepend(this.removed.pop()).find(".card").addClass("disabled").draggable("disable");
this.$el.find(".deck .feedback, .deck").removeClass("showFeedback");this.$el.find(".deck .feedback .score").removeClass("correct incorrect");this.passed=0;this.tried=[];this.start()},reset:function(){this.resetUI();this.tries=0},showEnd:function(b){++this.tries;var h=this.$el.find(".deck .feedback").addClass("showFeedback");if(this.options.outline.parameters.config.showScore){var m=h.find(".score").RadialGauge({ringSize:.25,asPercent:!0});m.addClass(100===b?"correct":"incorrect").RadialGauge("resize");
m.RadialGauge("setRotation",b);m.find(".dki-element-text").focus()}(0==this.options.retries||this.tries<this.options.retries)&&100!==b?h.find(".btn").show():h.find(".btn").hide();this.options.feedback&&(this.$el.find(".deck").addClass("showFeedback"),this.options.outline.parameters.config.useProjectDefault&&h.find(".f-text").css("text-align","center"),h.find(".f-text").html(this.options.feedback[100===b?"correct":"incorrect"]))},destroy:function(){b(window).off("resize",this.onWindowResize)},elementStart:function(){b("h2, .description",
this.$el).attr({tabindex:this.options.accessible?"1":"-1"})}};b.fn.CategoryCards=function(c){var l=c,m=Array.prototype.slice.call(arguments,1);return this.each(function(){var q=b(this),n=b(this).data("dki.CategoryCards");options=b.extend(!0,{},h.DEFAULTS,"object"===typeof l&&l);if("string"===typeof c&&!n)return!1;n?"string"===typeof c&&(q=b(this).data("dki.CategoryCards"))&&q[c]&&q[c].apply(b(this).data("dki.CategoryCards"),m):q.data("dki.CategoryCards",new h(this,options))})};b.fn.CategoryCards.Constructor=
h;h.Utility={onAnimation:function(c,l,m){c=c instanceof jQuery?c:b(c);h.Utility.onGeneric(c,"animation",l,m)},onTransition:function(c,l,m){c=c instanceof jQuery?c:b(c);h.Utility.onGeneric(c,"transition",l,m)},onGeneric:function(c,l,m,q){var n=c.get(0),r=h.Utility[l+"Event"];q=q||350;if((!dkiUA||!dkiUA.ie||10<dkiUA.ieVersion)&&r){if(r)return c.one(r+".categoryCard",m),!1}else{if(b("html").hasClass("csstransforms"))return c.data("categoryCard-"+l,setTimeout(function(){m.call(n)},q)),!1;setTimeout(m,
q)}},genericOff:function(c,l){var m=h.Utility[l+"Event"];m?c.off(m+".categoryCard"):b("html").hasClass("csstransforms")&&c.data("categoryCard-"+l)&&(clearTimeout(c.data("categoryCard-"+l)),c.data("categoryCard-"+l,""))},animationOff:function(b){h.Utility.genericOff(b,"animation")},transitionOff:function(b){h.Utility.genericOff(b,"transition")}};(function(){var c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in c)if(void 0!==
b("html")[0].style[t]){h.Utility.transitionEvent=c[t];break}c={animation:"animationend",IEAnimation:"MSAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(a in c)if(void 0!==b("html")[0].style[a]){h.Utility.animationEvent=c[a];break}})();h.Events={onDragStart:"dragStart",onAnswer:"answered",onPass:"pass",onFail:"fail",onComplete:"completed",onRestart:"restart"};h.Accessibility=function(b){this.categoryCards=b;this.$el=b.$el;this.initSubscribers();return this};h.Accessibility.prototype={getNextFocus:function(){var c=
b(this.$el.find(".deck .card").first());return c[0]?c.attr(h.constant.screenReader.visible):this.setEndAccessible()},setEndAccessible:function(){return this.$el.find(".deck .feedback").attr(h.constant.screenReader.visible)},setEndInaccessible:function(){return this.$el.find(".deck .feedback").attr(h.constant.screenReader.hidden)},start:function(){this.getNextFocus();this.setEndInaccessible()},setCategoryAccessible:function(){this.$el.find(".categories .card").attr(h.constant.screenReader.visible);
this.$el.find("\x3e *").addClass("categorySelect")},setCategoryInaccessible:function(){this.$el.find(".categories .card").attr(h.constant.screenReader.hidden);this.$el.find("\x3e *").addClass("removeClass")},initSubscribers:function(){var c=this,l=function(){b(this).addClass("dragging");c.dragging=b(this);c.setCategoryAccessible()};this.$el.on(h.Events.onDragStart,function(){c.setCategoryInaccessible()});this.$el.on(h.Events.onPass,function(l,q){c.getNextFocus();b(q).attr(h.constant.screenReader.hidden)});
this.$el.on("click",".deck .card[tabindex\x3d'1']",function(b){l.call(this)});this.$el.on("click","\x3e *.categorySelect .categories .card",function(m){if(c.dragging){var q=function(){c.$el.off(h.Events.onPass+" "+h.Events.onFail,q);var b=c.getNextFocus();b.hasClass("card")?l.call(b):(c.setCategoryInaccessible(),c.dragging=null);b[0].focus()};c.$el.on(h.Events.onPass+" "+h.Events.onFail,q);c.categoryCards.runScoring(c.dragging,b(this));return!1}});this.$el.on("mousedown","\x3e *.categorySelect .categories .card",
function(c){b(this).data("isClick",!0)});this.$el.on("focus","\x3e *.categorySelect .categories .card",function(h){if(c.dragging&&!c.dragging.hasClass("dropped")){var l=this;c.categoryCards.moveTo(c.dragging,b(this),function(){b(l).data("isClick")&&(b(l).trigger("click"),b(l).data("isClick",!1))})}})}}}(window.jQuery);
var CategoryCardEvents={onSubmitted:"categoryCardSubmitted",onCorrect:"categoryCardCorrect",onIncorrect:"categoryCardIncorrect",onPartialCorrect:"categoryCardPartialCorrect",onAttempt:"categoryCardAttempt",onAttemptIncorrect:"categoryCardAttemptIncorrect",onAttemptPartialCorrect:"categoryCardAttemptPartialCorrect",onRetry:"categoryCardRetry"};